; 18's constants and state file.
;==========================================================================
[Data]
life = 1000
attack = 100
defence = 100
power = 3000
fall.defence_up = 90
liedown.time = 60
airjuggle = 20
sparkno = 2
guard.sparkno = 40
KO.echo = 1
KO.volume = 255
volume = 0

[Size]
xscale = 1           ;Horizontal scaling factor.
yscale = 1           ;Vertical scaling factor.
ground.back = 16     ;Player width (back, ground)
ground.front = 13    ;Player width (front, ground)
air.back = 14        ;Player width (back, air)
air.front = 12       ;Player width (front, air)
height = 70	     ;Height of player (for opponent to jump over)
attack.dist = 160    ;Default attack distance
proj.attack.dist = 90;Default attack distance for projectiles
proj.doscale = 0     ;Set to 1 to scale projectiles too   
head.pos = -5, -60   ;Approximate position of head
mid.pos = -5, -35    ;Approximate position of midsection
shadowoffset = 0     ;Number of pixels to vertically offset the shadow
draw.offset = 0,0    ;Player drawing offset in pixels (x, y)

[Velocity]
walk.fwd  = 2.20          ;Walk forward
walk.back = -1.90         ;Walk backward
run.fwd  = 6.0, 0         ;Run forward (x, y)
run.back = -5.5, 0        ;Run backward (x, y)
jump.neu = 0,-8.4         ;Neutral jumping velocity (x, y)
jump.back = -3.0          ;Jump back Speed (x, y)
jump.fwd = 3.2            ;Jump forward Speed (x, y)
runjump.back = 3.95,-8.1  ;Running jump speeds (opt)
runjump.fwd = 4.15,-8.1   ;.
airjump.neu = 0,-8.1      ;.
airjump.back = -2.75      ;Air jump speeds (opt)
airjump.fwd = 2.75        ;.

[Movement]
airjump.num = 0       ;Number of air jumps allowed (opt)
airjump.height = 35   ;Minimum distance from ground before you can air jump (opt)
yaccel = .44          ;Vertical acceleration
stand.friction = .85  ;Friction coefficient when standing
crouch.friction = .82 ;Friction coefficient when crouching

;---------------------------------------------------------------------------
; Format:
; [Statedef STATENO]
; type = ?            S/C/A/L  stand/crouch/air/liedown
; movetype = ?        I/A/H    idle/attack/gethit
; physics = ?         S/C/A/N  stand/crouch/air/none
; juggle = ?          air juggle points move requires
;
; [State STATENO, ?]  ? - any number you choose
; type = ?   

;---------------------------------------------------------------------------
; Lose by Time Over
;-=Time's Up? Haha!=-
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, PlaySND]
type = PlaySnd
trigger1 = Time = 1
value = 4, 3
volume = 255
channel = 0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
;-=Strife Says: Don't worry about this...you'll never win anyway =p...=-
; Win state decider
[Statedef 180]
type = S
anim = 0

[State 180, VarSet-Voice]
Type = VarRandom
Trigger1 = !time
v = 27
range = 1,3

[State 180, GoToTired]
type = ChangeState
triggerall = Life <= 250
trigger1 = Time=1
value = 184

[State 180, Win1]
type = ChangeState
triggerall = Life > 250 && var(27) = 1
trigger1 = !time
value = 181

[State 180, Win2]
type = ChangeState
triggerall = Life > 250 && var(27) = 2
trigger1 = !time
value = 182

[State 180, Win3]
type = ChangeState
triggerall = Life > 250 && var(27) = 3
trigger1 = !time
value = 183
;---------------------------------------------------------------------------
; Win pose 1 - Raise Arms
[Statedef 181]
type = S
ctrl = 0
velset = 0,0
anim = 181

[State 181, VarSet-Voice]
Type = VarRandom
Trigger1 = !time
v = 27
range = 0,1

[State 181, PlaySND];*Giggle* Is that all you've got?
type = PlaySnd
trigger1 = time=1 && var(27) = 0
value = 7, 2
channel = 0
volume = 255

[State 181, PlaySND];That's the best you can do?
type = PlaySnd
trigger1 = time=1 && var(27) = 1
value = 7, 0
channel = 0
volume = 255

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
; Win pose 2 - Pose
[Statedef 182]
type = S
ctrl = 0
velset = 0,0
anim = 182

[State 182, VarSet-Voice]
Type = VarRandom
Trigger1 = !time
v = 27
range = 0,1

[State 182, PlaySND];Phew!
type = PlaySnd
trigger1 = time=1 && var(27) = 0
value = 7, 5
channel = 0
volume = 255

[State 182, PlaySND];Not Bad
type = PlaySnd
trigger1 = time=1 && var(27) = 1
value = 7, 3
channel = 0
volume = 255

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
; Win pose 3 - Flick Hair
[Statedef 183]
type = S
ctrl = 0
velset = 0,0
anim = 183

[State 183, VarSet-Voice]
Type = VarRandom
Trigger1 = !time
v = 27
range = 0,1

[State 183, PlaySND];Now my close are ruined
type = PlaySnd
trigger1 = time=1 && var(27) = 0
value = 7, 1
channel = 0
volume = 255

[State 183, PlaySND];Don't Overdo It
type = PlaySnd
trigger1 = time=1 && var(27) = 1
value = 7, 4
channel = 0
volume = 255

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
; Win pose 4 - Tired
[Statedef 184]
type = S
ctrl = 0
velset = 0, 0
anim = 5300

[State 184, PlaySND];Tired Breathing
type = PlaySnd
trigger1 = !time
value = 4, 0
volume = 255
channel = 0

[State 184, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
; Introduction
[Statedef 191]
type = S
ctrl = 0
velset = 0,0
anim = 191

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 191

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, Voice]
type = PlaySnd
trigger1 = time = 10
value = 3, 11
channel = 0
volume = 255

[State 191, 3] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------------------------------------------------------
; Introduction
[Statedef 192]
type = S
ctrl = 0
velset = 0,0
anim = 192

[State 192, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 192

[State 192, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 192, Voice]
type = PlaySnd
trigger1 = animelem = 2
value = 6, 1
channel = 0
volume = 255

[State 192, Voice]
type = PlaySnd
trigger1 = animelem = 3
value = 500, 0
channel = 0
volume = 255

[State 192, Voice]
type = PlaySnd
trigger1 = animelem = 5
value = 500, 0
channel = 0
volume = 255


[State 192, 3] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Taunt
[Statedef 195]
type = S
ctrl = 0
velset = 0,0
movetype = I
physics = S
sprpriority = 2
;anim = 195

[State 195, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 195

[State 195, CtrlSet]
type = CtrlSet
trigger1 = Time >= 99
value = 1

[State 192, Voice]
type = PlaySnd
trigger1 = animelem = 3
value = 500, 0
channel = 0
volume = 255

[State 192, Voice]
type = PlaySnd
trigger1 = animelem = 5
value = 500, 0
channel = 0
volume = 255

[State 195, LifeAdd]
type = LifeAdd
trigger1 = TimeMod = 4,0
value = 1

[State 195, PowerAdd]
type = PowerAdd
trigger1 = Time >= 0 
value = 1

[State 195, Voice]
type = PlaySnd
trigger1 = Time = 1
value = 7, 6
channel = 0

[State 195, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Elbow
[Statedef 200]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 0                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
poweradd = 15                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set layering priority to 2 (in front)
;anim = 200

[State 200, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 200

[State 200, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 200, Voice]
type = PlaySnd
trigger1 = time = 1 && random < 90
value = 1, 11
volume = 255
channel = 0

[State 0, ReversalDef]
type = ReversalDef
trigger1 = animelemtime(2) >=0 && animelemtime(2) <= 4
reversal.attr = S,NA,SA           ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
sparkno = -1
hitsound = -1
p1stateno = 8100
p2stateno = 8101
ignorehitpause = 1

[State 200, HitDef]
type = HitDef
trigger1 = animelem = 2
attr = S, NA
animtype  = Light
damage    = 25
guardflag = MA
pausetime = 6,6
sparkno = -1
sparkxy= var(52):=50,var(53):=-55
guard.sparkno = -1
hitsound   = S300,0
guardsound = s500,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1
air.velocity = -1,-2


[State 200, CtrlSet]
type = CtrlSet
trigger1 = Time = 9
value = 1

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Stand Light Punch
[Statedef 205]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 0                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set layering priority to 2 (in front)
;anim = 205

[State 205, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 205

[State 205, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 200, Voice]
type = PlaySnd
trigger1 = time = 1 && random < 250
value = 1, 7
volume = 255
channel = 0

[State 0, ReversalDef]
type = ReversalDef
trigger1 = animelemtime(2) >=0 && animelemtime(2) <= 4
reversal.attr = S,NA,SA           ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
sparkno = -1
hitsound = -1
p1stateno = 8100
p2stateno = 8101
ignorehitpause = 1

[State 205, HitDef]
type = HitDef
trigger1 = animelem = 2
attr = S, NA
animtype  = Light
damage    = 25
guardflag = MA
pausetime = 7,7
sparkno = -1
guard.sparkno = -1
sparkxy = var(52):=50,var(53):=-55
hitsound   = S300,0
guardsound = s500,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-2

[State 3006, Hit Spark]
type = Helper
triggerall = numhelper(8000) = 0
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
helperType = Normal
stateNo = 8011;ifElse(MoveGuarded, 8001, 8014)
ID = 8000
name = "Spark"
posType = P1
pos = ifElse(P2Dist x < -64, -64, ifElse(P2Dist x < 64, ceil(P2Dist x), 64)), ceil(P2Dist y - 38)
facing = 1
ownPal = 1
size.xScale = .7
size.yScale = .7
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 205, CtrlSet]
type = CtrlSet
trigger1 = Time = 9
value = 1

[State 205, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Standing Med punch
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 25
ctrl = 0
velset = 1,0
sprpriority = -1
;anim = 210

[State 0, ReversalDef]
type = ReversalDef
trigger1 = animelemtime(2) >=0 && animelemtime(2) <= 4
reversal.attr = S,NA,SA           ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
sparkno = -1
hitsound = -1
p1stateno = 8100
p2stateno = 8101
ignorehitpause = 1

[State 210, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 210

[State 210, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 201, 0

[State 210, Voice]
type = PlaySnd
trigger1 = time = 1 && random < 250
value = 1, 7
volume = 255
channel = 0

[State 210, HitDef]
type = HitDef
trigger1 = animelem = 2
attr = S, NA
animtype  = Medium
damage    = 25
guardflag = MA
pausetime = 8,8
sparkno = -1
sparkxy = var(52):=50,var(53):=-55
guard.sparkno = -1
hitsound   = S301,0
guardsound = s500,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3,0
air.velocity = -2,-2
air.fall = 1

[State 3006, Hit Spark]
type = Helper
triggerall = numhelper(8000) = 0
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
helperType = Normal
stateNo = 8011;ifElse(MoveGuarded, 8001, 8014)
ID = 8000
name = "Spark"
posType = P1
pos = ifElse(P2Dist x < -64, -64, ifElse(P2Dist x < 64, ceil(P2Dist x), 64)), ceil(P2Dist y - 38)
facing = 1
ownPal = 1
size.xScale = 1
size.yScale = 1
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 210, CtrlSet]
type = CtrlSet
trigger1 = Time = 11
value = 1

[State 210, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Strong Punch
[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 1,0     
ctrl = 0  
poweradd = 40
sprpriority = 2
;anim = 220



[State 220, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 220

[State 220, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 202, 0

[State 220, Sound]
type = PlaySnd
triggerall = random < 200
trigger1 = Time = 0
value = 1, 2

[State 220, VelSet]
type = Velset
trigger1 = animelem = 2
x = 3.0

[State 220, AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 8
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 110,50,100
paladd = 25,0,20
timegap = 1
framegap = 1
trans = Add

[State 220, Streak]
type = Explod
trigger1 = animelem = 3
Anim = 12600
Pos = 50,-60
Id = 12600
velocity = 0,0
sprpriority = 6
removeongethit = 1
;removetime = 9
bindtime = -1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.5, 0.7

[State 220, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Light
damage    = 35
guardflag = MA
pausetime = 11,13
sparkno = -1
sparkxy = var(52):=50,var(53):=-55
hitsound   = S303,0
guard.sparkno = -1
guardsound = s500,0
ground.type = High
ground.slidetime = 16
ground.hittime  = 20
ground.velocity = -8
air.velocity = -7,-4
air.fall = 1
envshake.time = 5
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 3006, Hit Spark]
type = Helper
triggerall = numhelper(8000) = 0
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
helperType = Normal
stateNo = 8011;ifElse(MoveGuarded, 8001, 8014)
ID = 8000
name = "Spark"
posType = P1
pos = ifElse(P2Dist x < -64, -64, ifElse(P2Dist x < 64, ceil(P2Dist x), 64)), ceil(P2Dist y - 38)
facing = 1
ownPal = 1
size.xScale = .7
size.yScale = .7
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 220, CtrlSet]
type = CtrlSet
trigger1 = animelem = 5
value = 1

[State 220, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Light Kick
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 20
ctrl = 0
velset = 0,0
sprpriority = 2
;anim = 230

[State 230, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 230

[State 230, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 201, 0

[State 230, Voice]
type = PlaySnd
trigger1 = time = 1 && random < 250
value = 1, 6
volume = 255
channel = 0

[State 0, ReversalDef]
type = ReversalDef
trigger1 = animelemtime(3) >=0 && animelemtime(2) <= 4
reversal.attr = S,NA,SA           ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
sparkno = -1
hitsound = -1
p1stateno = 8100
p2stateno = 8101
ignorehitpause = 1



[State 230, HitDef]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
animtype  = Medium
damage    = 35
guardflag = MA
pausetime = 9,9
sparkno = -1
sparkxy = var(52):=60,var(53):=-45
hitsound   = S302,0
guard.sparkno = -1
guardsound = s500,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -2
air.velocity = -2,-3

[State 3006, Hit Spark]
type = Helper
triggerall = numhelper(8000) = 0
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
helperType = Normal
stateNo = 8011;ifElse(MoveGuarded, 8001, 8014)
ID = 8000
name = "Spark"
posType = P1
pos = ifElse(P2Dist x < -64, -64, ifElse(P2Dist x < 64, ceil(P2Dist x), 64)), ceil(P2Dist y - 38)
facing = 1
ownPal = 1
size.xScale = .7
size.yScale = .7
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 230, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Standing Lhigh kick
[Statedef 235]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 25
ctrl = 0
velset = 0,0
sprpriority = 2
;anim = 235

[State 235, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 235

[State 235, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 201, 0

[State 235, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 45
guardflag = MA
pausetime = 10,10
sparkno = -1
sparkxy = var(52):=60,var(53):=-20
hitsound   = S302,0
guard.sparkno = -1
guardsound = s500,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -2
air.velocity = -2,-3

[State 3006, Hit Spark]
type = Helper
triggerall = numhelper(8000) = 0
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
helperType = Normal
stateNo = 8011;ifElse(MoveGuarded, 8001, 8014)
ID = 8000
name = "Spark"
posType = P1
pos = ifElse(P2Dist x < -64, -64, ifElse(P2Dist x < 64, ceil(P2Dist x), 64)), ceil(P2Dist y - 38)
facing = 1
ownPal = 1
size.xScale = .7
size.yScale = .7
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 235, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Standing Hard Knee
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 40
ctrl = 0
velset = 1,0
sprpriority = 2
;anim = 240

[State 240, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 240

[State 240, Sound]
type = PlaySnd
trigger1 = Time = 4
value = 202, 0

[State 240, Sound]
type = PlaySnd
triggerall = random < 200
trigger1 = Time = 0
value = 1, 8

[State 220, VelSet]
type = Velset
trigger1 = animelem = 4
x = 3.0

[State 220, AfterImage]
type = AfterImage
trigger1 = animelem = 4
time = 8
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 110,50,100
paladd = 25,0,20
timegap = 1
framegap = 1
trans = Add

[State 240, Streak]
type = Explod
trigger1 = animelem = 4
Anim = 12630
Pos = 43,-47
Id = 12630
velocity = 0,0
sprpriority = 3
removeongethit = 1
;removetime = 9
bindtime = 8
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.5, 0.5

[State 240, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Hard
damage    = 55
guardflag = MA
pausetime = 12,12
sparkno = -1
sparkxy = -27,-53
hitsound   = S303,0
guard.sparkno = -1
guardsound = s500,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6,-3
air.velocity = -6,-3
air.fall = 1
fall = 1
envshake.time = 5
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 3006, Hit Spark]
type = Helper
triggerall = numhelper(8000) = 0
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
helperType = Normal
stateNo = 8011;ifElse(MoveGuarded, 8001, 8014)
ID = 8000
name = "Spark"
posType = P1
pos = ifElse(P2Dist x < -64, -64, ifElse(P2Dist x < 64, ceil(P2Dist x), 64)), ceil(P2Dist y - 38)
facing = 1
ownPal = 1
size.xScale = .7
size.yScale = .7
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Launcher
[Statedef 250]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 45
ctrl = 0
velset = 0,0
sprpriority = 2
;anim = 250

[State 250, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 250

[State 250, Sound]
type = PlaySnd
trigger1 = time = 1
value = 202, 0

[State 250, PlaySND]
type = PlaySnd
triggerall = random >= 700
trigger1 = time = 2
value = 1,4
channel = 0
volume = 255

[State 250, effect.Helper]
type = Helper
trigger1 = animelem = 2
name = "Launcher_Effect"
stateno = 12600
postype = p1
pos = 15, -103
keyctrl = 0
ownpal = 1
id = 12600
size.xscale = 0.50
size.yscale = 0.70

[State 250, Hitdef1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Hard
damage    = 65
guardflag = MA
pausetime = 10,20
sparkno = -1
sparkxy = var(52):=55,var(53):=-60
hitsound   = S303,0
guard.sparkno = -1
guardsound = s500,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1, -12
air.velocity = -6,-8
fall = 1
envshake.time = 5
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 3006, Hit Spark]
type = Helper
triggerall = numhelper(8000) = 0
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
helperType = Normal
stateNo = 8011;ifElse(MoveGuarded, 8001, 8014)
ID = 8000
name = "Spark"
posType = P1
pos = ifElse(P2Dist x < -64, -64, ifElse(P2Dist x < 64, ceil(P2Dist x), 64)), ceil(P2Dist y - 38)
facing = 1
ownPal = 1
size.xScale = .7
size.yScale = .7
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 250, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Standing med kick
[Statedef 260]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 35
ctrl = 0
velset = 0,0
sprpriority = 2
;anim = 260

[State 260, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 260

[State 260, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 201, 0

[State 260, Voice]
type = PlaySnd
trigger1 = time = 1 && random < 250
value = 1, 5
volume = 255
channel = 0

[State 0, ReversalDef]
type = ReversalDef
trigger1 = animelemtime(4) >=0 && animelemtime(4) <= 5
reversal.attr = S,NA,SA           ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
sparkno = -1
hitsound = -1
p1stateno = 8100
p2stateno = 8101
ignorehitpause = 1



[State 230, HitDef]
type = HitDef
trigger1 = animelem = 4
attr = S, NA
animtype  = Medium
damage    = 45
guardflag = MA
pausetime = 10,10
sparkno = -1
sparkxy = var(52):=70,var(53):=-50
hitsound   = S302,0
guard.sparkno = -1
guardsound = s500,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -2
air.velocity = -2,-3

[State 3006, Hit Spark]
type = Helper
triggerall = numhelper(8000) = 0
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
helperType = Normal
stateNo = 8011;ifElse(MoveGuarded, 8001, 8014)
ID = 8000
name = "Spark"
posType = P1
pos = ifElse(P2Dist x < -64, -64, ifElse(P2Dist x < 64, ceil(P2Dist x), 64)), ceil(P2Dist y - 38)
facing = 1
ownPal = 1
size.xScale = .7
size.yScale = .7
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 260, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Knee Smash Up
[Statedef 270]
type    = S
movetype= A
physics = S
juggle  = 6
poweradd= 50
ctrl = 0
velset = 1,0
sprpriority = 2
anim = 270

[State 270, Voice]
type = PlaySnd
trigger1 = animelem = 2 && random > 700
value = 1, 8
volume = 255
channel = 0

[State 270, VelSet]
type = Velset
trigger1 = (time = [0,4]) && vel y > 0
x = 0
y = 0

[State 270, AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 18
length = 16
palinvertall = 0
palbright = 0,0,0
palcontrast = 110,50,100
paladd = 25,0,20
timegap = 1
framegap = 1
trans = Add

[State 270, PosSet-Ground]
type = PosSet
trigger1 = animelem = 2
y = -1

[State 270, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 2
statetype = A
physics = A

[State 270, VelSet]
type = Velset
trigger1 = animelem = 2
x = 2
y = -6

[State 270, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 202, 0

[State 270, Dust]
type = Explod
trigger1 = time = 5
Anim = 15150
Pos = -10,0
Id = 15150
velocity = 0,0
sprpriority = 6
removeongethit = 0
;removetime = 9
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.7, 0.7

[State 270, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Hard
damage    = 55
guardflag = MA
pausetime = 12,12
sparkno = -1
sparkxy = var(52):= 60,var(53):=-55
hitsound   = S303,0
guard.sparkno = -1
guardsound = s500,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,-7
air.velocity = -2,-7
air.fall = 1
fall = 1
envshake.time = 5
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 3006, Hit Spark]
type = Helper
triggerall = numhelper(8000) = 0
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
helperType = Normal
stateNo = 8011;ifElse(MoveGuarded, 8001, 8014)
ID = 8000
name = "Spark"
posType = P1
pos = ifElse(P2Dist x < -64, -64, ifElse(P2Dist x < 64, ceil(P2Dist x), 64)), ceil(P2Dist y - 38)
facing = 1
ownPal = 1
size.xScale = .7
size.yScale = .7
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 270, Control]
type = CtrlSet
trigger1 = time = 12
value = 1

[State 270, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Advance Guard
[Statedef 330]
type    = S 
movetype= A 
physics = S 
juggle  = 0 
velset = 0,0
ctrl = 0 
poweradd = -400
sprpriority = 2
anim = 330

[State 330, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 330, 0

[State 330, Voice]
type = PlaySnd
trigger1 = Time = 1 && random >= 600
value = 2, 0
volume = 255
channel = 0

[State 330, Spark]
type = Explod
trigger1 = animelem = 2
Anim = 10800
Pos = 37, -46
Id = 10800
sprpriority = 3
removeongethit = 0
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal =1
scale = 0.5,0.5

[State 330, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Hard
damage    = 5
guardflag = MA
pausetime = 4,12
sparkno = -1
sparkxy = var(52):=50,var(53):=-55
hitsound   = S303,0
guard.sparkno = -1
guardsound = s500,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -11,-5
air.velocity = -11,-5
air.fall = 1
fall = 1
fall.recover = 0
envshake.time = 5
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 3006, Hit Spark]
type = Helper
triggerall = numhelper(8000) = 0
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
helperType = Normal
stateNo = 8011;ifElse(MoveGuarded, 8001, 8014)
ID = 8000
name = "Spark"
posType = P1
pos = ifElse(P2Dist x < -64, -64, ifElse(P2Dist x < 64, ceil(P2Dist x), 64)), ceil(P2Dist y - 38)
facing = 1
ownPal = 1
size.xScale = .7
size.yScale = .7
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 330, HitOverride]
type = Hitoverride
trigger1 = 1
attr = S, NA
stateno = 130
value = 202, 0

[State 330, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 330, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Crouching light punch
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 1
poweradd= 25
ctrl = 0
sprpriority = 2
anim = 400

[State 400, Voice]
type = PlaySnd
trigger1 = Time = 1 && random < 100
value = 1, 7
volume = 255
channel = 0

[State 400, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 400, HitDef]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 23
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 6,7
sparkno = -1
sparkxy = var(52):=45,var(53):=-33
hitsound   = S300,0
guard.sparkno = -1
guardsound = s500,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 12
ground.velocity = -1.5
air.velocity = -1.5,-2

[State 3006, Hit Spark]
type = Helper
triggerall = numhelper(8000) = 0
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
helperType = Normal
stateNo = 8011;ifElse(MoveGuarded, 8001, 8014)
ID = 8000
name = "Spark"
posType = P1
pos = ifElse(P2Dist x < -64, -64, ifElse(P2Dist x < 64, ceil(P2Dist x), 64)), ceil(P2Dist y - 38)
facing = 1
ownPal = 1
size.xScale = .7
size.yScale = .7
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 400, Control]
type = CtrlSet
trigger1 = time = 9
value = 1

[State 400, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Crouching Medium punch
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 1
poweradd= 30
ctrl = 0
sprpriority = 2
anim = 410

[State 410, Voice]
type = PlaySnd
trigger1 = Time = 1 && random < 150
value = 1, 7
volume = 255
channel = 0

[State 410, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 410, HitDef]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 28
priority  = 3
animtype  = Medium
hitflag = MAF
guardflag = L
pausetime = 8,9
sparkno = -1
sparkxy = var(52):=45,var(53):=-33
hitsound   = S301,0
guard.sparkno = -1
guardsound = s500,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 14
ground.velocity = -2
air.velocity = -1.5,-2

[State 3006, Hit Spark]
type = Helper
triggerall = numhelper(8000) = 0
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
helperType = Normal
stateNo = 8011;ifElse(MoveGuarded, 8001, 8014)
ID = 8000
name = "Spark"
posType = P1
pos = ifElse(P2Dist x < -64, -64, ifElse(P2Dist x < 64, ceil(P2Dist x), 64)), ceil(P2Dist y - 38)
facing = 1
ownPal = 1
size.xScale = .7
size.yScale = .7
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 410, Control]
type = CtrlSet
trigger1 = time = 12
value = 1

[State 410, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Crouching Strong punch
[Statedef 420]
type    = C
movetype= A
physics = C
juggle  = 1
poweradd= 40
ctrl = 0
sprpriority = 2
anim = 420

[State 420, Voice]
type = PlaySnd
trigger1 = Time = 1 && random < 200
value = 1, 8
volume = 255
channel = 0

[State 420, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 202, 0


[State 420, HitDef]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 35
priority  = 3
animtype  = Hard
hitflag = MAF
guardflag = L
pausetime = 9,11
sparkno = -1
sparkxy = var(52):=45,var(53):=-33
hitsound   = S302,0
guard.sparkno = -1
guardsound = s500,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 16
ground.velocity = -5
air.velocity = -1.5,-3
envshake.time = 5
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 3006, Hit Spark]
type = Helper
triggerall = numhelper(8000) = 0
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
helperType = Normal
stateNo = 8011;ifElse(MoveGuarded, 8001, 8014)
ID = 8000
name = "Spark"
posType = P1
pos = ifElse(P2Dist x < -64, -64, ifElse(P2Dist x < 64, ceil(P2Dist x), 64)), ceil(P2Dist y - 38)
facing = 1
ownPal = 1
size.xScale = .7
size.yScale = .7
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 420, Control]
type = CtrlSet
trigger1 = time = 17
value = 1

[State 420, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Crouching light kick
[Statedef 430]
type    = C
movetype= A
physics = C
juggle = 2
poweradd= 35
ctrl = 0
sprpriority = 2
;anim = 430

[State 430, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 430

[State 430, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 201, 0

[State 430, Voice]
type = PlaySnd
trigger1 = Time = 1 && random < 150
value = 1, 11
volume = 255
channel = 0

[State 430, HitDef]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 36
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 10,10
sparkno = -1
sparkxy = var(52):=45,var(53):=-5
hitsound   = S302,0
guard.sparkno = -1
guardsound = s500,0
ground.type = Low
ground.slidetime = 6
ground.hittime  = 12
ground.velocity = -2
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20

[State 3006, Hit Spark]
type = Helper
triggerall = numhelper(8000) = 0
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
helperType = Normal
stateNo = 8011;ifElse(MoveGuarded, 8001, 8014)
ID = 8000
name = "Spark"
posType = P1
pos = ifElse(P2Dist x < -64, -64, ifElse(P2Dist x < 64, ceil(P2Dist x), 64)), ceil(P2Dist y - 38)
facing = 1
ownPal = 1
size.xScale = .7
size.yScale = .7
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 430, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Crouching Medium kick
[Statedef 440]
type    = C
movetype= A
physics = C
juggle = 2
poweradd= 40
ctrl = 0
sprpriority = 2
anim = 440

[State 440, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 202, 0

[State 440, VelSet]
type = Velset
trigger1 = animelem = 2
x = 3.0

[State 440, Voice]
type = PlaySnd
trigger1 = time = 1 && random < 50
value = 1, 7
volume = 255
channel = 0

[State 440, AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 8
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 110,50,100
paladd = 25,0,20
timegap = 1
framegap = 1
trans = Add

[State 440, HitDef]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 40
animtype  = Medium
hitflag = MAFD
guardflag = L
pausetime = 11,11
sparkno = -1
sparkxy = var(52):=45,var(53):=-5
hitsound   = S302,0
guard.sparkno = -1
guardsound = s500,0
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -5,-2
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20

[State 3006, Hit Spark]
type = Helper
triggerall = numhelper(8000) = 0
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
helperType = Normal
stateNo = 8011;ifElse(MoveGuarded, 8001, 8014)
ID = 8000
name = "Spark"
posType = P1
pos = ifElse(P2Dist x < -64, -64, ifElse(P2Dist x < 64, ceil(P2Dist x), 64)), ceil(P2Dist y - 38)
facing = 1
ownPal = 1
size.xScale = .7
size.yScale = .7
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 440, Posadd]
type = Posadd
trigger1 = animelem = 3
x = 11.0

[State 440, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Crouching Strong kick
[Statedef 450]
type    = C
movetype= A
physics = C
juggle = 2
poweradd= 45
ctrl = 0
sprpriority = 2
anim = 450

[State 450, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 202, 0

[State 450, VelSet]
type = Velset
trigger1 = animelem = 2
x = 2.0

[State 450, Voice]
type = PlaySnd
trigger1 = time = 1 && random < 50
value = 1, 5
volume = 255
channel = 0

[State 450, AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 8
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 110,50,100
paladd = 25,0,20
timegap = 1
framegap = 1
trans = Add



[State 450, HitDef]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 45
animtype  = Hard
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkno = -1
sparkxy = var(52):=60,var(53):=-20
hitsound   = S303,0
guard.sparkno = -1
guardsound = s500,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -3,-5
air.velocity = -3,-5
envshake.time = 5
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90
fall = 1
fall.recover = 1

[State 3006, Hit Spark]
type = Helper
triggerall = numhelper(8000) = 0
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
helperType = Normal
stateNo = 8011;ifElse(MoveGuarded, 8001, 8014)
ID = 8000
name = "Spark"
posType = P1
pos = ifElse(P2Dist x < -64, -64, ifElse(P2Dist x < 64, ceil(P2Dist x), 64)), ceil(P2Dist y - 38)
facing = 1
ownPal = 1
size.xScale = .7
size.yScale = .7
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 450, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Jump Light Punch
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 30
ctrl = 0
sprpriority = 2
anim = 600

[State 600, VelAdd];Anti-Gravity
type = VelAdd
Trigger1 = animelem = 2
y = -1

[State 600, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 600, Voice]
type = PlaySnd
trigger1 = time = 1 && random < 150
value = 1, 7
volume = 255
channel = 0

[State 600, HitDef]
type = HitDef
trigger1 = Time = 0
attr = A, NA
animtype  = Light
damage    = 27
guardflag = HA
priority = 3
pausetime = 7,7
sparkno = -1
sparkxy = var(52):=50,var(53):=-55
hitsound   = S300,0
guard.sparkno = -1
guardsound = s500,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.3,-3

[State 3006, Hit Spark]
type = Helper
triggerall = numhelper(8000) = 0
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
helperType = Normal
stateNo = 8011;ifElse(MoveGuarded, 8001, 8014)
ID = 8000
name = "Spark"
posType = P1
pos = ifElse(P2Dist x < -64, -64, ifElse(P2Dist x < 64, ceil(P2Dist x), 64)), ceil(P2Dist y - 38)
facing = 1
ownPal = 1
size.xScale = .7
size.yScale = .7
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 600, Control]
type = CtrlSet
trigger1 = Time = 14
value = 1
;---------------------------------------------------------------------------
;Jump Medium Punch
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 30
ctrl = 0
sprpriority = 2
anim = 610

[State 610, VelAdd];Anti-Gravity
type = VelAdd
Trigger1 = animelem = 2
y = -1

[State 610, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 201, 0

[State 610, Voice]
type = PlaySnd
trigger1 = time = 1 && random < 200
value = 1, 6
volume = 255
channel = 0

[State 610, HitDef]
type = HitDef
trigger1 = Time = 0
attr = A, NA
animtype  = Medium
damage    = 30
guardflag = HA
priority = 3
pausetime = 8,8
sparkno = -1
sparkxy = var(52):=50,var(53):=-40
hitsound   = S301,0
guard.sparkno = -1
guardsound = s500,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.3,-3

[State 3006, Hit Spark]
type = Helper
triggerall = numhelper(8000) = 0
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
helperType = Normal
stateNo = 8011;ifElse(MoveGuarded, 8001, 8014)
ID = 8000
name = "Spark"
posType = P1
pos = ifElse(P2Dist x < -64, -64, ifElse(P2Dist x < 64, ceil(P2Dist x), 64)), ceil(P2Dist y - 38)
facing = 1
ownPal = 1
size.xScale = .7
size.yScale = .7
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 610, Control]
type = CtrlSet
trigger1 = Time = 16
value = 1
;---------------------------------------------------------------------------
;Jump Strong Punch
[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 25
ctrl = 0
sprpriority = 2
anim = 620

[State 620, VelAdd];Anti-Gravity
type = VelAdd
Trigger1 = animelem = 2
y = -0.75

[State 620, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 202, 0

[State 620, Voice]
type = PlaySnd
trigger1 = time = 1 && random < 200
value = 1, 2
volume = 255
channel = 0

[State 620, effect.Helper]
type = Helper
trigger1 = animelem = 3
name = "JPunch_Effect"
stateno = 12601
postype = p1
pos = 19, -8
keyctrl = 0
ownpal = 1
id = 12600
size.xscale = 0.50
size.yscale = 0.50

[State 620, HitDef]
type = HitDef
trigger1 = Time = 0
attr = A, NA
animtype  = Hard
damage    = 35
guardflag = HA
priority = 3
pausetime = 10,10
sparkno = -1
sparkxy = var(52):=50,var(53):=-5
hitsound   = S302,0
guard.sparkno = -1
guardsound = s500,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.3,3

[State 3006, Hit Spark]
type = Helper
triggerall = numhelper(8000) = 0
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
helperType = Normal
stateNo = 8011;ifElse(MoveGuarded, 8001, 8014)
ID = 8000
name = "Spark"
posType = P1
pos = ifElse(P2Dist x < -64, -64, ifElse(P2Dist x < 64, ceil(P2Dist x), 64)), ceil(P2Dist y - 38)
facing = 1
ownPal = 1
size.xScale = .7
size.yScale = .7
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 620, Control]
type = CtrlSet
trigger1 = Time = 20
value = 1
;---------------------------------------------------------------------------
;Jump Medium Kick
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 40
ctrl = 0
sprpriority = 2
anim = 630

[State 630, VelAdd];Anti-Gravity
type = VelAdd
Trigger1 = animelem = 2
y = -1

[State 630, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 202, 0

[State 630, Voice]
type = PlaySnd
trigger1 = time = 1 && random < 200
value = 1, 8
volume = 255
channel = 0

[State 630, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 45
guardflag = HA
priority = 3
pausetime = 10,10
sparkno = -1
sparkxy = var(52):= 60,var(53):=-10
hitsound   = S302,0
guard.sparkno = -1
guardsound = s500,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 16
ground.velocity = -4
air.velocity = -3,-3

[State 3006, Hit Spark]
type = Helper
triggerall = numhelper(8000) = 0
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
helperType = Normal
stateNo = 8011;ifElse(MoveGuarded, 8001, 8014)
ID = 8000
name = "Spark"
posType = P1
pos = ifElse(P2Dist x < -64, -64, ifElse(P2Dist x < 64, ceil(P2Dist x), 64)), ceil(P2Dist y - 38)
facing = 1
ownPal = 1
size.xScale = .7
size.yScale = .7
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 620, Control]
type = CtrlSet
trigger1 = Time = 20
value = 1
;---------------------------------------------------------------------------
;Jump Strong Kick
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 50
ctrl = 0
sprpriority = 2
anim = 640

[State 640, VelAdd];Anti-Gravity
type = VelAdd
Trigger1 = animelem = 2
y = -0.75

[State 640, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 202, 0

[State 640, Voice]
type = PlaySnd
trigger1 = time = 1 && random < 200
value = 1, 4
volume = 255
channel = 0


[State 640, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 45
guardflag = HA
priority = 3
pausetime = 12,12
sparkno = -1
sparkxy = var(52):=60,var(53):=-25
hitsound   = S303,0
guard.sparkno = -1
guardsound = s500,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 16
ground.velocity = -6
air.velocity = -4,6
air.fall = 1
fall.recover = 1

[State 3006, Hit Spark]
type = Helper
triggerall = numhelper(8000) = 0
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
helperType = Normal
stateNo = 8011;ifElse(MoveGuarded, 8001, 8014)
ID = 8000
name = "Spark"
posType = P1
pos = ifElse(P2Dist x < -64, -64, ifElse(P2Dist x < 64, ceil(P2Dist x), 64)), ceil(P2Dist y - 38)
facing = 1
ownPal = 1
size.xScale = .7
size.yScale = .7
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 620, Control]
type = CtrlSet
trigger1 = Time = 22
value = 1
;---------------------------------------------------------------------------
;Jump Light Kick
[Statedef 650]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 35
ctrl = 0
sprpriority = 2
anim = 650

[State 650, VelAdd];Anti-Gravity
type = VelAdd
Trigger1 = animelem = 2
y = -1

[State 650, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 201, 0

[State 650, Voice]
type = PlaySnd
trigger1 = time = 1 && random < 200
value = 1, 7
volume = 255
channel = 0

[State 650, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 45
guardflag = HA
priority = 3
pausetime = 8,8
sparkno = -1
sparkxy = var(52):= 60,var(53):=-25
hitsound   = S301,0
guard.sparkno = -1
guardsound = s500,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 16
ground.velocity = -4
air.velocity = -3,-3

[State 3006, Hit Spark]
type = Helper
triggerall = numhelper(8000) = 0
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
helperType = Normal
stateNo = 8011;ifElse(MoveGuarded, 8001, 8014)
ID = 8000
name = "Spark"
posType = P1
pos = ifElse(P2Dist x < -64, -64, ifElse(P2Dist x < 64, ceil(P2Dist x), 64)), ceil(P2Dist y - 38)
facing = 1
ownPal = 1
size.xScale = .7
size.yScale = .7
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 620, Control]
type = CtrlSet
trigger1 = Time = 18
value = 1
;---------------------------------------------------------------------------
;Butt Bash
[Statedef 660]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 40
ctrl = 0
sprpriority = 4
anim = 660

[State 660, Sound]
type = PlaySnd
trigger1 = Time = 3
value = 201, 0

[State 660, VarSet]
type = Velset
trigger1 = time = 3
x = 4.0
y = 4.0

[State 660, VarSet]
type = Velset
trigger1 =  p2stateno = 96511 || p2stateno = 96512
x = 0
y = 0

[State 660, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NT
damage = 40
guardflag = HA
priority = 3
pausetime = 8,8
sparkno = -1
sparkxy = -17,-30
hitsound   = S303,0
guard.sparkno = -1
guardsound = s500,0
snap = 16,0,0,1
p2stateno = 96510

[State 660, TBind1]
type = TargetBind
trigger1 = p2stateno = 96510
pos = 25,-32

[State 660, End]
type = ChangeState
trigger1 = p2stateno = 96511 || p2stateno = 96512
trigger2 = pos y >= 0 && movecontact
value = 651
;---------------------------------------------------------------------------
;Butt Bash Jump up
[Statedef 651]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 40
ctrl = 0
sprpriority = 3
;anim = 651

[State 651, VarSet]
type = Velset
trigger1 = time = [0,6]
x = 0
y = 0

[State 651, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 651

[State 651, Sound]
type = PlaySnd
trigger1 = Time = 6
value = 40, 0

[State 651, VarSet]
type = Velset
trigger1 = time = 6
x = 4.0
y = -7.0

;---------------------------------------------------------------------------
;Basic Throw
[Statedef 800]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
;anim = 800
sprpriority = 1

[State 800, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 800

[State 800, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
priority = 2, miss
guard.sparkno = -1
sparkno = -1
snap = 32,0,0,1
p1stateno = 810
p2stateno = 95020

[State 800, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------
; Throw successful
[Statedef 810]
type = S
movetype = A
physics = S
velset = 0,0
anim = 810
sprpriority = 1

[State 810, GrabSND]
type = PlaySnd
trigger1 = time = 0
value = 800, 0

[State 810, Invincibility]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 810, PlaySND]
type = PlaySnd
trigger1 = AnimElem = 3
value = 200,0

[State 910, PlaySND]
type = PlaySnd
triggerall = random >= 400
trigger1 = time = 0
value = 1,4
channel = 0
volume = 255

[State 810, Damage]
type = TargetLifeAdd
trigger1 = animtime = 0
value = -10

[State 810, TBind1]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 10,0

[State 810, TBind2]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
pos = 0,-10

;[State 810, TBind3]
;type = TargetBind
;trigger1 = AnimElem = 3, >= 0
;trigger1 = AnimElem = 4, < 0
;pos = -6,-26

[State 810, TState]
type = TargetState
trigger1 = AnimElem = 3
value = 95021

[State 810, Turn]
type = Turn
trigger1 = AnimElem = 5

[State 810, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Throw Toss Player 2 State
[Statedef 95020]
type    = A
movetype= H ;Get hit
physics = N
velset = 1,0
ctrl = 0
;anim = 95020
sprpriority = 2

[State 95020, Animation]
type = ChangeAnim2
trigger1 = time = 0
value = 95020

;BLARGH!
[State 95020, HitBy]
type = HitBy
Trigger1 = Time >= 0
value = SCA
time = 1

[State 95010, End]
type = ChangeState
trigger1 = Time >= 40
value = 50
ctrl = 1

;-------------------------------------------------------------------------
; Throw Toss Player 2 State
[Statedef 95021]
type    = A
movetype= H ;Get hit
physics = N
velset = 5,-11
ctrl = 0
;anim = 95021
sprpriority = 2

[State 95021, Animation]
type = ChangeAnim2
trigger1 = time = 0
value = 95021

[State 95021, PosAdd]
type = PosAdd
Trigger1 = Time = 0
x =  12
y = 0

[State 95021, 2] ;Gravity
type = VelAdd
Trigger1 = Time > 0
y = 0.44

[State 95021, Damage]
type = LifeAdd
Trigger1 = Time = 0
value = -60

[State 95021, SelfState] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 10
value = 5100 ;Hit ground
;---------------------------------------------------------------------------
;Slam Bam Thank You Ma'am!
[Statedef 900]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
;anim = 800
sprpriority = 1

[State 900, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 900

[State 900, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
priority = 2, miss
sparkno = -1
sparkxy = var(52):=50,var(53):=-55
guard.sparkno = -1
;snap = 32,0,0,1
p1stateno = 910
p2stateno = 95025

[State 800, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------
; Slam Bam Thank You Ma'am! successful
[Statedef 910]
type = S
movetype = A
physics = S
velset = 0,0
anim = 910
sprpriority = 1

[State 910, GrabSND]
type = PlaySnd
trigger1 = time = 0
value = 800, 0

[State 910, Invincibility]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 910, PlaySND]
type = PlaySnd
triggerall = random >= 300
trigger1 = AnimElem = 2
value = 1,3
channel = 0
volume = 255

[State 910, PlaySND]
type = PlaySnd
trigger1 = AnimElem = 3
value = 40,0

[State 910, Damage]
type = TargetLifeAdd
trigger1 = animtime = 0
value = -10

[State 910, PosSet-Ground]
type = PosSet
trigger1 = time = 10
y = -1

[State 910, VelSetX2]
type = Velset
trigger1 = time > 10
x = 3.5

[State 910, VelSetY]
type = Velset
trigger1 = time = 10
y = -7.0

[State 910, StateTypeSet]
type = StateTypeSet
trigger1 = time = 10
statetype = A
physics = A

[State 910, TBind1]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 25,0

[State 910, TBind2]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
pos = 25,0

[State 910, TBind3]
type = TargetBind
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
pos = 15,-13

[State 910, TBind4]
type = TargetBind
trigger1 = AnimElem = 4, >= 0
trigger1 = AnimElem = 5, < 0
pos = -15,-17

[State 910, TBind5]
type = TargetBind
trigger1 = AnimElem = 5, >= 0
trigger1 = AnimElem = 6, < 0
pos = -36,-70

[State 910, PlaySND]
type = PlaySnd
trigger1 = AnimElem = 5
value = 210,0

;[State 910, Turn]
;type = Turn
;trigger1 = AnimElem = 5

[State 910, Posset]
type = Posset
trigger1 = pos y > 0
y = 0

[State 910, State]
type = ChangeState
trigger1 = pos y = 0 && time > 10
value = 0
ctrl = 1
;-------------------------------------------------------------------------
; Slam Bam Thank You Ma'am! successful
[Statedef 911]
type = S
movetype = A
physics = S
velset = 0,0
anim = 910
sprpriority = 1

[State 910, GrabSND]
type = PlaySnd
trigger1 = time = 0
value = 800, 0

[State 910, Invincibility]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 910, PlaySND]
type = PlaySnd
triggerall = random >= 300
trigger1 = AnimElem = 2
value = 1,3
channel = 0
volume = 255

[State 910, PlaySND]
type = PlaySnd
trigger1 = AnimElem = 3
value = 210,0

[State 910, Damage]
type = TargetLifeAdd
trigger1 = animtime = 0
value = -10

[State 910, PosSet-Ground]
type = PosSet
trigger1 = time = 20
y = -1

[State 910, VelSetX2]
type = Velset
trigger1 = time > 20
x = 2.4

[State 910, VelSetY]
type = Velset
trigger1 = time = 20
y = -4.4

[State 910, StateTypeSet]
type = StateTypeSet
trigger1 = time = 20
statetype = A
physics = A

[State 910, TBind1]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 25,0

[State 910, TBind2]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
pos = 25,0

[State 910, TBind3]
type = TargetBind
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
pos = 15,-13

[State 910, TBind4]
type = TargetBind
trigger1 = AnimElem = 4, >= 0
trigger1 = AnimElem = 5, < 0
pos = -15,-17

[State 910, TBind5]
type = TargetBind
trigger1 = AnimElem = 5, >= 0
trigger1 = AnimElem = 6, < 0
pos = -36,-70

;[State 910, Turn]
;type = Turn
;trigger1 = AnimElem = 5

[State 910, Posset]
type = Posset
trigger1 = pos y > 0
y = 0

[State 910, State]
type = ChangeState
trigger1 = pos y = 0 && time > 20
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Throw Toss Player 2 State
[Statedef 95025]
type    = A
movetype= H ;Get hit
physics = N
velset = 1,0
ctrl = 0
;anim = 95025
sprpriority = 2

[State 95020, Animation]
type = ChangeAnim2
trigger1 = time = 0
value = 95025

;BLARGH!
[State 95020, HitBy]
type = HitBy
Trigger1 = Time >= 0
value = SCA
time = 1

[State 95010, End]
type = ChangeState
trigger1 = animtime = 0
value = 95026
ctrl = 1

;-------------------------------------------------------------------------
; Throw Toss Player 2 State
[Statedef 95026]
type    = A
movetype= H ;Get hit
physics = N
velset = -10,10
ctrl = 0
;anim = 95026
sprpriority = 2

[State 95026, Animation]
type = ChangeAnim2
trigger1 = time = 0
value = 95026

[State 95026, PosAdd]
type = PosAdd
Trigger1 = Time = 0
x = -27
y = 0

;[State 95026, 2] ;Gravity
;type = VelAdd
;Trigger1 = Time > 0
;y = 0.6

[State 95026, Damage]
type = LifeAdd
Trigger1 = Time = 0
value = -20

[State 95026, SelfState] ;Hit ground
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 95027 ;Hit ground
;-------------------------------------------------------------------------
; Hit ground
[Statedef 95027]
type    = A
movetype= H ;Get hit
physics = N
velset = 0,0
ctrl = 0
;anim = 95027
sprpriority = 2

[State 95027, Animation]
type = ChangeAnim
trigger1 = time = 0
value = 5100

[State 95027, Damage]
type = LifeAdd
Trigger1 = Time = 0
value = -70

[State 95027, SelfState]
type = ChangeState
trigger1 = time = 6
value = 95028 ;Bounce
;-------------------------------------------------------------------------
; Bounce from ground
[Statedef 95028]
type    = A
movetype= H ;Get hit
physics = N
velset = -3,-6
ctrl = 0
;anim = 95028
sprpriority = 2

;[State 95028, Animation]
;type = ChangeAnim2
;trigger1 = time = 0
;value = 5051

[State 95028, PosAdd]
type = PosAdd
Trigger1 = Time = 0
x = 0
y = -1

[State 95028, 2] ;Gravity
type = VelAdd
Trigger1 = Time > 0
y = 0.44

[State 95028, ChangeState]
type = SelfState
trigger1 = time = 0
value = 5050 ;To p2s fall animation
;---------------------------------------------------------------------------
; Butt Bash P2 State Fall
[Statedef 96510]
type    = A
movetype= H
physics = N
velset = -4,7
ctrl = 0
;anim = 95020
sprpriority = 2

[State 95010, Animation]
type = ChangeAnim2
trigger1 = time = 0
value = 96510

;BLARGH!
[State 95010, HitBy]
type = HitBy
Trigger1 = Time >= 0
value = SCA
time = 1

[State 95010, Vel]
type = VelSet
trigger1 = 1
value = -4, 7

[State 95010, End]
type = ChangeState
trigger1 = pos y >= 0
value = 96511
ctrl = 1

[State 95010, End]
type = ChangeState
trigger1 = p2stateno = 0
value = 96513
ctrl = 1
;---------------------------------------------------------------------------
; Butt Bash P2 State Hit ground
[Statedef 96511]
type    = A
movetype= H 
physics = N
velset = 0,0
ctrl = 0
;anim = 
sprpriority = 2

[State 96511]
type = Posset
Trigger1 = Time = 0
y = 0

[State 96511, Animation]
type = ChangeAnim2
trigger1 = time = 0
value = 5101

[State 96511, Animation]
type = ChangeAnim2
trigger1 = time = 3
value = 5110

;BLARGH!
[State 96511, HitBy]
type = HitBy
Trigger1 = Time >= 0
value = SCA
time = 1

[State 96511, End]
type = ChangeState
trigger1 = time = 6
value = 96512
ctrl = 1
;---------------------------------------------------------------------------
; Butt Bash P2 State Bounce up
[Statedef 96512]
type    = A
movetype= H 
physics = N
velset = -2,-3
ctrl = 0
;anim = 
sprpriority = 2

;BLARGH!
[State 96512, HitBy]
type = HitBy
Trigger1 = Time >= 0
value = SCA
time = 1

[State 96512, End]
type = ChangeState
trigger1 = time = 0
value = 5050
ctrl = 1
;---------------------------------------------------------------------------
; Butt Bash P2 State Fall
[Statedef 96513]
type    = A
movetype= H
physics = N
velset = -4,7
ctrl = 0
;anim = 95020
sprpriority = 2

[State 95013, Animation]
type = ChangeAnim2
trigger1 = time = 0
value = 5050

;BLARGH!
[State 95013, HitBy]
type = HitBy
Trigger1 = Time >= 0
value = SCA
time = 1

[State 95013, Vel]
type = VelSet
trigger1 = 1
value = -4, 7

[State 95013, End]
type = ChangeState
trigger1 = pos y >= 0
value = 96511
ctrl = 1
;---------------------------------------------------------------------------
;Fireball Forward
[Statedef 1000]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
;anim = 1000

[State 1000, FWing]
type = null;Explod
trigger1 = time = 0
Anim = 14101
Pos = -4, -35
Id = 14100
sprpriority = -1
removeongethit = 0
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal =1
scale = 0.5,0.5

[State 1000, Animation]
type = ChangeAnim
trigger1 = time = 0
value = 1000

;[State 1000, PowerAdd]
;Type = PowerAdd
;Trigger1 = time >= 1
;value = -6

[State 1000, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1000, Sound]
type = PlaySnd
trigger1 = time = 4
trigger2 = time > 4 && (command = "x" || command = "y" || command = "z")
value = 1000,0

[State 181, Voice]
type = PlaySnd
trigger1 = Time = 1 && random > 500
value = 3, 9
channel = 0
volume = 255

[State 1000, Ring]
type = Explod
trigger1 = time = 4
trigger2 = time > 4 && (command = "x" || command = "y" || command = "z")
Anim = 11600
Pos = 40, -50
Id = 12010
sprpriority = 3
removeongethit = 1
removetime = 12
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.8, 0.4

[State 1000, Ki.Helper]
type = Helper
trigger1 = time = 4
trigger2 = time > 4 && (command = "x" || command = "y" || command = "z")
name = "FireBall"
stateno = 12150
postype = p1
pos = 50, -52
keyctrl = 0
ownpal = 1
id = 12150
size.xscale = 0.50
size.yscale = 0.50

[State 1000, Projectile]
type = null;Projectile
trigger1 = Time = 5
ProjAnim = 12150        
ProjHitAnim = 13000  
ProjRemAnim = 13000   
projid = 12150
projscale = 0.5, 0.5
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 17, -55       
velocity = 14, 0
remvelocity = .7, 0  
accel = -0.02, 0.05     
attr = S, SP
damage    = 23,4
animtype  = Medium
getpower  = 0
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = -1
sparkxy = 0, 0
hitsound   = S1100,0
guardsound = S1100,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -8
airguard.velocity = -5.5      
air.type = Low
air.velocity = -4.5,-2.5
air.juggle = 3

[State 1000, VarSet]
type = VarSet
trigger1 = time = 4
v = 15
value = 1

[State 1000, VarAdd]
type = VarAdd
trigger1 = time > 4 && (command = "x" || command = "y" || command = "z")
v = 15
value = 1

[State 1000, VarSet]
type = VarSet
trigger1 = time = 0
v = 14
value = 1

[State 1000, End]
type = ChangeState
trigger1 = var(14) <= 0 || power <= 0
value = 1003
ctrl = 1

[State 1000, End2]
type = ChangeState
trigger1 = var(15) >= 9 && time > 4
value = 1001
ctrl = 1

[State 1000, VarAdd]
type = VarAdd
trigger1 = time > 4
v = 14
value = -1

[State 1000, VarSet]
type = VarSet
trigger1 = time = 4
trigger2 = time > 4 && (command = "x" || command = "y" || command = "z")
v = 14
value = 15
;---------------------------------------------------------------------------
;Power Fireball
[Statedef 1001]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
;anim = 1001

[State 1001, Sound]
type = PlaySnd
trigger1 = time = 0
value = 1002,0
volume = 255

[State 1001, Ball]
type = Explod
trigger1 = time = 0
Anim = 12610
Pos = -15, -90
Id = 12610
sprpriority = 3
removeongethit = 1
;removetime = 12
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.50, 0.50

[State 1001, Animation]
type = ChangeAnim
trigger1 = time = 0
value = 1001

[State 1001, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1001, Sound]
type = PlaySnd
trigger1 = time = 11
value = 1000,0

[State 1001, Voice]
type = PlaySnd
trigger1 = Time = 1 && random > 500
value = 3, 1
channel = 0
volume = 255

[State 1001, Ring]
type = Explod
trigger1 = time = 11
Anim = 12010
Pos = 42, -55
Id = 12010
sprpriority = 3
removeongethit = 1
removetime = 12
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.40, 0.40

[State 1001, Blast.Helper]
type = Helper
trigger1 = time = 11
name = "MegaFireBall"
stateno = 12500
postype = p1
pos = 40, -55
keyctrl = 0
ownpal = 1
id = 12500
size.xscale = 0.50
size.yscale = 0.50

[State 1001, Tired]
type = ChangeState
trigger1 = animtime = 0 && power <= 0
value = 5300
ctrl = 1

[State 1001, End]
type = ChangeState
trigger1 = animtime = 0 && power > 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Weak Fireball End
[Statedef 1003]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
;anim = 1003

[State 1003, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1003

[State 1003, Tired]
type = ChangeState
trigger1 = AnimTime = 0 && power <= 4
value = 5300
ctrl = 1

[State 1003, End]
type = ChangeState
trigger1 = AnimTime = 0 
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Fireball Upward
[Statedef 1010]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
;anim = 1010

[State 1010, Turn]
type = Turn
trigger1 = time = 0 && p2bodydist x < 0

[State 1010, Animation]
type = ChangeAnim
trigger1 = time = 0
value = 1010

[State 1000, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1010, Sound]
type = PlaySnd
trigger1 = time = 7
trigger2 = time > 7 && (command = "x" || command = "y" || command = "z")
value = 1000,0

[State 1010, Voice]
type = PlaySnd
trigger1 = Time = 1 && random > 500
value = 3, 9
channel = 0
volume = 255

[State 1010, Ring]
type = Explod
trigger1 = time = 7
trigger2 = time > 7 && (command = "x" || command = "y" || command = "z")
Anim = 12015
Pos = 19, -69
Id = 12015
sprpriority = 3
removeongethit = 1
removetime = 12
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.40, 0.40

[State 1010, Ki.Helper]
type = Helper
trigger1 = time = 7
trigger2 = time > 7 && (command = "x" || command = "y" || command = "z")
name = "FireBall"
stateno = 12160
postype = p1
pos = 15, -68
keyctrl = 0
ownpal = 1
id = 12160
size.xscale = 0.50
size.yscale = 0.50

[State 1010, VarSet]
type = VarSet
trigger1 = time = 7
v = 15
value = 1

[State 1010, VarAdd]
type = VarAdd
trigger1 = time > 7 && (command = "x" || command = "y" || command = "z")
v = 15
value = 1

[State 1010, VarSet]
type = VarSet
trigger1 = time = 0
v = 14
value = 1

[State 1010, End]
type = ChangeState
trigger1 = var(14) <= 0 || power <= 0
value = 1003
ctrl = 1

[State 1010, End2]
type = ChangeState
trigger1 = var(15) >= 9 && time > 7
value = 1011
ctrl = 1

[State 1010, VarAdd]
type = VarAdd
trigger1 = time > 7
v = 14
value = -1

[State 1010, VarSet]
type = VarSet
trigger1 = time = 7
trigger2 = time > 7 && (command = "x" || command = "y" || command = "z")
v = 14
value = 15
;---------------------------------------------------------------------------
;Power Fireball Upwards
[Statedef 1011]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
;anim = 1011

[State 1001, Sound]
type = PlaySnd
trigger1 = time = 0
value = 1002,0
volume = 255

[State 1011, Ball]
type = Explod
trigger1 = time = 0
Anim = 12610
Pos = -11, -62
Id = 12610
sprpriority = 3
removeongethit = 1
;removetime = 12
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.50, 0.50

[State 1011, Animation]
type = ChangeAnim
trigger1 = time = 0
value = 1011

[State 1011, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1011, Sound]
type = PlaySnd
trigger1 = time = 11
value = 1000,0

[State 1011, Voice]
type = PlaySnd
trigger1 = Time = 1 && random > 500
value = 3, 1
channel = 0
volume = 255

[State 1011, Ring]
type = Explod
trigger1 = time = 11
Anim = 12015
Pos = 19, -69
Id = 12015
sprpriority = 3
removeongethit = 1
removetime = 12
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.40, 0.40

[State 1011, Blast.Helper]
type = Helper
trigger1 = time = 11
name = "MegaFireBall"
stateno = 12510
postype = p1
pos = 15, -68
keyctrl = 0
ownpal = 1
id = 12510
size.xscale = 0.50
size.yscale = 0.50

[State 1011, Tired]
type = ChangeState
trigger1 = animtime = 0 && power <= 0
value = 5300
ctrl = 1

[State 1011, End]
type = ChangeState
trigger1 = animtime = 0 && power > 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Aerial Fireball
[Statedef 1020]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
sprpriority = 2
;anim = 1020

[State 1020, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1020

[State 1020, Sound]
type = PlaySnd
trigger1 = time = 7
value = 1000,0

[State 1020, Voice]
type = PlaySnd
trigger1 = Time = 1 && random > 500
value = 3, 9
channel = 0
volume = 255

[State 1020, VelSetY]
Type = VelSet
Trigger1 = Time = [0,7]
y = 0

[State 1020, VelSetY]
Type = VelSet
Trigger1 = Time = 7
y = -5
x = -3

[State 1020, Ring]
type = Explod
trigger1 = time = 7
Anim = 12017
Pos = 16, -50
Id = 12017
sprpriority = 3
removeongethit = 1
removetime = 12
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.40, 0.40

[State 1020, Ki.Helper1]
type = Helper
trigger1 = time = 7
name = "FireBall"
stateno = 12170
postype = p1
pos = 12, -51
keyctrl = 0
ownpal = 1
id = 12170
size.xscale = 0.50
size.yscale = 0.50

[State 1020, Ki.Helper2]
type = Helper
trigger1 = time = 7
name = "FireBall"
stateno = 12171
postype = p1
pos = 15, -54
keyctrl = 0
ownpal = 1
id = 12171
size.xscale = 0.50
size.yscale = 0.50

[State 1020, Ki.Helper3]
type = Helper
trigger1 = time = 7
name = "FireBall"
stateno = 12172
postype = p1
pos = 18, -58
keyctrl = 0
ownpal = 1
id = 12172
size.xscale = 0.50
size.yscale = 0.50

[State 1020, Control]
type = CtrlSet
trigger1 = Time = 30
value = 1
;---------------------------------------------------------------------------
;Aerial Big Fireball
[Statedef 1021]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
sprpriority = 2
;anim = 1021

[State 1001, Sound]
type = PlaySnd
trigger1 = time = 0
value = 1002,0
volume = 255

[State 1011, Ball]
type = Explod
trigger1 = time = 0
Anim = 12610
Pos = -15, -65
Id = 12610
sprpriority = 3
removeongethit = 1
;removetime = 12
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.50, 0.50

[State 1021, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1021

[State 1021, Sound]
type = PlaySnd
trigger1 = time = 11
value = 1000,0

[State 1021, Voice]
type = PlaySnd
trigger1 = Time = 1 && random > 500
value = 3, 1
channel = 0
volume = 255

[State 1021, VelSetY]
Type = VelSet
Trigger1 = Time = [0,11]
y = 0
x = 0

[State 1021, VelSetY]
Type = VelSet
Trigger1 = Time = [11,13]
y = -5.5
x = -4

[State 1021, Ring]
type = Explod
trigger1 = time = 11
Anim = 12017
Pos = 36, -45
Id = 12017
sprpriority = 3
removeongethit = 1
removetime = 12
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.40, 0.40

[State 1021, Blast.Helper]
type = Helper
trigger1 = time = 11
name = "MegaFireBall"
stateno = 12520
postype = p1
pos = 35, -50
keyctrl = 0
ownpal = 1
id = 12520
size.xscale = 0.50
size.yscale = 0.50

[State 1021, Control]
type = CtrlSet
trigger1 = Time = 36
value = 1
;---------------------------------------------------------------------------
;Destructo Disc Low
[Statedef 1050]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
;anim = 1050

[State 1050, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1050

[State 1050, PowerAdd]
Type = PowerAdd
Trigger1 = time >= 1
value = -10

[State 1050, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1050, Sound]
type = PlaySnd
trigger1 = time = 1
value = 1050,0
volume = 100

[State 1050, Voice]
type = PlaySnd
triggerall = random < 500
trigger1 = time = 0
value = 1,1

[State 1050, VarSet]
Type = VarSet
Trigger1 = Time = 0 
v= 17
value = 1

[State 1050, VarAdd]
Type = VarAdd
Trigger1 = Time > 0 
v= 17
value = 1

[State 1050, DDisc.Charge]
type = Explod
trigger1 = time = 0
Anim = 12200
Pos = -25, -82
Id = 12200
sprpriority = 3
removeongethit = 1
removetime = 22
Postype = p1
SuperMove = 1
bindtime = -1
scale = var(17)*0.040, var(17)*0.040

[State 1050, ModifyExplod]
Type = ModifyExplod
Trigger1 = time = [0,13]
id = 12200
scale = var(17)*0.040, var(17)*0.040

[State 1050, ModifyExplod]
Type = ModifyExplod
Trigger1 = time = 20
id = 12200
scale = var(17)*0.040, var(17)*0.040
pos = 26, -58
Postype = p1

[State 1050, DDisc.Helper]
type = Helper
trigger1 = Time = 22
name = "KiBlast"
stateno = 12200
postype = p1
pos = 48, -51
keyctrl = 0
ownpal = 1
id = 12200
size.xscale = var(17)*0.040
size.yscale = var(17)*0.040

[State 1050, Sound]
type = PlaySnd
trigger1 = time = 15
value = 1051,0
volume = -100

[State 1050, End]
type = ChangeState
trigger1 = animtime = 0 && power > 0
value = 0
ctrl = 1

[State 1050, Tired]
type = ChangeState
trigger1 = animtime = 0 && power <= 0
value = 5300
ctrl = 1
;---------------------------------------------------------------------------
;Destructo Disc Mid
[Statedef 1051]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
;anim = 1050

[State 1051, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1050

[State 1051, PowerAdd]
Type = PowerAdd
Trigger1 = time >= 1
value = -10

[State 1051, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1051, Sound]
type = PlaySnd
trigger1 = time = 1
value = 1050,0
volume = 100

[State 1051, Voice]
type = PlaySnd
triggerall = random < 500
trigger1 = time = 0
value = 1,1

[State 1051, VarSet]
Type = VarSet
Trigger1 = Time = 0 
v= 17
value = 1

[State 1051, VarAdd]
Type = VarAdd
Trigger1 = Time > 0 
v= 17
value = 1

[State 1051, DDisc.Charge]
type = Explod
trigger1 = time = 0
Anim = 12200
Pos = -25, -82
Id = 12200
sprpriority = 3
removeongethit = 1
removetime = 22
Postype = p1
SuperMove = 1
bindtime = -1
scale = var(17)*0.040, var(17)*0.040

[State 1051, ModifyExplod]
Type = ModifyExplod
Trigger1 = time = [0,13]
id = 12200
scale = var(17)*0.040, var(17)*0.040

[State 1051, ModifyExplod]
Type = ModifyExplod
Trigger1 = time = 20
id = 12200
scale = var(17)*0.040, var(17)*0.040
pos = 26, -56
Postype = p1

[State 1051, DDisc.Helper]
type = Helper
trigger1 = Time = 22
name = "KiBlast"
stateno = 12201
postype = p1
pos = 48, -46
keyctrl = 0
ownpal = 1
id = 12201
size.xscale = var(17)*0.040
size.yscale = var(17)*0.040

[State 1051, Sound]
type = PlaySnd
trigger1 = time = 15
value = 1051,0
volume = -100

[State 1051, End]
type = ChangeState
trigger1 = animtime = 0 && power > 0
value = 0
ctrl = 1

[State 1051, Tired]
type = ChangeState
trigger1 = animtime = 0 && power <= 0
value = 5300
ctrl = 1
;---------------------------------------------------------------------------
;Destructo Disc High
[Statedef 1052]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
;anim = 1050

[State 1052, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1050

[State 1052, PowerAdd]
Type = PowerAdd
Trigger1 = time >= 1
value = -10

[State 1052, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1052, Sound]
type = PlaySnd
trigger1 = time = 1
value = 1050,0
volume = 100

[State 1052, Voice]
type = PlaySnd
triggerall = random < 500
trigger1 = time = 0
value = 1,1

[State 1052, VarSet]
Type = VarSet
Trigger1 = Time = 0 
v= 17
value = 1

[State 1052, VarAdd]
Type = VarAdd
Trigger1 = Time > 0 
v= 17
value = 1

[State 1052, DDisc.Charge]
type = Explod
trigger1 = time = 0
Anim = 12200
Pos = -25, -82
Id = 12200
sprpriority = 3
removeongethit = 1
removetime = 22
Postype = p1
SuperMove = 1
bindtime = -1
scale = var(17)*0.040, var(17)*0.040

[State 1052, ModifyExplod]
Type = ModifyExplod
Trigger1 = time = [0,13]
id = 12200
scale = var(17)*0.040, var(17)*0.040

[State 1052, ModifyExplod]
Type = ModifyExplod
Trigger1 = time = 20
id = 12200
scale = var(17)*0.040, var(17)*0.040
pos = 26, -53
Postype = p1

[State 1052, DDisc.Helper]
type = Helper
trigger1 = Time = 22
name = "KiBlast"
stateno = 12202
postype = p1
pos = 48, -41
keyctrl = 0
ownpal = 1
id = 12202
size.xscale = var(17)*0.040
size.yscale = var(17)*0.040

[State 1052, Sound]
type = PlaySnd
trigger1 = time = 15
value = 1051,0
volume = -100

[State 1052, End]
type = ChangeState
trigger1 = animtime = 0 && power > 0
value = 0
ctrl = 1

[State 1052, Tired]
type = ChangeState
trigger1 = animtime = 0 && power <= 0
value = 5300
ctrl = 1
;---------------------------------------------------------------------------
;Butt Stomp :3
[Statedef 1200]
type    = A     
movetype= A     
physics = N     
juggle  = 0     
velset = 0,0
ctrl = 0  
sprpriority = 2
anim = 1200

[State 1200, Next]
type = ChangeState
trigger1 = animtime = 0
value = 1200
;---------------------------------------------------------------------------
;Butt Stomp Hoooooo!
[Statedef 1201]
type    = A     
movetype= A     
physics = A     
juggle  = 0     
velset = 0,0
ctrl = 0  
sprpriority = 2
anim = 1201

[State 1201, HitDef]
type = HitDef
trigger1 = time = 0
attr = A, SA
damage    = 50,10
hitflag = MAFD
guardflag = HA
pausetime = 9,10
sparkno = -1
sparkxy = 0,-33
hitsound   = S302,0
guard.sparkno = -1
guardsound = s500,0
animtype = Back
ground.type = High
ground.slidetime = 12
ground.hittime  = 23
ground.velocity = -4,-7.5   
air.velocity = -4,-7.5
fall = 1
fall.recover = 0
envshake.time = 5
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 3006, Hit Spark]
type = Helper
triggerall = numhelper(8000) = 0
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
helperType = Normal
stateNo = 8011;ifElse(MoveGuarded, 8001, 8014)
ID = 8000
name = "Spark"
posType = P1
pos = ifElse(P2Dist x < -64, -64, ifElse(P2Dist x < 64, ceil(P2Dist x), 64)), ceil(P2Dist y - 38)
facing = 1
ownPal = 1
size.xScale = .7
size.yScale = .7
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 1201, Next]
type = ChangeState
trigger1 = animtime = 0
value = 1202

;---------------------------------------------------------------------------
;Firey Angel Missle Start
[Statedef 1300]
type    = A     
movetype= A     
physics = N     
juggle  = 0     
velset = 0,0
ctrl = 0  
sprpriority = 2
anim = 1300

[State 1300, Voice]
type = PlaySnd
trigger1 = time = 1 && random < 150
value = 1, 2
volume = 255
channel = 0

[State 1300, Still]
type = VelSet
trigger1 = 1
y = 0
x = 0

[State 1300, FlameWhirl.Helper]
type = null;Helper
trigger1 = time = 0
name = "FlameWhirl"
stateno = 14041
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 14041
size.xscale = 0.5
size.yscale = 0.5

[State 1300, PinkWhirlWind.Helper]
type = Helper
trigger1 = time = 0
name = "FlameWhirl"
stateno = 15500
postype = p1
pos = 0, -25
keyctrl = 0
ownpal = 1
id = 15500
size.xscale = 0.3
size.yscale = 0.6

[State 1300, FireWings.Helper]
type = null;Helper
trigger1 = Time = 0
name = "FireWings"
stateno = 14106
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 14106
size.xscale = 0.25
size.yscale = 0.5

[State 1300, Next]
type = ChangeState
trigger1 = animtime = 0
value = 1301

;---------------------------------------------------------------------------
;Firey Angel Missle Hitdef
[Statedef 1301]
type    = A     
movetype= A     
physics = N     
juggle  = 0     
velset = 0,0
ctrl = 0  
poweradd = 50
sprpriority = 2
anim = 1301

[State 1301, PushDown]
type = VelAdd
triggerall = pos y <= -2
trigger1 = command = "holddown" && vel y < 2
y = 0.2

[State 1301, PushUp]
type = VelAdd
trigger1 = command = "holdup" && vel y > -2
y = -0.2

[State 1301, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 1301, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 205, 0

[State 1301, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 52
length = 20
palinvertall = 0
palbright = 0,0,0
palcontrast = 110,50,100
paladd = 25,0,20
timegap = 1
framegap = 1
trans = Add

[State 1301, Go]
type = VelSet
trigger1 = time = 0
y = 0
x = 11

[State 1301, HitDef]
type = HitDef
trigger1 = time = 0
attr = A, SA
damage    = 50,10
hitflag = MAFD
guardflag = HA
pausetime = 9,10
sparkno = -1
sparkxy = var(52):=55,var(53):=-40
hitsound   = S303,0
guard.sparkno = -1
guardsound = s500,0
animtype = Back
ground.type = High
ground.slidetime = 12
ground.hittime  = 23
ground.velocity = -4,-7.5   
air.velocity = -4,-7.5
fall = 1
fall.recover = 0
envshake.time = 5
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 3006, Hit Spark]
type = Helper
triggerall = numhelper(8000) = 0
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
helperType = Normal
stateNo = 8011;ifElse(MoveGuarded, 8001, 8014)
ID = 8000
name = "Spark"
posType = P1
pos = ifElse(P2Dist x < -64, -64, ifElse(P2Dist x < 64, ceil(P2Dist x), 64)), ceil(P2Dist y - 38)
facing = 1
ownPal = 1
size.xScale = .7
size.yScale = .7
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 1301, GroundBorder]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 1301, Stop]
type = VelSet
trigger1 = animelem = 4
y = 0
x = 0

[State 1301, Next]
type = ChangeState
trigger1 = animtime = 0
trigger2 = (movecontact)
value = 1302
;---------------------------------------------------------------------------
;Firey Angel Missle Pause
[Statedef 1302]
type    = A     
movetype= A     
physics = A 
juggle  = 0     
velset = 0,0
ctrl = 0  
sprpriority = 2
anim = 1302

[State 1600, VarSet]
type = Varset
trigger1 = time = 0
fv = 19
value = 0.05

[State 1600, VarAdd]
type = Varadd
trigger1 = 1
fv = 19
value = 0.05

[State 1600, Flash]
type = null;Explod
trigger1 = time >= 0
Anim = 10100
Pos = 0, -35
Id = 10100
sprpriority = 3
removeongethit = 0
removetime = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = fvar(19), fvar(19)

[State 1301, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1302, Grounded]
type = PosSet
triggerall = 1
trigger1 = Pos Y >= 0
y = -1

[State 1302, VelSet]
type = VelSet
trigger1 = 1
y = 0
x = 0

[State 1303, Next]
type = ChangeState
trigger1 = animtime = 0
value = 1303
ctrl = 1
;---------------------------------------------------------------------------
;Firey Angel Missle Flip End
[Statedef 1303]
type    = A     
movetype= A     
physics = A 
juggle  = 0     
velset = 0,0
ctrl = 0  
sprpriority = 2
anim = 1303

[State 1301, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1303, Go]
type = VelSet
trigger1 = time = 0
y = -8
x = -3

[State 1303, Control]
type = CtrlSet
trigger1 = animelem = 10
value = 1

;[State 1303, Next]
;type = ChangeState
;trigger1 = animtime = 0
;value = 0
;ctrl = 1
;---------------------------------------------------------------------------
;Flip Fireball
[Statedef 1350]
type    = A
movetype= A
physics = A
poweradd= 0
ctrl = 0
;anim = 1000

[State 1350, Animation]
type = ChangeAnim
trigger1 = time = 0
value = 1350

;[State 1350, VelSetY]
;Type = VelSet
;Trigger1 = Time = 0 
;y = 0

[State 1350, Sound]
type = PlaySnd
trigger1 = time = 4
trigger2 = time > 4 && (command = "x" || command = "y" || command = "z")
value = 1000,0

[State 1350, Voice]
type = PlaySnd
trigger1 = Time = 1 && random > 500
value = 3, 9
channel = 0
volume = 255

[State 1350, Ring]
type = Explod
trigger1 = time = 4
trigger2 = time > 4 && (command = "x" || command = "y" || command = "z")
Anim = 12010
Pos = 21, -20
Id = 12010
sprpriority = 3
removeongethit = 1
removetime = 12
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.40, 0.40

[State 1350, VelAddY]
type = VelAdd
triggerall = vel y >= 1
trigger1 = time = 4 
trigger2 = time > 4 && (command = "x" || command = "y" || command = "z")
y = -1.5
x = -0.15

[State 1350, VelAddY]
type = VelAdd
triggerall = vel y < 1
trigger1 = time = 4 
trigger2 = time > 4 && (command = "x" || command = "y" || command = "z")
y = -1.3
x = -0.15

[State 1350, Ki.Helper]
type = Helper
trigger1 = time = 4
trigger2 = time > 4 && (command = "x" || command = "y" || command = "z")
name = "FireBall"
stateno = 12150
postype = p1
pos = 17, -20
keyctrl = 0
ownpal = 1
id = 12150
size.xscale = 0.50
size.yscale = 0.50

[State 1350, VarSet]
type = VarSet
trigger1 = time = 4
v = 15
value = 1

[State 1350, VarAdd]
type = VarAdd
trigger1 = time > 4 && (command = "x" || command = "y" || command = "z")
v = 15
value = 1

[State 1350, VarSet]
type = VarSet
trigger1 = time = 0
v = 14
value = 1

[State 1350, End]
type = ChangeState
trigger1 = var(14) <= 0
value = 1353
ctrl = 1

[State 1350, End2]
type = ChangeState
trigger1 = var(15) >= 9 && time > 4
value = 1351
ctrl = 1

[State 1350, VarAdd]
type = VarAdd
trigger1 = time > 4
v = 14
value = -1

[State 1350, VarSet]
type = VarSet
trigger1 = time = 4
trigger2 = time > 4 && (command = "x" || command = "y" || command = "z")
v = 14
value = 15
;---------------------------------------------------------------------------
;Flipping Power Fireball
[Statedef 1351]
type    = A
movetype= A
physics = A
poweradd= 0
ctrl = 0

[State 1351, Sound]
type = PlaySnd
trigger1 = time = 0
value = 1002,0
volume = 255

[State 1351, Ball]
type = Explod
trigger1 = time = 0
Anim = 12610
Pos = 26, -22
Id = 12610
sprpriority = 3
removeongethit = 1
;removetime = 12
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
scale = 0.50, 0.50

[State 1351, Animation]
type = ChangeAnim
trigger1 = time = 0
value = 1351

[State 1351, VelAddY]
type = VelAdd
trigger1 = time = 10 
y = -2.6
x = -0.5

[State 1351, Sound]
type = PlaySnd
trigger1 = time = 11
value = 1000,0

[State 1351, Voice]
type = PlaySnd
trigger1 = Time = 1 && random > 500
value = 3, 1
channel = 0
volume = 255

[State 1351, Ring]
type = Explod
trigger1 = time = 11
Anim = 12010
Pos = 21, -20
Id = 12010
sprpriority = 3
removeongethit = 1
removetime = 12
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.40, 0.40

[State 1351, Blast.Helper]
type = Helper
trigger1 = time = 11
name = "MegaFireBall"
stateno = 12500
postype = p1
pos = 19, -20
keyctrl = 0
ownpal = 1
id = 12500
size.xscale = 0.50
size.yscale = 0.50

[State 1351, End]
type = ChangeState
trigger1 = animtime = 0
value = 1353
ctrl = 1
;---------------------------------------------------------------------------
;Flip Fireball End
[Statedef 1353]
type    = A     
movetype= A     
physics = A 
juggle  = 0     
ctrl = 0  
sprpriority = 2
anim = 1303

[State 1301, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1303, Go]
type = VelAdd
trigger1 = !time
y = -1
x = -1
;---------------------------------------------------------------------------
; Flame Kick Weak
[Statedef 1400]
type    = S
movetype= A
physics = S
juggle  = 6
velset = 1,0     
ctrl = 0  
poweradd = 50
sprpriority = 2
;anim = 1400

[State 1400, AfterImage]
type = AfterImage
trigger1 = time = 5
time = 13
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 110,50,100
paladd = 25,0,20
timegap = 1
framegap = 1
trans = Add

[State 1400, PosSet-Ground]
type = PosSet
trigger1 = time = 6
y = -1

[State 1400, VelSetX2]
type = Velset
trigger1 = time > 6
x = 1.75

[State 1400, VelSetY]
type = Velset
trigger1 = time = 6
y = -7

[State 1400, StateTypeSet]
type = StateTypeSet
trigger1 = time = 6
statetype = A
physics = A

[State 1400, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1400

[State 1400, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 210, 0

[State 1400, Voice]
type = PlaySnd
trigger1 = Time = 1 && random > 600
value = 1, 0
channel = 0
volume = 255

[State 1400, FlameWhirl]
type = Explod
trigger1 = time = 5 && pos y >= -2
Anim = 14060
Pos = 17,0
Id = 14060
velocity = 0,0
sprpriority = 6
removeongethit = 0
;removetime = 9
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.6, 0.6

[State 1400, Flame]
type = Explod
trigger1 = time = 11
Anim = 14000
Pos = 85, -68
Id = 14000
sprpriority = 3
removeongethit = 1
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
scale = 1, 0.3

[State 1400, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Light
damage    = 60,15
guardflag = MA
pausetime = 13,15
sparkno = -1
sparkxy = var(52):= 80,var(53):=-60
hitsound   = S303,0
guard.sparkno = -1
guardsound = s500,0
ground.type = High
ground.slidetime = 16
ground.hittime  = 20
ground.velocity = -11,-7
air.velocity = -11,-7
air.fall = 1
envshake.time = 6
envshake.freq = 140
envshake.ampl = -3
envshake.phase = 90
palfx.time = 90
palfx.add = 100,50,0
palfx.sinadd = -150,-100,0,40
palfx.mul = 150,100,0
palfx.contrast = -30,-25,0
p2stateno = 95000

[State 3006, Hit Spark]
type = Helper
triggerall = numhelper(8000) = 0
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
helperType = Normal
stateNo = 8011;ifElse(MoveGuarded, 8001, 8014)
ID = 8000
name = "Spark"
posType = P1
pos = ifElse(P2Dist x < -64, -64, ifElse(P2Dist x < 64, ceil(P2Dist x), 64)), ceil(P2Dist y - 38)
facing = 1
ownPal = 1
size.xScale = .7
size.yScale = .7
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 1400, PosSet]
type = PosSet
trigger1 = time > 6 && pos y > 0
y = 0

[State 1400, HitSparks]
type = Helper
triggerall = numhelper(14010) = 0
trigger1 = movehit
name = "FlameSparks"
stateno = 14010
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 0
id = 14010
ignorehitpause = 1
supermovetime  = 9999
pausemovetime  = 9999
size.xscale = 1
size.yscale = 1

[State 1400, End]
type = ChangeState
trigger1 = pos y = 0 && time > 6
value = 0
ctrl = 1

[State 1400, CtrlSet]
type = CtrlSet
trigger1 = vel Y > 1
value = 1
;---------------------------------------------------------------------------
; Flame Kick Medium
[Statedef 1410]
type    = S
movetype= A
physics = S
juggle  = 6
velset = 1,0     
ctrl = 0  
poweradd = 55
sprpriority = 2
;anim = 1410

[State 1410, AfterImage]
type = AfterImage
trigger1 = time = 5
time = 17
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 110,50,100
paladd = 25,0,20
timegap = 1
framegap = 1
trans = Add

[State 1410, PosSet-Ground]
type = PosSet
trigger1 = time = 6
y = -1

[State 1410, VelSetX2]
type = Velset
trigger1 = time > 6
x = 1.75

[State 1410, VelSetY]
type = Velset
trigger1 = time = 6
y = -8.5

[State 1410, StateTypeSet]
type = StateTypeSet
trigger1 = time = 6
statetype = A
physics = A

[State 1410, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1400

[State 1410, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 210, 0

[State 1410, Voice]
type = PlaySnd
trigger1 = Time = 1 && random > 550
value = 1, 0
channel = 0
volume = 255

[State 1410, FlameWhirl]
type = Explod
trigger1 = time = 5 && pos y >= -2
Anim = 14060
Pos = 17,0
Id = 14060
velocity = 0,0
sprpriority = 6
removeongethit = 0
;removetime = 9
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.65, 0.65

[State 1400, Flame]
type = Explod
trigger1 = time = 11
Anim = 14000
Pos = 85, -68
Id = 14000
sprpriority = 3
removeongethit = 1
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
scale = 1, 0.3

[State 1410, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Light
damage    = 60,15
guardflag = MA
pausetime = 13,15
sparkno = -1
sparkxy = var(52):= 80,var(53):=-60
hitsound   = S303,0
guard.sparkno = -1
guardsound = s500,0
ground.type = High
ground.slidetime = 16
ground.hittime  = 20
ground.velocity = -11.5,-7.5
air.velocity = -11.5,-7.5
air.fall = 1
envshake.time = 6
envshake.freq = 140
envshake.ampl = -3
envshake.phase = 90
palfx.time = 90
palfx.add = 100,50,0
palfx.sinadd = -150,-100,0,30
palfx.mul = 150,100,0
palfx.contrast = -30,-25,0
p2stateno = 95000

[State 3006, Hit Spark]
type = Helper
triggerall = numhelper(8000) = 0
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
helperType = Normal
stateNo = 8011;ifElse(MoveGuarded, 8001, 8014)
ID = 8000
name = "Spark"
posType = P1
pos = ifElse(P2Dist x < -64, -64, ifElse(P2Dist x < 64, ceil(P2Dist x), 64)), ceil(P2Dist y - 38)
facing = 1
ownPal = 1
size.xScale = .7
size.yScale = .7
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 1410, PosSet]
type = PosSet
trigger1 = time > 6 && pos y > 0
y = 0

[State 1410, HitSparks]
type = Helper
triggerall = numhelper(14010) = 0
trigger1 = movehit
name = "FlameSparks"
stateno = 14010
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 0
id = 14010
ignorehitpause = 1
supermovetime  = 9999
pausemovetime  = 9999
size.xscale = 1
size.yscale = 1

[State 1410, End]
type = ChangeState
trigger1 = pos y = 0 && time > 6
value = 0
ctrl = 1

[State 1410, CtrlSet]
type = CtrlSet
trigger1 = vel Y > 1
value = 1
;---------------------------------------------------------------------------
; Flame Kick Strong
[Statedef 1420]
type    = S
movetype= A
physics = S
juggle  = 6
velset = 1,0     
ctrl = 0  
poweradd = 60
sprpriority = 2
;anim = 1420

[State 1420, AfterImage]
type = AfterImage
trigger1 = time = 5
time = 21
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 110,50,100
paladd = 25,0,20
timegap = 1
framegap = 1
trans = Add

[State 1420, PosSet-Ground]
type = PosSet
trigger1 = time = 6
y = -1

[State 1420, VelSetX2]
type = Velset
trigger1 = time > 6
x = 1.75

[State 1420, VelSetY]
type = Velset
trigger1 = time = 6
y = -10

[State 1420, StateTypeSet]
type = StateTypeSet
trigger1 = time = 6
statetype = A
physics = A

[State 1420, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1400

[State 1420, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 210, 0

[State 1420, Voice]
type = PlaySnd
trigger1 = Time = 1 && random > 500
value = 1, 0
channel = 0
volume = 255

[State 1420, FlameWhirl]
type = Explod
trigger1 = time = 5 && pos y >= -2
Anim = 14060
Pos = 17,0
Id = 14060
velocity = 0,0
sprpriority = 6
removeongethit = 0
;removetime = 9
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.7, 0.7

[State 1400, Flame]
type = Explod
trigger1 = time = 11
Anim = 14000
Pos = 85, -68
Id = 14000
sprpriority = 3
removeongethit = 1
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
scale = 1, 0.3

[State 1420, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Light
damage    = 60,15
guardflag = MA
pausetime = 13,15
sparkno = -1
sparkxy = var(52):= 80,var(53):=-60
hitsound   = S303,0
guard.sparkno = -1
guardsound = s500,0
ground.type = High
ground.slidetime = 16
ground.hittime  = 20
ground.velocity = -12,-8
air.velocity = -12,-8
air.fall = 1
envshake.time = 6
envshake.freq = 140
envshake.ampl = -3
envshake.phase = 90
palfx.time = 90
palfx.add = 100,50,0
palfx.sinadd = -150,-100,0,30
palfx.mul = 150,100,0
palfx.contrast = -30,-25,0
p2stateno = 95000

[State 3006, Hit Spark]
type = Helper
triggerall = numhelper(8000) = 0
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
helperType = Normal
stateNo = 8011;ifElse(MoveGuarded, 8001, 8014)
ID = 8000
name = "Spark"
posType = P1
pos = ifElse(P2Dist x < -64, -64, ifElse(P2Dist x < 64, ceil(P2Dist x), 64)), ceil(P2Dist y - 38)
facing = 1
ownPal = 1
size.xScale = .7
size.yScale = .7
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 1420, PosSet]
type = PosSet
trigger1 = time > 6 && pos y > 0
y = 0

[State 1420, HitSparks]
type = Helper
triggerall = numhelper(14010) = 0
trigger1 = movehit
name = "FlameSparks"
stateno = 14010
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 0
id = 14010
ignorehitpause = 1
supermovetime  = 9999
pausemovetime  = 9999
size.xscale = 1
size.yscale = 1

[State 1420, End]
type = ChangeState
trigger1 = pos y = 0 && time > 6
value = 0
ctrl = 1

[State 1420, CtrlSet]
type = CtrlSet
trigger1 = vel Y > 1
value = 1
;---------------------------------------------------------------------------
; Flame Knee Smash Chain
[Statedef 1430]
type    = A
movetype= A
physics = A
juggle  = 6
velset = 1,0     
ctrl = 0  
poweradd = 45
sprpriority = 2
anim = 1430

[State 1430, AfterImage]
type = AfterImage
trigger1 = time = 4
time = 18
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 110,50,100
paladd = 25,0,20
timegap = 1
framegap = 1
trans = Add

[State 1430, VelSetX2]
type = Velset
trigger1 = time > 4
x = 1.75

[State 1430, VelSetY]
type = Velset
trigger1 = time = 4
y = -9.0

[State 1430, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 210, 0

[State 1430, Voice]
type = PlaySnd
trigger1 = Time = 1 && random > 500
value = 1, 10
channel = 0
volume = 255

[State 1430, Flame]
type = Explod
trigger1 = time = 6
Anim = 14000
Pos = 53, -62
Id = 14000
sprpriority = 3
removeongethit = 1
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
scale = 0.5, 0.5

[State 1430, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Light
damage    = 60,15
guardflag = MA
pausetime = 13,15
sparkno = -1
sparkxy = -13,-78
hitsound   = S303,0
guard.sparkno = -1
guardsound = s500,0
ground.type = High
ground.slidetime = 16
ground.hittime  = 20
ground.velocity = -11.5,-7.5
air.velocity = -11.5,-7.5
air.fall = 1
envshake.time = 6
envshake.freq = 140
envshake.ampl = -3
envshake.phase = 90
palfx.time = 90
palfx.add = 100,50,0
palfx.sinadd = -150,-100,0,30
palfx.mul = 150,100,0
palfx.contrast = -30,-25,0
p2stateno = 95000

[State 3006, Hit Spark]
type = Helper
triggerall = numhelper(8000) = 0
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
helperType = Normal
stateNo = 8011;ifElse(MoveGuarded, 8001, 8014)
ID = 8000
name = "Spark"
posType = P1
pos = ifElse(P2Dist x < -64, -64, ifElse(P2Dist x < 64, ceil(P2Dist x), 64)), ceil(P2Dist y - 38)
facing = 1
ownPal = 1
size.xScale = .7
size.yScale = .7
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 1430, PosSet]
type = PosSet
trigger1 = time > 6 && pos y > 0
y = 0

[State 1430, HitSparks]
type = Helper
triggerall = numhelper(14010) = 0
trigger1 = movehit
name = "FlameSparks"
stateno = 14010
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 0
id = 14010
ignorehitpause = 1
supermovetime  = 9999
pausemovetime  = 9999
size.xscale = 1
size.yscale = 1

[State 1430, End]
type = ChangeState
trigger1 = pos y = 0 && time > 6
value = 0
ctrl = 1

[State 1430, CtrlSet]
type = CtrlSet
trigger1 = vel Y > 1
value = 1
;---------------------------------------------------------------------------
;Angel Sword Kick Start
[Statedef 1450]
type    = A     
movetype= A     
physics = A     
juggle  = 0     
velset = 0,0
ctrl = 0  
sprpriority = 2
anim = 1450

[State 1450, VarSet]
type = VarSet
trigger1 = !time
v = 27
value = 0

[State 1450, VarSet]
type = VarRandom
trigger1 = time=1
v = 27
range = 1,4

[State 1450, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 1450, 0

[State 1450, Voice]
type = PlaySnd
trigger1 = Time = 2 && var(27) = 1
value = 3, 5
channel = 0
volume = 255

[State 1450, Voice]
type = PlaySnd
trigger1 = Time = 2 && var(27) = 2
value = 1, 3
channel = 0
volume = 255

[State 1450, FlameSwirl]
type = Explod
trigger1 = time = 0
Anim = 14040
Pos = 1, -25
Id = 14040
sprpriority = 3
removeongethit = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.25, 0.25

[State 1450, Still]
type = VelSet
trigger1 = 1
y = 0
x = 0

[State 1450, 6]
type = ChangeState
trigger1 = animtime = 0
value = 1451

;---------------------------------------------------------------------------
;Angel Sword Kick Dive/Hitdef
[Statedef 1451]
type    = A     
movetype= A     
physics = N     
juggle  = 0     
velset = 0,0
ctrl = 0  
poweradd = 50
sprpriority = 2
anim = 1451

[State 1451, FireWings.Helper]
type = Helper
trigger1 = Time = 0
name = "FireWings"
stateno = 14105
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 14105
size.xscale = 0.5
size.yscale = 0.5

[State 1451, FireFeet.Helper]
type = Helper
trigger1 = Time = 0
name = "Flameball"
stateno = 14030
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 14030
size.xscale = 0.5
size.yscale = 0.5

[State 1451, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1451, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 205, 0

[State 1450, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 1451, 0

[State 1451, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 60
length = 20
palinvertall = 0
palbright = 0,0,0
palcontrast = 110,50,100
paladd = 25,0,20
timegap = 1
framegap = 1
trans = Add

[State 1451, Go]
type = VelSet
trigger1 = time >= 0
y = 11
x = 11

[State 1451, HitDef]
type = HitDef
trigger1 = time = 0
attr = A, SA
damage    = 68,13
hitflag = MAFD
guardflag = HA
pausetime = 6,12
sparkno = -1
sparkxy = -9,-9
hitsound   = S303,0
guard.sparkno = -1
guardsound = s500,0
animtype = Back
ground.type = High
ground.slidetime = 12
ground.hittime  = 23
ground.velocity = -5,5   
air.velocity = -5,5
fall = 1
fall.recover = 0
palfx.time = 90
palfx.add = 100,50,0
palfx.sinadd = -150,-100,0,30
palfx.mul = 150,100,0
palfx.contrast = -30,-25,0
envshake.time = 5
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 3006, Hit Spark]
type = Helper
triggerall = numhelper(8000) = 0
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
helperType = Normal
stateNo = 8011;ifElse(MoveGuarded, 8001, 8014)
ID = 8000
name = "Spark"
posType = P1
pos = ifElse(P2Dist x < -64, -64, ifElse(P2Dist x < 64, ceil(P2Dist x), 64)), ceil(P2Dist y - 38)
facing = 1
ownPal = 1
size.xScale = .7
size.yScale = .7
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 1451, FlameSparks]
type = Helper
triggerall = numhelper(14010) = 0
trigger1 = movehit
name = "FlameSparks"
stateno = 14010
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 0
id = 14010
size.xscale = 1
size.yscale = 1

[State 1451, GroundBorder]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 1451, Next]
type = ChangeState
trigger1 = Pos Y = 0
value = 1452
;---------------------------------------------------------------------------
; Angel Sword Kick End
[Statedef 1452]
type    = S
movetype= A
physics = S
juggle  = 5
velset = 1,0     
ctrl = 0  
poweradd = 0
sprpriority = 2
anim = 1452

[State 1451, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 40, 1

[State 1451, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 1452, 0

[State 1451, Voice]
type = PlaySnd
trigger1 = Time = 1 && random > 750
value = 1, 11
channel = 0
volume = 255

[State 1452, FlameWave]
type = Explod
trigger1 = time = 0
Anim = 14050
Pos = 15, 3
velocity = 1,0
Id = 14050
sprpriority = 3
removeongethit = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.35, 0.35

[State 1452, AfterImage]
type = AfterImage
trigger1 = time = 10
time = 0
length = 1
palinvertall = 0
palbright = 0,0,0
palcontrast = 128,128,128
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 1452, Next]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Sliding Fire Sweep Start
[Statedef 1500]
type    = C
movetype= A
physics = C
juggle = 0
poweradd= 0
ctrl = 0
sprpriority = 2
anim = 1500

[State 1500, Voice]
type = PlaySnd
trigger1 = Time = 0 && random < 350
value = 3, 0
channel = 0

[State 1500, VarSet]
type = VarSet
trigger1 = Time = 0
v = 22
value = 0

[State 1500, VarAdd]
type = VarAdd
trigger1 = Time = [13,26]
v = 22
value = 1

[State 1500, Sound]
type = PlaySnd
trigger1 = Time = 13
value = 1501, 0

[State 1500, Aura]
type = Explod
trigger1 = time = 12
Anim = 15511
Pos = 0, 0
velocity = 0,0
Id = 15510
sprpriority = 0
removeongethit = 1
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
scale = 1, 1
trans = add
pal.contrast = 110,50,100
pal.add = 25,0,20

[State 1500, ModifyAura]
type = ModifyExplod
trigger1 = time > 12
Id = 15510
scale = 1+(var(22)*0.01),1+(Var(22)*0.01)

[State 1500, End]
type = ChangeState
trigger1 = (Time >= 12 && (command != "hold_a" && command != "hold_b" && command != "hold_c")) 
trigger2 = time = 26
value = 1501
ctrl = 1
;---------------------------------------------------------------------------
;Sliding Fire Sweep Kick
[Statedef 1501]
type    = C
movetype= A
physics = C
juggle = 7
poweradd= 40
ctrl = 0
sprpriority = 2
anim = 1501

[State 1501, RemoveAura]
type = RemoveExplod
trigger1 = time = 0
Id = 15510

[State 1501, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 1500, 0

[State 440, Voice]
type = PlaySnd
trigger1 = time = 10 && random < 150
value = 1, 9
volume = 255
channel = 0

[State 1501, Wind]
type = Explod
trigger1 = time = 0
Anim = 15161
Pos = 53, 6
velocity = 0,0
Id = 15161
sprpriority = 4
removeongethit = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.35, 0.35

[State 1501, FlameWhirl.Helper]
type = Helper
trigger1 = time = 0
name = "FireBall"
stateno = 14040
postype = p1
pos = 32, -4
keyctrl = 0
ownpal = 1
id = 14040
size.xscale = 0.25
size.yscale = 0.25

[State 1501, Posadd]
type = Posadd
trigger1 = time = 0
x = 11.0

[State 1501, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 202, 0

[State 1501, VelSet]
type = Velset
trigger1 = time = [0,8]
x = 6.0 + Var(22)*0.45

[State 1501, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 22
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 110,50,100
paladd = 25,0,20
timegap = 1
framegap = 1
trans = Add

[State 1501, HitDef]
type = HitDef
trigger1 = Time = 0
attr = C, SA
damage    = 40
animtype  = Hard
hitflag = MAFD
guardflag = L
pausetime = 8,11
sparkno = -1
sparkxy = var(52):= 60,var(53):=-5
hitsound   = S303,0
guard.sparkno = -1
guardsound = s500,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -4,-2
air.velocity = -4,-2
down.velocity = -5,0
down.hittime = 20
fall = 1
fall.recover = 0
palfx.time = 60
palfx.add = 100,50,0
palfx.sinadd = -150,-100,0,40
palfx.mul = 150,100,0
palfx.contrast = -30,-25,0

[State 1501, Hit_Particle.Helper]
type = Helper
trigger1 = movehit = 1 && numhelper(11052) < 5 
name = "Hit Particles"
stateno = 11050
postype = p2
pos = floor(target, const(size.ground.front))-20, floor(-(target, pos Y)+(pos Y))-8
keyctrl = 0
ownpal = 1
id = 11052
ignorehitpause = 1
supermovetime  = 9999
pausemovetime  = 9999
size.xscale = 1
size.yscale = 1

[State 1400, HitSparks]
type = Helper
triggerall = numhelper(14010) = 0
trigger1 = movehit
name = "FlameSparks"
stateno = 14010
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 0
id = 14010
size.xscale = 1
size.yscale = 1

[State 1501, Posadd]
type = Posadd
trigger1 = animelem = 3
x = 12.0

[State 1501, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 1502
ctrl = 1
;---------------------------------------------------------------------------
;Sliding Fire Sweep Roll
[Statedef 1502]
type    = C
movetype= A
physics = C
juggle = 0
poweradd= 0
ctrl = 0
sprpriority = 2
anim = 1502

[State 1502, VelSet]
type = Velset
trigger1 = time = [0,9]
x = 4.0

[State 1502, VelSet]
type = Velset
trigger1 = animelem = 4
x = 0

[State 1502, AfterImage]
type = AfterImage
trigger1 = animelem = 5
time = 6
length = 12
palinvertall = 0
palbright = 0,0,0
palcontrast = 110,50,100
paladd = 25,0,20
timegap = 1
framegap = 1
trans = Add

[State 1502, VelSet]
type = Velset
trigger1 = animelem = 5
x = 4.0

[State 1502, VelSet]
type = Velset
trigger1 = animelem = 6
x = 0

[State 1502, Sound]
type = PlaySnd
trigger1 = animelem = 6
value = 40, 1

[State 1502, Posadd]
type = Posadd
trigger1 = animelem = 4
x = 9.0

[State 1502, Posadd]
type = Posadd
trigger1 = animelem = 7
x = 20.0

[State 1502, HitDef]
type = HitDef
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
attr = C, SA
damage    = 5
animtype  = Hard
hitflag = MAFD
guardflag = L
pausetime = 4,4
sparkno = -1
sparkxy = var(52):= 60,var(53):=-5
hitsound   = S301,0
guard.sparkno = -1
guardsound = s500,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -3,-1
air.velocity = -3,-1
down.velocity = -3,0
down.hittime = 20

[State 1502, HitDef]
type = HitDef
trigger1 = animelem = 5
attr = C, SA
damage    = 30
animtype  = Hard
hitflag = MAFD
guardflag = L
pausetime = 8,11
sparkno = -1
sparkxy = -20,-30
hitsound   = S302,0
guard.sparkno = -1
guardsound = s500,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -6,-3
air.velocity = -6,-3
down.velocity = -5,0
down.hittime = 20

[State 1502, SlashEffect1]
type = Explod
trigger1 = animelem = 1
Anim = 12625
Pos = 10, -12
Id = 12625
sprpriority = 4
removeongethit = 1
;removetime = 28
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal =1
scale = 0.4,0.4

[State 1502, Dust1]
type = Explod
trigger1 = animelem = 6
Anim = 15013
Pos = -3, 0
Id = 15013
sprpriority = -1
removeongethit = 0
;removetime = 28
Postype = p1
;Bindtime = -1
SuperMove = 1
ownpal =1
scale = 0.15,0.15

[State 1502, Dust2]
type = Explod
trigger1 = animelem = 6
Anim = 15014
Pos = 38, 0
Id = 15014
sprpriority = -1
removeongethit = 0
;removetime = 28
Postype = p1
;Bindtime = -1
SuperMove = 1
ownpal =1
scale = 0.15,0.15

[State 1502, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------
; Bewbs
[Statedef 1600]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = ifelse(palno!=2,1600,1601)

[State 1600, VarSet]
type = Varset
trigger1 = time = 0
fv = 19
value = 0.2

[State 1600, VarAdd]
type = Varadd
trigger1 = time >= 62 && fvar(19) < 5
fv = 19
value = 0.2

[State 1600, Sound]
type = PlaySnd
trigger1 = time = 60
value = 1600, 0

[State 1600, Voice1]
type = PlaySnd
trigger1 = time = 15
value = 5, 1
volume = 255
channel = 0

[State 1600, Voice2]
type = PlaySnd
trigger1 = time = 115
value = 7, 4
volume = 255
channel = 0

[State 1600, Flash]
type = Explod
trigger1 = time = [61,124]
Anim = 13106
Pos = 3, -55
Id = 13106
sprpriority = 999
removeongethit = 1
removetime = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = fvar(19), (fvar(19)/1.5)

[State 1600, Flash2]
type = Explod
trigger1 = time = 125
Anim = 13107
Pos = 3, -55
Id = 13106
sprpriority = 999
removeongethit = 0
;removetime = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = fvar(19), (fvar(19)/1.5)

[State 1600, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = Light
damage    = 0
hitflag = MA
guardflag = MA
getpower = 0
pausetime = 0,200
guard.pausetime = 0,10
sparkno = -1
sparkxy = var(52):=70,var(53):=-600
guard.sparkno = -1
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -1
air.velocity = -1,0

[State 1600, Hearts]
type = Explod
trigger1 = movehit && time = 125
Anim = 16000
Pos = -5, -80
Id = 16000
sprpriority = 5
removeongethit = 1
;removetime = 1
Postype = p2
Bindtime = -1
SuperMove = 1
ownpal = 1

[State 1600, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------
; Charge Power Start
[Statedef 1700]
type = S
physics = S
velset = 0,0
ctrl = 0
anim = 1700

[State 1700, Ring]
type = Explod
triggerall = pos y = 0
trigger1 = time = 2
Anim = 10010
Pos = -11, 4
Id = 10010
sprpriority = -2
removeongethit = 0
removetime = 10
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.85, 0.85

[State 1700, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1700, Limit]
type = null;ChangeState
trigger1 = Power >= 3000
value = 0
ctrl = 1

[State 1700, Next]
type = ChangeState
trigger1 = AnimTime = 0
value = 1701
ctrl = 1
;-------------------------------------------------------------------------
; Charge Power Charging
[Statedef 1701]
type = S
movetype= I
physics = N
ctrl = 0
velset = 0,0

[State 1701, BackDust]
type = Explod
triggerall = pos y = 0
trigger1 = time = 0
Anim = 15000
Pos = -50, 0
Id = 15000
sprpriority = -1
removeongethit = 0
removetime = 28
Postype = p1
;Bindtime = -1
SuperMove = 1
ownpal = 1
velocity = -2,0

[State 1701, FwdDust]
type = Explod
triggerall = pos y = 0
trigger1 = time = 0
Anim = 15001
Pos = 50, 0
Id = 15001
sprpriority = -1
removeongethit = 0
removetime = 28
Postype = p1
;Bindtime = -1
SuperMove = 1
ownpal = 1
velocity = 2, 0

[State 1701, PushBack.Helper]
type = Helper
trigger1 = Time = 0
trigger2 = Time = 5
trigger3 = Time = 10
name = "PushBack"
stateno = 12651
postype = p1
pos = -10, 0
keyctrl = 0
ownpal = 1
id = 12651

[State 1701, PushStill.Helper]
type = Helper
trigger1 = Time = 0
trigger2 = Time = 5
trigger3 = Time = 10
name = "PushStill"
stateno = 12652
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 12652

[State 1701, PushFwd.Helper]
type = Helper
trigger1 = Time = 0
trigger2 = Time = 5
trigger3 = Time = 10
name = "PushFwd"
stateno = 12650
postype = p1
pos = 10, 0
keyctrl = 0
ownpal = 1
id = 12650

[State 1701, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1701

[State 1701, Voice]
type = PlaySnd
trigger1 = Time = 1
value = 1, 8

[State 1701, PlaySND]
type = PlaySnd
trigger1 = Time = 1
value = 1700, 0

[State 1701, Aura]
type = Explod
trigger1 = timemod = 12,0
Anim = 10000
Pos = -6,6
Id = 10000
sprpriority = 2
removeongethit = 1
removetime = 12
bindtime = -1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.9, 0.9

[State 1701, Ring]
type = Explod
triggerall = pos y = 0
trigger1 = timemod = 12,0
Anim = 10010
Pos = -6, 1
Id = 10010
sprpriority = -2
removeongethit = 0
removetime = 12
Postype = p1
Bindtime = 12
SuperMove = 1
ownpal = 1
scale = 0.85, 0.85

[State 1701, ElecA]
type = Explod
trigger1 = timemod = 100,0
Anim = 10020
Pos = -11,-8
Id = 10020
sprpriority = 3
removeongethit = 1
removetime = 18
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 1, 1

[State 1701, ElecB]
type = Explod
trigger1 = timemod = 100,20
Anim = 10021
Pos = -35,-60
Id = 10021
velocity = 0,-0.02
sprpriority = 3
removeongethit = 1
removetime = 14
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.8, 0.8

[State 1701, ElecC]
type = Explod
trigger1 = timemod = 100,40
Anim = 10022
Pos = -38,-70
Id = 10022
sprpriority = 3
removeongethit = 1
removetime = 20
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.9, 0.9

[State 1701, ElecD]
type = Explod
trigger1 = timemod = 100,60
Anim = 10023
Pos = -40,-16
Id = 10023
sprpriority = 3
removeongethit = 1
removetime = 18
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.9, 0.9

[State 1701, ElecE]
type = Explod
trigger1 = timemod = 100,80
Anim = 10024
Pos = 10,-36
Id = 10024
velocity = 0,0.02
sprpriority = 3
removeongethit = 1
removetime = 14
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.8, 0.8

[State 1701, AuraSND]
type = PlaySnd
trigger1 = TimeMod = 26,0
value = 1700,1

[state 1701, ColorFX]
type = PalFX
trigger1 = Time > 0
trigger1 = TimeMod = 9,0
time = 2
add = 64,64,64

[State 1701, VarSet]
type = Varset
trigger1 = time = 0
v = 10
value = 0

[State 1701, VarSet]
type = Varset
trigger1 = time = 0
v = 11
value = 0

[State 1701, VarSet]
type = Varset
trigger1 = Var(10) = -60
v = 11
value = 1

[State 1701, VarSet]
type = Varset
trigger1 = Var(10) = 0
v = 11
value = 0

[State 1701, VarAdd]
type = VarAdd
trigger1 = time >= 50 && Var(11) = 0
v = 10
value = -1

[State 1701, VarAdd]
type = VarAdd
trigger1 = time >= 50 && Var(11) = 1
v = 10
value = 1

[state 1701, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(10),Var(10),Var(10)

[State 1701, Shake]
type = EnvShake
trigger1 = time >= 100
trigger1 = Timemod = 8,0
Time = 8
freq = 60
ampl = -2
phase = 0

[State 1701, PowerAdd]
type = PowerAdd
trigger1 = Time > 0
value = 6

[State 1701, LifeAdd]
type = LifeAdd
triggerall = power < 3000
trigger1 = TimeMod = 10,0
value = 1

[State 1701, LifeAdd]
type = LifeAdd
triggerall = power >= 3000
trigger1 = TimeMod = 7,0
value = 1

[State 1701, RemoveAura]
Type = RemoveExplod
trigger1 = stateno != 1701
ID = 9060

[State 1701, Limit]
type = ChangeState
trigger1 = Power >= 3000
value = 1702
ctrl = 1

[State 1701, Stop.Next]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = command != "hold_a" && command != "hold_b"
value = 1702
ctrl = 0
;-------------------------------------------------------------------------
; Charge Power Over
[Statedef 1702]
type = S
movetype= I
physics = N
ctrl = 0
velset = 0,0

[State 1702, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1702

[State 1702, RemoveAura]
Type = RemoveExplod
trigger1 = AnimElem = 1
ID = 10000

[State 1701, Voice]
type = PlaySnd
trigger1 = Time = 0 && power >= 3000 && random < 333
value = 1,9

[State 1701, PlaySND]
type = PlaySnd
trigger1 = Time = 0 && power >= 3000
value = 1702,0

[State 1702, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Energy Wave Charge
[Statedef 1800]
type    = S
movetype= A
physics = S
poweradd= -1000
ctrl = 0
velset = 0
anim = 1800

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time= 0
value = S1800,0
channel = 2

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,AP
slot = 0
stateno = 3517
time = 1
forceair = 0

[State 3000, SuperPause]
type = SuperPause
trigger1 = animelem = 1
time = 40
movetime = 0
anim = -1
sound = -1
darken = 0

[State 3100: EnvShake]
type   = EnvShake
trigger1   = time > 5 && ((GameTime%10) = 0)
time   = 50
freq   = 120
ampl   = -2
phase   = 50

[State 0, VarSet]
type = VarSet
trigger1 = !time
v = 21   ;fv = 10
value = -10

[State 0, VarSet]
type = VarSet
trigger1 = !time
v = 22   ;fv = 10
value = -45

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "Super-Charge"
ID = 6800
stateno = 6800
pos = 0,-95
size.yscale = 1
size.xscale = 1
postype = p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999

[State 12610, Ball]
type = Explod
trigger1 = time = 0
Anim = 12410
Pos = 0, -95
Id = 12410
sprpriority = 3
removeongethit = 1
;removetime = 12
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.35, 0.35

[State 1800, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 28
anim = S12411
sound = S1800,0
pos = -26,-58
darken = 0
unhittable = 1

[State 1800, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1800, Voice]
type = PlaySnd
trigger1 = time = 0
value = 3,13
volume = 255

[State 1800, SuperPic.Helper]
type = Helper
trigger1 = time = 0
name = "SuperPic"
stateno = 19000
id = 19000
pos = 0,0
postype = p1
ownpal = 1
sprpriority = 0
supermovetime  = 9999
pausemovetime  = 9999
persistent = 0
ignorehitpause = 1

[State 1800, BlackFade]
type = Explod
trigger1 = time = 0
Anim = 19001
Pos = -50, -50
Id = 19001
sprpriority = -99999999
removeongethit = 1
Postype = left
Bindtime = 1
ownpal = 1
supermovetime  = 9999
pausemovetime  = 9999
persistent = 0
ignorehitpause = 1
scale = 2, 2

[State 1800, End]
type = ChangeState
trigger1 = Time = 14 
value = 1801
ctrl = 1
;---------------------------------------------------------------------------
;Energy Wave Shoot/End
[Statedef 1801]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
sprpriority = 0
anim = 1801

[State 1501, Wind]
type = Explod
trigger1 = time = 1
Anim = 15161
Pos = 50, 0
velocity = 0,0
Id = 15161
sprpriority = 4
removeongethit = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.6, 0.6

[State 1501, Wind]
type = Explod
trigger1 = time = 1
Anim = 7050
Pos = 90, -45
velocity = 0,0
Id = 15161
sprpriority = 4
removeongethit = 1
Postype = p1
Bindtime = 50
SuperMove = 1
ownpal = 1
scale = 0.5, 0.5

[State 1801, Sound]
type = PlaySnd
trigger1 = time = 0
value = 1900,0
volume = 255

[State 1801, Shake]
type = EnvShake
trigger1 = time = 0
Time = 18

[State 1801, EnergyWave.Helper]
type = Helper
trigger1 = Time = 1
name = "EnergyWave"
stateno = 12400
postype = p1
pos = 43, -47
keyctrl = 0
ownpal = 1
id = 12400
size.xscale = 1
size.yscale = 0.5

[State 1801, Tired]
type = ChangeState
trigger1 = AnimTime = 0 && power = 0
value = 5300
ctrl = 1

[State 1801, ScreenBound]
type = ScreenBound
trigger1 = 1
movecamera = -1,-1
value	= 1

[State 1801, End]
type = ChangeState
trigger1 = Time = 53
value	= 0
ctrl = 1
;---------------------------------------------------------------------------
;Hyper Hand Blast Chain
[Statedef 1805]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0
;anim = 1800

[State 1805, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1800

[State 1805, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 20
anim = S12300
sound = S1800,0
pos = -46,-60
darken = 1
unhittable = 1

[State 1805, PowerAdd]
Type = PowerAdd
Trigger1 = time = 1
value = -1000

[State 1805, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1805, VarSet]
type = Varset
trigger1 = time = 0
v = 13
value = 0

[State 1805, VarSet.UP]
type = Varset
trigger1 = time >= 1 && command = "holdup"
v = 13
value = 1

[State 1805, VarSet.DWN]
type = Varset
trigger1 = time >= 1 && command = "holddown"
v = 13
value = 2

[State 1805, End]
type = ChangeState
trigger1 = Time = 2 
value = 1801
ctrl = 1

;---------------------------------------------------------------------------
;Death Beam Charge
[Statedef 1810]
type    = S
movetype= A
physics = S
poweradd= -1000
ctrl = 0
velset = 0
anim = 1810

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time= 0
value = S1800,0
channel = 2

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,AP
slot = 0
stateno = 3517
time = 1
forceair = 0

[State 3000, SuperPause]
type = SuperPause
trigger1 = animelem = 1
time = 40
movetime = 0
anim = -1
sound = -1
darken = 0

[State 3100: EnvShake]
type   = EnvShake
trigger1   = time > 5 && ((GameTime%10) = 0)
time   = 50
freq   = 120
ampl   = -2
phase   = 50

[State 0, VarSet]
type = VarSet
trigger1 = !time
v = 21   ;fv = 10
value = -10

[State 0, VarSet]
type = VarSet
trigger1 = !time
v = 22   ;fv = 10
value = -45

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "Super-Charge"
ID = 6800
stateno = 6800
pos = 45,-59
size.yscale = 1
size.xscale = 1
postype = p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999


[State 12610, Ball]
type = Explod
trigger1 = time = 0
Anim = 12610
Pos = 47, -61
Id = 12410
sprpriority = 3
removeongethit = 1
;removetime = 12
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 1, 1

[State 1800, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 28
anim = S12411
sound = S1800,0
pos = -26,-58
darken = 0
unhittable = 1

[State 1800, VelSetY]
Type = VelSet
Trigger1 = Time = 0
y = 0

[State 1800, Voice]
type = PlaySnd
trigger1 = time = 0
value = 3,9
volume = 255


[State 1800, BlackFade]
type = Explod
trigger1 = time = 0
Anim = 19001
Pos = -50, -50
Id = 19001
sprpriority = -99999999
removeongethit = 1
Postype = left
Bindtime = 1
ownpal = 1
supermovetime  = 9999
pausemovetime  = 9999
persistent = 0
ignorehitpause = 1
scale = 2, 2

[State 1800, End]
type = ChangeState
trigger1 = Time = 14
value = 1820
ctrl = 1
;---------------------------------------------------------------------------
;Death Beam Shoot/End
[Statedef 1820]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
sprpriority = 0
anim = 1820



[State 1501, Wind]
type = Explod
trigger1 = time = 1
Anim = 15161
Pos = 50, 0
velocity = 0,0
Id = 15161
sprpriority = 4
removeongethit = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.6, 0.6

[State 1801, Sound]
type = PlaySnd
trigger1 = time = 0
value = 1900,1
volume = 255


[State 1801, Shake]
type = EnvShake
trigger1 = time = 0
Time = 18

[State 1801, EnergyWave.Helper]
type = Helper
trigger1 = Time = 1
name = "EnergyWave"
stateno = 1830
postype = p1
pos = 35, -60
keyctrl = 0
ownpal = 1
id = 12400
size.xscale = 0.7
size.yscale = 0.3

[State 1801, Tired]
type = ChangeState
trigger1 = AnimTime = 0 && power = 0
value = 5300
ctrl = 1

[State 1801, ScreenBound]
type = ScreenBound
trigger1 = 1
movecamera = -1,-1
value	= 1

[State 1801, End]
type = ChangeState
trigger1 = Time = 53
value	= 0
ctrl = 1

;---------------------------------------------------------------------------
;Death Beam- helper
[StateDef 1830]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 1830
ctrl = 0
sprpriority = 4

[State 12600, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 35,-60

[State 12400, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 12400, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
supermovetime = 9999
pausemovetime = 9999

[State 12400, Explosion]
type = HitDef
trigger1 = timemod = 3,0
attr = S, HP
animtype  = Heavy
Damage = 22,5
guardflag = MAFD
guardflag = MA
pausetime = 0,10
sparkno = -1
sparkxy = 0,0
hitsound   = -1
guard.sparkno = -1
guardsound = -1
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -25, -4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -25, -4
fall = 1
fall.recover = 1
kill = 1
guard.kill = 1

[State 12400, Explosion.Helper]
type = null;Helper
trigger1 = movecontact && numhelper(12101) = 0
name = "Explosion"
stateno = 12101
postype = p2
pos = 0, -60
keyctrl = 0
ownpal = 1
id = 12101

[State 12400, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodydist < -1 && BackEdgeBodydist > -30)
movecamera = 0,0
value	= 0

[State 12400, DestroySelf]
type = DestroySelf
Trigger1                = Parent, stateno != 1820
trigger2 = animtime = 0
;--------------------------------------------------------------------------
;Searcher-ki-Bomb
[Statedef 1850]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 1850

[State 12610, Ball]
type = Explod
trigger1 = time = 20
Anim = 1865
Pos = -27, -95
Id = 12410
sprpriority = -1
removeongethit = 1
;removetime = 12
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.35, 0.35
removetime = 130

[State 12610, Ball]
type = Explod
trigger1 = time = 48
Anim = 10100
Pos = -10, -45
Id = 12410
sprpriority = 5
removeongethit = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.7, 0.7
removetime = 100

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = Time = 40
time = 120
add = 0,-200,0
mul = 256,256,256
sinadd = 40,80,40,10
invertall = 0
color = 0
;ignorehitpause = 0
;persistent = 1

[State 0, Helper]
type = Helper
trigger1 = Time = 18
helpertype = normal
name = "Defenza"
ID = 6001
stateno = 6001
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1



[State 1801, Searcher ki bomb.Helper]
type = Helper
trigger1 = Time = 50
name = "Searcher ki bomb"
stateno = 1860
postype = p1
pos = -30, -112
keyctrl = 0
ownpal = 1
id = 12400
size.xscale = .7
size.yscale = .7

[State 12610, Ball]
type = Explod
trigger1 = time = 40
Anim = 15160
Pos = 45, 0
Id = 12410
sprpriority = 1
removeongethit = 1
;removetime = 12
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
facing = -1
scale = 1, 1
removetime = 18

[State 12610, Ball]
type = Explod
trigger1 = time = 40
Anim = 15160
Pos = -45, 0
Id = 12410
sprpriority = 1
removeongethit = 1
;removetime = 12
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
facing = 1
scale = 1, 1
removetime = 18

[State 3500, Explod Ki bomb]
type = Explod
trigger1 =  time = 100
anim = 1861
ID = 1861
pos = 0, -60
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 45
SuperMove = 1
scale = 1, 1
sprpriority = 3
ownpal = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 3500, Explod Ki bomb]
type = Explod
trigger1 =  time = 145
anim = 1862
ID = 1862
pos = 0, -60
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 30
SuperMove = 1
scale = 1, 1
sprpriority = 3
ownpal = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time= 30
value = S1800,0
channel = 2

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,AP
slot = 0
stateno = 3517
time = 1
forceair = 0

[State 3000, SuperPause]
type = SuperPause
trigger1 = animelem = 30
time = 40
movetime = 0
anim = -1
sound = -1
darken = 0

[State 3100: EnvShake]
type   = EnvShake
trigger1   = time > 30 && ((GameTime%10) = 0)
time   = 50
freq   = 120
ampl   = -2
phase   = 50

[State 0, VarSet]
type = VarSet
trigger1 = !time
v = 21   ;fv = 10
value = -10

[State 0, VarSet]
type = VarSet
trigger1 = !time
v = 22   ;fv = 10
value = -45

[State 0, Helper]
type = Helper
trigger1 = time = 30
helpertype = normal ;player
name = "Super-Charge"
ID = 6800
stateno = 6800
pos = -25,-95
size.yscale = 1
size.xscale = 1
postype = p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999

[State 1800, VelSetY]
Type = VelSet
Trigger1 = Time = 0
y = 0

[State 1800, Voice]
type = PlaySnd
trigger1 = time = 30
value = 1900,2
volume = 255

[State 1800, BlackFade]
type = Explod
trigger1 = time = 30
Anim = 19001
Pos = -50, -50
Id = 19001
sprpriority = -99999999
removeongethit = 1
Postype = left
Bindtime = 1
ownpal = 1
supermovetime  = 9999
pausemovetime  = 9999
persistent = 0
ignorehitpause = 1
scale = 2, 2

[State 1800, End]
type = ChangeState
trigger1 = Time = 170
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Searcher-ki-Bomb- helper
[StateDef 1860]
type = A
physics = N
movetype = A
velset = 0, 0
poweradd = -1000
anim = 1860
ctrl = 0
sprpriority = -3

[State 12600, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = -30,-112

[State 12400, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 12400, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
supermovetime = 9999
pausemovetime = 9999

[State 12400, Explosion]
type = HitDef
trigger1 = timemod = 3,0
attr = S, HP
animtype  = Heavy
Damage = 14,5
guardflag = MAFD
guardflag = MA
pausetime = 0,10
sparkno = -1
sparkxy = 0,0
hitsound   = -1
guard.sparkno= -1
guardsound = -1
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = 0, -4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = 0, -4
fall = 1
fall.recover = 1
kill = 1
guard.kill = 1

[State 12400, Explosion.Helper]
type = null;Helper
trigger1 = movecontact && numhelper(12101) = 0
name = "Explosion"
stateno = 12101
postype = p2
pos = 0, -60
keyctrl = 0
ownpal = 1
id = 12101

[State 12400, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodydist < -1 && BackEdgeBodydist > -30)
movecamera = 0,0
value	= 0

[State 12400, DestroySelf]
type = DestroySelf
Trigger1                = Parent, stateno != 1850
trigger2 = time = 80
;---------------------------------------------------------------------------
;Zanzoken Forward Start
[Statedef 2900]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
facep2 = 1
poweradd = -100
anim = 2900

[State 2900, NoPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 2900, AfterImage]
type = AfterImage
trigger1 = animelem = 3
time = 9
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 110,50,100
paladd = 25,0,20
timegap = 1
framegap = 1
trans = Add

[State 2900, TeleportFwd]
type = VelSet
Trigger1 = AnimElem = 3
x = 26
y = 0

[State 2900, Border1]
type = PosSet
Trigger1 =  Pos Y > 0
y = 0

[State 2900, NoTurn]
type = AssertSpecial
trigger1 = 1 && animtime !=0
flag = noautoturn

[State 2900, PlaySND]
type = PlaySnd
Trigger1 = AnimElem = 2
value = 2900,0

[State 2900, KickDust]
type = Explod
triggerall = pos y = 0
trigger1 = animelem = 7
Anim = 15011
Pos = 25, 0
Id = 15011
sprpriority = 2
removeongethit = 0
;removetime = 26
Postype = p1
;Bindtime = -1
SuperMove = 1
ownpal = 1
scale = 0.2,0.2
velocity = 1,0

[State 2900, Next]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Zanzoken Back Start
[Statedef 2901]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
facep2 = 1
poweradd = -100
anim = 2901

[State 2901, NoPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 2901, AfterImage]
type = AfterImage
trigger1 = animelem = 3
time = 9
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 110,50,100
paladd = 25,0,20
timegap = 1
framegap = 1
trans = Add

[State 2901, TeleportFwd]
type = VelSet
Trigger1 = AnimElem = 3
x = -26
y = 0

[State 2901, Border1]
type = PosSet
Trigger1 =  Pos Y > 0
y = 0

[State 2901, NoTurn]
type = AssertSpecial
trigger1 = 1 && animtime !=0
flag = noautoturn

[State 2901, PlaySND]
type = PlaySnd
Trigger1 = AnimElem = 2
value = 2900,0

[State 2900, KickDust]
type = Explod
triggerall = pos y = 0
trigger1 = animelem = 7
Anim = 15010
Pos = -15, 0
Id = 15010
sprpriority = 2
removeongethit = 0
;removetime = 26
Postype = p1
;Bindtime = -1
SuperMove = 1
ownpal = 1
scale = 0.2,0.2
velocity = -1,0

[State 2901, Next]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Fly-Lift off
[Statedef 3000]
type = A
movetype = I
physics = A
juggle  = 7
velset = 0, -8, 0
poweradd= -25
ctrl = 0
;anim = 3000

[State 3000, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 3000

[State 3000, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 15
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,256,256
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 3000, PlaySND]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3100, 0

[State 3000, Next]
type = ChangeState
trigger1 = AnimTime = 0
value = 3100
ctrl = 1

;---------------------------------------------------------------------------
;-=This is what you get after launching the U.S.A. out of a cannon...(Get It!? Flying States!)=-
;Flying States
[Statedef 3100]
type = S
movetype = I
physics = N
ctrl = 0
velset = 0,0

[State 3100, FlightVarSet]
type = VarSet
trigger1 = 1
v = 20
value = 1

[State 3100, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 3100

[State 3100, VelSet]
type = VelSet
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
trigger1 = Var(3) = 0
trigger2 = Pos Y < -405
x = 0
y = 0

[State 3100, StillAnim]
type = ChangeAnim
trigger1 = command != "holdup"
trigger1 = command != "holddown"
trigger1 = Anim != 3100
value = 3100

[State 3100, VarSet]
type = VarSet
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
trigger1 = var(3) != 2
trigger2 = var(3) = 2
trigger2 = Vel Y >= 1.4
v = 3
value = 1

[State 3100, VarSet]
type = VarSet
trigger1 = Var(3) = 1
trigger1 = Vel Y <= -1.4
trigger2 = P2BodyDist Y > 405
trigger2 = Vel Y < 0
v = 3
value = 2

[State 3100, Up Velocity]
type = VelAdd
trigger1 = Var(3) = 1
y = -0.050

[State 3100, Down Velocity]
type = VelAdd
trigger1 = Var(3) = 2
y = 0.050

[State 3100,Stop Velocity]
type = VelSet
triggerall = Var(3) != 0
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
trigger3 = command = "holdup"
trigger4 = command = "holddown"
y = 0

[State 3100,VarReset]
type = VarSet
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
trigger3 = command = "holdup"
trigger4 = command = "holddown"
v = 3
value = 0

[State 3100, UpBorder]
type = PosSet
trigger1 = Pos Y < -405
y = -405

[State 3100, DownBordera]
type = PosAdd
trigger1 = P2BodyDist Y > 405
trigger1 = Vel Y < 0
y = 1

[State 3100, DownBorderb]
type = VelSet
trigger1 = P2BodyDist Y > 405
trigger1 = Vel Y < 0
y = 0

[State 3100, GoDown1]
type = VelAdd
trigger1 = (command = "holddown") || (var(39) = 1 && p2bodydist Y > -35)
y = 0.2

[State 3100,GoDown2]
type = VelSet
trigger1 = (command = "holddown" && Vel Y < 0)  || (var(39) = 1 && p2bodydist Y > -35 && Vel Y < 0)
y = 0

[State 3100, GoDownAnim]
type = ChangeAnim
trigger1 = (Anim != 3104 && command = "holddown") || (Anim != 3104 && var(39) = 1 && p2bodydist Y > -35)
value = 3104

[State 3100, GoUp1]
type = VelAdd
trigger1 = (command = "holdup") || (var(39) = 1 && p2bodydist Y < 35)
y = -0.1

[State 3100,GoUp2]
type = VelSet
trigger1 = (command = "holdup" && Vel Y > 0) || (var(39) = 1 && p2bodydist Y < 35 && Vel Y > 0)
y = 0

[State 3100, GoUpAnim]
type = ChangeAnim
trigger1 = (Anim != 3103 && command = "holdup") || (Anim != 3103 && var(39) = 1 && p2bodydist Y < 35)
value = 3103

[State 3100, GoBack1]
type = VelAdd
trigger1 = command = "holdback"
x = -0.14

[State 3100,GoBack2]
type = VelSet
trigger1 = command = "holdback" && Vel X > 0
x = 0

[State 3100, GoBackAnim]
type = ChangeAnim
trigger1 = Anim != 3102 && command = "holdback"
value = 3102

[State 3100, GoFwd1]
type = VelAdd
trigger1 = (command = "holdfwd") || (var(39) = 1 && p2bodydist X > 45)
x = 0.1

[State 3100,GoFwd2]
type = VelSet
trigger1 = (command = "holdfwd" && Vel X < 0) || (var(39) = 1 && p2bodydist X > 45 && Vel X < 0)
x = 0

[State 3100, GoFwdAnim]
type = ChangeAnim
trigger1 = (Anim != 3101 && command = "holdfwd") || (Anim != 3101 && var(39) = 1 && p2bodydist X > 45)
value = 3101

[State 3100,Turn]
type = Turn
trigger1 = P2dist X < 0

[State 3100,Land]
type = ChangeState
trigger1 = Pos Y >= 0
value = 50
ctrl = 1

[State 3100,End]
type = ChangeState
trigger1 = Time > 2
trigger1 = command = "fly"
value = 3105
ctrl = 1

[State 2000,WinALose]
type = ChangeState
trigger1 = Win = 1
trigger2 = Lose = 1
value = 3105

;---------------------------------------------------------------------------
;Fall from Flight
[Statedef 3105]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
;anim = 3105

[State 3105, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 3105

[State 3105, PlaySND]
type = PlaySnd
trigger1 = time = 1
value = 3000, 0

[State 3105, 3]
type = VelAdd
trigger1 = AnimElem = 1
trigger1 = AnimElem <= 2
x = -0.3

[State 3105, 3]
type = VelSet
trigger1 = AnimElem = 3
x = 0

[State 210, 3]
type = ChangeState
trigger1 = animtime = 1
value = 3106

;---------------------------------------------------------------------------
;Fall from flight2
[Statedef 3106]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0

[State 3106, 3]
type = PosSet
trigger1 = Vel Y = 0
y = 0

[State 3106, Anim]
type = ChangeAnim
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 3106

[State 3106, 1]
type = Velset
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
y = 0

[State 3106, 3]
type = ChangeState
trigger1 = animtime = 1
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;Armor Mode
[Statedef 4000]
type    = S
movetype= I
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 4000

[State 4000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = 5

[State 4000, VarAdd]
type = VarAdd
trigger1 = (time = [0,20])
v = 12
value = 5

[State 4000, PalFX]
type = PalFX
trigger1 = Time = [0,25]
time = 1
add = Var(12),0,0

[State 4000, VarSet]
type = VarSet
trigger1 = time = 0
v = 4
value = 1

[State 4000, End]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Null State For Armor Mode
[Statedef 4100]
movetype= H
;ctrl = 1

[State 4100, ChangeAnim]
type = ChangeAnim
trigger1 = Alive
value = Anim
elem = AnimElemNo(0)

[State 4100, ChangeAnim]
type = ChangeAnim
trigger1 = !Alive
value = 5030

[State 4100, PosFreeze]
type = PosFreeze
trigger1 = 1
value = 1

[State 4100, NotHitBy]
type = NotHitBy 
trigger1 = 1
time = 1
value = SCA

[State 4100, End]
type = ChangeState
trigger1 = time = 1
value = Var(5)

[State 4100, End]
type = ChangeState
trigger1 = life = 0
value = 5030

;===========================================================================
;Helpers
;===========================================================================
;---------------------------------------------------------------------------
;Hit Spark Particles
[StateDef 11050]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 11050
ctrl = 0
sprpriority = 3

;-----------------------
[State 11050, Trans]
type = Trans
trigger1 = 1
trans = add
persistent = 1
ignorehitpause = 1

[State 11050, VarSet]
type = VarSet
trigger1 = time = 0
v = 4
value = 0

[State 11050, VarSet]
type = VarAdd
trigger1 = 1
v = 4
value = 25

[State 11050, PalFX]
type = PalFX
trigger1 = 1
time=1
add = -Var(4),-Var(4),-Var(4)
persistent = 1
ignorehitpause = 1
;------------------------

[State 11050, VarSet]
type = VarRandom
trigger1 = time = 0
v = 5
range = 0,359


[State 11050, FVarSet]
type = VarSet
trigger1 = time = 0
fv = 6
value = var(5)*(3.142/180)

[State 11050, AngleSet]
type = AngleSet
trigger1 = time = 0
value = var(5)

[State 11050, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 11050, VelAdd]
type = VelAdd
trigger1 = 1
x = cos(fvar(6))
y = -sin(fvar(6))


[State 11050, No Shadow]
type = AssertSpecial
trigger1 = 1
persistent = 1
ignorehitpause = 1
flag = noshadow

[State 11050, End]
type = DestroySelf
trigger1 = time = 10
;---------------------------------------------------------------------------
;Air Dash Upwards Effect: Used in States [109]
[StateDef 11051]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 11600
ctrl = 0
sprpriority = 2
poweradd = 0

[State 11050, VarSet]
type = VarRandom
trigger1 = time = 0
v = 5
range = 0,359

[State 11050, AngleSet]
type = AngleSet
trigger1 = time = 0
value = var(5)

[State 11050, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 11050, VelAdd]
type = VelAdd
triggerall = var(5) = [0,89]
trigger1 = 1
x = 1-(var(5)*0.01)
y = 0-(var(5)*0.01)

[State 11050, VelAdd]
type = VelAdd
triggerall = var(5) = [90,179]
trigger1 = 1
x = 0-((var(5)-90)*0.01)
y = -1+((var(5)-90)*0.01)

[State 11050, VelAdd]
type = VelAdd
triggerall = var(5) = [180,269]
trigger1 = 1
x = -1+((var(5)-180)*0.01)
y = 0+((var(5)-180)*0.01)

[State 11050, VelAdd]
type = VelAdd
triggerall = var(5) = [270,359]
trigger1 = 1
x = 0+((var(5)-270)*0.01)
y = 1-((var(5)-270)*0.01)

;---------------------------------------------------------------------------
;Air Dash Upwards Effect: Used in States [109]
[StateDef 11609]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 11600
ctrl = 0
sprpriority = 2
poweradd = 0

[State 11609, Trans]
type = Trans
trigger1 = 1
trans = add

[State 11609, AngleSet]
type = AngleSet
trigger1 = time = 0
value = 90

[State 11609, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 11609, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Launcher Effect: Used in States [250]
[StateDef 12600]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12600
ctrl = 0
sprpriority = 3
poweradd = 0

[State 12600, BindToParent]
type = null;BindToParent
trigger1 = 1
time = 1
pos = 28,-8

[State 12600, Trans]
type = Trans
trigger1 = 1
trans = add

[State 12600, AngleSet]
type = AngleSet
trigger1 = time = 0
value = 90

[State 12600, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 12600, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0 || parent, stateno != 250
;---------------------------------------------------------------------------
;Strong Jump Punch Effect: Used in States [620]
[StateDef 12601]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12600
ctrl = 0
sprpriority = 3
poweradd = 0

[State 12600, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 16,-34

[State 12600, Trans]
type = Trans
trigger1 = 1
trans = add

[State 12600, AngleSet]
type = AngleSet
trigger1 = time = 0
value = -55

[State 12600, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 12600, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0 || parent, stateno != 620
;---------------------------------------------------------------------------
;Jump Strong Kick Effect: Used in States [640]
[StateDef 12631]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12630
ctrl = 0
sprpriority = 3
poweradd = 0

[State 12631, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 28,-8

[State 12631, Trans]
type = Trans
trigger1 = 1
trans = add

[State 12631, AngleSet]
type = AngleSet
trigger1 = time = 0
value = -95

[State 12631, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 12631, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0 || parent, stateno != 640
;---------------------------------------------------------------------------
;Jump Strong Kick Effect: Used in States [450]
[StateDef 12632]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12630
ctrl = 0
sprpriority = 3
poweradd = 0

[State 12632, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 50,-44

[State 12631, Trans]
type = Trans
trigger1 = 1
trans = add

[State 12631, AngleSet]
type = AngleSet
trigger1 = time = 0
value = -20

[State 12631, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 12631, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0 || parent, stateno != 450
;---------------------------------------------------------------------------
;Fireball FWD : Used in States [1000-1009]
[StateDef 12150]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12150
ctrl = 0
sprpriority = 4
poweradd = -60

[State 12150, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 30
length = 30
palinvertall = 0
palbright = 0,0,0
palcontrast = 128,128,128
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 12150, VarSet]
type = Varrandom
trigger1 = time = 0
v = 5
range = -20,20

[State 12150, VelSet]
type = VelSet
trigger1 = time = 0
x = 13
y = var(5)*0.1

[State 12150, VelAdd]
type = VelAdd
trigger1 = time = 0
y = -(var(5)*0.01)

[State 12150, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 12150, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
supermovetime = 9999
pausemovetime = 9999

[State 12150, HitDef]
type = HitDef
trigger1 = time = 0 
attr = S, SP
animtype  = Hard
Damage = 10,2
getpower = 0
givepower = 0
hitflag = MAFP
guardflag = MA
pausetime = 1,6
sparkno = -1
guard.sparkno = -1
sparkxy = -10,0
hitsound   = S1100,0
guardsound = S1100,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6      
air.velocity = -4.5,-2.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 12150, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 12150, Movecontact]
type = ChangeState
trigger1 = (movecontact)
value = 13000

[State 12150, Gethit]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AT, AP
slot = 0
stateno = 13000

[State 12150, DestroySelf]
type = DestroySelf
trigger1 = time = 30
;---------------------------------------------------------------------------
;Fireball UP: Used in States [1010-1019]
[StateDef 12160]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12150
ctrl = 0
sprpriority = 4
poweradd = -60

[State 12150, Trans]
type = Trans
trigger1 = 1
trans = add

[State 12160, AngleSet]
type = AngleSet
trigger1 = time = 0
value = 30

[State 12160, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 12160, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 30
length = 30
palinvertall = 0
palbright = 0,0,0
palcontrast = 128,128,128
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 12160, VarSet]
type = Varrandom
trigger1 = time = 0
v = 5
range = -20,20

[State 12160, VelSet]
type = VelSet
trigger1 = time = 0
x = 13+(var(5)*0.1)
y = -6-(var(5)*0.1)

[State 12160, VelAdd]
type = VelAdd
trigger1 = time = 0
y = -(var(5)*0.01)

[State 12160, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 12160, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
supermovetime = 9999
pausemovetime = 9999

[State 12160, HitDef]
type = HitDef
trigger1 = time = 0 
attr = S, SP
animtype  = Hard
Damage = 10,2
getpower = 0
givepower = 0
hitflag = MAFP
guardflag = MA
pausetime = 1,6
sparkno = -1
guard.sparkno = -1
sparkxy = -10,0
hitsound   = S1100,0
guardsound = S1100,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6      
air.velocity = -4.5,-2.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 12160, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 12160, Movecontact]
type = ChangeState
trigger1 = (movecontact)
value = 13000

[State 12160, Gethit]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AT, AP
slot = 0
stateno = 13000

[State 12160, DestroySelf]
type = DestroySelf
trigger1 = time = 30
;---------------------------------------------------------------------------
;Fireball Down1: Used in States [1020-1029]
[StateDef 12170]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12150
ctrl = 0
sprpriority = 4
poweradd = -60

[State 12150, Trans]
type = Trans
trigger1 = 1
trans = add

[State 12160, AngleSet]
type = AngleSet
trigger1 = time = 0
value = -40

[State 12160, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 12160, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 30
length = 30
palinvertall = 0
palbright = 0,0,0
palcontrast = 128,128,128
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 12170, VelSet]
type = VelSet
trigger1 = time = 0
x = 11
y = 11

[State 12170, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
supermovetime = 9999
pausemovetime = 9999

[State 12170, HitDef]
type = HitDef
trigger1 = time = 0 
attr = S, SP
animtype  = Hard
Damage = 10,2
getpower = 0
givepower = 0
hitflag = MAFP
guardflag = MA
pausetime = 1,6
sparkno = -1
guard.sparkno = -1
sparkxy = -10,0
hitsound   = S1100,0
guardsound = S1100,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6      
air.velocity = -4.5,-2.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 12170, PosSet]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 12170, VelSet]
type = VelSet
trigger1 = pos y > 0
x = 0
y = 0

[State 12170, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 12170, Movecontact]
type = ChangeState
trigger1 = (movecontact) || pos y = 0
value = 13000

[State 12170, Gethit]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AT, AP
slot = 0
stateno = 13000

[State 12170, DestroySelf]
type = DestroySelf
trigger1 = time = 30 || pos y > 0
;---------------------------------------------------------------------------
;Fireball Down2: Used in States [1020-1029]
[StateDef 12171]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12150
ctrl = 0
sprpriority = 4
poweradd = -60

[State 12171, Trans]
type = Trans
trigger1 = 1
trans = add

[State 12171, AngleSet]
type = AngleSet
trigger1 = time = 0
value = -33

[State 12171, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 12171, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 30
length = 30
palinvertall = 0
palbright = 0,0,0
palcontrast = 128,128,128
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 12171, VelSet]
type = VelSet
trigger1 = time = 0
x = 12
y = 10

[State 12171, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
supermovetime = 9999
pausemovetime = 9999

[State 12171, HitDef]
type = HitDef
trigger1 = time = 0 
attr = S, SP
animtype  = Hard
Damage = 10,2
getpower = 0
givepower = 0
hitflag = MAFP
guardflag = MA
pausetime = 1,6
sparkno = -1
guard.sparkno = -1
sparkxy = -10,0
hitsound   = S1100,0
guardsound = S1100,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6      
air.velocity = -4.5,-2.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 12171, PosSet]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 12171, VelSet]
type = VelSet
trigger1 = pos y > 0
x = 0
y = 0

[State 12170, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 12170, Movecontact]
type = ChangeState
trigger1 = (movecontact) || pos y = 0
value = 13000

[State 12170, Gethit]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AT, AP
slot = 0
stateno = 13000

[State 12171, DestroySelf]
type = DestroySelf
trigger1 = time = 30 || pos y > 0
;---------------------------------------------------------------------------
;Fireball Down2: Used in States [1020-1029]
[StateDef 12172]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12150
ctrl = 0
sprpriority = 4
poweradd = -60

[State 12172, Trans]
type = Trans
trigger1 = 1
trans = add

[State 12172, AngleSet]
type = AngleSet
trigger1 = time = 0
value = -26

[State 12172, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 12172, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 30
length = 30
palinvertall = 0
palbright = 0,0,0
palcontrast = 128,128,128
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 12172, VelSet]
type = VelSet
trigger1 = time = 0
x = 13
y = 9

[State 12172, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
supermovetime = 9999
pausemovetime = 9999

[State 12172, HitDef]
type = HitDef
trigger1 = time = 0 
attr = S, SP
animtype  = Hard
Damage = 10,2
getpower = 0
givepower = 0
hitflag = MAFP
guardflag = MA
pausetime = 1,6
sparkno = -1
guard.sparkno = -1
sparkxy = -10,0
hitsound   = S1100,0
guardsound = S1100,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6      
air.velocity = -4.5,-2.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 12172, PosSet]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 12172, VelSet]
type = VelSet
trigger1 = pos y > 0
x = 0
y = 0

[State 12172, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 12172, Movecontact]
type = ChangeState
trigger1 = (movecontact) || pos y = 0
value = 13000

[State 12172, Gethit]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AT, AP
slot = 0
stateno = 13000

[State 12172, DestroySelf]
type = DestroySelf
trigger1 = time = 30 || pos y > 0
;---------------------------------------------------------------------------
;Destructo Disc Low
[StateDef 12200]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12200
ctrl = 0
sprpriority = 4

[State 12200, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 32
length = 30
palinvertall = 0
palbright = 0,0,0
palcontrast = 128,128,128
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 12200, VelSet]
type = VelSet
trigger1 = time = 0
x = 12
y = 6

[State 12200, VelAdd]
type = VelAdd
trigger1 = time > 0 && vel y > -2
y = -0.5

[State 12200, VelSet]
type = VelSet
trigger1 = time = 0 && vel y < -2
y = -2

[State 12200, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 12200, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1

[State 12200, Explosion]
type = HitDef
trigger1 = time = 0
attr = S, HP
animtype  = Hard
Damage = 70,18
guardflag = MAFD
pausetime = 9,9
sparkno = S12205
sparkxy = 0,0
hitsound   = S1052,0
guard.sparkno = -1
guardsound = 6,0
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -8, -2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -8, -2
fall = 1
fall.recover = 1
kill = 1
guard.kill = 1

[State 12200, DestroySelf]
type = DestroySelf
trigger1 = time = 32
;---------------------------------------------------------------------------
;Destructo Disc Mid
[StateDef 12201]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12200
ctrl = 0
sprpriority = 4

[State 12201, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 32
length = 30
palinvertall = 0
palbright = 0,0,0
palcontrast = 128,128,128
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 12200, VelSet]
type = VelSet
trigger1 = time = 0
x = 12
y = 4.5

[State 12200, VelAdd]
type = VelAdd
trigger1 = time > 0 && vel y > -2
y = -0.5

[State 12200, VelSet]
type = VelSet
trigger1 = time = 0 && vel y < -2
y = -2

[State 12201, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 12201, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1

[State 12201, Explosion]
type = HitDef
trigger1 = time = 0
attr = S, HP
animtype  = Hard
Damage = 70,18
guardflag = MAFD
pausetime = 9,9
sparkno = S12205
sparkxy = 0,0
hitsound   = S1052,0
guard.sparkno = -1
guardsound = s500,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -8, -2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -8, -2
fall = 1
fall.recover = 1
kill = 1
guard.kill = 1

[State 12201, DestroySelf]
type = DestroySelf
trigger1 = time = 32
;---------------------------------------------------------------------------
;Destructo Disc High
[StateDef 12202]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12200
ctrl = 0
sprpriority = 4

[State 12202, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 32
length = 30
palinvertall = 0
palbright = 0,0,0
palcontrast = 128,128,128
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 12200, VelSet]
type = VelSet
trigger1 = time = 0
x = 12
y = 3

[State 12200, VelAdd]
type = VelAdd
trigger1 = time > 0 && vel y > -2
y = -0.5

[State 12200, VelSet]
type = VelSet
trigger1 = time = 0 && vel y < -2
y = -2

[State 12202, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 12202, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1

[State 12202, Explosion]
type = HitDef
trigger1 = time = 0
attr = S, HP
animtype  = Hard
Damage = 70,18
guardflag = MAFD
pausetime = 9,9
sparkno = S12205
sparkxy = 0,0
hitsound   = S1052,0
guard.sparkno = -1
guardsound = 6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -8, -2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -8, -2
fall = 1
fall.recover = 1
kill = 1
guard.kill = 1

[State 12202, DestroySelf]
type = DestroySelf
trigger1 = time = 32
;---------------------------------------------------------------------------
;Energy Wave : Used in State 1801
[StateDef 12400]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12400
ctrl = 0
sprpriority = 4

[State 12400, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 12400, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
supermovetime = 9999
pausemovetime = 9999

[State 12400, Explosion]
type = HitDef
trigger1 = timemod = 3,0
attr = S, HP
animtype  = Heavy
Damage = 22,5
guardflag = MAFD
guardflag = MA
pausetime = 0,10
sparkno = S12405
sparkxy = 0,0
hitsound   = -1
guard.sparkno = -1
guardsound = -1
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -25, -4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -25, -4
fall = 1
fall.recover = 1
kill = 1
guard.kill = 1

[State 12400, Explosion.Helper]
type = null;Helper
trigger1 = movecontact && numhelper(12101) = 0
name = "Explosion"
stateno = 12101
postype = p2
pos = 0, -60
keyctrl = 0
ownpal = 1
id = 12101

[State 12400, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodydist < -1 && BackEdgeBodydist > -30)
movecamera = 0,0
value	= 0

[State 12400, DestroySelf]
type = DestroySelf
Trigger1                = Parent, stateno != 1801
trigger2 = animtime = 0
;---------------------------------------------------------------------------
;Big Fireball FWD: Used in States [1001]
[StateDef 12500]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12500
ctrl = 0
sprpriority = 4
poweradd = -100

[State 12500, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 30
length = 30
palinvertall = 0
palbright = 0,0,0
palcontrast = 128,128,128
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 12500, VelSet]
type = VelSet
trigger1 = time = 0
x = 13
y = 0

[State 12500, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 12500, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
supermovetime = 9999
pausemovetime = 9999

[State 12500, HitDef]
type = HitDef
trigger1 = time = 0 
attr = S, SP
animtype  = Hard
Damage = 80,20
getpower = 0
givepower = 0
hitflag = MAFP
guardflag = MA
pausetime = 1,6
sparkno = -1
guard.sparkno = -1
sparkxy = -10,0
hitsound   = S1100,1
guardsound = S1100,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6, -3.5      
air.velocity = -6,-3.25
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0

[State 12500, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 12500, Movecontact]
type = ChangeState
trigger1 = (movecontact)
value = 13100

[State 12500, Gethit]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AT, AP
slot = 0
stateno = 13100

[State 12500, DestroySelf]
type = DestroySelf
trigger1 = time = 30

;---------------------------------------------------------------------------
;Big Fireball UP: Used in States [1011]
[StateDef 12510]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12500
ctrl = 0
sprpriority = 4
poweradd = -100

[State 12510, Trans]
type = Trans
trigger1 = 1
trans = add

[State 12510, AngleSet]
type = AngleSet
trigger1 = time = 0
value = 30

[State 12510, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 12510, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 30
length = 30
palinvertall = 0
palbright = 0,0,0
palcontrast = 128,128,128
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 12510, VelSet]
type = VelSet
trigger1 = time = 0
x = 13
y = -6

[State 12510, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 12510, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
supermovetime = 9999
pausemovetime = 9999

[State 12510, HitDef]
type = HitDef
trigger1 = time = 0 
attr = S, SP
animtype  = Hard
Damage = 80,20
getpower = 0
givepower = 0
hitflag = MAFP
guardflag = MA
pausetime = 1,6
sparkno = -1
guard.sparkno = -1
sparkxy = -10,0
hitsound   = S1100,1
guardsound = S1100,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5, -5      
air.velocity = -5,-5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0

[State 12510, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 12510, Movecontact]
type = ChangeState
trigger1 = (movecontact)
value = 13100

[State 12510, Gethit]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AT, AP
slot = 0
stateno = 13100

[State 12510, DestroySelf]
type = DestroySelf
trigger1 = time = 30
;---------------------------------------------------------------------------
;Big Fireball DOWN: Used in States [1021]
[StateDef 12520]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12500
ctrl = 0
sprpriority = 4
poweradd = -100

[State 12520, Trans]
type = Trans
trigger1 = 1
trans = add

[State 12520, AngleSet]
type = AngleSet
trigger1 = time = 0
value = -35

[State 12520, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 12520, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 30
length = 30
palinvertall = 0
palbright = 0,0,0
palcontrast = 128,128,128
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 12520, VelSet]
type = VelSet
trigger1 = time = 0
x = 12
y = 9

[State 12520, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 12520, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
supermovetime = 9999
pausemovetime = 9999

[State 12520, HitDef]
type = HitDef
trigger1 = time = 0 
attr = S, SP
animtype  = Hard
Damage = 80,20
getpower = 0
givepower = 0
hitflag = MAFP
guardflag = MA
pausetime = 1,6
sparkno = -1
guard.sparkno = -1
sparkxy = -10,0
hitsound   = S1100,1
guardsound = S1100,1
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5, 5      
air.velocity = -5,5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0

[State 12500, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 12500, Movecontact]
type = ChangeState
trigger1 = (movecontact) || pos y >= 0
value = 13100

[State 12500, Gethit]
type = HitOverride
trigger1 = 1
attr = SCA, AA, AT, AP
slot = 0
stateno = 13100

[State 12520, DestroySelf]
type = DestroySelf
trigger1 = time = 100 || pos y >= 15
;---------------------------------------------------------------------------
;Charge-Push Forward
[StateDef 12650]
type = A
physics = N
movetype = A
velset = 12, 0
anim = 12650
ctrl = 0

[State 12650, VelAdd]
type = VelAdd
trigger1 = 1
x = -0.25

[State 12650, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 12650, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 12650, End]
type = DestroySelf
trigger1 = time = 12
;---------------------------------------------------------------------------
;Charge-Push Back
[StateDef 12651]
type = A
physics = N
movetype = A
velset = -12, 0
anim = 12650
ctrl = 0

[State 12651, VelAdd]
type = VelAdd
trigger1 = 1
x = 0.25

[State 12651, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 12651, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 12651, End]
type = DestroySelf
trigger1 = time = 12

;---------------------------------------------------------------------------
;Charge-Push Still
[StateDef 12652]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12650
ctrl = 0

[State 12651, BindToParent]
type = BindToParent
trigger1 = 1
time = 1

[State 12651, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 12651, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 12651, End]
type = DestroySelf
trigger1 = time = 7
;---------------------------------------------------------------------------
;Advance Guard-Push Forward
[StateDef 12700]
type = A
physics = N
movetype = A
velset = 20, 0
anim = 12700
ctrl = 0

[State 12700, VelAdd]
type = VelAdd
trigger1 = 1
x = -0.5

[State 12700, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 12700, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 12700, End]
type = DestroySelf
trigger1 = time = 20
;---------------------------------------------------------------------------
;Small Explosion (From Basic FireBall)
[StateDef 13000]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 13000
ctrl = 0
sprpriority = 4
poweradd = 0

[State 13000, No Shadow]
type = AssertSpecial
trigger1 = 1
flag = noshadow
supermovetime = 9999
pausemovetime = 9999

[State 13000, FVarset]
type = VarSet
trigger1 = (!time)
fv = 1
value = 0

[State 13000, FVarset]
type = VarAdd
trigger1 = 1
fv = 1
value = 0.01

[State 13000, Flash! AhhAHHHH!]
type = Explod
trigger1 = (!time)
Anim = 13105
Pos = 0,0
Id = 13105
velocity = 0,0
sprpriority = 5
removeongethit = 0
;removetime = 9
bindtime = 1
Postype = p1
supermovetime  = 9999
pausemovetime  = 9999
persistent = 0
ownpal = 1
scale = 0.01, 0.01

[State 13000, ModifyExplod]
type = ModifyExplod
trigger1 = (time)
id = 13105
supermovetime = 9999
pausemovetime = 9999
scale = 0.1+fvar(1),0.1+fvar(1)

[State 13000, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 13000, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 30
length = 5
palinvertall = 0
palbright = 0,0,0
palcontrast = 128,128,128
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 13000, Disperse Effect]
type = Helper
trigger1 = time = 0
name = "DisperseEffect"
stateno = 14501
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 0
id = 14500
bindtime = 0

[State 13000, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Big Explosion (From Big FireBall)
[StateDef 13100]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 13100
ctrl = 0
sprpriority = 4
poweradd = 0

[State 13100, No Shadow]
type = AssertSpecial
trigger1 = 1
flag = noshadow
supermovetime = 9999
pausemovetime = 9999

[State 13100, FVarset]
type = VarSet
trigger1 = (!time)
fv = 1
value = 0

[State 13100, FVarset]
type = VarAdd
trigger1 = 1
fv = 1
value = 0.05

[State 13100, Flash! AhhAHHHH!]
type = Explod
trigger1 = (!time)
Anim = 13105
Pos = 0,0
Id = 13105
velocity = 0,0
sprpriority = 5
removeongethit = 0
;removetime = 9
bindtime = 1
Postype = p1
supermovetime  = 9999
pausemovetime  = 9999
persistent = 0
ownpal = 1
scale = 0.05, 0.05

[State 13100, ModifyExplod]
type = ModifyExplod
trigger1 = (time)
id = 13105
supermovetime = 9999
pausemovetime = 9999
scale = 0.25+fvar(1),0.25+fvar(1)

[State 13100, Shake]
type = EnvShake
trigger1 = (!time)
Time = 17
freq = 90
ampl = -3
phase = 0

[State 13100, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 13100, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 30
length = 5
palinvertall = 0
palbright = 0,0,0
palcontrast = 128,128,128
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 13100, Disperse Effect]
type = Helper
trigger1 = time = 0
name = "DisperseEffect"
stateno = 14500
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 0
id = 14500
bindtime = 0

[State 13100, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Flame Sparks Helper Long
[StateDef 14010]
type = S
physics = N
movetype = I
velset = 0, 0
anim = 9999
ctrl = 0
sprpriority = 5

[State 14010, Spark1]
type = Explod
trigger1 = time = 10
Anim = 14010
Pos = -20,-30
Id = 13120
velocity = 0,0
sprpriority = 6
removeongethit = 0
;removetime = 9
bindtime = -1
Postype = p2
SuperMove = 1
ownpal = 1
scale = 0.5, 0.5

[State 14010, Spark2]
type = Explod
trigger1 = time = 20
Anim = 14010
Pos = -20,-20
Id = 13121
velocity = 0,0
sprpriority = 6
removeongethit = 0
;removetime = 9
bindtime = -1
Postype = p2
SuperMove = 1
ownpal = 1
scale = 0.5, 0.5

[State 14010, Spark3]
type = Explod
trigger1 = time = 0
Anim = 14010
Pos = 0,-50
Id = 13122
velocity = 0,0
sprpriority = 6
removeongethit = 0
;removetime = 9
bindtime = -1
Postype = p2
SuperMove = 1
ownpal = 1
scale = 0.5, 0.5

[State 14010, Spark4]
type = Explod
trigger1 = time = 15
Anim = 14010
Pos = 10,-25
Id = 13123
velocity = 0,0
sprpriority = 6
removeongethit = 0
;removetime = 9
bindtime = -1
Postype = p2
SuperMove = 1
ownpal = 1
scale = 0.5, 0.5

[State 14010, Spark5]
type = Explod
trigger1 = time = 17
Anim = 14010
Pos = -20,-10
Id = 13124
velocity = 0,0
sprpriority = 6
removeongethit = 0
;removetime = 9
bindtime = -1
Postype = p2
SuperMove = 1
ownpal = 1
scale = 0.5, 0.5

[State 14010, Spark6]
type = Explod
trigger1 = time = 5
Anim = 14010
Pos = 5,-12
Id = 13125
velocity = 0,0
sprpriority = 6
removeongethit = 0
;removetime = 9
bindtime = -1
Postype = p2
SuperMove = 1
ownpal = 1
scale = 0.5, 0.5

[State 14010, Spark7]
type = Explod
trigger1 = time = 12
Anim = 14010
Pos = -5,-45
Id = 13126
velocity = 0,0
sprpriority = 6
removeongethit = 0
;removetime = 9
bindtime = -1
Postype = p2
SuperMove = 1
ownpal = 1
scale = 0.5, 0.5

[State 14010, Spark8]
type = Explod
trigger1 = time = 20
Anim = 14020
Pos = 20,-15
Id = 13127
velocity = 0,0
sprpriority = 6
removeongethit = 0
;removetime = 9
bindtime = -1
Postype = p2
SuperMove = 1
ownpal = 1
scale = 0.5, 0.5

[State 14010, Spark9]
type = Explod
trigger1 = time = 27
Anim = 14020
Pos = -20,-28
Id = 13128
velocity = 0,0
sprpriority = 6
removeongethit = 0
;removetime = 9
bindtime = -1
Postype = p2
SuperMove = 1
ownpal = 1
scale = 0.5, 0.5

[State 14010, Spark10]
type = Explod
trigger1 = time = 32
Anim = 14020
Pos = 10,-10
Id = 13129
velocity = 0,-10
sprpriority = 6
removeongethit = 0
;removetime = 9
bindtime = -1
Postype = p2
SuperMove = 1
ownpal = 1
scale = 0.5, 0.5

[State 14010, Spark11]
type = Explod
trigger1 = time = 12
Anim = 14020
Pos = -20,-23
Id = 13128
velocity = 0,0
sprpriority = 6
removeongethit = 0
bindtime = -1
Postype = p2
SuperMove = 1
ownpal = 1
scale = 0.5, 0.5

[State 14010, Spark12]
type = Explod
trigger1 = time = 16
Anim = 14020
Pos = 10,-25
Id = 13128
velocity = 0,0
sprpriority = 6
removeongethit = 0
;removetime = 9
bindtime = -1
Postype = p2
SuperMove = 1
ownpal = 1
scale = 0.5, 0.5

[State 14010, DestroySelf]
type = DestroySelf
trigger1 = time = 32

;---------------------------------------------------------------------------
;Flame Sparks Helper Short
[StateDef 14011]
type = S
physics = N
movetype = I
velset = 0, 0
anim = 9999
ctrl = 0
sprpriority = 5

[State 14010, Spark1]
type = Explod
trigger1 = time = 20
Anim = 14010
Pos = -20,-40
Id = 13120
velocity = 0,0
sprpriority = 6
removeongethit = 0
;removetime = 9
bindtime = -1
Postype = p2
SuperMove = 1
ownpal = 1
scale = 0.5, 0.5

[State 14010, Spark2]
type = Explod
trigger1 = time = 40
Anim = 14010
Pos = -20,-30
Id = 13121
velocity = 0,0
sprpriority = 6
removeongethit = 0
;removetime = 9
bindtime = -1
Postype = p2
SuperMove = 1
ownpal = 1
scale = 0.5, 0.5

[State 14010, Spark3]
type = Explod
trigger1 = time = 0
Anim = 14010
Pos = 0,-60
Id = 13122
velocity = 0,0
sprpriority = 6
removeongethit = 0
;removetime = 9
bindtime = -1
Postype = p2
SuperMove = 1
ownpal = 1
scale = 0.5, 0.5

[State 14010, Spark4]
type = Explod
trigger1 = time = 30
Anim = 14010
Pos = 10,-30
Id = 13123
velocity = 0,0
sprpriority = 6
removeongethit = 0
;removetime = 9
bindtime = -1
Postype = p2
SuperMove = 1
ownpal = 1
scale = 0.5, 0.5

[State 14010, Spark5]
type = Explod
trigger1 = time = 34
Anim = 14010
Pos = -10,-10
Id = 13124
velocity = 0,0
sprpriority = 6
removeongethit = 0
;removetime = 9
bindtime = -1
Postype = p2
SuperMove = 1
ownpal = 1
scale = 0.5, 0.5

[State 14010, Spark6]
type = Explod
trigger1 = time = 10
Anim = 14010
Pos = 5,-20
Id = 13125
velocity = 0,0
sprpriority = 6
removeongethit = 0
;removetime = 9
bindtime = -1
Postype = p2
SuperMove = 1
ownpal = 1
scale = 0.5, 0.5

[State 14010, Spark7]
type = Explod
trigger1 = time = 24
Anim = 14010
Pos = -5,-55
Id = 13126
velocity = 0,0
sprpriority = 6
removeongethit = 0
;removetime = 9
bindtime = -1
Postype = p2
SuperMove = 1
ownpal = 1
scale = 0.5, 0.5

[State 14010, Spark8]
type = Explod
trigger1 = time = 40
Anim = 14020
Pos = 20,-20
Id = 13127
velocity = 0,0
sprpriority = 6
removeongethit = 0
;removetime = 9
bindtime = -1
Postype = p2
SuperMove = 1
ownpal = 1
scale = 0.5, 0.5

[State 14010, Spark9]
type = Explod
trigger1 = time = 52
Anim = 14020
Pos = -20,-15
Id = 13128
velocity = 0,0
sprpriority = 6
removeongethit = 0
;removetime = 9
bindtime = -1
Postype = p2
SuperMove = 1
ownpal = 1
scale = 0.5, 0.5

[State 14010, Spark10]
type = Explod
trigger1 = time = 64
Anim = 14020
Pos = 0,-10
Id = 13129
velocity = 0,-10
sprpriority = 6
removeongethit = 0
;removetime = 9
bindtime = -1
Postype = p2
SuperMove = 1
ownpal = 1
scale = 0.5, 0.5

[State 14010, Spark11]
type = Explod
trigger1 = time = 12
Anim = 14020
Pos = -20,-30
Id = 13128
velocity = 0,0
sprpriority = 6
removeongethit = 0
bindtime = -1
Postype = p2
SuperMove = 1
ownpal = 1
scale = 0.5, 0.5

[State 14010, Spark12]
type = Explod
trigger1 = time = 32
Anim = 14020
Pos = 10,-30
Id = 13128
velocity = 0,0
sprpriority = 6
removeongethit = 0
;removetime = 9
bindtime = -1
Postype = p2
SuperMove = 1
ownpal = 1
scale = 0.5, 0.5

[State 14010, DestroySelf]
type = DestroySelf
trigger1 = time = 52


;---------------------------------------------------------------------------
;Flame Ball  [State 1451]
[StateDef 14030]
type = S
physics = N
movetype = I
velset = 0, 0
anim = 14030
ctrl = 0
sprpriority = 5

[State 14030, No Shadow]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 14105, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 30
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 128,128,128
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 14105, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 32,-7

[State 14105, Trans]
type = Trans
trigger1 = 1
trans = add

[State 14105, AngleSet]
type = AngleSet
trigger1 = time = 0
value = 45

[State 14105, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 14105, DestroySelf]
type = DestroySelf
trigger1 = parent, stateno != 1451
;---------------------------------------------------------------------------
;Flame Whirlwind Angled 1[State 1501]
[StateDef 14040]
type = S
physics = N
movetype = I
velset = 0, 0
anim = 14041
ctrl = 0
sprpriority = 3

[State 14040, No Shadow]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 14040, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 72,-8

[State 14040, Trans]
type = Trans
trigger1 = 1
trans = add

[State 14040, AngleSet]
type = AngleSet
trigger1 = time = 0
value = 90

[State 14040, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 14040, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0 || (parent, stateno != [1501, 1502])
;---------------------------------------------------------------------------
;Flame Whirlwind Angled 2[State 1300]
[StateDef 14041]
type = S
physics = N
movetype = I
velset = 0, 0
anim = 14040
ctrl = 0
sprpriority = 3

[State 14041, No Shadow]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 14041, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 34,-26

[State 14041, Trans]
type = Trans
trigger1 = 1
trans = add

[State 14041, AngleSet]
type = AngleSet
trigger1 = time = 0
value = 90

[State 14041, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 14041, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0 || (parent, stateno != [1300, 1301])
;---------------------------------------------------------------------------
;Flame Wings Right
[StateDef 14100]
type = S
physics = N
movetype = I
velset = 0, 0
anim = 14100
ctrl = 0
sprpriority = -1

[State 14100, No Shadow]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 14100, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Flame Wings Left
[StateDef 14101]
type = S
physics = N
movetype = I
velset = 0, 0
anim = 14101
ctrl = 0
sprpriority = -1

[State 14101, No Shadow]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 14101, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Flame Wings Angled [State 1451]
[StateDef 14105]
type = S
physics = N
movetype = I
velset = 0, 0
anim = 14101
ctrl = 0
sprpriority = -1

[State 14105, No Shadow]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 14105, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 2,-44

[State 14105, Trans]
type = Trans
trigger1 = 1
trans = add

[State 14105, AngleSet]
type = AngleSet
trigger1 = time = 0
value = 45

[State 14105, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 14105, AfterImage]
type = null;AfterImage
trigger1 = time = 0
time = 30
length = 5
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,256,256
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 14105, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0 || (parent, stateno != [1451, 1452])
;---------------------------------------------------------------------------
;Flame Wings Angled 2 [State 1300]
[StateDef 14106]
type = S
physics = N
movetype = I
velset = 0, 0
anim = 14101
ctrl = 0
sprpriority = -1

[State 14106, No Shadow]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 14106, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = -19,-40

[State 14106, Trans]
type = Trans
trigger1 = 1
trans = add

[State 14106, AngleSet]
type = AngleSet
trigger1 = time = 0
value = -90

[State 14106, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 14106, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0 || (parent, stateno != [1300, 1301])
;---------------------------------------------------------------------------
;Circular Disperse Effect 1
[StateDef 14500]
type = S
physics = N
movetype = I
velset = 0, 0
anim = 9999
ctrl = 0
sprpriority = 0

[State 14500, RandomVariable-1]
type = VarRandom
trigger1 = 1
v = 14
range = -8,8

[State 14500, RandomVariable-2]
type = VarRandom
trigger1 = 1
v = 15
range = -8,8

[State 14500, Sparkle-1]
type = Explod
triggerall = time < 12
trigger1 = Timemod = 2,0
anim = 11550
id = 11550
postype = p1
pos = 0, 0
ownpal = 1
velocity = Var(14)*0.5, var(15)*0.5
scale = 0.25, 0.25
sprpriority = 3

[State 14500, Sparkle-2]
type = Explod
triggerall = time < 12
trigger1 = Timemod = 2,1
anim = 11555
id = 11555
postype = p1
pos = 0, 0
ownpal = 1
velocity = Var(14)*0.75, var(15)*0.75
scale = 0.25, 0.25
sprpriority = 3

[State 14500, DestroySelf]
type = DestroySelf
trigger1 = time = 20
;---------------------------------------------------------------------------
;Circular Disperse Effect 2
[StateDef 14501]
type = S
physics = N
movetype = I
velset = 0, 0
anim = 9999
ctrl = 0
sprpriority = 0

[State 14501, RandomVariable-1]
type = VarRandom
trigger1 = 1
v = 14
range = -8,8

[State 14501, RandomVariable-2]
type = VarRandom
trigger1 = 1
v = 15
range = -8,8

[State 14501, Sparkle-1]
type = Explod
triggerall = time < 12
trigger1 = Timemod = 2,0
anim = 11550
id = 11550
postype = p1
pos = 0, 0
ownpal = 1
velocity = Var(14)*0.25, var(15)*0.25
scale = 0.25, 0.25
sprpriority = 3

[State 14501, Sparkle-2]
type = Explod
triggerall = time < 12
trigger1 = Timemod = 2,1
anim = 11555
id = 11555
postype = p1
pos = 0, 0
ownpal = 1
velocity = Var(14)*0.4, var(15)*0.4
scale = 0.25, 0.25
sprpriority = 3

[State 14501, DestroySelf]
type = DestroySelf
trigger1 = time = 16
;---------------------------------------------------------------------------
;Ground Dust - Slam
[StateDef 15170]
type = S
physics = N
movetype = I
velset = 0, 0
anim = 9999
ctrl = 0

[State 15170, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 15170, PlaySND]
type = PlaySnd
trigger1 = time = 1
value = 5110,0

[State 15170, Shake]
type = EnvShake
trigger1 = time = 1
Time = 8

[State 15170, Dust]
type = Explod
trigger1 = time = 1
Anim = 15170
Pos = -10,0
Id = 15170
velocity = 0,0
sprpriority = 3
removeongethit = 0
;removetime = 9
bindtime = 1
Postype = p2
SuperMove = 1
ownpal = 1
scale = 0.5, 0.5

[State 15170, Swirl]
type = Explod
trigger1 = time = 6
Anim = 15175
Pos = -9,0
Id = 15175
velocity = 0,0
sprpriority = 4
removeongethit = 0
;removetime = 9
bindtime = 1
Postype = p2
SuperMove = 1
ownpal = 1
scale = 0.5, 0.5

[State 15170, End]
type = DestroySelf
trigger1 = time = 6
;---------------------------------------------------------------------------
;P2 Smoke/Explosions
[StateDef 15300]
type = A
physics = N
movetype = A
velset = 0, 0
anim = -1
ctrl = 0
sprpriority = 4

[State 15300, Smoke1]
type = Explod
trigger1 = time = 8
Anim = 15300
Pos = 0,-25
Id = 15300
velocity = 0
sprpriority = 3
removeongethit = 1
removetime = 14
bindtime = -1
Postype = p2
ownpal = 1
scale = 0.9, 0.9

[State 15300, Smoke2]
type = Explod
trigger1 = time = 15
Anim = 15300
Pos = 20,-15
Id = 15301
velocity = 0
sprpriority = 3
removeongethit = 1
removetime = 14
bindtime = -1
Postype = p2
ownpal = 1
scale = 0.9, 0.9

[State 15300, Smoke3]
type = Explod
trigger1 = time = 23
Anim = 15300
Pos = -10,-5
Id = 15302
velocity = 0
sprpriority = 3
removeongethit = 1
removetime = 14
bindtime = -1
Postype = p2
ownpal = 1
scale = 0.7, 0.7

[State 15300, Smoke4]
type = Explod
trigger1 = time = 31
Anim = 15300
Pos = 10,-25
Id = 15303
velocity = 0
sprpriority = 3
removeongethit = 1
removetime = 14
bindtime = -1
Postype = p2
ownpal = 1
scale = 0.9, 0.9

[State 15300, DestroySelf]
type = DestroySelf
trigger1 = p2stateno = 5120
;---------------------------------------------------------------------------
;Rock Helper 00
[StateDef 15200]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 15200 + Parent, Var(16)
ctrl = 0
sprpriority = 4

[State 15200, VelSet]
type = VelSet
triggerall = time = 0
trigger1 = parent, stateno = 1701
y = -2

[State 15200, VelAdd]
type = VelAdd
trigger1 = parent, stateno != 1701
y = 0.08

[State 15201, VelAdd]
type = VelAdd
triggerall = vel y > -3
trigger1 = parent, stateno = 1701
y = -0.08

[State 15200, Next]
type = ChangeState
trigger1 = pos Y < -240 && parent, stateno = 1701
value = 15255

[State 15200, Next]
type = ChangeState
trigger1 = pos y >= 0 && time > 0
value = 15255
;---------------------------------------------------------------------------
;Rock Helper 01
[StateDef 15201]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 15200 + Parent, Var(16)
ctrl = 0
sprpriority = 4

[State 15201, VelSet]
type = VelSet
triggerall = time = 0
trigger1 = parent, stateno = 1701
y = -3

[State 15201, VelAdd]
type = VelAdd
trigger1 = parent, stateno != 1701
y = 0.08

[State 15201, VelAdd]
type = VelAdd
triggerall = vel y > -3
trigger1 = parent, stateno = 1701
y = -0.08

[State 15201, Next]
type = ChangeState
trigger1 = pos Y < -240 && parent, stateno = 1701
value = 15255

[State 15201, Next]
type = ChangeState
trigger1 = pos y >= 0 && time > 0
value = 15255
;---------------------------------------------------------------------------
;Rock Helper 02
[StateDef 15202]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 15200 + Parent, Var(16)
ctrl = 0
sprpriority = 4

[State 15202, VelSet]
type = VelSet
triggerall = time = 0
trigger1 =  parent, stateno = 1701
y = -4

[State 15202, VelAdd]
type = VelAdd
trigger1 = parent, stateno != 1701
y = 0.08

[State 15201, VelAdd]
type = VelAdd
triggerall = vel y > -4
trigger1 = parent, stateno = 1701
y = -0.08

[State 15202, Next]
type = ChangeState
trigger1 = pos Y < -240 && parent, stateno = 1701
value = 15255

[State 15202, Next]
type = ChangeState
trigger1 = pos y >= 0 && time > 0
value = 15255
;---------------------------------------------------------------------------
;Rock Helper Die
[StateDef 15255]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 15255
ctrl = 0
sprpriority = 4

[State 15202, PlaySND]
type = PlaySnd
trigger1 = time= 0
value = 1720,0
volume = 245

[State 15255, DestroySelf]
type = DestroySelf
trigger1 = time = 4
;---------------------------------------------------------------------------
;Pink Whirlwind Angled 1[State 1300]
[StateDef 15500]
type = S
physics = N
movetype = I
velset = 0, 0
anim = 15500
ctrl = 0
sprpriority = 3

[State 15500, No Shadow]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 15500, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 37,-33

[State 15500, Trans]
type = Trans
trigger1 = 1
trans = add

[State 15500, AngleSet]
type = AngleSet
trigger1 = time = 0
value = 90

[State 15500, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 15500, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0 || (parent, stateno != [1300, 1301])
;---------------------------------------------------------------------------
;Super Portrait
[Statedef 19000]
physics  = N
anim     = 9999
sprpriority = 0

[State 19000, 0]
type = VarSet
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
fv = 1
value = 0

[State 19000, 0]
type = VarAdd
trigger1 = time >= 30
persistent = 1
ignorehitpause = 1
fv = 1
value = 0.02

[State 19000, 0]
type = AssertSpecial
trigger1 = 1
persistent = 1
ignorehitpause = 1
flag = noshadow

[State 0, ModifyExplod]
type = Explod
triggerall = parent,stateno = 1800
trigger1 = time = 0
anim = 19000
ID = 19000
pos = 160, ceil(1.33*480/640*120);ceil((1.33*gameheight/gamewidth)*120)
postype = back
removetime = 40
pausemovetime = 65535
supermovetime = 65535
scale = 1,1
sprpriority = -5
ownpal = 1
trans = addalpha
alpha = 0,256

[State 0, ModifyExplod]
type = ModifyExplod
triggerall = parent,stateno = 1800
trigger1 = time < 16
ID = 19000
scale = 1-(0.0333*time),1-(0.0333*time)
trans = addalpha
alpha = 0+ceil(25.6*time),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time >=32
ID = 19000
scale = .5+(.0333*(time-31)),.5+(.0333*(time-31))
trans = addalpha
alpha = 256-ceil(25.6*(time-31)),256

[State 7204, 3]
type = DestroySelf
trigger1 = time = 60
;---------------------------------------------------------------------------
;WinKO Effect by FlowaGirl! FlowaGirl receives all the credit for this code.

[Statedef 9998]
type = S
movetype = I
physics = N
anim = 9999

[State 9998: Pause]
type = Pause
trigger1 = !Time
time = 12
movetime = 12

[State 9998: EnvColor]
type = EnvColor
trigger1 = Time < 12
value = Time*4, Time*4, Time*4
time = 1
under = 1

[State 9998: EnvShake]
type = EnvShake
trigger1 = !Time
time = 12
freq = 120
ampl = -3
phase = 90

[State 9998: AllPalFX]
type = AllPalFX
trigger1 = Time < 50
time = 1
add = 0,0,0
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = Time*5
;===========================================================================
;Player 2 Custom States
;===========================================================================
; Wall Bounce : Used in State 1300
; Part 1 : P2 Fly Back
[Statedef 95000]
type    = A
movetype= H
physics = N
velset = 0,0

[State 95000, P2Anim]
type = ChangeAnim2
trigger1 = Time >= 0
value = 95000

[State 95000, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 95001

;---------------------------------------------------------------------------
; Wall Bounce : Used in State 1300
; Part 2 : P2 Hit Wall
[Statedef 95001]
type    = A
movetype= H
physics = N

[State 95001, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 95001, Gravity]
type = VelAdd
trigger1 = Time >= 0
y = .45

[State 95001, No scroll]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 0,1

[State 95001, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 0
trigger2 = FrontEdgeBodyDist <= 0
value = 95002

[State 95001, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;---------------------------------------------------------------------------
; Wall Bounce : Used in State 1300
; Part 3 : P2 Pre-Fall from Wall
[Statedef 95002]
type    = A
movetype= H
physics = N

[State 95002, P2Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 95002

[State 95002, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 95002, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 95002, Spark]
type = Explod
trigger1 = Time = 0
anim = F72
pos = -24, -50
postype = p1
sprpriority = 3

[State 95002, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 95002, Next]
type = ChangeState
trigger1 = AnimTime = 0
value = 95003
;---------------------------------------------------------------------------
; Wall Bounce : Used in State 1300
; Part 4 : P2 Falling from Wall
[Statedef 95003]
type    = A
movetype= H
physics = N

[State 95003, P2Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 95003

[State 95003, VelSet]
type = VelSet
trigger1 = Time = 0
x = 1.6
y = -4

[State 95003, Next]
type = ChangeState
trigger1 = AnimTime = 0
value = 95004

;---------------------------------------------------------------------------
; Wall Bounce : Used in State 1300
; Part 5 : P2 Fall into Ground
[Statedef 95004]
type    = A
movetype= H
physics = N

[State 95004, VelSet]
type = VelSet
trigger1 = Time = 0
x = 1.6
y = -4

[State 95004, VelAdd]
type = VelAdd
trigger1 = Time >= 0
y = .35

[State 95004, ChangeAnim 5050]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 95004, ChangeAnim 5052]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 95004, ChangeAnim 5060]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 95004, ChangeAnim 5062]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 95004, ChangeAnim 5050]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 95004, ChangeAnim 5052]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 95004, ChangeAnim 5060]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 95004, ChangeAnim 5062]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 95004, HitGround]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;--------------------------------------------------------------------------
;Super Defenza, helper
[Statedef 6001]
type = S
movetype = I
physics = N
juggle = 0
ctrl = 0
anim = 6001
sprpriority = 7777777777

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 0,0
ignorehitpause = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 6001
time = 1
ignorehitpause = 1

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1


[State 0, ParentVarAdd]
type = ParentVarAdd
trigger1 = Time = 1
v = 24
value = 1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent, prevstateno = 2001
trigger2 = parent, prevstateno = 2002
trigger3 = parent, prevstateno = 2003
trigger4 = parent, prevstateno = 2004
trigger5 = parent, var(19) > 0
trigger6 = parent, stateno = 0
trigger7 = parent, prevstateno = 3000
trigger8 = parent, prevstateno = 2015
trigger9 = parent, prevstateno = 2025
trigger10= parent, prevstateno = 2030
trigger11= parent, prevstateno = 2040
ignorehitpause = 1
;---------------------------------------------------------------------------
;Efecto De viento Locooooo
[Statedef 6021]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 6021
sprpriority = 5

[State 0, Explod]
type = Explod
trigger1 = numexplod(6020)<2
trigger1 = timemod=30,1
anim = 6021
ID = 6021
pos = 0,0
postype = back
bindtime = -1
removetime = -2
pausemovetime = 65535
scale = .5,.5
sprpriority = 5
ontop = 1
ownpal = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2= invisible
ignorehitpause = 1

[State 0, ChangeAnim]
type = null;ChangeAnim
trigger1 = animtime = 0
value = IFELSE(anim=6020,6021,6020)
elem = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 1
add = -256,-256,-256
mul = 256,256,256
sinadd = 0,0,0,10
invertall = 0
color = 256

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = parent,stateno!=8100 || parent,movetype = H
id = 6020

[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent,stateno!=8100 || parent,movetype = H
;---------------------------------------------------------------------------

;SuperCharge
[Statedef 6800]
physics = N
velset = 0,0
anim = 6800
sprpriority = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,22
volume = 512

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = nobg
flag3 = noFG

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 26
value = 512

[State 0, VarAdd]
type = VarAdd
triggerall = var(26)>=0
trigger1 = time >= 0
v = 26
value = -11

[State 6800, BgPalfx]
type = Null;BgPalfx
trigger1 = Time >=0
time = 1
add = 256,256,256
mul = var(26),var(26),var(26);512-ceil(21*time),512-ceil(21*time),512-ceil(21*time)
invertall = 1

[State 0, BindToParent]
type = null;BindToParent
trigger1 = 1
pos = parent,var(11),parent,var(12)

[State 0, Explod]
type = Explod
trigger1 = time = 24
anim = 6802
ID = 7005
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 16
supermovetime = -1
scale = 0.05,0.05
sprpriority = 4
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 8520, Scale]
type = ModifyExplod
trigger1 = numexplod(7005)
ID = 7005
scale = 2 -(0.125 * (time -24)), 2 -(0.125 * (time -24))
trans = addalpha
alpha = ifelse((time -24) < 4, 64 * (time -24), 256), 256

[State 0, Explod]
type = Explod
trigger1 = time = 0 || time = 8 || time = 16 || time = 24
anim = 6801
ID = ifelse(time = 24, 7004, ifelse(time = 16, 7003, ifelse(time = 8, 7002, 7001)))
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 16
supermovetime = -1
scale = 1,1
sprpriority = 4
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = numexplod(7001)
ID = 7001
scale = 1-(0.0625*time), 1-(0.0625*time)
trans = addalpha
alpha = ifelse(time < 4,64*time,256),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = numexplod(7002)
ID = 7002
scale = 1-(0.0625*(time -8)),1-(0.0625*(time-8))
trans = addalpha
alpha = ifelse((time -8) < 4,64*(time -8),256),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = numexplod(7003)
ID = 7003
scale = 1-(0.0625*(time-16)),1-(0.0625*(time-16))
trans = addalpha
alpha = ifelse((time -16) < 4, 64*(time -16),256),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = numexplod(7004)
ID = 7004
scale = 1-(0.0625*(time-24)),1-(0.0625*(time-24))
trans = addalpha
alpha = ifelse((time-24) < 4,64*(time -24), 256),256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = time <= 10
trans = addalpha
alpha = 256,256

[State 0, Trans]
type = Trans
trigger1 = time > 10
trans = addalpha
alpha = ceil(256-(8.53*(time-10))),256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 500, Angle]
type = Angleadd
trigger1 = 1
value = 15

[State 500, Draw]
type = AngleDraw
trigger1 = 1
scale = .04*time,.04*time

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;HitSpark-Counter
[Statedef 7997]
anim =  7997
type = A
physics = N
moveType = I
velSet = 0,0
sprPriority = 5

[State 0, AngleAdd]
type = AngleAdd
trigger1 = 1
value = 22.5*time
ignorehitpause = 1

[State 8000, AngleDraw]
type = AngleDraw
trigger1 = Time >=0
scale = 0+(0.025*time),0+(0.025*time)
ignorehitpause = 1

[State 8000, Transparency]
type = Trans
trigger1 = 1
trans = AddAlpha
alpha = 256-(16*time),256
ignoreHitPause = 1

[State 0]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7014]
type = destroyself
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
;GuardSpark
[Statedef 7998]
anim =  ifelse((parent,stateno = [200,999]),7998,7999)
type = A
physics = N
moveType = I
velSet = 0,0
sprPriority = 5

[State 8000, AngleDraw]
type = AngleDraw
triggerall = anim = 7998
trigger1 = Time >=0
scale = 0+(0.01*time),0+(0.02*time)
ignorehitpause = 1

[State 8000, AngleDraw]
type = AngleDraw
triggerall = anim = 7999
trigger1 = Time >=0
scale = 0+(0.01*time),0+(0.02*time)
ignorehitpause = 1

[State 8000, Transparency]
type = Trans
trigger1 = time < 6
trans = AddAlpha
alpha = 256,256
ignoreHitPause = 1

[State 8000, Transparency]
type = Trans
trigger1 = time >= 6
trans = AddAlpha
alpha = 256-(25*(time-6)),256
ignoreHitPause = 1

[State 0]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7014]
type = destroyself
trigger1 = time >= 16

;---------------------------------------------------------------------------
;Weak Hit Spark
[StateDef 8000]
type = A
physics = N
moveType = I
anim = 7001
velSet = 0,0
sprPriority = 5

[State 8010, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignoreHitPause = 1

[State 8010, AngleSet]
type = AngleSet
trigger1 = !Time
value = 30 * (Random % 12)

[State 8010, AngleAdd]
type = AngleAdd
trigger1 = 1
value = 30

[State 8010, Scale]
type = AngleDraw
trigger1 = Time < 10
scale = 0.22 - (Time * 0.017), 0.22 - (Time * 0.017)
ignoreHitPause = 1

[State 8010, Scale]
type = AngleDraw
trigger1 = Time >= 10
scale = 0,0
ignoreHitPause = 1

[State 8010, Transparency]
type = Trans
trigger1 = 1
trans = AddAlpha
alpha = 256,256
ignoreHitPause = 1

[State 8010, Center Explod]
type = Explod
trigger1 = !Time
anim = 7002
ID = 1
posType = P1
facing = ifElse(Random < 500, -1, 1)
vFacing = ifElse(Random < 500, -1, 1)
sprPriority = 5
removeTime = 20
pauseMoveTime = -1
superMoveTime = -1

[State 8010, Scale Center Explod]
type = ModifyExplod
trigger1 = NumExplod(1)
ID = 1
scale = 0.14 + (0.009375 * Time), 0.14 + (0.009375 * Time)
trans = AddAlpha
alpha = 256 - (16 * Time),256

[State 8010, Streaks Explod]
type = Explod
trigger1 = !Time
anim = 7003
ID = 2
posType = P1
facing = ifElse(Random < 500, -1, 1)
vFacing = ifElse(Random < 500, -1, 1)
sprPriority = 5
removeTime = 20
pauseMoveTime = -1
superMoveTime = -1

[State 8010, Scale Streaks Explod]
type = ModifyExplod
trigger1 = NumExplod(2)
ID = 2
scale = 0.14 + (0.009375 * Time), 0.14 + (0.009375 * Time)
trans = AddAlpha
alpha = 256 - (16 * Time), 256

[State 8010, Impact Explod]
type = Explod
trigger1 = !Time
anim = 7005
ID = 4
posType = P1
facing = ifElse(Random < 500, -1, 1)
vFacing = ifElse(Random < 500, -1, 1)
sprPriority = 3
removeTime = 12
pauseMoveTime = -1
superMoveTime = -1

[State 8010, Scale Impact Explod]
type = ModifyExplod
trigger1 = NumExplod(4)
ID = 4
scale = 0.29 - (0.02 * Time), 0.29 - (0.02 * Time)
trans = AddAlpha
alpha = 128 - (16 * Time), 256

[State 8010, Remove Explods]
type = RemoveExplod
trigger1 = Time >= 20

[State 8010, End]
type = DestroySelf
trigger1 = Time >= 20
;-------------------------------------------------------------------------------
;HitSparks
[Statedef 8050]
anim =  IfElse((parent,stateno=[200,999]),8005,IfElse((parent,stateno=[1000,2999]),8007,8009))
type = A
physics = N
moveType = I
velSet = 0,0
sprPriority = 5

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 =  parent,movetype = H
value = IfElse((parent,prevstateno=[200,999]),8005,IfElse((parent,prevstateno=[1000,2999]),8007,8009))
ignorehitpause = 1

[State 8000, Explod]
type = Explod
trigger1 = Time<=4
trigger1 = numexplod(8000)<5
anim = IfElse((parent,stateno=[200,999]),8000,IfElse((parent,stateno=[1000,2999]),8001,8002))
ID = 8000
postype = p1
vel = -5+random%11, -5+random%11
supermovetime = -1
pausemovetime = -1
scale = .5,.5
sprpriority = 5

[State 7020, ModifyExplod]
type = ModifyExplod
trigger1 = NumExplod(8000)
ID = 8000
trans = addalpha
alpha = 256-16*Time,256

[State 8000, AngleDraw]
type = AngleDraw
trigger1 = Time < 10
scale = .2625+(time*.07875), .2625-(time*.02625)

[State 8000, AngleDraw]
type = AngleDraw
trigger1 = Time>=10
scale = 0,0

[State 8000, Explod]
type = Explod
trigger1 = !Time
anim = IfElse((parent,stateno=[200,999]),8006,IfElse((parent,stateno=[1000,2999]),8008,8010))
ID = 8006
postype = p1
removetime = 14
supermovetime = -1
pausemovetime = -1
sprpriority = 5

[State 8000, ModifyExplod]
type = ModifyExplod
trigger1 = NumExplod(8006)
ID = 8006
scale = 0+(.04*Time), 0+(.04*Time)

[State 8000, ModifyExplod]
type = ModifyExplod
trigger1 = time > 4
ID = 8006
trans = addalpha
alpha = Ceil(256-25.6*(Time-4)),256

[State 8011, AngleSet]
type = AngleSet
trigger1 = !Time
value = 1+random%360

[State 8011, AngleAdd]
type = AngleAdd
trigger1 = !time
value = 1+random%360

[State 8000, Transparency]
type = Trans
trigger1 = 1
trans = AddAlpha
alpha = 256,256
ignoreHitPause = 1

[State 0]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7014]
type = destroyself
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
;HitClash
[Statedef 8100]
type = S
movetype= A
physics = S
velset = 0,0
ctrl = 0

[State 3705, Helper]
type = Helper
trigger1 = numhelper(6021)<1
helpertype = normal
name = "Viento"
ID = 6021
stateno = 6021
pos = 0,0
postype = back
facing = 1
ownpal = 1
supermovetime = 65535
pausemovetime = 65535
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 3705, Helper]
type = Helper
trigger1 = gametime%7=0
helpertype = normal
name = "Hit Spark"
ID = 8000
stateno = ifelse(random> 700,7998,8000)
pos = -10+random%80,0-random%60
postype = p1
facing = 1
ownpal = 1
supermovetime = 65535
pausemovetime = 65535
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = gametime%5=0
anim = 7000+random%9
ID = 7000
pos = -10+random%80,0-random%60
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .75,.75
sprpriority = -5+random%10
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = !numexplod(8120)
anim = 8120
ID = 8120
pos = -50,-100
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .25,.35
sprpriority = 5
ontop = 1
ownpal = 0
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = !numexplod(8121)
anim = 8121
ID = 8121
pos = -50,-100
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .00625,.35
sprpriority = 4
ontop = 0
ownpal = 0
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = !numexplod(8122)
anim = 8122
ID = 8122
pos = -50,-100
postype = p1 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .25,.35
sprpriority = 3
ontop = 0
ownpal = 0
removeongethit = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
id = 8121
scale = .00625+(var(33)*.00625),.35
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = !numexplod(8123)
anim = 8120
ID = 8123
pos = -50,-100
postype = p2 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .25,.35
sprpriority = 5
ontop = 1
ownpal = 0
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = !numexplod(8124)
anim = 8121
ID = 8124
pos = -50,-100
postype = p2 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .00625,.35
sprpriority = 4
ontop = 0
ownpal = 0
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = !numexplod(8125)
anim = 8122
ID = 8125
pos = -50,-100
postype = p2 ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .25,.35
sprpriority = 3
ontop = 0
ownpal = 0
removeongethit = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
id = 8124
scale = .00625+(enemynear,var(33)*.00625),.35
ignorehitpause = 1


[State 901,1]
type = targetBind
trigger1 = 1
pos = 60,0

[State 0, VelSet]
type = VelSet
trigger1 = gametime%4=0
x =ifelse(random > 500,-5,5)

[State 0, EnvColor]
type = EnvColor
trigger1 = gametime%16=0
value = 255,255,255
time = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = gametime%14=0
time = 20
freq = 90
ampl = -4

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = random = [0,166]
trigger1 = time = 0
trigger2 = animtime = 0
value = ifelse(random>500,200,ifelse(selfAnimExist(201),201,200))
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = random = [167,333]
trigger1 = time = 0
trigger2 = animtime = 0
value = ifelse(random>500,210,ifelse(selfAnimExist(211),211,210))
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = random = [334,500]
trigger1 = time = 0
trigger2 = animtime = 0
value = ifelse(random>500,210,ifelse(selfAnimExist(220),220,210))
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = random = [501,666]
trigger1 = time = 0
trigger2 = animtime = 0
value = ifelse(random>500,230,ifelse(selfAnimExist(231),231,230))
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = random = [667,833]
trigger1 = time = 0
trigger2 = animtime = 0
value = ifelse(random>500,240,ifelse(selfAnimExist(241),241,240))
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = random = [833,999]
trigger1 = time = 0
trigger2 = animtime = 0
value = ifelse(random>500,230,ifelse(selfAnimExist(250),250,210))
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 33
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = gametime%150 = 0
value = S0,17
channel = 5
volume = 512

[State 0, PlaySnd]
type = PlaySnd
trigger1 = gametime%10 = 0
value = S300+random%4,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = gametime%80 = 0
value = S500,0

[State 0, VarAdd]
type = VarAdd
trigger1 =command = "a" || command = "b" || command = "c" || command = "x" || command = "y" || command = "z"
v = 33
value = 1
ignorehitpause = 1

[State 0, HitAdd]
type = HitAdd
trigger1 =command = "a" || command = "b" || command = "c" || command = "x" || command = "y" || command = "z"
value = 1
ignorehitpause = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = var(33)>=40 || enemynear,var(33)>=40
channel = 5

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(33)>=40 || enemynear,var(33)>=40
id = 8110

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(33)>=40 || enemynear,var(33)>=40
id = 8120

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(33)>=40 || enemynear,var(33)>=40
id = 8121

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(33)>=40 || enemynear,var(33)>=40
id = 8122

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(33)>=40 || enemynear,var(33)>=40
id = 8123

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(33)>=40 || enemynear,var(33)>=40
id = 8124

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(33)>=40 || enemynear,var(33)>=40
id = 8125

[State 0, SelfState]
type = ChangeState
trigger1 = p2stateno != [8100,8105]
value = 0
ctrl = 1

[State 0, SelfState]
type = ChangeState
trigger1 = var(33)>=40
value = 8105
ctrl = 1
;-------------------------------------------------------------------------------
;HitClash
[Statedef 8101]
type = S
movetype= H
physics = S
velset = 0,0
ctrl = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 33
value = 0

[State 901,1]
type = targetBind
trigger1 = 1
pos = 60,0

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = random = [0,166]
trigger1 = time = 0
trigger2 = animtime = 0
value = ifelse(random>500,200,ifelse(selfAnimExist(201),201,200))
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = random = [167,333]
trigger1 = time = 0
trigger2 = animtime = 0
value = ifelse(random>500,210,ifelse(selfAnimExist(211),211,210))
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = random = [334,500]
trigger1 = time = 0
trigger2 = animtime = 0
value = ifelse(random>500,210,ifelse(selfAnimExist(220),220,210))
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = random = [501,666]
trigger1 = time = 0
trigger2 = animtime = 0
value = ifelse(random>500,230,ifelse(selfAnimExist(231),231,230))
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = random = [667,833]
trigger1 = time = 0
trigger2 = animtime = 0
value = ifelse(random>500,240,ifelse(selfAnimExist(241),241,240))
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = random = [833,999]
trigger1 = time = 0
trigger2 = animtime = 0
value = ifelse(random>500,240,ifelse(selfAnimExist(250),250,240))
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 =command = "a" || command = "b" || command = "c" || command = "x" || command = "y" || command = "z"
v = 33
value = 1
ignorehitpause = 1

[State 0, HitAdd]
type = HitAdd
trigger1 =command = "a" || command = "b" || command = "c" || command = "x" || command = "y" || command = "z"
value = 1
ignorehitpause = 1

[State 0, SelfState]
type = ChangeState
trigger1 = var(33)>=40 ;time >= 250 ||
value = 8105;ifelse(var(33)>enemy,var(33),1500,0)
ctrl = 1

;-------------------------------------------------------------------------------
;HitClash
[Statedef 8105]
type = S
movetype= A
physics = S
velset = 0,0
ctrl = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = ifelse(selfAnimExist(220),220,210)
elem = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 7
y = 0

[State 710]
type = Hitdef
trigger1 = time = 0
attr = S, SA
hitflag  = MAF
animtype = Heavy
guardflag = MA
priority = 2, Hit
damage   = 100,10
pausetime = 12,18
numhits = 1
sparkno = 1
guard.sparkno  = 3
sparkxy  = 0,-55
hitsound = S303,0
guardsound = S1,5
ground.type  = High
air.type = Low
ground.slidetime = 30
ground.hittime  = 36
air.hittime  = 35
ground.velocity  = -6,-7
guard.velocity  = -5
air.velocity  = -6,-7
airguard.velocity = -6,-7
ground.cornerpush.veloff = -5
air.cornerpush.veloff = -6
fall =1
fall.recover = 0
getpower = 0,0
givepower = 0,0
envshake.time = 12
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 0, SelfState]
type = SelfState
trigger1 = animtime = 0
value = 0
ctrl = 1
;===============================================================================
;Normal Hit Spark
[StateDef 8011]
type = A
physics = N
moveType = I
anim = 7001
velSet = 0,0
sprPriority = 5

[State 8010, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignoreHitPause = 1

[State 8010, AngleSet]
type = AngleSet
trigger1 = !Time
value = 30 * (Random % 12)

[State 8010, AngleAdd]
type = AngleAdd
trigger1 = 1
value = 30

[State 8010, Scale]
type = AngleDraw
trigger1 = Time < 10
scale = 0.22 - (Time * 0.017), 0.22 - (Time * 0.017)
ignoreHitPause = 1

[State 8010, Scale]
type = AngleDraw
trigger1 = Time >= 10
scale = 0,0
ignoreHitPause = 1

[State 8010, Transparency]
type = Trans
trigger1 = 1
trans = AddAlpha
alpha = 256,256
ignoreHitPause = 1

[State 8010, Center Explod]
type = Explod
trigger1 = !Time
anim = 7004
ID = 1
posType = P1
facing = -1;ifElse(Random < 500, -1, 1)
vFacing = ifElse(Random < 500, -1, 1)
sprPriority = 5
removeTime = 20
pauseMoveTime = -1
superMoveTime = -1

[State 8010, Scale Center Explod]
type = ModifyExplod
trigger1 = NumExplod(1)
ID = 1
scale = 0.17 + (0.009375 * Time), 0.15 + (0.009375 * Time)
trans = AddAlpha
alpha = 256 - (15 * Time),256

[State 8010, Streaks Explod]
type = Explod
trigger1 = !Time
anim = 7003
ID = 2
posType = P1
facing = ifElse(Random < 500, -1, 1)
vFacing = ifElse(Random < 500, -1, 1)
sprPriority = 5
removeTime = 20
pauseMoveTime = -1
superMoveTime = -1

[State 8010, Scale Streaks Explod]
type = ModifyExplod
trigger1 = NumExplod(2)
ID = 2
scale = 0.14 + (0.009375 * Time), 0.14 + (0.009375 * Time)
trans = AddAlpha
alpha = 256 - (16 * Time), 256

[State 8010, Impact Explod]
type = Explod
trigger1 = !Time
anim = 7005
ID = 4
posType = P1
facing = ifElse(Random < 500, -1, 1)
vFacing = ifElse(Random < 500, -1, 1)
sprPriority = 3
removeTime = 12
pauseMoveTime = -1
superMoveTime = -1

[State 8010, Scale Impact Explod]
type = ModifyExplod
trigger1 = NumExplod(4)
ID = 4
scale = 0.29 - (0.02 * Time), 0.29 - (0.02 * Time)
trans = AddAlpha
alpha = 128 - (16 * Time), 256

[State 8010, Remove Explods]
type = RemoveExplod
trigger1 = Time >= 20

[State 8010, End]
type = DestroySelf
trigger1 = Time >= 20

;Strong Hit Spark
[StateDef 8012]
type = A
physics = N
moveType = I
anim = 7001
velSet = 0,0
sprPriority = 5

[State 8012, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignoreHitPause = 1

[State 8010, AngleSet]
type = AngleSet
trigger1 = !Time
value = 30 * (Random % 12)

[State 8010, AngleAdd]
type = AngleAdd
trigger1 = 1
value = 30

[State 8010, Scale]
type = AngleDraw
trigger1 = Time >= 10
scale = 0,0
ignoreHitPause = 1

[State 8012, Scale]
type = AngleDraw
trigger1 = Time < 10
scale = 0.4 - (Time * 0.04), 0.4 - (Time * 0.04)
ignoreHitPause = 1

[State 8012, Transparency]
type = Trans
trigger1 = 1
trans = AddAlpha
alpha = 256,256
ignoreHitPause = 1

[State 8012, Center Explod]
type = Explod
trigger1 = !Time
anim = 7002
ID = 1
posType = P1
facing = ifElse(Random < 500, -1, 1)
vFacing = ifElse(Random < 500, -1, 1)
sprPriority = 5
removeTime = 200
pauseMoveTime = -1
superMoveTime = -1

[State 8012, Scale Center Explod]
type = ModifyExplod
trigger1 = NumExplod(1)
ID = 1
scale = 0.2 + (0.0125 * Time), 0.2 + (0.0125 * Time)
trans = AddAlpha
alpha = 256 - (16 * Time), 256

[State 8012, Streaks Explod]
type = Explod
trigger1 = !time
anim = 7003
ID = 2
posType = P1
facing = ifElse(Random < 500, -1, 1)
vFacing = ifElse(Random < 500, -1, 1)
sprPriority = 5
removeTime = 20
pauseMoveTime = -1
superMoveTime = -1

[State 8012, Scale Streaks Explod]
type = ModifyExplod
trigger1 = NumExplod(2)
ID = 2
scale = 0.2 + (0.0125 * Time), 0.2 + (0.0125 * Time)
trans = AddAlpha
alpha = 256 - (16 * Time), 256

[State 8012, Impact Explod]
type = Explod
trigger1 = !Time
anim = 7005
ID = 4
posType = P1
facing = ifElse(Random < 500, -1, 1)
vFacing = ifElse(Random < 500, -1, 1)
sprPriority = 3
removeTime = 12
pauseMoveTime = -1
superMoveTime = -1

[State 8012, Scale Impact Explod]
type = ModifyExplod
trigger1 = NumExplod(4)
ID = 4
scale = 0.4 - (0.05 * Time), 0.4 - (0.05 * Time)
trans = AddAlpha
alpha = 128 - (16 * Time), 256

[State 8012, Remove Explods]
type = RemoveExplod
trigger1 = Time >= 20

[State 8012, End]
type = DestroySelf
trigger1 = Time >= 20

;===============================================================================
;Normal Hit Spark
[StateDef 8015]
type = A
physics = N
moveType = I
anim = 7001
velSet = 0,0
sprPriority = 5

[State 8010, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = invisible
ignoreHitPause = 1

[State 8010, End]
type = DestroySelf
trigger1 = Time >= 0
;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------
;
;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------
[StateDef -2]
;---------------------------------------------------------------------------
;Character, Creator Display
[State -2, DisplayToClipboard]
type = DisplayToClipboard
triggerall = Var(1) = 0
trigger1 = 1
text = "18"
;---------------------------------------------------------------------------
;WinKO Effect by FlowaGirl
[State -2, Helper]
type = Helper
trigger1 = (WinKO) && (NumHelper(9998) = 0)
helpertype = Normal
name = "WinKO"
id = 9998
pos = 0,0
postype = p1
facing = 0
stateno = 9998
keyctrl = 0
ownpal = 1
supermovetime = 1000
pausemovetime = 1000
ignorehitpause = 1
;---------------------------------------------------------------------------
[State -2, Hit Detection]
type = VarSet
trigger1 = MoveContact = 1&& var(2) < 0
v = 2
value = Hitpausetime
ignoreHitPause = 1

[State -2, Hit Sparks]
type = Helper
triggerAll = MoveContact = 1 && var(2) = HitPauseTime
trigger1 = MoveHit = 1&& NumEnemy
trigger2 = MoveGuarded = 1 && NumEnemy
helperType = Normal
stateNo = ifElse(MoveGuarded, 7998,8000)
ID = 8000
name = "Spark"
postype = P1
pos = ifElse(P2Dist x < 0, 0, ifElse(P2Dist x < var(52), ceil(P2Dist x), var(52))),var(53)
facing = -1
ownPal = 1
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State -2, Helper]
type = Helper
trigger1 = Movehit = 1 && var(2)= Hitpausetime
trigger1 = Numenemy && var(3)
trigger1 = (Hitdefattr != SCA,AT) && (EnemyNear,MoveReversed != 1)
helpertype = normal ;player
name = "Counter_FX"
ID = 7997
stateno = 7997
pos = ifElse(P2Dist x < 0, 0, ifElse(P2Dist x < var(52), ceil(P2Dist x), var(52))),var(53)
postype = p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1


[State -2, VarSet]
type = VarSet
trigger1 = Numenemy
v = 3
value = (EnemyNear, MoveType = A)
ignoreHitPause = 1

[State -2, Hit Detection]
type = VarSet
trigger1 = MoveType = I
trigger2 = MoveType = H && Time
var(2) = -1
ignoreHitPause = 1

[State -2, Hit Detection]
type = VarSet
trigger1 = 1
var(2) = -1

[State -2, PalFX]
type = PalFX
triggerall = var(56)=1
trigger1 = (gametime%50)=0
time = 50;power;/(ifelse(movetype = A,6,ifelse(movetype =H,2,4)))
add = 50,50,20
mul = 256,256,256
sinadd = 50,50,25,50
persistent = 0
ignorehitpause = 1

[State -2, LifeAdd]
type = LifeAdd
trigger1 = var(56)=1 && numhelper(4010)=1
value = helper(4010),var(58)
kill = 1
absolute = 0

[State -2, VarSet]
type = VarSet
trigger1 = p2movetype !=H
v = 57
value = 0

[State -2, VarAdd]
type = VarAdd
triggerall = var(57) < 10
trigger1 = movehit && hitpausetime = 1 && p2movetype =H
v = 57
value = 1
ignorehitpause = 1

[State -2, AttackMulSet]
type = AttackMulSet
triggerall= var(56)!=1
trigger1 = p2movetype !=H
value = 1

[State -2, AttackMulSet]
type = AttackMulSet
trigger1= var(56)!=1
value = 1-(var(57)*0.05)

[State -2, AttackMulSet]
type = AttackMulSet
trigger1= var(56)=1
value = 1.1

;---------------------------------------------------------------------------
; Flight Detection Variable Reset
;[State -2, FlightDetectionReset]
;type = VarSet
;trigger1 = stateno != [200, 399]
;v = 21
;value = 0
;---------------------------------------------------------------------------
; Chrono_Strife Hotness Detection
[State -2, How Hot is Chrono_Strife?]
type = null;SVarSet                  ;Nulled SVarSet, MUGEN can't handle my sexiness.
trigger1 = 1                         ;Always Triggered
sv = 69                              ;SexVariable(69)
value = 100                          ;100% Sexiness
;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------
[Statedef -3]
;---------------------------------------------------------------------------
[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = StateNo = 52 ;Jump land
value = 40, 1

[State -3, LowHealthVariable]
type = VarRandom
trigger1 = life < 250 && Var(7) = 0
v = 7
range = 1,5

[State -3, P2LowHealthVariable]
type = VarRandom
trigger1 = p2life < 250 && Var(8) = 0
v = 8
range = 1,6
;---------------------------------------------------------------------------
;Damage Dampener
[State -3, VarSet]
type = VarSet
triggerall = p2movetype != H
trigger1 = time > 3
v = 29
value = 0

[State -3, AttackMulSet]
type = AttackMulSet
trigger1 = Var(29) = 0
value = 1

[State -3, AttackMulSet]
type = AttackMulSet
trigger1 = Var(29) > 0 && Var(29) <= 10
value = 1-(Var(29)*0.075)

[State -3, VarAdd]
type = VarAdd
trigger1 = (stateno = [200,799]) && movehit
v = 29
value = 1
;---------------------------------------------------------------------------
[State -3, Armor.HitOverride]
type = HitOverride
trigger1 = Var(4) = 1
attr = SCA, AA, AP, AT
stateno = 4100

[State -3, Armor.PalFX]
type = PalFX
triggerall = Var(4) = 1
trigger1 = timemod = 4,0
time = 2
add = 100,0,0

[State -3, VarSet]
type = VarSet
trigger1 = movetype != H
v = 5
value = stateno
;---------------------------------------------------------------------------
[State -3, P2 Smash Ground]
type = Helper
trigger1 = p2stateno = 95027 && numhelper(15170) = 0
helpertype = normal
stateno = 15170
Id = 15170
pos = 0,0
postype = p2
bindtime = 1
ownpal = 1
keyctrl = 0
;--------------------------------------------------------------------------
[State -3, RemoveHearts]
type = RemoveExplod
triggerall = numexplod(16000) > 0
trigger1 = p2movetype != H 
trigger2 = target, vel X != 0 || target, vel Y != 0
trigger3 = stateno != 1600 && movecontact
ID = 16000
;--------------------------------------------------------------------------
[State -3, Fall]
type = Changestate
triggerall = (statetype = S || statetype = C) && pos y < 0 
trigger1 = (stateno = [0,299]) || (stateno =[311,599])
value = 50
ctrl = 1
;------------------------------------------------------------------------------
;Artificial Intelligence
;------------------------------------------------------------------------------

;------------------------------------------------------------------------------
;[State -3, AI.Fly]
;type = ChangeState
;triggerall = (var(39) = 1) && Pos Y >= 0 && MoveType != H && ctrl = 1 && p2life > 0 && stateno != [3000,3106]
;trigger1 = p2StateType = S && p2MoveType != H && p2BodyDist Y < -99
;value = 3000

;[State -3, AI.Land]
;type = ChangeState
;triggerall = (var(39) = 1) && MoveType != H && stateno = 3100
;trigger1 = (p2StateType = S && p2stateno = 0) || (p2MoveType = H && p2BodyDist Y > 40)
;value = 3105

;------------------------------------------------------------------------------
[State -3,AIGuard]
type = null;ChangeState
triggerall = Var(39)= 1 && statetype = S && ctrl = 1
trigger1 = (stateno = 100 || stateno = 52) && p2movetype = A
value = 130

[State -3,AIGuard]
type = null;ChangeState
triggerall = Var(39)= 1 && statetype = C && ctrl = 1
trigger1 = (stateno = 140 || stateno = 150 || stateno = 151) && p2movetype = A
value = 131

[State -3,AIGuard]
type = null;ChangeState
triggerall = Var(39)= 1 && statetype = A && ctrl = 1
trigger1 = p2movetype = A
value = 132
;------------------------------------------------------------------------------
;Close-Throw State Decider Reset
[State -3, AI.StateDeciderReset]
type = VarSet
triggerall = (var(39) = 1) && alive = 1 && statetype = S && Var(40) != 0
trigger1 = stateno != 0
v= 40
value = 0

;Close-Throw State Decider
[State -3, AI.StateDecider]
type = VarRandom
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && Var(40) = 0
trigger1 = p2bodydist x < 7 && stateno = 0
v= 40
range = 1,200
