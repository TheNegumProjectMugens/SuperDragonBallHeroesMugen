;==============================
;"Goku", from Super Boutuden 2
;==============================

;----------------------------------------
;Author:	The Necromancer
;		flowergirl@cutey.com
;----------------------------------------

;===========================================================================
;-| Notes |-----------------------------------------------------------------
;None!

;--------------
;Integer Variables:
;--------------

;0: Long Jump
;1: Intro/Win/Lose
;2: AI Activation
;3: Combo Detection
;4: Corner Push
;5: Command
;6: Zanzouken
;7: Chou KameHameHa
;8: HitSpark Position X
;9: HitSpark Position Y
;10: Corner Juggle Limit
;11: Parry Window
;12: Parry Command

;--------------
;Float Variables:
;--------------

;0: Velocity X
;1: Velocity Y

;===========================================================================
;-| Data |------------------------------------------------------------------

;---------------------------------------------------------------------------
[Data]
life 		= 1100
attack 		= 100
defence 	= 100
power		= 3000
fall.defence_up = 50
liedown.time 	= 40
airjuggle 	= 15
sparkno 	= -1 ;S9010
guard.sparkno 	= -1
KO.echo 	= 0
volume 		= 255
IntPersistIndex = 60
FloatPersistIndex = 40

[Size]
xscale 		= 1
yscale 		= 1
ground.back 	= 20
ground.front 	= 20
air.back 	= 20
air.front 	= 20
height 		= 60
attack.dist 	= 160
proj.attack.dist = 90
proj.doscale 	= 0
head.pos 	= 12,-70
mid.pos 	= 0,-50
shadowoffset 	= 0
draw.offset 	= 0,1

[Velocity]
walk.fwd  	= 2.9
walk.back 	= -2.5
run.fwd  	= 8.5,0
run.back 	= -8.1,0
jump.neu 	= 0,-8.5
jump.back 	= -3.5
jump.fwd 	= 3.7
runjump.back 	= -2.0,-8
runjump.fwd 	= 4,-8
airjump.neu 	= 0,-8
airjump.back 	= -2.0.-8
airjump.fwd 	= 2.0,-8

[Movement]
airjump.num 	= 0
airjump.height 	= 35
yaccel 		= .45
stand.friction 	= .85
crouch.friction = .82

;===========================================================================
;-| Intro/Win/Lose |--------------------------------------------------------

;---------------------------------------------------------------------------
;Lose State
[Statedef 170]
type 		= S
movetype	= I
physics		= S
anim		= 5300
velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 170: 	AssertSpecial] 
type 			= AssertSpecial
trigger1 		= (Time < 100)
flag 			= RoundNotOver

[State 170: 	NotHotBy]
type 		= NotHitBy
trigger1 	= 1
value 		= SCA
time 		= 1


;---------------------------------------------------------------------------
;Win State Decider
[Statedef 180]
type 		= S
movetype	= I
physics		= S
;anim		= 180
velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 180: 	AssertSpecial] 
type 			= AssertSpecial
trigger1 		= 1
flag 			= RoundNotOver

[State 180: 	NotHotBy]
type 			= NotHitBy
trigger1 		= 1
value 		= SCA
time 			= 1

[State 0]
type = ChangeState
trigger1 = random <= 249
value = 181
[State 0]
type = ChangeState
trigger1 = random <= 249
value = 185


;---------------------------------------------------------------------------
;Win001  - Jumping Up
[Statedef 181]
type 		= S
movetype	= I
physics		= S
anim		= 181
velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 181: 	AssertSpecial] 
type 		= AssertSpecial
trigger1 	= (Time < 200)
flag 		= RoundNotOver

[State 0, VelSet]
type = VelSet
trigger1 = time = 6
x = 0
y = -3

[State 0, VelAdd]
type = VelAdd
trigger1 = time > 20
x = 0
y = 0.3



[State 181: 	NotHotBy]
type 		= NotHitBy
trigger1 	= 1
value 		= SCA
time 		= 1

[State 0, ChangeState]
type = ChangeState
triggerall = time > 30
trigger1 = pos y >= 0
value = 182

;-----------------------------
;Win001 - Landing
[Statedef 182]
type 		= S
movetype	= I
physics		= S
anim		= 182
velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0


[State 181: 	AssertSpecial]
type 		= AssertSpecial
trigger1 	= (Time < 150)
flag 		= RoundNotOver

[State 191:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 1)
value			= S1,2





;---------------------------------------------------------------------------
;Win002
[Statedef 185]
type 		= S
movetype	= I
physics		= S
anim		= 185
velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 170: 	AssertSpecial]
type 			= AssertSpecial
trigger1 		= (Time < 303)
flag 			= RoundNotOver

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,20
volume = 100
channel = 1

[State 181: 	NotHotBy]
type 			= NotHitBy
trigger1 		= 1
value 		= SCA
time 			= 1

;---------------------------------------------------------------------------
;Intro
[Statedef 190]
type 		= S
movetype	= I
physics		= N
anim		= 190
velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= -3

[State 191:		AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= Intro
flag2			= NoBarDisplay
flag3			= NoMusic

[State 0, ]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
;ignorehitpause = 0
;persistent = 1

[State 0, 1]
type = PosAdd
trigger1 = time = 0;!time
x = -300
y = -100
;ignorehitpause = 0
;persistent = 1

[State 0, VelSet]
type = VelSet
trigger1 = time > 0
x = 3
y = 2

[State 0, VelAdd]
type = VelAdd
triggerall = pos Y <= -60
trigger1 = time > 0
x = 0
y = -0.8

[State 0, VelSet]
type = VelSet
trigger1 = pos Y <= -60
y = 0

[State 190:		Helper]
type		= Helper
trigger1	= Time = 0
helpertype	= Normal
name		= "Nube Voladora"
id		= 195
pos		= 0,10
postype		= p1
facing		= 1
stateno		= 195
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 1
size.yscale     = 1

[State 0, VelSet]
type = VelSet
trigger1 = P2dist x <= 140
x = 0
y = 0


[State 190: 	ChangeState]
type 		= ChangeState
trigger1	= time = 150
value 		= 191

;---------------------------------------------------------------------------
;Intro - salto
[Statedef 191]
type 		= S
movetype	= I
physics		= N
anim		= 191
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 1

[State 191:		AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= Intro
flag2			= NoBarDisplay
flag3			= NoMusic

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 0
y = -5


[State 0, VelAdd]
type = VelAdd
trigger1 = time > 0
x = 0
y = 0.4


[State 190: 	ChangeState]
type 		= ChangeState
trigger1	= Pos y >= 0
value 		= 192

;---------------------------------------------------------------------------
;Intro - Hola, soy Gokú
[Statedef 192]
type 		= S
movetype	= I
physics		= N
anim		= 192
velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 1

[State 191:		AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= Intro
flag2			= NoBarDisplay
flag3			= NoMusic

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 191:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 1)
value			= S1,2

[State 191:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S4,18

[State 190: 	ChangeState]
type 		= ChangeState
trigger1	= time = 150
value 		= 193

;---------------------------------------------------------------------------
;Intro - Tranformación
[Statedef 193]
type 		= S
movetype	= I
physics		= N
anim		= 193
velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 1

[State 191:		AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= Intro
flag2			= NoBarDisplay
flag3			= NoMusic

[State 191:		EnvColor]
type			= EnvColor
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 2, < 10) && ((GameTime%2) = 0)
value			= 255,255,255
time			= 1

[State 191:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S3,1

[State 190: 	ChangeState]
type 		= ChangeState
trigger1	= time = 50
value 		= 194

;---------------------------------------------------------------------------
;Intro - Te haré pedazos
[Statedef 194]
type = S
ctrl = 0
anim = 194
velset = 0,0

[State 191:		AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= Intro
flag2			= NoBarDisplay
flag3			= NoMusic

[State 191:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S4,19

[State 191, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
;Intro - Nube Voladora
[Statedef 195]
type 		= S
movetype	= I
physics		= N
anim		= 195
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= -2

[State 0, BindToParent]
type = BindToParent
trigger1 = time = 0
time = 150
;facing = 0
pos = 0,30

[State 900, Explod]
type = Explod
triggerall = P2dist x !=[135,145]
trigger1 = Time%6 = 0
anim =  196
ID = 196
pos = 0,0
postype = p1
facing = 1
sprpriority = -5
vfacing = 1
bindtime = 1
scale = 2,2
Ontop = 0
removetime = -2
removeongethit = 1

[State 0, VelSet]
type = VelSet
trigger1 = time > 250
x = 3
y = 0

[State 190: 	ChangeState]
type 		= destroyself
trigger1	= time = 800


;===========================================================================
;-| Basic |-----------------------------------------------------------------
;---------------------------------------------------------------------------
;Stand Weak Punch
[Statedef 200]
type 		= S
movetype	= A
physics		= S
anim		= 200
velset		= 0,0
ctrl		= 0
poweradd	= 20
juggle		= 1
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 200:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,7

[State 200:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 2, = 0)
attr		= S, NA
hitflag		= MAF
guardflag	= M
animtype	= Light
air.animtype	= Back
priority	= 5, Hit
damage		= 30
pausetime	= 6,8
guard.pausetime	= 6,8
sparkno		= S7001
guard.sparkno	= S7000
sparkxy		= 0,-50
hitsound	= S2,9
guardsound	= S0,9
ground.type	= High
air.type	= Low
ground.slidetime= 10
ground.hittime	= 10
air.hittime	= 10
yaccel		= 0.45
ground.velocity	= -4.5
guard.velocity	= -4.5
air.velocity	= -4.5,-4.7
airguard.velocity	= -4.5,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
id		= 200
getpower	= 0
givepower	= 20

[State 200, 7]
type = ChangeState
triggerall = time >= 9
trigger1 = command = "x"
value = 201
ctrl = 0

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Stand Weak Punch 2
[Statedef 201]
type 		= S
movetype	= A
physics		= S
anim		= 201
velset		= 0,0
ctrl		= 0
poweradd	= 30
juggle		= 1
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 201:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,7

[State 201:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 2, = 0)
attr		= S, NA
hitflag		= MAF
guardflag	= M
animtype	= Light
air.animtype	= Back
priority	= 5, Hit
damage		= 30
pausetime	= 6,8
guard.pausetime	= 6,8
sparkno		= S7001
guard.sparkno	= S7000
sparkxy		= -30,-50
hitsound	= S2,9
guardsound	= S0,9
ground.type	= High
air.type	= Low
ground.slidetime= 10
ground.hittime	= 10
air.hittime	= 10
yaccel		= 0.45
ground.velocity	= -4.5
guard.velocity	= -4.5
air.velocity	= -4.5,-4.7
airguard.velocity	= -4.5,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
id		= 200
getpower	= 0
givepower	= 20

[State 201:		ChangeState]
type	 = ChangeState
trigger1 = (!AnimTime)
value	 = 0
ctrl = 1

;---------------------------------------------------------------------------
;Stand Strong Punch
[Statedef 210]
type 		= S
movetype	= A
physics		= S
anim		= 210
velset		= 0,0
ctrl		= 0
poweradd	= 50
juggle		= 4
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 210:	PlaySnd]
type		= PlaySnd
trigger1	= (AnimElem = 2)
value		= S2,5

[State 0, VelSet]
type = velset
trigger1 = Time = 0 ;animelem = 1 || animelem = 2 || animelem = 3 || animelem = 4
x = 4
y = 0

[State 0, PosAdd]
type = PosAdd
trigger1 =  animelem = 3
x = 5
y = 0
;ignorehitpause =
;persistent =


[State 210:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 3, = 0)
attr		= S, NA
hitflag		= MAF
guardflag	= M
animtype	= Hard
air.animtype	= Back
priority	= 5, Hit
damage		= 50
pausetime	= 8,10
guard.pausetime	= 8,10
sparkno		= S7002
guard.sparkno	= S7000
sparkxy		= -20,-60
hitsound	= S2,3
guardsound	= S0,9
ground.type	= High
air.type	= Low
ground.slidetime = 15
ground.hittime	= 15
air.hittime	= 15
yaccel		= 0.45
ground.velocity	= -8
guard.velocity	= -8
air.velocity	= -6,-4.7
airguard.velocity	= -6,-4.7
ground.cornerpush.veloff = -8
id		= 210
getpower	= 0
givepower	= 40

[State 210:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

;---------------------------------------------------------------------------
;Stand High Punch
[Statedef 215]
type 		= S
movetype	= A
physics		= S
anim		= 215
velset		= 0,0
ctrl		= 0
poweradd	= 50
juggle		= 4
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 215:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,5

[State 215:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 2, = 0)
attr		= S, NA
hitflag		= MAF
guardflag	= M
animtype	= Hard
air.animtype	= Back
priority	= 5, Hit
damage		= 52
pausetime	= 8,10
guard.pausetime	= 8,10
sparkno		= S7003
guard.sparkno	= S7000
sparkxy		= -20,-65
hitsound	= S2,3
guardsound	= S0,9
ground.type	= High
air.type	= Low
ground.slidetime= 15
ground.hittime	= 15
air.hittime	= 15
yaccel		= 0.45
ground.velocity	= -8
guard.velocity	= -8
air.velocity	= -5,-5.7
airguard.velocity	= -5,-5.7
ground.cornerpush.veloff = -8
air.fall	= 1
id		= 215
getpower	= 0
givepower	= 40

[State 215:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

;---------------------------------------------------------------------------
;Stand Weak Kick
[Statedef 220]
type 		= S
movetype	= A
physics		= S
anim		= 220
;velset		= 0,0
ctrl		= 0
poweradd	= 30
juggle		= 3
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 220:	PlaySnd]
type		= PlaySnd
trigger1	= (AnimElem = 2)
value		= S2,7

[State 220:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 2, = 0)
attr		= S, NA
hitflag		= M
guardflag	= L
animtype	= Light
air.animtype	= Back
priority	= 5, Hit
damage		= 26
pausetime	= 6,8
guard.pausetime	= 6,8
sparkno		= S7001
guard.sparkno	= S7000
sparkxy		= -30,-40
hitsound	= S2,8
guardsound	= S0,9
ground.type	= Low
air.type	= Low
ground.slidetime = 10
ground.hittime	= 10
air.hittime	= 10
yaccel		= 0.45
ground.velocity	= -4.5
guard.velocity	= -4.5
air.velocity	= -4.5,-4.7
airguard.velocity	= -4.5,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
id		= 220
getpower	= 0
givepower	= 20

[State 220:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

;---------------------------------------------------------------------------
;Stand Strong Kick
[Statedef 230]
type 		= S
movetype	= A
physics		= S
anim		= 230
;velset		= 0,0
ctrl		= 0
poweradd	= 50
juggle		= 5
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 1 || animelem = 2 || animelem = 3
x = 7
y = 0
;ignorehitpause =
;persistent =


[State 230:	PlaySnd]
type		= PlaySnd
trigger1	= (AnimElem = 2)
value		= S2,5

[State 230:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 3)
attr		= S, NA
hitflag		= MAF
guardflag	= M
animtype	= Hard
air.animtype	= Back
priority	= 5, Hit
damage		= 52
pausetime	= 6,8
guard.pausetime	= 6,8
sparkno		= S7002
guard.sparkno	= S7000
sparkxy		= -30,-75
hitsound	= S2,0
guardsound	= S0,9
ground.type	= High
air.type	= Trip
ground.slidetime= 15
ground.hittime	= 15
air.hittime	= 15
yaccel		= 0.45
ground.velocity	= -8
guard.velocity	= -8
air.velocity	= -5.5,-5.7
airguard.velocity	= -5.5,-5.7
ground.cornerpush.veloff = -8
air.fall	= 1
id		= 230
getpower	= 0
givepower	= 40

[State 230:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

;---------------------------------------------------------------------------
;Stand High Kick
[Statedef 235]
type 		= S
movetype	= A
physics		= S
anim		= 235
;velset		= 0,0
ctrl		= 0
poweradd	= 60
juggle		= 5
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 235:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,5

[State 235:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 2, = 0)
attr		= S, NA
hitflag		= MAF
guardflag	= M
animtype	= DiagUp
air.animtype	= Back
priority	= 5, Hit
damage		= 52
pausetime	= 10,12
guard.pausetime	= 10,12
sparkno		= S7003
guard.sparkno	= S7000
sparkxy		= -12,-70
hitsound	= S2,0
guardsound	= S0,9
ground.type	= Trip
air.type	= Trip
ground.slidetime= 15
ground.hittime	= 15
air.hittime	= 15
yaccel		= 0.45
ground.velocity	= -3,-8
guard.velocity	= -3
air.velocity	= -3,-8
airguard.velocity	= -3,-8
ground.cornerpush.veloff = -8
fall		= 1
fall.recover	= 1
id		= 235
getpower	= 0
givepower	= 40

[State 235:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

;---------------------------------------------------------------------------
;Masazo
[Statedef 310]
type 		= S
movetype	= A
physics		= S
anim		= 310
velset		= 0,0
ctrl		= 0
poweradd	= 50
juggle		= 4
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 210:	PlaySnd]
type		= PlaySnd
trigger1	= (AnimElem = 2)
value		= S2,5

[State 0, VelSet]
type = velset
trigger1 = Time = 0 ;animelem = 1 || animelem = 2 || animelem = 3 || animelem = 4
x = 3
y = 0

[State 0, PosAdd]
type = PosAdd
trigger1 =  animelem = 4
x = 5
y = 0
;ignorehitpause =
;persistent =


[State 210:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 4, = 0)
attr		= S, NA
hitflag		= MAF
guardflag	= M
animtype	= Hard
air.animtype	= Back
priority	= 5, Hit
damage		= 50
pausetime	= 8,10
guard.pausetime	= 8,10
sparkno		= S7002
guard.sparkno	= S7000
sparkxy		= -20,-60
hitsound	= S2,3
guardsound	= S0,9
ground.type	= High
air.type	= Low
ground.slidetime = 15
ground.hittime	= 15
air.hittime	= 15
yaccel		= 0.45
ground.velocity	= -3, -5
guard.velocity	= -8
air.velocity	= -3,-6.7
airguard.velocity	= -6,-4.7
ground.cornerpush.veloff = -8
id		= 210
getpower	= 0
givepower	= 40

[State 210:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

;---------------------------------------------------------------------------
;Crouch Weak Punch
[Statedef 400]
type 		= C
movetype	= A
physics		= C
anim		= 400
;velset		= 0,0
ctrl		= 0
poweradd	= 30
juggle		= 2
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 410:	PlaySnd]
type		= PlaySnd
trigger1	= (AnimElem = 2)
value		= S2,7

[State 400:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 2, = 0)
attr		= C, NA
hitflag		= MAF
guardflag	= M
animtype	= Light
air.animtype	= Back
priority	= 5, Hit
damage		= 26
pausetime	= 6,8
guard.pausetime	= 6,8
sparkno		= S7001
guard.sparkno	= s7000
sparkxy		= -20,-35
hitsound	= S2,9
guardsound	= S0,9
ground.type	= Low
air.type	= Low
ground.slidetime= 10
ground.hittime	= 10
air.hittime	= 10
yaccel		= 0.45
ground.velocity	= -4.5
guard.velocity	= -4.5
air.velocity	= -4.5,-4.7
airguard.velocity	= -4.5,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
id		= 400
getpower	= 0
givepower	= 20

[State 410:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 11

;---------------------------------------------------------------------------
;Crouch Strong Punch
[Statedef 410]
type 		= C
movetype	= A
physics		= C
anim		= 410
;velset		= 0,0
ctrl		= 0
poweradd	= 40
juggle		= 4
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 410:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,5

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 6
y = 0

[State 100: 	MakeDust]
type 			= MakeDust
trigger1 		= 1
pos 			= -10, 0
spacing 		= 4


[State 410:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 3, = 0)
attr		= C, NA
hitflag		= MAF
guardflag	= M
animtype	= Hard
air.animtype	= Back
priority	= 5, Hit
damage		= 52
pausetime	= 8,10
guard.pausetime	= 8,10
sparkno		= S7002
guard.sparkno	= s7000
sparkxy		= -20,-35
hitsound	= S2,3
guardsound	= S0,9
ground.type	= Low
air.type	= Low
ground.slidetime= 15
ground.hittime	= 15
air.hittime	= 15
yaccel		= 0.45
ground.velocity	= -4, -3
guard.velocity	= -4
air.velocity	= -3,-4.7
airguard.velocity	= -6,-4.7
ground.cornerpush.veloff = -8
fall = 1
id		= 410
getpower	= 0
givepower	= 40

[State 410:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 11

;---------------------------------------------------------------------------
;Crouch Weak Kick
[Statedef 420]
type 		= C
movetype	= A
physics		= C
anim		= 420
;velset		= 0,0
ctrl		= 0
poweradd	= 40
juggle		= 3
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 1
y = 0

[State 420:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,7

[State 420:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 2, = 0)
attr		= C, NA
hitflag		= M
guardflag	= L
animtype	= Light
air.animtype	= Back
priority	= 5, Hit
damage		= 26
pausetime	= 6,8
guard.pausetime	= 6,8
sparkno		= S7001
guard.sparkno	= s7000
sparkxy		= -30,-10
hitsound	= S2,8
guardsound	= S0,9
ground.type	= Low
air.type	= Low
ground.slidetime= 10
ground.hittime	= 10
air.hittime	= 10
yaccel		= 0.45
ground.velocity	= -4.5
guard.velocity	= -4.5
air.velocity	= -4.5,-4.7
airguard.velocity	= -4.5,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
id		= 420
getpower	= 0
givepower	= 20

[State 420:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 11

;---------------------------------------------------------------------------
;Crouch Strong Kick
[Statedef 430]
type 		= C
movetype	= A
physics		= C
anim		= 430
;velset		= 0,0
ctrl		= 0
poweradd	= 60
juggle		= 10
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 0, PosAdd]
type = PosAdd
trigger1 =  animelem = 1
x = 10
y = 0



[State 430:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,5

[State 460:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 2)
attr		= C, NA
hitflag		= MA
guardflag	= L
animtype	= Hard
air.animtype	= Back
priority	= 5, Hit
damage		= 58
pausetime	= 9,10
guard.pausetime	= 9,10
sparkno		= S7003
guard.sparkno	= S7000
sparkxy		= -30,-45
hitsound	= S2,0
guardsound	= S0,9
ground.type	= Trip
air.type	= Trip
ground.slidetime= 15
ground.hittime	= 15
air.hittime	= 15
yaccel		= 0.45
ground.velocity	= -1.5,-5
guard.velocity	= -1.5
air.velocity	= -1.5,-5
airguard.velocity	= -1.5,-3
ground.cornerpush.veloff = -1.5
id		= 460
getpower	= 0
givepower	= 60
persistent	= 0

[State 430:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 11

;---------------------------------------------------------------------------
;Jump Weak Punch
[Statedef 600]
type 		= A
movetype	= A
physics		= A
anim		= 600
;velset		= 0,0
ctrl		= 0
poweradd	= 20
juggle		= 2
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 600:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,7

[State 600:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 2, = 0)
attr		= A, NA
hitflag		= MAF
guardflag	= HA
animtype	= Light
air.animtype	= Back
priority	= 5, Hit
damage		= 26
pausetime	= 6,8
guard.pausetime	= 6,8
sparkno		= S7001
guard.sparkno	= s7000
sparkxy		= -20,-10
hitsound	= S2,9
guardsound	= S0,9
ground.type	= Low
air.type	= Low
ground.slidetime= 10
ground.hittime	= 10
air.hittime	= 10
yaccel		= 0.45
ground.velocity	= -3
guard.velocity	= -3
air.velocity	= -4,-5
airguard.velocity	= -4,-1
ground.cornerpush.veloff = -1
id		= 600
getpower	= 0
givepower	= 20

[State 600, 3]
type = CtrlSet
trigger1 = Animtime = 0
value = 1

;---------------------------------------------------------------------------
;Jump Strong Punch
[Statedef 610]
type 		= A
movetype	= A
physics		= A
anim		= 610
;velset		= 0,0
ctrl		= 0
poweradd	= 40
juggle		= 4
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 610:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,5

[State 610:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 2, = 0)
attr		= A, NA
hitflag		= MAF
guardflag	= HA
animtype	= Hard
air.animtype	= Back
priority	= 5, Hit
damage		= 52
pausetime	= 9,10
guard.pausetime	= 9,10
sparkno		= S7003
guard.sparkno	= S7000
sparkxy		= -15,-10
hitsound	= S2,3
guardsound	= S0,9
ground.type	= Low
air.type	= Low
ground.slidetime= 15
ground.hittime	= 15
air.hittime	= 15
yaccel		= 0.45
ground.velocity	= -3
guard.velocity	= -3
air.velocity	= -4.5,-5
airguard.velocity	= -4.5,-1
ground.cornerpush.veloff = -3
id		= 610
getpower	= 0
givepower	= 40

[State 610, 3]
type = CtrlSet
trigger1 = Animtime = 0
value = 1

;---------------------------------------------------------------------------
;Jump Weak Kick
[Statedef 620]
type 		= A
movetype	= A
physics		= A
anim		= 620
;velset		= 0,0
ctrl		= 0
poweradd	= 20
juggle		= 3
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 620:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,7

[State 620:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 2, = 0)
attr		= A, NA
hitflag		= MAF
guardflag	= HA
animtype	= Light
air.animtype	= Back
priority	= 5, Hit
damage		= 26
pausetime	= 8,10
guard.pausetime	= 8,10
sparkno		= S7002
guard.sparkno	= s7000
sparkxy		= -30,-40
hitsound	= S2,8
guardsound	= S0,9
ground.type	= Low
air.type	= Low
ground.slidetime= 10
ground.hittime	= 10
air.hittime	= 10
yaccel		= 0.45
ground.velocity	= -3
guard.velocity	= -3
air.velocity	= -4,-5
airguard.velocity	= -4,-1
ground.cornerpush.veloff = -1
id		= 620
getpower	= 0
givepower	= 20

[State 620, 3]
type = CtrlSet
trigger1 = Animtime = 0
value = 1

;---------------------------------------------------------------------------
;Jump Strong Kick
[Statedef 630]
type 		= A
movetype	= A
physics		= A
anim		= 630
;velset		= 0,0
ctrl		= 0
poweradd	= 40
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 630:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,5

[State 630:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 2, = 0)
attr		= A, NA
hitflag		= MAF
guardflag	= HA
animtype	= Hard
air.animtype	= Back
priority	= 5, Hit
damage		= 52
pausetime	= 10,12
guard.pausetime	= 10,12
sparkno		= S7003
guard.sparkno	= S7000
sparkxy		= -5,-10
hitsound	= S2,0
guardsound	= S0,9
ground.type	= Low
air.type	= Low
ground.slidetime= 15
ground.hittime	= 15
air.hittime	= 15
yaccel		= 0.45
ground.velocity	= -3
guard.velocity	= -3
air.velocity	= -4.5,-5
airguard.velocity	= -4.5,-1
ground.cornerpush.veloff = -3
id		= 630
getpower	= 0
givepower	= 40

[State 630, 3]
type = CtrlSet
trigger1 = Animtime = 0
value = 1

;---------------------------------------------------------------------------
;===========================================================================
;---------------------------------------------------------------------------
;Fly Light Punch
; CNS difficulty: easy
[Statedef 500]
type    = S
movetype= A
physics = S
juggle  = 2
poweradd= 11
ctrl = 0
anim = 600
sprpriority = 2

[State 500, 1]
type = PlaySnd
trigger1 = Animelem = 3
value = 2, 7

[State 500, 2]
type = HitDef
trigger1 = Animelem = 2
attr = A, NA
damage    = 20
guardflag = HA
priority = 3
pausetime = 7,8
sparkno = s7002
sparkxy = -10,-25
guard.sparkno = s7005
hitsound   = s0,5
guardsound = s0,8
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.3,-3


[State 500, GoFwd1]
type = VelAdd
trigger1 = command = "holdfwd"
x = 1

[State 500, GoFwd1]
type = VelAdd
trigger1 = command = "holdback"
x = -1

[State 500,GoDown2]
type = VelSet
Trigger1 = command = "holddown"
Trigger1 = pos Y > -1
y = 0

[State 500,GoDown2]
type = VelSet
Trigger1 = command = "holddown"
Trigger1 = pos Y > -1
y = 0

[State 500,Land]
type = ChangeState
trigger1 = Pos Y >= 0
value = 52
ctrl = 1

[State 500, 3]
type = Changestate
trigger1 = Animtime = 0
value = 991

[State 500, 3]
type = Changestate
trigger1 = pos Y = 0
value = 0

;---------------------------------------------------------------------------
;Fly Strong Punch
; CNS difficulty: easy
[Statedef 510]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
anim = 610
sprpriority = 2

[State 510, 1]
type = PlaySnd
trigger1 = Animelem = 2
value = 2, 5

[State 510, 3]
type = HitDef
trigger1 = Animelem = 2
attr = A, NA
damage = 72
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = s7001
sparkxy = -10,-25
guard.sparkno = s7005
hitsound   = s0,6
guardsound = s0,8
animtype = Med
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5
air.velocity = -3,-4

[State 510, GoFwd1]
type = VelAdd
trigger1 = command = "holdfwd"
x = 1

[State 510, GoFwd1]
type = VelAdd
trigger1 = command = "holdback"
x = -1

[State 510,GoDown2]
type = VelSet
Trigger1 = command = "holddown"
Trigger1 = pos Y > -1
y = 0

[State 510,GoDown2]
type = VelSet
Trigger1 = command = "holddown"
Trigger1 = pos Y > -1
y = 0

[State 510,Land]
type = ChangeState
trigger1 = Pos Y >= 0
value = 52
ctrl = 1

[State 510, 3]
type = Changestate
trigger1 = Animtime = 0
value = 991

[State 510, 3]
type = Changestate
trigger1 = pos Y = 0
value = 0
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;Fly Light Kick
; CNS difficulty: easy
[Statedef 520]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 20
ctrl = 0
anim = 620
sprpriority = 2

[State 530, 1]
type = PlaySnd
trigger1 = Animelem = 2
value = 2, 7

[State 530, 2]
type = HitDef
trigger1 = Animelem = 2
attr = A, NA
damage = 26
guardflag = HA
priority = 3
pausetime = 8,8
sparkno = s7002
sparkxy = -5,-15
guard.sparkno = s7005
hitsound   = s0,5
guardsound = s0,8
ground.type = High
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = -4
air.velocity = -2,-3

[State 530, GoFwd1]
type = VelAdd
trigger1 = command = "holdfwd"
x = 1

[State 530, GoFwd1]
type = VelAdd
trigger1 = command = "holdback"
x = -1

[State 530,GoDown2]
type = VelSet
Trigger1 = command = "holddown"
Trigger1 = pos Y > -1
y = 0

[State 530,GoDown2]
type = VelSet
Trigger1 = command = "holddown"
Trigger1 = pos Y > -1
y = 0

[State 530,Land]
type = ChangeState
trigger1 = Pos Y >= 0
value = 52
ctrl = 1

[State 530, 3]
type = Changestate
trigger1 = Animtime = 0
value = 991

[State 530, 3]
type = Changestate
trigger1 = pos Y = 0
value = 0


;---------------------------------------------------------------------------
;Fly Strong Kick
[Statedef 530]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
anim = 630
sprpriority = 2

[State 630:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,5

[State 540, 3]
type = HitDef
trigger1 = Animelem = 2
attr = A, NA
damage    = 70
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = s7001
sparkxy = -10, 0
guard.sparkno = s7005
hitsound   = s0,7
guardsound = s0,8
animtype = Med
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5
air.velocity = -3, 4

[State 540, GoFwd1]
type = VelAdd
trigger1 = command = "holdfwd"
x = 1

[State 540, GoFwd1]
type = VelAdd
trigger1 = command = "holdback"
x = -1

[State 540,GoDown2]
type = VelSet
Trigger1 = command = "holddown"
Trigger1 = pos Y > -1
y = 0

[State 540,GoDown2]
type = VelSet
Trigger1 = command = "holddown"
Trigger1 = pos Y > -1
y = 0

[State 540,Land]
type = ChangeState
trigger1 = Pos Y >= 0
value = 52
ctrl = 1

[State 540, 3]
type = Changestate
trigger1 = Animtime = 0
value = 991

[State 540, 3]
type = Changestate
trigger1 = pos Y = 0
value = 0

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;Throw001
[Statedef 800]
type 		= S
movetype	= A
physics		= S
anim		= 800
velset		= 0,0
ctrl		= 0
poweradd	= 80
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 800:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 1)
value			= S2,7

[State 800:		HitDef]
type			= HitDef
trigger1		= (AnimElem = 2)
attr			= S, NT
hitflag		= -M
priority		= 1, Miss
sparkno		= -1
guard.dist		= 0
snap			= 40,0
p2facing		= 1
p1stateno		= 805
p2stateno		= 806
forcestand		= 1
fall			= 1
id			= 800
getpower		= 50
givepower		= 50

[State 800:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

;---------------------------------------------------------------------------
;Throw001: Success
[Statedef 805]
type 			= S
movetype		= A
physics		= S
anim			= 805
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 805:		NotHitBy]
type			= NotHitBy
trigger1		= (AnimElem = 3, < 6)
value			= SCA

[State 805:		PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 805:		SprPriority]
type			= SprPriority
trigger1		= (AnimElem = 2)
value			= -1

[State 805:		PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S4,3

[State 805:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S1,0

[State 805:		TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 1, > 0) && (AnimElem = 2, < 0)
time			= 1
id			= -1
pos			= 20,0

[State 805:		TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 2, < 5)
time			= 1
id			= -1
pos			= 10,0

[State 805:		TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 2, > 5) && (AnimElem = 3, < 0)
time			= 1
id			= -1
pos			= -20,-30

[State 805:		TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 3, > 0) && (AnimElem = 3, < 4)
time			= 1
id			= -1
pos			= -35,-50

[State 805:		TargetBind]
type			= TargetBind
trigger1		= (AnimElem = 3, = 4)
time			= 1
id			= -1
pos			= -50,-60

[State 805:		TargetVelSet]
type			= TargetVelSet
trigger1		= (AnimElem = 3, = 5)
id			= -1
x			= -3
y			= -7

[State 805:		TargetLifeAdd]
type			= TargetLifeAdd
trigger1		= (AnimElem = 3, = 5)
value			= -80
id			= -1
kill			= 1

[State 805:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

;---------------------------------------------------------------------------
;Throw001: Opponent
[Statedef 806]
type 			= A
movetype		= H
physics		= N
;anim			= 806
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[State 806:		ChangeAnim2]
type			= ChangeAnim2
trigger1		= (!Time)
value			= 806

[State 806:		ChangeAnim]
type			= ChangeAnim
trigger1		= (!AnimTime) && (Anim = 806)
value			= 5070

[State 806:		Turn]
type			= Turn
trigger1		= (Anim = 5070)
persistent		= 0

[State 806:		VelAdd]
type			= VelAdd
trigger1		= (Anim = 5070)
y			= 0.45

[State 806:		SelfState]
type			= SelfState
trigger1		= (Pos Y >= -10) && (Anim = 5070)
value			= 5100
;===========================================================================
;-| Fireball |---------------------------------------------------------------
;---------------------------------------------------------------------------
;Fireball 1
[Statedef 900]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 900
poweradd = -75

;[State 1000, PlaySnd]
;type = PlaySnd
;trigger1 = Time = 0
;value = 1,5
;volume = 100

[State 900:		Helper]
type		= Helper
trigger1	= (AnimElem = 2) && (Power > 50)
helpertype	= Normal
name		= "Fire Ball"
id		= 950
pos		= 45,-57
postype		= p1
facing		= 1
stateno		= 950
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.4
size.yscale     = 0.4

[State 900, Explod]
type = Explod
trigger1 = Animelem = 2
anim =  949
ID = 949
pos = 35,-60
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.5,0.5
Ontop = 1
removetime = 16
removeongethit = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = -2
y = 0
;ignorehitpause =
;persistent =



[State 900, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 8

[State 900, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  0
ctrl= 1


[State 900, 0]
type = ChangeState
triggerall = power >= 50
triggerall = time  > 15
trigger1 = command = "c"
value = 901

;----------------------------------------------
;Fireball   2
[Statedef 901]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 901
poweradd = -75

;[State 1000, PlaySnd]
;type = PlaySnd
;trigger1 = Time = 0
;value = 1,5
;volume = 100

[State 901:		Helper]
type		= Helper
trigger1	= (AnimElem = 2) && (Power > 50)
helpertype	= Normal
name		= "Fire Ball"
id		= 950
pos		= 45,-57
postype		= p1
facing		= 1
stateno		= 950
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.4
size.yscale     = 0.4

[State 901, Explod]
type = Explod
trigger1 = Animelem = 2
anim =  949
ID = 949
pos = 35,-60
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.5,0.5
Ontop = 1
removetime = 16
removeongethit = 1


[State 901, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 8

[State 901, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  0
ctrl= 1

;-----------------------------------------------
;-----------------------------------------------
;Fire Ball Projectile
[Statedef 950]
movetype	= A
anim		= 950
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 950:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[STate 950: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 950:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

;[State 950:	PlayerPush]
;type			= PlayerPush
;trigger1		= 1
;value			= 0


[State 950:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 3
y			= 0


[State 950:	VelMul]
type		= VelMul
trigger1	= (Time > 0)
x		= 1.06
y		= 1.06

[State 0: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 50
framegap 	= 1
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .90, .90, .90
palcontrast 	= 100, 100, 100
trans 		= add

[State 950:	Hitdef]
type            = Hitdef
trigger1        = (1)
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 40,10
pausetime	= 1,8
sparkno		= s960
sparkxy		= 0,-5
;guard.sparkxy   = 30, 20
guard.sparkno	= s960
hitsound	= s3,9
guardsound	= s3,9
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -4
guard.velocity	= -4
air.velocity	= -4,-3
airguard.velocity = -4,-3
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
palfx.time	= 25
palfx.mul	= 150,150,50
palfx.add	= 250,250,100
palfx.sinadd 	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4


[State 950:	DestroySelf]
type			= DestroySelf
trigger1 		= movecontact = 1;(Parent, NumProjID(1002) = 0)
trigger2                = time = 200

;===========================================================================
;-| Fireball en el aire |---------------------------------------------------------------
;---------------------------------------------------------------------------
;Fireball 1
[Statedef 920]
type = A
movetype = A
physics = N
juggle = 4
ctrl = 0
anim = 920
poweradd = -75


[State 2200, VelMul]
type = VelMul
trigger1 = !Time
x = .160
y = .160 ;.2

;[State 1000, PlaySnd]
;type = PlaySnd
;trigger1 = Time = 0
;value = 1,5
;volume = 100

[State 920:		Helper]
type		= Helper
trigger1	= (AnimElem = 3) && (Power > 50)
helpertype	= Normal
name		= "Fire Ball Diagonal"
id		= 955
pos		= 45,-27
postype		= p1
facing		= 1
stateno		= 955
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.4
size.yscale     = 0.4

[State 900, Explod]
type = Explod
trigger1 = Animelem = 3
anim =  954
ID = 954
pos = 40,-27
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.5,0.5
Ontop = 1
removetime = 16
removeongethit = 1


[State 900, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 8

[State 900, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  50
ctrl= 1

[State 900,GoDown2]
type = VelSet
Trigger1 = pos Y > -1
y = 0


[State 900, 0]
type = ChangeState
triggerall = power >= 50
triggerall = time  > 13
trigger1 = command = "c"
value = 921

;----------------------------------------------
;Fireball   2 en el aire
[Statedef 921]
type = A
movetype = A
physics = N
juggle = 4
ctrl = 0
anim = 921
poweradd = -75


[State 2200, VelMul]
type = VelMul
trigger1 = !Time
x = .160
y = .160 ;.2

;[State 1000, PlaySnd]
;type = PlaySnd
;trigger1 = Time = 0
;value = 1,5
;volume = 100

[State 901:		Helper]
type		= Helper
trigger1	= (AnimElem = 2) && (Power > 50)
helpertype	= Normal
name		= "Fire Ball"
id		= 955
pos		= 45,-27
postype		= p1
facing		= 1
stateno		= 955
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.4
size.yscale     = 0.4

[State 901, Explod]
type = Explod
trigger1 = Animelem = 2
anim =  954
ID = 954
pos = 35,-27
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.5,0.5
Ontop = 1
removetime = 16
removeongethit = 1


[State 901, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 8

[State 901, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  50
ctrl= 1

[State 900,GoDown2]
type = VelSet
Trigger1 = pos Y > -1
y = 0

[State 900, 0]
type = ChangeState
triggerall = power >= 50
triggerall = time  > 10
trigger1 = command = "c"
value = 922

;---------------------------------------------------------------------------
;Fireball 3
[Statedef 922]
type = A
movetype = A
physics = N
juggle = 4
ctrl = 0
anim = 922
poweradd = -75


[State 2220, VelMul]
type = Velset
trigger1 = time = 4
x = -1
y = -0.5 ;.2

[State 2220, VelMul]
type = Velmul
trigger1 = time = 4
x = 1.5
y = 1.5 ;.2


[State 920:		Helper]
type		= Helper
trigger1	= (AnimElem = 2) && (Power > 50)
helpertype	= Normal
name		= "Fire Ball Diagonal"
id		= 955
pos		= 45,-27
postype		= p1
facing		= 1
stateno		= 955
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.4
size.yscale     = 0.4

[State 900, Explod]
type = Explod
trigger1 = Animelem = 2
anim =  954
ID = 954
pos = 40,-27
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.5,0.5
Ontop = 1
removetime = 16
removeongethit = 1


[State 900, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 8

[State 900,GoDown2]
type = VelSet
Trigger1 = pos Y > -1
y = 0

[State 900, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  50
ctrl= 1


;-----------------------------------------
;-----------------------------------------------
;Fire Ball Projectile - diagonal
[Statedef 955]
movetype	= A
anim		= 955
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 950:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[STate 950: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 950:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

;[State 950:	PlayerPush]
;type			= PlayerPush
;trigger1		= 1
;value			= 0


[State 950:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 3
y			= 3


[State 950:	VelMul]
type		= VelMul
trigger1	= (Time > 0)
x		= 1.06
y		= 1.06

[State 0: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 50
framegap 	= 1
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .90, .90, .90
palcontrast 	= 100, 100, 100
trans 		= add

[State 950:	Hitdef]
type            = Hitdef
trigger1        = (1)
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 40,10
pausetime	= 1,8
sparkno		= s960
sparkxy		= 0,-5
;guard.sparkxy   = 30, 20
guard.sparkno	= s960
hitsound	= s3,9
guardsound	= s3,9
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -4
guard.velocity	= -4
air.velocity	= -4,-3
airguard.velocity = -4,-3
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
palfx.time	= 25
palfx.mul	= 150,150,50
palfx.add	= 250,250,100
palfx.sinadd 	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4




[State 920:		Helper]
type		= Helper
trigger1	= pos y > 5
helpertype	= Normal
name		= "choque contra el piso"
id		= 956
pos		= 3,0
postype		= p1
facing		= 1
stateno		= 956
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 1
size.yscale     = 1

[State 950:	DestroySelf]
type			= DestroySelf
trigger1 		= movecontact = 1;(Parent, NumProjID(1002) = 0)
trigger2                = pos y > 5
;-----------------------------
;-----------------------------------------------
;Fire Ball Projectile - diagonal  - choque contra el piso
[Statedef 956]
movetype	= A
anim		= 960
velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 0
value =  -90

[State 2350:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add


[State 950:	DestroySelf]
type			= DestroySelf
trigger1 		= (!animtime)


;-------------------------------------------------------------------------
;--------------------------------------------------------------------------
;------------------------------------------------------------------------
;Flying Start
[Statedef 990]
type = A
movetype = A
physics = A
juggle  = 7
velset = 0, -6
ctrl = 0
anim = 991

[State 990, 1]
type = PlaySnd
trigger1 = Animelem = 1
value = 1, 10

[State 990, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 991
ctrl = 1

;--------------------------------------------------------------------------
;Flying
[Statedef 991]
type = A
ctrl = 0
anim = 991
velset = 0,0


[State 991, PowerAdd]
type = PowerAdd
trigger1 = time > 0
value = -1

[State 991, parar1]
type = VelSet
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
trigger1 = var(13) = 0
trigger2 = Pos Y < -450
x = 0
y = 0

[State 991, papar2]
type = ChangeAnim
trigger1 = command != "holdup"
trigger1 = command != "holddown"
trigger1 = Anim != 991
value = 991

[State 991,Var(1)]
type = VarSet
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
trigger1 = Var(13) != 2
trigger2 = Var(13) = 2
trigger2 = Vel Y >= 0.3
v = 13
value = 1

[State 991,Var(2)]
type = VarSet
trigger1 = Var(13) = 1
trigger1 = Vel Y <= -0.3
v = 13
value = 2

[State 991,Up]
type = VelAdd
trigger1 = Var(13) = 1
y = -0.02

[State 991,Down]
type = VelAdd
trigger1 = Var(13) = 2
y = 0.05

[State 991,fuwaEnd]
type = VelSet
Triggerall = var(13) != 0
Trigger1 = command = "holdfwd"
Trigger2 = command = "holdback"
Trigger3 = command = "holdup"
Trigger4 = command = "holddown"
y = 0

[State 991,fuwaEndVar]
type = VarSet
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
trigger3 = command = "holdup"
trigger4 = command = "holddown"
v = 13
value = 0

[State 991, UpBorder1]
type = PosSet
trigger1 = Pos Y < -450
y = -450

[State 991, UpBorder2a]
type = PosAdd
trigger1 = P2BodyDist Y > 450
trigger1 = Vel Y < 0
y = 50

[State 991, UpBorder2b]
type = VelSet
trigger1 = P2BodyDist Y > 450
trigger1 = Vel Y < 0
y = 0

[State 991, Runeffect]
type = AfterImage
trigger1 = Command = "FF"
trigger1 = Vel X < 8.6
trigger2 = Command = "BB"
trigger2 = Vel X > -7
trigger3 = Command = "DD"
trigger3 = Vel Y < 8.6
trigger4 = Command = "UU"
trigger4 = Vel Y > -7
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1




[State 991, RunFwd]
type = VelSet
trigger1 = Command = "FF"
trigger1 = Vel X < 6.6
x = 8.6

[State 991, 1]
type = PlaySnd
trigger1 = Command = "FF"
value = 1, 4

[State 991, RunBack]
type = VelSet
trigger1 = Command = "BB"
trigger1 = Vel X > -5.7
x = -8.7

[State 991, 1]
type = PlaySnd
trigger1 = Command = "BB"
value = 1, 4

[State 991, RunDown]
type = VelSet
trigger1 = Command = "DD"
trigger1 = Vel Y < 6.6
y = 8.6

[State 991, 1]
type = PlaySnd
trigger1 = Command = "DD"
value = 1, 4

[State 991, RunUp]
type = VelSet
trigger1 = Command = "UU"
trigger1 = Vel Y > -5.7
y = -8.7

[State 991, 1]
type = PlaySnd
trigger1 = Command = "UU"
value = 1, 1

[State 991, GoDownAnim]
type = ChangeAnim
triggerall = Anim != 992
trigger1 = command = "holddown"
value = 992

[State 991, GoDown1]
type = VelAdd
trigger1 = command = "holddown"
y = 0.3

[State 991,GoDown2]
type = VelSet
trigger1 = command = "holddown"
trigger1 = Vel Y < 0
y = 0


[State 991, GoUpAnim]
type = ChangeAnim
trigger1 = Anim != 991
trigger1 = command = "holdup"
value = 991

[State 991, GoUp1]
type = VelAdd
trigger1 = command = "holdup"
y = -0.2

[State 991,GoUp2]
type = VelSet
trigger1 = command = "holdup"
trigger1 = Vel Y > 0
y = 0


[State 991, GoBackAnim]
type = ChangeAnim
triggerall = Anim != 994
trigger1 = command = "holdback"
value = 994

[State 991, GoBack1]
type = VelAdd
trigger1 = command = "holdback"
x = -0.15

[State 1100,GoBack2]
type = VelSet
trigger1 = command = "holdback"
trigger1 = Vel X > 0
x = 0

[State 991, GoFwdAnim]
type = ChangeAnim
trigger1 = Anim != 995
trigger1 = command = "holdfwd"
value = 995

[State 991, GoFwd1]
type = VelAdd
trigger1 = command = "holdfwd"
x = 0.25

[State 991,GoFwd2]
type = VelSet
trigger1 = command = "holdfwd"
trigger1 = Vel X < 0
x = 0


[State 991, MakeDust1]
type = MakeDust
triggerall = Pos Y >= -80 && Pos Y <= -70
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
pos = -5, 75
spacing = 3

[State 991, MakeDust2]
type = MakeDust
triggerall = Pos Y >= -70 && Pos Y <= -60
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
pos = -5, 60
spacing = 3

[State 991, MakeDust3]
type = MakeDust
triggerall = Pos Y >= -60 && Pos Y <= -50
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
pos = -5, 50
spacing = 3

[State 991, MakeDust4]
type = MakeDust
triggerall = Pos Y >= -50 && Pos Y <= -40
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
pos = -5, 40
spacing = 3

[State 991, MakeDust5]
type = MakeDust
triggerall = Pos Y >= -40
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
pos = -5, 30
spacing = 3


[State 991,Turn]
type = Turn
trigger1 = P2Dist X < 0

[State 991,Land]
type = ChangeState
trigger1 = Pos Y >= 0
value = 52
ctrl = 1

[State 991,End]
type = ChangeState
trigger1 = Time > 2
trigger1 = command = "fly"
value = 50
ctrl = 1

[State 991,WinALose]
type = ChangeState
trigger1 = Win = 1
trigger2 = Lose = 1
value = 997

;---------------------------------------------------------------------------
[Statedef 997]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
anim = 993

[State 210, 3]
type = VelAdd
trigger1 = AnimElem = 1
trigger1 = AnimElem <= 2
x = -0.3

[State 210, 3]
type = VelSet
trigger1 = AnimElem = 3
x = 0

[State 3021, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 990

[State 210, 3]
type = ChangeState
trigger1 = time = 60
value = 998

;---------------------------------------------------------------------------
[Statedef 998]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0

[State 1531, 5]
type = PlaySnd
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
persistent = 0
value = s2,8

[State 52, 3]
type = PosSet
trigger1 = Vel Y = 0
y = 0

[State 209, 1]
type = ChangeAnim
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 991

[State 209, 1]
type = Velset
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
y = 0

[State 3021, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 990

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------------------
;--------------------------------------------------------------------------
;------------------------------------------------------------
;Zanzoken
[Statedef 1090]
type=S
movetype=I
physics=N
velset=0,0
sprpriority=0
ctrl=0
Poweradd = -200

[State 0, ]
type=ChangeAnim
trigger1=!time
value=anim
elem=animelemno(0)
[State 0]
type=null;ChangeAnim
trigger1=(time<5)
;value=ifelse(pos y >=0,22,29)

[State 0]
type=AssertSpecial
trigger1=(time=[5,35])
flag=invisible
flag2=noshadow
ignorehitpause=1

[State 0]
type=EnvShake
trigger1=time=5
time=8
freq=260
ampl=-8

;[State 0]
;type=AllPalFX
;trigger1=time=7
;time=6
;add=160,160,160
;ignorehitpause=1

[State 0]
type=PlaySnd
trigger1=(time=5)||(time=10)
value=3,0

[State 1090]
type=AfterImage
trigger1= time = 5
time=10
length=10
palcontrast=120,120,120
palmul=.35,.35,.35
timegap=1
framegap=1
trans=Add
ignorehitpause=1

[State 1090, Afterimage bck]
type=Helper
trigger1=(time=5)
helpertype=normal
name="Afterimage bck"
ID=1093
pos=0,0
postype=p1
facing=1
stateno=1093
keyctrl=0
ownpal=1
persistent=0

[State 1090, Afterimage forw]
type=Helper
trigger1=(time=5)
helpertype=normal
name="Afterimage forw"
ID=1094
pos=0,0
postype=p1
facing=1
stateno=1094
keyctrl=0
ownpal=1
persistent=0

[State 0]
type=ChangeAnim
trigger1=(time>=10)
value=(ifelse(vel y<0,991,ifelse(vel y>0,992,ifelse(vel x<0,994,ifelse(vel x>0,995,ifelse(pos y<0,992,0))))))

[State 0]
type=PlayerPush
trigger1=(time=[5,35])
value=0

[State 0]
type=NotHitBy
trigger1=(time=[5,35])
value=SCA,NT,AT
time=1
ignorehitpause=1

[State 0]
type = PosAdd
trigger1 = (time=10)
x = ifelse(command="holdfwd",(70),(ifelse(command="holdback",(-70),0)))
y = ifelse(command="holdup",(-50),(ifelse(command="holddown",50,0)))

[State 0]
type = Posset
trigger1 = (time=10) && command = "holddown"
trigger2 = pos y > 0
y = 0

[State 0]
type = VelSet
trigger1 = (time>=10)
x = ifelse(command="holdfwd",(3),(ifelse(command="holdback",(-3),(0))))
y = ifelse(command="holdup",(-3),(ifelse(command="holddown",(3),0)))

[State 0]
type=ScreenBound
trigger1=(command!="holdfwd")&&(command!="holdback")&&(command!="holddown")&&(command!="holdup")&&(time>=25)
movecamera=1,1
value=0

[State 0]
type=AfterImage
trigger1=(time=5)||(time>=10)&&(gametime%3=0)
time=ifelse(time=5,10,3)
length=ifelse(time=5,10,20)
palcontrast=120,120,120
palmul=ifelse(time=5,.55,.65),ifelse(time=5,.55,.65),ifelse(time=5,.55,.65)
timegap=1
framegap=1
trans=Add
ignorehitpause=1

[State 0]
type=Turn
trigger1=p2dist x<0

[State 0]
type=ChangeState
trigger1=(time>=35)
value=ifelse(pos y<0,ifelse(command="holdfwd" ||command="holdback" || command="holdup",991,50),0)
ctrl=1
;---------------------------------------------------
;Zanzoken-1
[Statedef 1093]
type=S
movetype=I
physics=N
velset=ifelse(parent,stateno=1056,-7,-1),0
sprpriority=0
ctrl=0

[State 0, blargh]
type=DisplayToClipboard
trigger1=1
text="What should i write here?"
ignorehitpause=1

[State 0, ]
type=ChangeAnim
trigger1=!time
value=parent,anim
elem=parent,animelemno(0)

[State 0]
type=NotHitBy
trigger1=1
value=SCA
time=1

[State 0]
type=AssertSpecial
trigger1=1
flag=noshadow
flag2=invisible
ignorehitpause=1

[State 0]
type=AfterImage
trigger1=gametime%8=0
time=4
length=4
palcolor=256
palcontrast=120,120,120
palmul=.35,.35,.35
timegap=1
framegap=1
trans=add
ignorehitpause=1

[State 0]
type=DestroySelf
trigger1=time>12
ignorehitpause=1
;------------------------------------------------------------
;Zanzoken-2
[Statedef 1094]
type=S
movetype=I
physics=N
velset=ifelse(parent,stateno=1056,7,1),0
sprpriority=0
ctrl=0

[State 0, blargh]
type=DisplayToClipboard
trigger1=1
text="What should i write here?"
ignorehitpause=1

[State 0, ]
type=ChangeAnim
trigger1=!time
value=parent,anim
elem=parent,animelemno(0)

[State 0]
type=NotHitBy
trigger1=1
value=SCA
time=1

[State 0]
type=AssertSpecial
trigger1=1
flag=noshadow
flag2=invisible
ignorehitpause=1

[State 0]
type=AfterImage
trigger1=gametime%8=0
time=4
length=4
palcolor=256
palcontrast=120,120,120
palmul=.35,.35,.35
timegap=1
framegap=1
trans=add
ignorehitpause=1

[State 0]
type=DestroySelf
trigger1=time>12
ignorehitpause=1


;==========================================================================
;--------------------------------------------------------------------------
; Super Jump Start
[Statedef 60]
type            = A
movetype        = I
physics         = N
anim            = 41
velset          = 0,-11
ctrl            = 0
poweradd        = 0
juggle          = 0
facep2          = 0
hitdefpersist   = 0
movehitpersist  = 0
hitcountpersist = 0
sprpriority     = 2
;---------------

[state 60, CtrlSet]
type            = CtrlSet
trigger1        = Time >= 1
value           = 1

[state 60, VelSetFwd]
type            = VelSet
trigger1        = command = "holdfwd"
x               = 3

[state 60, VelSetBack]
type            = VelSet
trigger1        = command = "holdback"
x               = -3

[state 60, VelAdd]
type            = VelAdd
trigger1        = Time > 10
x               = 0
y               = .40
;---------------


[State 60, Explod atras]
type = Explod
trigger1 = time = 0
anim = 7100
ID =  7100
pos = -20,20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 24
supermove = 1
pausemove =1
scale = 0.6, 0.6
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0

[State 60, Explod adelante]
type = Explod
trigger1 = time = 0
anim = 7101
ID =  7101
pos = 20,20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 24
supermove = 1
pausemove =1
scale = 0.6, 0.6
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0


[State 60, PlaySnd]
type = PlaySnd
trigger1 =  time = 1
value = s1,4
volume = 50
channel = -1

[state 60, End]
type            = ChangeState
trigger1        = Pos Y >= 1
value           = 52



;===========================================================================
;-| Special |---------------------------------------------------------------
;---------------------------------------------------------------------------
;Zesshou Hohou
[Statedef 1000]
type 		= S
movetype	= A
physics		= N
anim		= 1000
velset		= 0,0
ctrl		= 0
poweradd = 90
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 1000:	VelSet]
type			= VelSet
trigger1		= Time = [1,10]
x			= 12
y			= 0

[State 1000:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 4)
x			= 0.5
y			= 0

[State 1000:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 3)
value			= S1,1

[State 1000:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 3)
attr		= S, SA
hitflag		= MAF
guardflag	= M
animtype	= DiagUp
air.animtype	= DiagUp
priority	= 4, Hit
damage		= 60
pausetime	= 12,12
guard.pausetime	= 12,12
sparkno		= S7003
guard.sparkno	= S7000
sparkxy		= 10,-48
hitsound	= S2,3
guardsound	= S0,9
ground.type	= Trip
air.type	= Trip
ground.slidetime= 15
ground.hittime	= 15
air.hittime	= 15
yaccel		= 0.45
ground.velocity	= -4.7,-3
guard.velocity	= -2
air.velocity	= -4.7,-4
airguard.velocity	= -4.7,-4
ground.cornerpush.veloff = -2
fall		= 1
id		= 1000
getpower	= 60
givepower	= 60
persistent	= 0

[State 3001, Explod - arena]
type = Explod
trigger1 =  (AnimElem = 1)
anim =  7100
ID =    7100
pos =  5,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.7,0.7
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S1,4

[State 1000:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

;---------------------------------------------------------------------------
;Tetsuzan Kou
[Statedef 1010]
type 		= S
movetype	= A
physics		= N
anim		= 1010
velset		= 0,0
ctrl		= 0
poweradd = 90
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1010:	ChangeAnim]
type			= ChangeAnim
trigger1		= (MoveContact)
value			= 1010
elem			= 6
persistent		= 0

[State 1010:	Turn]
type			= Turn
trigger1		= (!Time) && (PrevStateNo = 1080) && (P2Dist X < 0)


[State 1010:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 4)
x			= 8

[State 1010:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 7)
x			= 0

[State 1010:	VelAdd]
type 			= VelAdd
trigger1 		= (AnimElem = 4, > 0) && (AnimElem = 7, < 0) && (Vel X > 0)
x			= -0.8

[State 1010:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 4)
value			= S2,1

[State 1010:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 4)
value			= S0,2

[State 1010:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 5)
value			= S2,5

[State 1010:	PlaySnd]
type			= PlaySnd
trigger1		= (MoveContact)
value			= S1,1
persistent		= 0
ignorehitpause	= 1

[State 3001, Explod - arena]
type = Explod
trigger1 =  (AnimElem = 5)
anim =  7100
ID =    7100
pos =  5,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.7,0.7
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 1010:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 5)
attr		= S, SA
hitflag		= MAF
guardflag	= M
animtype	= Hard
air.animtype	= DiagUp
priority	= 4, Hit
damage		= 60
pausetime	= 10,12
guard.pausetime	= 10,12
sparkno		= S7002
guard.sparkno	= S7000
sparkxy		= 10,-48
hitsound	= S2,3
guardsound	= S0,9
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
yaccel		= 0.45
ground.velocity	= -1.5,-10
guard.velocity	= -8
air.velocity	= -1.5,-10
airguard.velocity	= -8
ground.cornerpush.veloff = -2
fall            = 1
air.fall	= 1
id		= 1010
getpower	= 60
givepower	= 60
persistent	= 0


[State 1010:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0


;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;Rodillazo devil
[Statedef 1200]
type 		= S
movetype	= A
physics		= N
anim		= 1200
;velset		= 0,0
ctrl		= 0
poweradd = 90
juggle		= 5
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 1200:	StateTypeSet]
type		= StateTypeSet
trigger1	= (AnimElem = 2)
statetype	= A

[State 1200:	PlaySnd]
type		= PlaySnd
trigger1	= (AnimElem = 4)
value		= S1,1

[State 1200:	PlaySnd]
type		= PlaySnd
trigger1	= (AnimElem = 2)
value		= S1,4

[State 0:     VelSet]
type            = VelSet
trigger1        = (animelem = 2)
x		= 4
y		= -5

[State 1200:	VelAdd]
type		= VelAdd
trigger1	= (AnimElem = 3, > 0)
y		= 0.45

[State 0:     PlayerPush]
type            = PlayerPush
trigger1        = (1)
value           = 1
ignorehitpause  = 1
persistent      = 1

[State 1200:	VelSet]
type		= VelSet
trigger1	= (AnimElem = 3)
x		= 2.5
y		= -5

;[State 1200:	VelSet]
;type		= VelSet
;trigger1	= (AnimElem = 4)
;x		= 1.2

[State 1200:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 2) || (AnimElem = 3)
attr		= A, SA
hitflag		= MAF
guardflag	= M
animtype	= Hard
air.animtype	= DiagUp
priority	= 5, Hit
damage		= 40,5
pausetime	= 7,9
guard.pausetime	= 7,9
sparkno		= S7001+(random%3)
guard.sparkno	= S7000
sparkxy		= 10,-70
hitsound	= S2,0
guardsound	= S0,9
ground.type	= High
air.type	= Trip
ground.slidetime= 15
ground.hittime	= 15
air.hittime	= 25
yaccel		= 0.45
ground.velocity	= -1.7,-11
guard.velocity	= -2
air.velocity	= -1.7,-11
airguard.velocity	= -1.7,0
ground.cornerpush.veloff = -2
fall		= 1
fall.recover	= 0
id		= 1200
getpower	= 35
givepower	= 35

[State 3001, Explod - arena]
type = Explod
trigger1 =  (AnimElem = 2)
anim =  7102
ID =    7102
pos =  0,10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.7,0.7
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 1200,0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 1200:	ChangeState]
type		= ChangeState
trigger1	= animtime = 0;(AnimElem = 5, > 0) && (Pos Y >= 0)
value		= 50


;---------------------------------------------------------------------------
;Rodillazo fuerte
[Statedef 1250]
type 		= S
movetype	= A
physics		= N
anim		= 1200
;velset		= 0,0
ctrl		= 0
poweradd = 90
juggle		= 5
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 1250:	StateTypeSet]
type		= StateTypeSet
trigger1	= (AnimElem = 2)
statetype	= A

[State 1250:	PlaySnd]
type		= PlaySnd
trigger1	= (AnimElem = 4)
value		= S1,1

[State 1250:	PlaySnd]
type		= PlaySnd
trigger1	= (AnimElem = 2)
value		= S1,4

[State 0:     VelSet]
type            = VelSet
trigger1        = time = [4,16]
x		= 2
y		= -7

[State 1250:	VelAdd]
type		= VelAdd
trigger1	= (AnimElem = 3, > 0)
y		= 0.45

[State 0:     PlayerPush]
type            = PlayerPush
trigger1        = (1)
value           = 1
ignorehitpause  = 1
persistent      = 1

[State 1250:	VelSet]
type		= VelSet
trigger1	= (AnimElem = 3)
x		= 2.5
y		= -5

;[State 1200:	VelSet]
;type		= VelSet
;trigger1	= (AnimElem = 4)
;x		= 1.2

[State 1250:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 2) || (AnimElem = 3)
attr		= A, SA
hitflag		= MAF
guardflag	= M
animtype	= Hard
air.animtype	= DiagUp
priority	= 5, Hit
damage		= 40,5
pausetime	= 7,9
guard.pausetime	= 7,9
sparkno		= S7001+(random%3)
guard.sparkno	= s7000
sparkxy		= 10,-70
hitsound	= S2,0
guardsound	= S0,9
ground.type	= High
air.type	= Trip
ground.slidetime= 15
ground.hittime	= 15
air.hittime	= 25
yaccel		= 0.45
ground.velocity	= -1.7,-8
guard.velocity	= -2
air.velocity	= -1.7,-8
airguard.velocity	= -1.7,0
ground.cornerpush.veloff = -2
fall		= 1
fall.recover	= 0
id		= 1200
getpower	= 35
givepower	= 35

[State 1250, Explod - arena]
type = Explod
trigger1 =  (AnimElem = 2)
anim =  7102
ID =    7102
pos =  0,20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.7,0.7
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 1250,0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 1250:	ChangeState]
type		= ChangeState
trigger1	= animtime = 0;(AnimElem = 5, > 0) && (Pos Y >= 0)
value		= 50

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;Abise Geri Devil
[Statedef 1300]
type 		= A
movetype	= A
physics		= N
anim		= 1300
;velset		= 0,0
ctrl		= 0
poweradd = 90
juggle		= 3
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1300:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S1,1

[State 1300:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,5

[State 1300:	VelSet]
type			= VelSet
trigger1		= time = 0
x			= 1
y			= -8

[State 1300:	VelAdd]
type			= VelAdd
trigger1		= time > 0
x			= 0
y			= 0.6


[State 1300:	HitDef]
type		= HitDef
trigger1	= AnimElem = 2
attr		= A, SA
hitflag		= MAF
guardflag	= M
animtype	= Back
air.animtype	= Back
priority	= 5, Hit
damage		= 30,5
pausetime	= 6,8
guard.pausetime	= 5,8
sparkno		= S7003
guard.sparkno	= S7000
sparkxy		= -10,-65
hitsound	= S2,0
guardsound	= S0,9
ground.type	= Trip
air.type	= Trip
ground.slidetime = 15
ground.hittime	= 15
air.hittime	= 15
yaccel		= 0.45
ground.velocity	= -2,-6.7
guard.velocity	= -4
air.velocity	= -2,-6.7
airguard.velocity = -4,-4.7
ground.cornerpush.veloff = -5
fall		= 1
getpower	= 30
givepower	= 30


[State 1300:	HitDef]
type		= HitDef
trigger1	= AnimElem = 3
attr = S,NT
hitflag = MAF
guardflag = MA
animtype = light
air.animtype = light
damage		= 30,5
pausetime	= 6,8
guard.pausetime	= 5,8
sparkno		= S7002
guard.sparkno	= S7000
sparkxy		= -40,-40
hitsound	= S2,0
guardsound	= S0,9
ground.type = light
air.type = light
ground.slidetime = 30
guard.slidetime = 1
ground.hittime = 30
guard.hittime = 1
air.hittime = 30
ground.velocity = -2,8
air.velocity = -2,8
guard.velocity = 0
kill = 1
fall = 1
fall.xvelocity = -2
fall.yvelocity = -6
fall.recover = 1
fall.recovertime = 20
fall.damage = 0
air.fall = 0
down.velocity = 16,-24
down.hit
fall.envshake.time = 5
fall.envshake.freq = 120
fall.envshake.ampl = -2
fall.envshake.phase = 50
;ignorehitpause =
;persistent =

[State 1300,0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1




[State 1300:	ChangeState]
type		= ChangeState
trigger1	= (!AnimTime)
value		= 50

;---------------------------------------------------------------------------
;Abise Geri Fuerte
[Statedef 1350]
type 		= A
movetype	= A
physics		= N
anim		= 1350
;velset		= 0,0
ctrl		= 0
poweradd = 90
juggle		= 3
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1350:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S1,1

[State 1350:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2) || (AnimElem = 3)
value			= S2,5

[State 1350:	VelSet]
type			= VelSet
trigger1		= time = 0
x			= 5
y			= -5

[State 1350:	VelAdd]
type			= VelAdd
trigger1		= time > 0
x			= 0.1
y			= 0.3


[State 1350:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 2)
attr		= A, SA
hitflag		= MAF
guardflag	= M
animtype	= Back
air.animtype	= Back
priority	= 5, Hit
damage		= 20,5
pausetime	= 6,8
guard.pausetime	= 5,8
sparkno		= S7001
guard.sparkno	= S7000
sparkxy		= -30,-50
hitsound	= S2,0
guardsound	= S0,9
ground.type	= Trip
air.type	= Trip
ground.slidetime = 30
guard.slidetime = 1
ground.hittime = 30
guard.hittime = 1
air.hittime = 30
yaccel		= 0.45
ground.velocity	= -4,-5.7
guard.velocity	= -4
air.velocity	= -4,-4.7
airguard.velocity = -4,-4.7
ground.cornerpush.veloff = -5
fall		= 0
getpower	= 30
givepower	= 30

[State 1350:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 3)
attr		= A, SA
hitflag		= MAF
guardflag	= M
animtype	= Back
air.animtype	= Back
priority	= 5, Hit
damage		= 20,5
pausetime	= 6,8
guard.pausetime	= 5,8
sparkno		= S7002
guard.sparkno	= S7000
sparkxy		= -40,-20
hitsound	= S2,0
guardsound	= S0,9
ground.type	= Trip
air.type	= Trip
ground.slidetime = 30
guard.slidetime = 1
ground.hittime = 30
guard.hittime = 1
air.hittime = 30
yaccel		= 0.45
ground.velocity	= -6,-2
guard.velocity	= -4
air.velocity	= -6,-2
airguard.velocity = -4,-4.7
ground.cornerpush.veloff = -5
fall		= 0
getpower	= 30
givepower	= 30

[State 1350:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 4)
attr		= A, SA
hitflag		= MAF
guardflag	= M
animtype	= Back
air.animtype	= Back
priority	= 5, Hit
damage		= 20,5
pausetime	= 6,8
guard.pausetime	= 5,8
sparkno		= S7003
guard.sparkno	= S7000
sparkxy		= -30,-30
hitsound	= S2,0
guardsound	= S0,9
ground.type	= Trip
air.type	= Trip
ground.slidetime = 30
guard.slidetime = 1
ground.hittime = 30
guard.hittime = 1
air.hittime = 30
yaccel		= 0.45
ground.velocity	= -8,-2
guard.velocity	= -4
air.velocity	= -8,-2
airguard.velocity = -4,-4.7
ground.cornerpush.veloff = -5
fall		= 0
getpower	= 30
givepower	= 30

[State 1650,0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 1350:	ChangeState]
type		= ChangeState
trigger1	= (!AnimTime)
value		= 50

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;Raigeki Shuu Devil
[Statedef 1400]
type 		= A
movetype	= A
physics		= N
anim		= 1400
velset		= 0,0
ctrl		= 0
poweradd = 100
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 1050:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 1050:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 2)
x			= 6
y			= 7

[State 1050:	VelAdd]
type			= VelAdd
trigger1		= (AnimElem = 2, > 0)
x			= 0.45
y			= 0.65

[State 1050:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S1,0
channel		= 0

[State 1050:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S2,5

[State 1050:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 2)
attr		= A, SA
hitflag		= MAF
guardflag	= H
animtype	= Light
air.animtype	= Back
priority	= 5, Hit
damage		= 40
pausetime	= 0,12
guard.pausetime	= 0,12
sparkno		= S7002
guard.sparkno	= S7000
sparkxy		= -5,-10
hitsound	= S2,8
guardsound	= S0,9
ground.type	= Low
air.type	= Low
ground.slidetime = 15
ground.hittime	= 12
air.hittime	= 15
yaccel		= 0.45
ground.velocity	= -6
guard.velocity	= -3
air.velocity	= -3,-4.2
airguard.velocity = -3,-4.2
ground.cornerpush.veloff = -3
id		= 1040
getpower	= 20
givepower	= 20

[State 1300,0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 1400, Explod - arena]
type = Explod
trigger1 =  (AnimElem = 2)
anim =  1470
ID =    1470
pos =  -10,-50
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -2
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.5,0.5
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = (Pos Y >= 0)
id = 1470


[State 1055:	ChangeState]
type		= ChangeState
trigger1	= moveguarded = 1
value		= 1460

[State 1050:	ChangeState]
type			= ChangeState
trigger1		= (Pos Y >= 0)
value			= 52

;---------------------------------------------------------------------------
;Raigeki Shuu Fuerte
[Statedef 1450]
type 		= A
movetype	= A
physics		= N
anim		= 1400
velset		= 0,0
ctrl		= 0
poweradd = 100
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 1055:	PlayerPush]
type		= PlayerPush
trigger1	= 1
value		= 0

[State 1055:	VelSet]
type		= VelSet
trigger1	= (AnimElem = 2)
x		= 6
y		= 7

[State 1055:	VelAdd]
type		= VelAdd
trigger1	= (AnimElem = 2, > 0)
x		= 0.65
y		= 0.45

[State 1055:	PlaySnd]
type		= PlaySnd
trigger1	= (AnimElem = 2)
value		= S1,0
channel		= 0

[State 1055:	PlaySnd]
type		= PlaySnd
trigger1	= (AnimElem = 2)
value		= S2,5

[State 1055:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 2)
attr		= A, SA
hitflag		= MAF
guardflag	= H
animtype	= Light
air.animtype	= Back
priority	= 5, Hit
damage		= 40
pausetime	= 7,9
guard.pausetime	= 7,9
sparkno		= S7002
guard.sparkno	= S7000
sparkxy		= -5,-10
hitsound	= S2,8
guardsound	= S0,9
ground.type	= Low
air.type	= Low
ground.slidetime = 15
ground.hittime	= 12
air.hittime	= 15
yaccel		= 0.45
ground.velocity	= -2,-8
guard.velocity	= -3
air.velocity	= -2,-8
airguard.velocity	= -3,-4.2
ground.cornerpush.veloff = -3
fall = 1

[State 1450,0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 1450, Explod - arena]
type = Explod
trigger1 =  (AnimElem = 2)
anim =  1470
ID =    1470
pos =  -10,-50
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -2
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.5,0.5
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1

[State 1450, RemoveExplod]
type = RemoveExplod
trigger1 = (Pos Y >= 0)
trigger2 = stateno = 1460
id = 1470


[State 1450:	ChangeState]
type		= ChangeState
trigger1	= Movecontact = 1
value		= 1460


[State 1450:	ChangeState]
type		= ChangeState
trigger1	= (Pos Y >= 0)
value		= 52


;-------------------------------------------
;Raigeki Shuu - Revote
[Statedef 1460]
type 		= A
movetype	= A
physics		= N
anim		= 1460
velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -2
y = -5

[State 0, VelAdd]
type = VelAdd
trigger1 = time >= 5
y = 0.3



[State 1460:	ChangeState]
type		= ChangeState
trigger1	= Time = 20
value		= 50

;=========================================================================
;---------------------------------------------------------------------------
;Combo patadas 01
[Statedef 1500]
type 		= S
movetype	= A
physics		= S
anim		= 1500
;velset		= 0,0
ctrl		= 0
poweradd	= 70
juggle		= 5
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 15
y = 0
;ignorehitpause =
;persistent =

[State 1500:	PlaySnd]
type		= PlaySnd
trigger1	= time = 0
value		= S1,10

[State 0, VelAdd]
type = VelAdd
trigger1 = animelem = 4
x = 0.3
y = 0

[State 1500:	PlaySnd]
type		= PlaySnd
trigger1	= (AnimElem = 2)
value		= S2,5

[State 1500:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 4)
attr		= S, NA
hitflag		= MAF
guardflag	= M
animtype	= Hard
air.animtype	= Back
priority	= 5, Hit
damage		= 32
pausetime	= 2,12
guard.pausetime	= 2,12
sparkno		= S7002
guard.sparkno	= S7000
sparkxy		= -30,-45
hitsound	= S2,0
guardsound	= S0,9
ground.type	= High
air.type	= Trip
ground.slidetime= 15
ground.hittime	= 15
air.hittime	= 15
yaccel		= 0.45
ground.velocity	= -4
guard.velocity	= -8
air.velocity	= -3.5,-5.7
airguard.velocity	= -5.5,-5.7
ground.cornerpush.veloff = -8
fall = 0
air.fall	= 1

[State 1500,0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 1500:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

[State 1500:		ChangeState]
type			= ChangeState
triggerall              = time >= 12
trigger1		= Command = "Combo Patadas Fuerte"
value			= 1520

[State 1550:		ChangeState]
type			= ChangeState
triggerall              = time >= 12
trigger1		= Command = "Combo Patadas Devil"
value			= 1550

;---------------------------------------------------------------------------
;Combo patadas 02
[Statedef 1520]
type 		= S
movetype	= A
physics		= S
anim		= 1520
;velset		= 0,0
ctrl		= 0
poweradd	= 70
juggle		= 5
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 10
y = -1.5
;ignorehitpause =
;persistent =

[State 0, VelAdd]
type = VelAdd
trigger1 = time > 13
x = 0.3
y = 0.3

[State 1520:	PlaySnd]
type		= PlaySnd
trigger1	= (AnimElem = 1)
value		= S1,1

[State 1520:	PlaySnd]
type		= PlaySnd
trigger1	= (AnimElem = 2)
value		= S0,2

[State 1520:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 2)
attr		= S, NA
hitflag		= MAF
guardflag	= M
animtype	= Hard
air.animtype	= Back
priority	= 5, Hit
damage		= 32
pausetime	= 6,8
guard.pausetime	= 6,8
sparkno		= S7001
guard.sparkno	= S7000
sparkxy		= -20,-45
hitsound	= S2,3
guardsound	= S0,9
ground.type	= High
air.type	= Trip
ground.slidetime= 15
ground.hittime	= 15
air.hittime	= 15
yaccel		= 0.45
ground.velocity	= -4, -6
guard.velocity	= -8
air.velocity	= -3.5,-5.7
airguard.velocity	= -5.5,-5.7
ground.cornerpush.veloff = -8
fall = 1
air.fall	= 1

[State 1520,0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 0, PosSet]
type = PosSet
trigger1 = Pos y > 0
y = 0


[State 1520:		ChangeState]
type			= ChangeState
trigger1		= Time = 30
value			= 50

[State 1520:		ChangeState]
type			= ChangeState
triggerall              = time >= 10
trigger1		= Command = "Combo Patadas Fuerte"
value			= 1530

;---------------------------------------------------------------------------
;Combo patadas 03
[Statedef 1530]
type 		= A
movetype	= A
physics		= S
anim		= 1530
;velset		= 0,0
ctrl		= 0
poweradd	= 70
juggle		= 5
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 10
y = 0
;ignorehitpause =
;persistent =

[State 0, VelAdd]
type = VelAdd
trigger1 = time >= 11
x = 0.3
y = 0

[State 0, VelAdd]
type = VelAdd
trigger1 = time >= 21
x = 0
y = 0.2

[State 1520:	PlaySnd]
type		= PlaySnd
trigger1	= (AnimElem = 2)
value		= S0,7

[State 1530:	PlaySnd]
type		= PlaySnd
trigger1	= (AnimElem = 2)
value		= S2,5

[State 1530:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 3)
attr		= S, NA
hitflag		= MAF
guardflag	= M
animtype	= Hard
air.animtype	= Back
priority        = 6,Dodge
damage		= 52
pausetime	= 6,8
guard.pausetime	= 6,8
sparkno		= S7003
guard.sparkno	= S7000
sparkxy		= -30,-40
hitsound	= S2,0
guardsound	= S0,9
ground.type	= High
air.type	= Trip
ground.slidetime= 15
ground.hittime	= 15
air.hittime	= 15
yaccel		= 0.45
ground.velocity	= -7, -4
guard.velocity	= -8
air.velocity	= -9,-1.7
airguard.velocity	= -7,-3.7
ground.cornerpush.veloff = -8
fall = 1
air.fall	= 1

[State 1530,0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 0, PosSet]
type = PosSet
trigger1 = Pos y > 0
y = 0

[State 1530:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 50

;---------------------------------------------------------------------------
;Combo patadas 04
[Statedef 1550]
type 		= S
movetype	= A
physics		= S
anim		= 1550
;velset		= 0,0
ctrl		= 0
poweradd	= 70
juggle		= 5
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 5
y = 0
;ignorehitpause =
;persistent =

[State 0, VelAdd]
type = VelAdd
trigger1 = animelem = 3
x = 0.3
y = 0

[State 1550:	PlaySnd]
type		= PlaySnd
trigger1	= (AnimElem = 2)
value		= S2,5

[State 1550, Explod - arena]
type = Explod
trigger1 =  (AnimElem = 1)
anim = 7104
ID =  7140
pos =  -5,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.7,0.7
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1

[State 1550:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 3)
attr		= S, NA
hitflag		= MAF
guardflag	= M
animtype	= Hard
air.animtype	= Back
priority	= 5, Hit
damage		= 32
pausetime	= 8,12
guard.pausetime	= 8,12
sparkno		= S7002
guard.sparkno	= S7000
sparkxy		= -30,-75
hitsound	= S2,0
guardsound	= S0,9
ground.type	= High
air.type	= Trip
ground.slidetime= 15
ground.hittime	= 15
air.hittime	= 15
yaccel		= 0.45
ground.velocity	= -2, ifelse(prevstateno =1500,0,-8)
guard.velocity	= -4
air.velocity	= -3.5,-6.7
airguard.velocity = -5.5,-5.7
ground.cornerpush.veloff = -8
fall = ifelse(prevstateno =1500,0,1)
air.fall = 1


[State 1550:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

[State 1550:		ChangeState]
type			= ChangeState
triggerall              = time >= 13
trigger1		= Command = "Combo Patadas Devil"
value			= 1560

[State 1550:		ChangeState]
type			= ChangeState
triggerall              = time >= 13
trigger1		= Command = "Combo Patadas Fuerte"
value			= 1520

;---------------------------------------------------------------------------
;Combo patadas 05
[Statedef 1560]
type 		= S
movetype	= A
physics		= S
anim		= 1560
;velset		= 0,0
ctrl		= 0
poweradd	= 70
juggle		= 5
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 10
y = 0
;ignorehitpause =
;persistent =

[State 1550:	PlaySnd]
type		= PlaySnd
trigger1	= (time = 0)
value		= S2,1

[State 0, VelAdd]
type = VelAdd
trigger1 = animelem = 2
x = 0.3
y = 0

[State 1550:	PlaySnd]
type		= PlaySnd
trigger1	= (AnimElem = 2)
value		= S2,5

[State 1550, Explod - arena]
type = Explod
trigger1 =  (AnimElem = 1)
anim = 7100
ID =  7100
pos =  -5,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.4,0.4
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1

[State 1560:	HitDef]
type		= HitDef
trigger1	= (AnimElem = 2)
attr		= S, NA
hitflag		= MAF
guardflag	= M
animtype	= Hard
air.animtype	= Back
priority	= 5, Hit
damage		= 52
pausetime	= 8,12
guard.pausetime	= 8,12
sparkno		= S7003
guard.sparkno	= S7000
sparkxy		= -30,-45
hitsound	= S2,3
guardsound	= S0,9
ground.type	= High
air.type	= Trip
ground.slidetime= 15
ground.hittime	= 15
air.hittime	= 15
yaccel		= 0.45
ground.velocity	= ifelse(p2dist y <= -30,-12,-3),ifelse(p2dist y <= -30,-8,0)
guard.velocity	= -8
air.velocity	= -12.5,-8.7
airguard.velocity	= -5.5,-5.7
ground.cornerpush.veloff = -8
fall = ifelse(prevstateno =1550,0,1)
air.fall	= 1

[State 1530,0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1


[State 1560:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

[State 1560:		ChangeState]
type			= ChangeState
triggerall              = time >= 8
trigger1		= Command = "Combo Patadas Fuerte"
value			= 1520

;=========================================================================
;-------------------------------------------------------------------------
;-------------------------------------------------------------
;Agarre Giratorio - Start
[Statedef 1600]
type    = S
movetype= A
physics = S
juggle  = 1
;velset = 0,0
ctrl = 0
anim = 1600
poweradd = 100


[State 0, PosAdd]
type = Velset
trigger1 = AnimElem = 2
x = 10
y = 0
;ignorehitpause =
;persistent =

[State 1600, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S1,4
volume = 100

[State 1600, Ground Fx]
type = Explod
trigger1 = AnimElem = 2
anim = 7100
ID =  7100
pos = -10, 10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
pausemove =1
scale = 0.7, 0.7
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0

[State 1600, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NT
guardflag =
hitflag = M-
animtype = Medium
pausetime = 1,18
sparkno = S7001
sparkxy = -10, -40
guard.dist = 0
priority = 5,dodge
hitsound = S2,10
p1stateno = 1620
p2stateno = 1650
p2facing = 1


[State 1600, 4]
type = ChangeState
trigger1 = animtime = 0
value = 1610
ctrl = 1

;--------------------
;Agarre Giratorio - Falla
[Statedef 1610]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
anim = 1610
poweradd = 0



[State 1610, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------
;Agarre Giratorio - Agarre
[Statedef 1620]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1620
poweradd = 0
sprpriority = 1

[State 1620, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S4,16
volume = 0

[State 1620, vel]
type = veladd
trigger1 = time > 7
x = -0.2

[State 1620, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2 || AnimElem = 4 ||  AnimElem = 6 || AnimElem = 9 || AnimElem = 11 || AnimElem = 14 || AnimElem = 16 || AnimElem = 19
value = S2,5
volume = 100

[State 1600, Ground Fx]
type = Explod
trigger1 = AnimElem = 2 || AnimElem = 6 || AnimElem = 11 || AnimElem = 16
anim = 7104
ID =  7104
pos = -20, 5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
pausemove =1
scale = 0.7, 0.7
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0


[State 1600, Ground Fx]
type = Explod
trigger1 = AnimElem = 4 || AnimElem = 9 || AnimElem = 14 || AnimElem = 19
anim = 7105
ID =  7105
pos = 20, 5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
pausemove =1
scale = 0.7, 0.7
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0




[State 1620, width]
type = Width
trigger1 = 1
edge = 55,0

[State 1620, push]
type = PlayerPush
trigger1 = 1
value = 0

[State 1620, bind1, START]
type = TargetBind
trigger1 = AnimElem = 1
pos = 45,-0

[State 1620, bind2] ;-------- Ciclo --------------
type = TargetBind
trigger1 = AnimElem = 2
pos = 5,-30

[State 1620, bind3]
type = TargetBind
trigger1 = AnimElem = 3
pos = -5,-30

[State 1620, bind4]
type = TargetBind
trigger1 = AnimElem = 4
pos = -10,-30

[State 1620, bind5]
type = TargetBind
trigger1 = AnimElem = 5
pos = 5,-30

[State 1620, bind4]  ;-------- Ciclo --------------
type = TargetBind
trigger1 = AnimElem = 6
pos = 15,-30

[State 1620, bind2] ;-------- Ciclo --------------
type = TargetBind
trigger1 = AnimElem = 7
pos = 5,-30

[State 1620, bind3]
type = TargetBind
trigger1 = AnimElem = 8
pos = -5,-30

[State 1620, bind4]
type = TargetBind
trigger1 = AnimElem = 9
pos = -10,-30

[State 1620, bind5]
type = TargetBind
trigger1 = AnimElem = 10
pos = 5,-30

[State 1620, bind4]  ;-------- Ciclo --------------
type = TargetBind
trigger1 = AnimElem = 11
pos = 15,-30

[State 1620, bind2] ;-------- Ciclo --------------
type = TargetBind
trigger1 = AnimElem = 12
pos = 5,-30

[State 1620, bind3]
type = TargetBind
trigger1 = AnimElem = 13
pos = -5,-30

[State 1620, bind4]
type = TargetBind
trigger1 = AnimElem = 14
pos = -10,-30

[State 1620, bind5]
type = TargetBind
trigger1 = AnimElem = 15
pos = 5,-30

[State 1620, bind4]  ;-------- Ciclo --------------
type = TargetBind
trigger1 = AnimElem = 16
pos = 15,-30


[State 1620, bind2] ;-------- Ciclo --------------
type = TargetBind
trigger1 = AnimElem = 17
pos = 5,-30

[State 1620, bind3]
type = TargetBind
trigger1 = AnimElem = 18
pos = -5,-30

[State 1620, bind4]
type = TargetBind
trigger1 = time = 73;AnimElem = 19 ;-------- lanzamiento --------------
pos = -25,-50



[State 0, SprPriority]
type = SprPriority
trigger1 = animelem = 5
value = -2

[State 0, SprPriority]
type = SprPriority
trigger1 = animelem = 6
value = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = animelem = 10
value = -2

[State 0, SprPriority]
type = SprPriority
trigger1 = animelem = 11
value = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = animelem = 15
value = -2

[State 0, SprPriority]
type = SprPriority
trigger1 = animelem = 16
value = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = animelem = 19
value = -2


[State 0, VelSet]
type = VelSet
trigger1 = time = 69
x = -1
y = -4

[State 0, VelAdd]
type = VelAdd
trigger1 = time > 75
x = 0.1
y = 0.3

[State 0, Turn]
type = Turn
trigger1 = Animelem = 20


[State 1620, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Agarre Giratorio  - P2
[Statedef 1650]
type    = A
movetype= H
physics = N
juggle  = 0
velset = 0,0



[State 1650, ChangeAnim]
type = ChangeAnim2
trigger1 = time = 0
value = 1650
;elem = 1


[State 1650, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1480, sprpriority]
type = SprPriority
trigger1 = AnimElem = 1,>0
value = 1


[State 0]
type = Turn
trigger1 = time = 0
ignorehitpause = 1
persistent = 0


[State 0, VelSet]
type = VelSet
trigger1 = time = 69
x = -1
y = -5

[State 1480, vel]
type = velset
trigger1 = time = 73
x = -8.5
y = -3.3

[State 1480, vel]
type = veladd
trigger1 = time > 73
x = 0.2
y = -0.3

[State 1480, damage]
type = LifeAdd
trigger1 = time = 73; Vel Y > 0
;trigger1 = Pos Y >= 0
value = -150


[State 1480, end]
type = SelfState
trigger1 = time = 76 ;Vel Y > 0
;trigger1 = Pos Y >= 0
value = 5050




;===========================================================================
;-| Speciales de Ki |-----------------------------------------------------
;---------------------------------------------------------------------------
;Taiyoken
[Statedef 2000]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= -400
ctrl = 0
velset = 0,0
sprpriority = -1
anim = 2000


[State 2000, VarSet]
type = Varset
trigger1 = time = 0
fv = 19
value = 0.0

[State 2000, VarAdd]
type = Varadd
trigger1 = time >= 30 && fvar(19) < 1.5
fv = 19
value = 0.1

[State 2000, Luz]
type = Explod
trigger1 = time = [30,50]
Anim = 2050
Pos = 8, -68
Id = 2050
sprpriority = 999
removeongethit = 1
removetime = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = fvar(19), fvar(19)

[State 2000, Luz llendose]
type = Explod
trigger1 = time = 50
Anim = 2052
Pos = 8, -68
Id = 2052
sprpriority = 999
removeongethit = 0
;removetime = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = fvar(19), fvar(19)

[State 2000:		Helper]
type		= Helper
trigger1	= (time = 30)
helpertype	= Normal
name		= "Tayoken"
id		= 2051
pos		= 8, -68
postype		= p1
facing		= 1
stateno		= 2051
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = fvar(19)
size.yscale     = fvar(19)


[State 2000, Voice]
type = PlaySnd
trigger1 = Time = 0
value = 3,7
voice = 255
channel = 0


[State 2000, End]
type = ChangeState
trigger1 = Time = 51
value = 0
ctrl = 1

;----------------------------------------------------
;Tayoken - Luz - helper
[Statedef 2051]
movetype	= A
anim		= 2051
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 5

[State 2101, HitDef]
type = HitDef
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 0
hitflag = MA
guardflag = MA
getpower = 0
pausetime = 0,75
guard.pausetime = 0,10
sparkno = -1
sparkxy = 0,0
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = 0
air.velocity = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time > 0
flag = invisible


[State 2101, DestroySelf]
type = DestroySelf
trigger1 = time = 25
trigger2 = movecontact = 1
;ignorehitpause =
;persistent =

;=========================================================================
;-------------------------------------------------------------------------
;Teleport Adelante
[Statedef 2100]
type = S
movetype = I
physics = N
anim = 2100
velset = 0,0
sprpriority = 0
ctrl = 0
Poweradd = -400


[State 0]
type=AssertSpecial
trigger1=(time=[10,20])
flag=invisible
flag2=noshadow
ignorehitpause=1

[State 0]
type=EnvShake
trigger1=time=10
time=8
freq=260
ampl=-8

[State 0]
type=AllPalFX
trigger1=time=5
time=6
add=160,160,160
ignorehitpause=1

[State 0]
type=PlaySnd
trigger1=(time=10)||(time=20)
value=3,0

[State 2100]
type=AfterImage
trigger1 = time = 2
time = 8
length = 8
palcontrast = 120,120,120
palmul = .35,.35,.35
timegap = 1
framegap = 1
trans = Add
ignorehitpause = 1


[State 0]
type = ChangeAnim
trigger1 = (time = 20)
value = 2101

[State 0]
type=PlayerPush
trigger1=(time=[10,20])
value=0

[State 0]
type=NotHitBy
trigger1=(time=[10,20])
value=SCA,NT,AT
time=1
ignorehitpause=1

[State 500:     PosAdd]
type            = PosAdd
trigger1        = (Time = 20)
x               = (P2BodyDist X-10)

[State 0]
type = ChangeState
trigger1 = (time = 30)
value = 0

;-------------------------------------------------------------------------
;Teleport Atras
[Statedef 2150]
type = S
movetype = I
physics = N
anim = 2100
velset = 0,0
sprpriority = 0
ctrl = 0
Poweradd = -400


[State 0]
type=AssertSpecial
trigger1=(time=[10,20])
flag=invisible
flag2=noshadow
ignorehitpause=1

[State 0]
type=EnvShake
trigger1=time=10
time=8
freq=260
ampl=-8

[State 0]
type=AllPalFX
trigger1=time=5
time=6
add=160,160,160
ignorehitpause=1

[State 0]
type=PlaySnd
trigger1=(time=10)||(time=20)
value=3,0

[State 2100]
type=AfterImage
trigger1 = time = 2
time = 8
length = 8
palcontrast = 120,120,120
palmul = .35,.35,.35
timegap = 1
framegap = 1
trans = Add
ignorehitpause = 1

[State 0]
type = ChangeAnim
trigger1 = (time = 20)
value = 2101

[State 0, Turn]
type = Turn
trigger1 =  (time = 15)
value = 1
;ignorehitpause =
;persistent =


[State 0]
type=PlayerPush
trigger1=(time=[10,20])
value=0

[State 0]
type=NotHitBy
trigger1=(time=[10,20])
value=SCA,NT,AT
time=1
ignorehitpause=1

[State 500:     PosAdd]
type            = PosAdd
trigger1        = (Time = 20)
x               = (P2BodyDist X-55)


[State 0]
type = ChangeState
trigger1 = (time = 30)
value = 0

;=========================================================================
;-------------------------------------------------------------------------
;Torpedos - 1
[Statedef 2200]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 2200
poweradd = -200
sprpriority = 0

;[State 1000, PlaySnd]
;type = PlaySnd
;trigger1 = Time = 0
;value = 1,5
;volume = 100

[State 2200:		Helper]
type		= Helper
trigger1	= (AnimElem = 2)
helpertype	= Normal
name		= "Torpedo 1"
id		= 2250
pos		= 40,-50
postype		= p1
facing		= 1
stateno		= 2250
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.9
size.yscale     = 1.2


[State 2200, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 15

[State 540,GoDown2]
type = VelSet
Trigger1 = pos Y > -1
y = 0

[State 2200, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  0
ctrl= 1


;---------------------------------------------
;Torpedos - 2
[Statedef 2201]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 2201
poweradd = -200
sprpriority = 0

;[State 1000, PlaySnd]
;type = PlaySnd
;trigger1 = Time = 0
;value = 1,5
;volume = 100

[State 2200:		Helper]
type		= Helper
trigger1	= (AnimElem = 2)
helpertype	= Normal
name		= "Torpedo 2"
id		= 2250
pos		= 25,-40
postype		= p1
facing		= 1
stateno		= 2250
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.9
size.yscale     = 1.2


[State 2201, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 15

[State 540,GoDown2]
type = VelSet
Trigger1 = pos Y > -1
y = 0

[State 2201, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  0
ctrl= 1

;---------------------------------------------
;Torpedos - 3
[Statedef 2202]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 2202
poweradd = -200
sprpriority = 0

;[State 1000, PlaySnd]
;type = PlaySnd
;trigger1 = Time = 0
;value = 1,5
;volume = 100

[State 2202:		Helper]
type		= Helper
trigger1	= (AnimElem = 2)
helpertype	= Normal
name		= "Torpedo 3"
id		= 2250
pos		= -5,-35
postype		= p1
facing		= 1
stateno		= 2250
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.9
size.yscale     = 1.2


[State 2202, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 15

[State 540,GoDown2]
type = VelSet
Trigger1 = pos Y > -1
y = 0

[State 2202, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  0
ctrl= 1


;---------------------------------------------
;Torpedos - 4
[Statedef 2203]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 2203
poweradd = -200
sprpriority = 0

;[State 1000, PlaySnd]
;type = PlaySnd
;trigger1 = Time = 0
;value = 1,5
;volume = 100

[State 2203:		Helper]
type		= Helper
trigger1	= (AnimElem = 2)
helpertype	= Normal
name		= "Torpedo 4"
id		= 2250
pos		= 35,-70
postype		= p1
facing		= 1
stateno		= 2250
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.9
size.yscale     = 1.2


[State 2203, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 15

[State 540,GoDown2]
type = VelSet
Trigger1 = pos Y > -1
y = 0

[State 2203, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  0
ctrl= 1

;--------------------------------------------------------------------------
;-------------------------------------------------------------------------
;Torpedo Projectile
[Statedef 2250]
movetype	= A
anim		= 2249
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2
velset = 0,0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 12
value = 2250
;elem = 1
;ignorehitpause =
;persistent =


[State 2250:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[STate 2250: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 2250:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

;[State 950:	PlayerPush]
;type			= PlayerPush
;trigger1		= 1
;value			= 0



[State 2250, Fade In]
type = VelSet
trigger1 = Parent, command = "Torpedos Lanzamiento"
trigger2 = Parent, var(9) = 1 && Parent, stateno = 1000
trigger3 = Parent, var(9) = 1 && Parent, stateno = 1010
trigger4 = Parent, var(9) = 1 && Parent, stateno = 1200
trigger5 = Parent, var(9) = 1 && Parent, stateno = 1250
trigger6 = Parent, var(9) = 1 && Parent, stateno = 1530
trigger7 = Parent, var(9) = 1 && Parent, stateno = 1560
trigger8 = Parent, var(9) = 1 && Parent, stateno = 2400
trigger9 = Parent, var(9) = 1 && Parent, stateno = 2500
x = 10*(ifelse(p2dist X<0,-1,1)*(p2dist X/(abs(p2dist X)+abs(p2dist Y-(p2statetype !=L*50)))))
y = 10*((p2dist Y-(p2statetype !=L*50))/(abs(p2dist X)+abs(p2dist Y-(p2statetype !=L*50))))

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Parent, command = "Torpedos Lanzamiento"
trigger2 = Parent, var(9) = 1 && Parent, stateno = 1000
trigger3 = Parent, var(9) = 1 && Parent, stateno = 1010
trigger4 = Parent, var(9) = 1 && Parent, stateno = 1200
trigger5 = Parent, var(9) = 1 && Parent, stateno = 1250
trigger6 = Parent, var(9) = 1 && Parent, stateno = 1530
trigger7 = Parent, var(9) = 1 && Parent, stateno = 1560
trigger8 = Parent, var(9) = 1 && Parent, stateno = 2400
trigger9 = Parent, var(9) = 1 && Parent, stateno = 2500
value = 2251

[State 2250: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 999
framegap 	= 1
length 		= 20
paladd 		= 0, 0, 0
palmul 		= .90, .90, .90
palcontrast 	= 100, 100, 100
trans 		= add

[State 2250: 	AfterImage]
type 		= AfterImage
trigger1 	= Parent, command = "Torpedos Lanzamiento"
trigger2 = Parent, var(9) = 1 && Parent, stateno = 1000
trigger3 = Parent, var(9) = 1 && Parent, stateno = 1010
trigger4 = Parent, var(9) = 1 && Parent, stateno = 1200
trigger5 = Parent, var(9) = 1 && Parent, stateno = 1250
trigger6 = Parent, var(9) = 1 && Parent, stateno = 1530
trigger7 = Parent, var(9) = 1 && Parent, stateno = 1560
trigger8 = Parent, var(9) = 1 && Parent, stateno = 2400
trigger9 = Parent, var(9) = 1 && Parent, stateno = 2500
time 		= 50
framegap 	= 1
length 		= 20
paladd 		= 0, 0, 0
palmul 		= .90, .90, .90
palcontrast 	= 100, 100, 100
trans 		= add

[State 2250:	Hitdef]
type            = Hitdef
trigger1        = (1)
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 50,10
pausetime	= 3,12
sparkno		= s3070
sparkxy		= 0,-5
;guard.sparkxy   = 30, 20
guard.sparkno	= s3070
hitsound	= s3,9
guardsound	= s3,9
ground.type	= Low
air.type	= Trip
ground.slidetime= 25
ground.hittime	= 25
air.hittime	= 15
ground.velocity	= -4
guard.velocity	= -4
air.velocity	= -4,-3
airguard.velocity = -4,-3
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
palfx.time	= 25
palfx.mul	= 50,150,150
palfx.add	= 100,250,250
palfx.sinadd 	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4


[State 2250:	DestroySelf]
type			= DestroySelf
trigger1 		= movecontact = 1;(Parent, NumProjID(1002) = 0)

[State 0, ChangeState]
type = ChangeState
trigger1 = FrontEdgeBodyDist <= 0
trigger2 = pos y >= 0
value = 2251
ctrl = 0

;-------------------------------------------------
;Torpedo Projectile - Choque contra la pared
[Statedef 2251]
movetype	= A
anim		= 2252
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2
velset = 0,0

[State 2251, Luz]
type = Explod
trigger1 = time = 0
Anim = 3060
Pos = 0,-10
Id = 3060
sprpriority = 2
removeongethit = 1
removetime = -2
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.8, 0.8


[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;ignorehitpause =
;persistent =

;------------------------------------------------------------------------
; Torpedo en el aire
[Statedef 2300]
type = A
movetype = A
physics = N
juggle = 4
ctrl = 0
anim = 920
poweradd = -200


[State 0, ChangeAnim]
type = ChangeAnim
triggerall = Numhelper(2250) = 1 || Numhelper(2250) = 3
trigger1 = Time = 0
value = 921
;elem = 1
;ignorehitpause =
;persistent =


[State 2200, VelMul]
type = VelMul
trigger1 = !Time
x = .160
y = .160 ;.2

[State 2203:		Helper]
type		= Helper
trigger1	= AnimElem = 2
helpertype	= Normal
name		= "Torpedo"
id		= 2250
pos		= 35,-40
postype		= p1
facing		= 1
stateno		= 2250
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.9
size.yscale     = 1.2


[State 2203, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 15

[State 900,GoDown2]
type = VelSet
Trigger1 = pos Y > -1
y = 0

[State 2203, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  50
ctrl= 1

;-------------------------------------------------------------------------
;------------------------------------------------------------------------
; Estupidoooo!
[Statedef 2400]
type = A
movetype = A
physics = N
juggle = 4
ctrl = 0
anim = 2400
poweradd = -600

[State 2200, VelMul]
type = VelMul
trigger1 = !Time
x = .160
y = .160 ;.2

[State 2350, 1]
type = PlaySnd
trigger1 = time = 0
value = 4, 15
volume = 100


[State 2350, Explod]
type = Explod
trigger1 = Time = 0
anim =  2449
ID = 2449
pos = -15,-55
postype = p1
facing = 1
vfacing = 1
Sprpriority = -2
scale = 0.2, 0.2
Ontop = 0
removetime = 15
bindtime = -1
removeongethit = 1

[State 700:		Helper]
type		= Helper
trigger1	= (time = 15)
helpertype	= Normal
name		= "Estupidoo!! - hit"
id		= 2450
pos		= 45,-25
postype		= p1
facing		= 1
stateno		= 2450
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.5
size.yscale     = 0.5


[State 700:		Helper]
type		= Helper
trigger1	= (time = 15)
helpertype	= Normal
name		= "Estupidoo!! - FX"
id		= 2451
pos		= 45,-25
postype		= p1
facing		= 1
stateno		= 2451
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.5
size.yscale     = 0.5

[State 2350, Explod]
type = Explod
trigger1 = (time = 15)
anim =  2460
ID = 2460
pos = 45,-25
postype = p1
facing = 1
vfacing = 1
Sprpriority = 2
scale = 1.2, 1.2
Ontop = 0
removetime = 42
bindtime = -1
removeongethit = 1

[State 540,GoDown2]
type = VelSet
Trigger1 = pos Y > -1
y = 0

[State 1000, 4]
type =  ChangeState
trigger1 = Animtime = 0
value =  50
ctrl= 1


;-------------------------------------------------------------------------------
;Estupidoo!! - Hit
[Statedef 2450]
movetype	= A
anim		= 2450
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2


[STate 2350: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 2350:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA


[State 0, BindToParent]
type = BindToParent
trigger1 = Time >= 0
pos = 45,-25


[State 2350, 1]
type = PlaySnd
trigger1 = time%30 = 0
value = 3, 5
volume = 50


[State 2350:	Hitdef]
type            = Hitdef
;triggerall      = hitcount < 8
trigger1        = animelem = 3 ||animelem = 5 || animelem = 7
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 60,5
pausetime	= 8, 5
sparkno		= -1
sparkxy		= 0, 50
;guard.sparkxy   = 30, 20
guard.sparkno	= -1
hitsound	= s3,1
guardsound	= s3,1
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -2,-3
guard.velocity	= -3
air.velocity	= -3,-2
airguard.velocity = -4,-3
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
fall = 1
palfx.time	= 25
palfx.mul	= 150,150,50
palfx.add	= 250,250,100
palfx.sinadd 	= 175,25,5,4


[State 1001:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[State 2350, Explod]
type = Explod
trigger1 = movecontact = 1
anim =  960
ID = 960
pos = 0+(random%30),-53+(random%30)
postype = p2
facing = 1
vfacing = 1
bindtime = 1
scale = 1.3, 1.3
Ontop = 1
removetime = 30
removeongethit = 0



[State 2350:	DestroySelf]
type			= DestroySelf
trigger1 		= animtime = 0;(Parent, NumProjID(1002) = 0)
trigger2


;-------------------------------------------------------------------------------
;Estupidoo!! - FX
[Statedef 2451]
movetype	= A
anim		= 2451
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 5

[State 2350:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 0
value =  -45

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add


[State 0, BindToParent]
type = BindToParent
trigger1 = Time >= 0
pos = 45,-25


[State 2350:	DestroySelf]
type			= DestroySelf
trigger1 		= animtime = 0;(Parent, NumProjID(1002) = 0)
trigger2


;=========================================================================
;-------------------------------------------------------------------------
;Me estorban!!
[Statedef 2500]
type = S
movetype = A
physics = S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 2500
poweradd = -300
sprpriority = 0

;[State 1000, PlaySnd]
;type = PlaySnd
;trigger1 = Time = 0
;value = 1,5
;volume = 100


[State 2500:	Hitdef]
type            = Hitdef
;triggerall      = hitcount < 8
trigger1        = animelem = 2
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 100,5
pausetime	= 8, 5
sparkno		= 3070
sparkxy		= 0, 50
;guard.sparkxy   = 30, 20
guard.sparkno	= 3070
hitsound	= s3,1
guardsound	= s3,1
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= ifelse(P2dist x > 0, -9, 9),-5
guard.velocity	= ifelse(P2dist x > 0, -3, 3)
air.velocity	= ifelse(P2dist x > 0, -9, 9),-5
airguard.velocity = ifelse(P2dist x > 0, -4, 4),-2
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
fall = 1
palfx.time	= 25
palfx.mul	= 50,150,150
palfx.add	= 100,250,250
palfx.sinadd 	= 175,25,5,4

[State 2500, Explod]
type = Explod
trigger1 = Animelem = 2
anim = 2550
ID = 2550
pos = 50,-50
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 1, 1
Ontop = 1
removetime = -2
removeongethit = 0

[State 2500, Explod]
type = Explod
trigger1 = Animelem = 2
anim = 2550
ID = 2550
pos = -35,-50
postype = p1
facing = -1
vfacing = 1
bindtime = 1
scale = 1, 1
Ontop = 1
removetime = -2
removeongethit = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = Animelem = 2
time = 10
freq = 120
ampl = -4
phase = 90
;ignorehitpause =
;persistent =

[State 2500, Aura ground]
type = Explod
trigger1 = Animelem = 2
anim = 7033
ID = 7033
pos = 0, 0
sprpriority = -2
removetime = -2
bindtime = -1
ownpal = 1
scale = 0.7,0.7
removeongethit = 0
ontop = 0
supermovetime 	= 999
ignorehitpause  = 1


[State 2500, 1]
type = PlaySnd
trigger1 = time = 0
value = 4, 17

[State 2500, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  0
ctrl= 1

;===========================================================================
;-| Hyper |-----------------------------------------------------------------
;---------------------------------------------------------------------------
;KameHameHa - Multi dirección
[Statedef 3000]
type 		= S
movetype	= A
physics		= S
anim		= 3000
;velset		= 0,0
ctrl		= 0
poweradd	= -1000
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 20
movetime = 20
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1


[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -200

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 5 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Cámara lenta]
type = Pause
trigger1 = time = [20, 35]
time = 1
movetime = 0

[State 3000:	EnvShake]
type			= EnvShake
trigger1 		= (AnimElem = 1, > 0) && ((GameTime%10) = 0)
time			= 50
freq			= 120
ampl			= -2
phase			= 50

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = -10,-40
sprpriority = 2
removetime = 28
bindtime = -1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S3,12
volume = 50
channel = 1

[State 3000, PlaySnd - bola charge]
type = PlaySnd
trigger1 = time = 28
value = S3,10
volume = 50
channel = 2

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
triggerall = time > 45
trigger1 = Time = 46
value = S1,7
volume = 50
channel = 3

[State 3000, Bola Charge]
type = Explod
trigger1 = time = 28
anim = 3049
ID = 3049
pos = -10,-40
sprpriority = 2
removetime = 999
bindtime = -1
ownpal = 1
scale = 0.7,0.7
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, Aura]
type = Explod
trigger1 = time = 28
anim = 7033
ID = 7033
pos = 0, 0
sprpriority = -2
removetime = -1
bindtime = -1
ownpal = 1
scale = 0.5,0.5
removeongethit = 1
ontop = 0
supermovetime 	= 999
ignorehitpause  = 1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 5
value = -5

[State 3000, VarSet  - Ki power base]
type		= VarSet
trigger1	= (!Time)
var(7)		= 200

[State 3000, VarAdd  - Charge Ki power]
type		= VarAdd
trigger1	= (Time > 45) && ((GameTime%1) = 0) && (Var(7) < 600)
var(7)		= 1



[State 3000:	ChangeState]
type			= ChangeState
triggerall              = time > 45
trigger1		= (Command != "holdc")
trigger2                = Time = 200
trigger3                = power <= 0
value			= (IfElse(Command = "holddown",3006,(IfElse(Command = "holdup",3007,3005))))

[State 3000:	ChangeState]
type			= ChangeState
triggerall              = time > 45 && var(9) = 1
trigger1		= (Command != "holdc")
trigger2                = Time = 200
trigger3                = power <= 0
value			= (IfElse(P2bodydist Y >= -20 && var(9) = 1, 3006,(IfElse(P2bodydist Y <= -50 && var(9) = 1,3007,3005))))
;---------------------------------------------------------------------------
;KameHameHa: Release
[Statedef 3005]
type 		= S
movetype	= A
physics		= S
anim		= 3005
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 0

[State 3001, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 3049

[State 3001, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 7033

[State 3001, PlaySnd - bola]
type = PlaySnd
trigger1 = time = 0
value = S0,0
volume = 50
channel = 3

[State 3001, Explod - arena]
type = Explod
trigger1 =  time = 0
anim =  7100
ID =    7100
pos =  5,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 1,1
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
;ignorehitpause =
;persistent =

[State 3001:		Helper]
type		= Helper
trigger1	= time = 0
helpertype	= Normal
name		= "Kamehameha"
id		= 3050
pos		= 25,-55
postype		= p1
facing		= 1
stateno		= 3050
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 1
size.yscale     = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time > 0
value = 0

[State 3001, PlaySnd - kamehameha]
type = PlaySnd
trigger1 = time = 0
value = S4,14
volume = 200
channel = 4


[State 3001, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodydist < -1 && BackEdgeBodydist > -30)
movecamera = 0,0
value	= 0

[State 3001, End]
type = ChangeState
trigger1 = animtime = 0
value	= IfElse(BackEdgeBodydist >= 0, 0, 100)
ctrl = 1

;---------------------------------------------------------------------------
;KameHameHa: Release Down
[Statedef 3006]
type 		= S
movetype	= A
physics		= S
anim		= 3006
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 0

[State 3001, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 3049

[State 3001, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 7033

[State 3001, PlaySnd - bola]
type = PlaySnd
trigger1 = time = 0
value = S0,0
volume = 50
channel = 3

[State 3001, Explod - arena]
type = Explod
trigger1 =  time = 0
anim =  7100
ID =    7100
pos =  5,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 1,1
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
;ignorehitpause =
;persistent =

[State 3001:		Helper]
type		= Helper
trigger1	= time = 0
helpertype	= Normal
name		= "Kamehameha abajo"
id		= 3051
pos		= 20,-30
postype		= p1
facing		= 1
stateno		= 3051
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 1
size.yscale     = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time > 0
value = 0

[State 3001, PlaySnd - kamehameha]
type = PlaySnd
trigger1 = time = 0
value = S4,14
volume = 100
channel = 4


[State 3001, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodydist < -1 && BackEdgeBodydist > -30)
movecamera = 0,0
value	= 0

[State 3001, End]
type = ChangeState
trigger1 = animtime = 0
value	= IfElse(BackEdgeBodydist >= 0, 0, 100)
ctrl = 1

;---------------------------------------------------------------------------
;KameHameHa: Release Up
[Statedef 3007]
type 			= S
movetype		= A
physics		= S
anim			= 3007
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 3001, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 3049

[State 3001, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 7033

[State 3001, PlaySnd - bola]
type = PlaySnd
trigger1 = time = 0
value = S0,0
volume = 50
channel = 3

[State 3001, Explod - arena]
type = Explod
trigger1 =  time = 0
anim =  7100
ID =    7100
pos =  5,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 1,1
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
;ignorehitpause =
;persistent =

[State 3001:		Helper]
type		= Helper
trigger1	= time = 0
helpertype	= Normal
name		= "Kamehameha arriba"
id		= 3052
pos		= 20,-60
postype		= p1
facing		= 1
stateno		= 3052
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 1
size.yscale     = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time > 0
value = 0

[State 3001, PlaySnd - kamehameha]
type = PlaySnd
trigger1 = time = 0
value = S4,14
volume = 100
channel = 4


[State 3001, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodydist < -1 && BackEdgeBodydist > -30)
movecamera = 0,0
value	= 0

[State 3001, End]
type = ChangeState
trigger1 = animtime = 0
value	= IfElse(BackEdgeBodydist >= 0, 0, 100)
ctrl = 1


;------------------------------------------------------------------------
;KameHameHa - projetile adelante
[Statedef 3050]
movetype	= A
anim		= 3050
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 3

[State 3050:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[STate 3050: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 3050:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

;[State 950:	PlayerPush]
;type			= PlayerPush
;trigger1		= 1
;value			= 0


[State 3050:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 10
y			= 0


[State 3050:	VelMul]
type		= Veladd
trigger1	= (Time > 0)
x		= 0.2
y		= 0

[State 3050: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 50
framegap 	= 1
length 		= 20
paladd 		= 0, 0, 0
palmul 		= .90, .90, .90
palcontrast 	= 100, 100, 100
trans 		= add

[State 3050:	Hitdef]
type            = Hitdef
trigger1        = (1)
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= (Parent, Var(7)),(Parent, Var(7)/6)
pausetime	= 1,8
sparkno		= -1
sparkxy		= 0,-5
;guard.sparkxy   = 30, 20
guard.sparkno	= -1
hitsound	= s0,5
guardsound	= s0,5
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -10,-5
guard.velocity	= -4
air.velocity	= -10,-5
airguard.velocity = -4,-3
ground.cornerpush.veloff = 0
fall =1
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
palfx.time	= 25
palfx.mul	= 120,120,150
palfx.add	= 200,200,250
palfx.sinadd 	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4

[State 3050, Bola spark]
type = Explod
trigger1 = movecontact = 1
anim = 3060
ID = 3060
postype = p2
pos = -10,-50
sprpriority = 2
removetime = 26
bindtime = 1
ownpal = 1
scale = 1.3,1.3
vel = -1,0
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1


[State 3050:	DestroySelf]
type			= DestroySelf
trigger1 		= movecontact = 1;(Parent, NumProjID(1002) = 0)
trigger2                = time = 200

;------------------------------------------------------------------------
;KameHameHa - projetile abajo
[Statedef 3051]
movetype	= A
anim		= 3051
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 3

[State 3051:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[STate 3051: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 3051:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

;[State 950:	PlayerPush]
;type			= PlayerPush
;trigger1		= 1
;value			= 0


[State 3051:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 8
y			= 8


[State 3051:	VelMul]
type		= Veladd
trigger1	= (Time > 0)
x		= 0.2
y		= 0.2

[State 3051: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 50
framegap 	= 1
length 		= 20
paladd 		= 0, 0, 0
palmul 		= .90, .90, .90
palcontrast 	= 100, 100, 100
trans 		= add

[State 3051:	Hitdef]
type            = Hitdef
trigger1        = (1)
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= (Parent, Var(7)),(Parent, Var(7)/6)
pausetime	= 1,8
sparkno		= -1
sparkxy		= 0,-5
;guard.sparkxy   = 30, 20
guard.sparkno	= -1
hitsound	= s0,5
guardsound	= s0,5
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -10,-5
guard.velocity	= -4
air.velocity	= -10,-5
airguard.velocity = -4,-3
ground.cornerpush.veloff = 0
fall =1
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
palfx.time	= 25
palfx.mul	= 120,120,150
palfx.add	= 200,200,250
palfx.sinadd 	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4

[State 3051, Bola explosion]
type = Explod
trigger1 = movecontact = 1
anim = 3060
ID = 3060
postype = p2
pos = -10,-50
sprpriority = 2
removetime = 26
bindtime = 1
ownpal = 1
scale = 1.3,1.3
vel = -1,0
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3051, Bola explosion]
type = Explod
trigger1 = pos y >= 20
anim = 3060
ID = 3060
postype = p1
pos = -10,-30
sprpriority = 2
removetime = 26
bindtime = 1
ownpal = 1
scale = 1.3,1.3
vel = -1,0
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3051:		Helper]
type		= Helper
trigger1	= pos y >= 20
helpertype	= Normal
name		= "Kamehameha abajo - explosión piso"
id		= 3054
pos		= 0,-10
postype		= p1
facing		= 1
stateno		= 3054
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 1
size.yscale     = 1


[State 3051:	DestroySelf]
type			= DestroySelf
trigger1 		= movecontact = 1;(Parent, NumProjID(1002) = 0)
trigger2                = pos y >= 20
trigger3                = time = 200

;------------------------------------------------------------------------
;KameHameHa - projetile arriba
[Statedef 3052]
movetype	= A
anim		= 3052
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 3

[State 3052:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[STate 3052: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 3052:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

;[State 950:	PlayerPush]
;type			= PlayerPush
;trigger1		= 1
;value			= 0


[State 3052:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 8
y			= -8


[State 3052:	VelMul]
type		= Veladd
trigger1	= (Time > 0)
x		= 0.2
y		= -0.2

[State 3052: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 50
framegap 	= 1
length 		= 20
paladd 		= 0, 0, 0
palmul 		= .90, .90, .90
palcontrast 	= 100, 100, 100
trans 		= add

[State 3052:	Hitdef]
type            = Hitdef
trigger1        = (1)
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= (Parent, Var(7)),(Parent, Var(7)/6)
pausetime	= 1,8
sparkno		= -1
sparkxy		= 0,-5
;guard.sparkxy   = 30, 20
guard.sparkno	= -1
hitsound	= s0,5
guardsound	= s0,5
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -5,-11
guard.velocity	= -4
air.velocity	= -5,-11
airguard.velocity = -4,-3
ground.cornerpush.veloff = 0
fall =1
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
palfx.time	= 25
palfx.mul	= 120,120,150
palfx.add	= 200,200,250
palfx.sinadd 	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4

[State 3052, Bola Charge]
type = Explod
trigger1 = movecontact = 1
anim = 3060
ID = 3060
postype = p2
pos = -10,-50
sprpriority = 2
removetime = 26
bindtime = 1
ownpal = 1
scale = 1.3,1.3
vel = -1,0
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1


[State 3052:	DestroySelf]
type			= DestroySelf
trigger1 		= movecontact = 1;(Parent, NumProjID(1002) = 0)
trigger2                = time = 200



;------------------------------------------------------------------------
;Kamehameha abajo - explosión piso
[Statedef 3054]
movetype	= A
anim		= 3055
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 3

[State 3054:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[STate 3054: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 3054:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

;[State 950:	PlayerPush]
;type			= PlayerPush
;trigger1		= 1
;value			= 0


[State 3054: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 50
framegap 	= 1
length 		= 20
paladd 		= 0, 0, 0
palmul 		= .90, .90, .90
palcontrast 	= 100, 100, 100
trans 		= add

[State 3054:	Hitdef]
type            = Hitdef
trigger1        = (1)
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 40,5
pausetime	= 1,8
sparkno		= S3070
sparkxy		= 0+(random%20),-40+(random%20)
;guard.sparkxy   = 30, 20
guard.sparkno	= S3070
hitsound	= s0,5
guardsound	= s0,5
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -10,-5
guard.velocity	= -4
air.velocity	= -10,-5
airguard.velocity = -4,-3
ground.cornerpush.veloff = 0
fall =1
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
palfx.time	= 25
palfx.mul	= 150,150,50
palfx.add	= 250,250,100
palfx.sinadd 	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent = 6


[State 3054, Bola Charge]
type = Explod
trigger1 = Time = 0
anim = 3054
ID = 3054
postype = p1
pos = 0,0
sprpriority = 2
removetime = 26
bindtime = 1
ownpal = 1
scale = 1,1
vel = -1,0
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3054:	DestroySelf]
type			= DestroySelf
trigger1 		= animtime = 0;(Parent, NumProjID(1002) = 0)

;-------------------------------------------------------------------------
;-| Hyper |-----------------------------------------------------------------
;---------------------------------------------------------------------------
;KameHameHa Aire - Multi dirección
[Statedef 3100]
type 		= S
movetype	= A
physics		= S
anim		= 3100
;velset		= 0,0
ctrl		= 0
poweradd	= -1000
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 3100, VelMul]
type = VelMul
trigger1 = !Time
x = .075
y = .125 ;.2

[State 3100, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 20
movetime = 20
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1


[State 3100, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -200

[State 3100, VarAdd]
type = VarAdd
trigger1 = time >= 5 && Var(12) < 0
v = 12
value = 6

[State 3100, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3100, Cámara lenta]
type = Pause
trigger1 = time = [20, 35]
time = 1
movetime = 0

[State 3100:	EnvShake]
type			= EnvShake
trigger1 		= (AnimElem = 1, > 0) && ((GameTime%10) = 0)
time			= 50
freq			= 120
ampl			= -2
phase			= 50

[State 3100, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = -10,-45
sprpriority = 2
removetime = 28
bindtime = -1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3100, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S3,12
volume = 50
channel = 1

[State 3100, PlaySnd - bola charge]
type = PlaySnd
trigger1 = time = 28
value = S3,10
volume = 50
channel = 2

[State 3100, PlaySnd - Super Charge]
type = PlaySnd
triggerall = time > 45
trigger1 = Time = 46
value = S1,7
volume = 50
channel = 3

[State 3100, Bola Charge]
type = Explod
trigger1 = time = 28
anim = 3049
ID = 3049
pos = -10,-45
sprpriority = 2
removetime = 999
bindtime = -1
ownpal = 1
scale = 0.7,0.7
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3100, PowerAdd]
type = PowerAdd
trigger1 = time > 5
value = -5

[State 3100, VarSet  - Ki power base]
type		= VarSet
trigger1	= (!Time)
var(7)		= 200

[State 3100, VarAdd  - Charge Ki power]
type		= VarAdd
trigger1	= (Time > 45) && ((GameTime%1) = 0) && (Var(7) < 600)
var(7)		= 1


[State 500,GoDown2]
type = VelSet
Trigger1 = pos Y > -1
y = 0

[State 500,GoDown2]
type = Velmul
Trigger1 = pos Y > -1
y = 0

[State 3100:	ChangeState]
type			= ChangeState
triggerall              = time > 45
trigger1		= (Command != "holdc")
trigger2                = Time = 200
trigger3                = power <= 0
value			= (IfElse(Command = "holddown",3102,(IfElse(Command = "holdup",3103,3101))))

[State 3100:	ChangeState]
type			= ChangeState
triggerall              = time > 45 && var(9) = 1
trigger1		= (Command != "holdc")
trigger2                = Time = 200
trigger3                = power <= 0
value			= (IfElse(P2bodydist Y >= -20 && var(9) = 1, 3102,(IfElse(P2bodydist Y <= -50 && var(9) = 1,3103,3101))))

;---------------------------------------------------------------------------
;KameHameHa: Release
[Statedef 3101]
type 		= S
movetype	= A
physics		= S
anim		= 3101
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 0

[State 3001, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 3049


[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -5
y = 0

[State 0, VelSet]
type = Veladd
trigger1 = time = 0
x = -0.02
y = 0.1

[State 3001, PlaySnd - bola]
type = PlaySnd
trigger1 = time = 0
value = S0,0
volume = 50
channel = 3

[State 3001:		Helper]
type		= Helper
trigger1	= time = 0
helpertype	= Normal
name		= "Kamehameha"
id		= 3050
pos		= 25,-60
postype		= p1
facing		= 1
stateno		= 3050
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 1
size.yscale     = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time > 0
value = 0

[State 3001, PlaySnd - kamehameha]
type = PlaySnd
trigger1 = time = 0
value = S4,14
volume = 100
channel = 4

[State 3001, End]
type = ChangeState
trigger1 = animtime = 0
value	= 50
ctrl = 1

;---------------------------------------------------------------------------
;KameHameHa: Release Down
[Statedef 3102]
type 		= S
movetype	= A
physics		= S
anim		= 3102
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 0

[State 3102, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 3049

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -7
y = -1


[State 3102, PlaySnd - bola]
type = PlaySnd
trigger1 = time = 0
value = S0,0
volume = 50
channel = 3


[State 3102:		Helper]
type		= Helper
trigger1	= time = 0
helpertype	= Normal
name		= "Kamehameha abajo"
id		= 3051
pos		= 20,-50
postype		= p1
facing		= 1
stateno		= 3051
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 1
size.yscale     = 1

[State 3102, PlayerPush]
type = PlayerPush
trigger1 = time > 0
value = 0

[State 3102, PlaySnd - kamehameha]
type = PlaySnd
trigger1 = time = 0
value = S4,14
volume = 100
channel = 4


[State 3102, End]
type = ChangeState
trigger1 = animtime = 0
value	= 50
ctrl = 1
;---------------------------------------------------------------------------
;KameHameHa: Release Up
[Statedef 3103]
type 		= S
movetype	= A
physics		= S
anim		= 3103
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 0

[State 3001, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 3049


[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -7
y = 2


[State 3001, PlaySnd - bola]
type = PlaySnd
trigger1 = time = 0
value = S0,0
volume = 50
channel = 3

[State 3001:		Helper]
type		= Helper
trigger1	= time = 0
helpertype	= Normal
name		= "Kamehameha arriba"
id		= 3052
pos		= 15,-80
postype		= p1
facing		= 1
stateno		= 3052
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 1
size.yscale     = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time > 0
value = 0

[State 3001, PlaySnd - kamehameha]
type = PlaySnd
trigger1 = time = 0
value = S4,14
volume = 100
channel = 4

[State 500,GoDown2]
type = VelSet
Trigger1 = pos Y > -1
y = 0

[State 500,GoDown2]
type = Velmul
Trigger1 = pos Y > -1
y = 0

[State 3001, End]
type = ChangeState
trigger1 = animtime = 0
value	= 50
ctrl = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;Chou KameHameHa
[Statedef 3500]
type 		= S
movetype	= A
physics		= S
anim		= 3500
;velset		= 0,0
ctrl		= 0
poweradd	= -2000
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2


[State 3100, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 45
movetime = 45
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1


[State 3100, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -200

[State 3100, VarAdd]
type = VarAdd
trigger1 = time >= 5 && Var(12) < 0
v = 12
value = 6

[State 3100, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3100, Cámara lenta]
type = Pause
trigger1 = time = [45, 70]
time = 1
movetime = 0

[State 3100:	EnvShake]
type			= EnvShake
trigger1 		= (AnimElem = 1, > 0) && ((GameTime%10) = 0)
time			= 50
freq			= 120
ampl			= -2
phase			= 50

[State 3100, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = -10,-45
sprpriority = 2
removetime = 28
bindtime = -1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3100, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S3,12
volume = 50
channel = 1

[State 3100, PlaySnd - Kamehame!!]
type = PlaySnd
trigger1 = Time = 0
value = S4,21
volume = 100
channel = 4

[State 3100, PlaySnd - bola charge]
type = PlaySnd
trigger1 = time = 28
value = S3,10
volume = 50
channel = 2

[State 3100, PlaySnd - Super Charge]
type = PlaySnd
triggerall = time > 45
trigger1 = Time = 46
value = S1,7
volume = 50
channel = 3

[State 3100, Bola Charge]
type = Explod
trigger1 = time = 28
anim = 3549
ID = 3549
pos = -10,-45
sprpriority = 2
removetime = 999
bindtime = -1
ownpal = 1
scale = 0.7,0.7
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, Aura]
type = Explod
trigger1 = time = 28
anim = 7033
ID = 7033
pos = 0, 0
sprpriority = -2
removetime = -1
bindtime = -1
ownpal = 1
scale = 0.7,0.7
removeongethit = 1
ontop = 0
supermovetime 	= 999
ignorehitpause  = 1

[State 3100, PowerAdd]
type = PowerAdd
trigger1 = time > 5
value = -5

[State 3100, VarSet  - Ki power base]
type		= VarSet
trigger1	= (!Time)
var(7)		= 400

[State 3100, VarAdd  - Charge Ki power]
type		= VarAdd
trigger1	= (Time > 45) && ((GameTime%1) = 0) && (Var(7) < 600)
var(7)		= 1


[State 500,GoDown2]
type = VelSet
Trigger1 = pos Y > -1
y = 0

[State 500,GoDown2]
type = Velmul
Trigger1 = pos Y > -1
y = 0

[State 3500:	Helper]
type		= Helper
triggerall	= (AnimElem = 3, > 0)
trigger1	= time = 56;(Command = "x") || (Command = "y")
helpertype	= Normal
name		= "Ki Barrier"
id		= 9061
pos		= 0,0
postype		= p1
facing		= 1
stateno		= 9061
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
persistent	= 0
ignorehitpause	= 1

[State 3500, Ki Barrier - FX]
type = Explod
trigger1 = time = 50
anim = 9060
ID = 9060
pos = 0,-50
sprpriority = 2
removetime = -2
bindtime = -1
ownpal = 1
scale = 0.7,0.7
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3500:	Helper]
type		= Helper
trigger1	= ((GameTime%10) = 0) && (Random < 249) && (NumHelper(3011) < 5)
helpertype	= Normal
name		= "Rock000"
id		= 3011
pos		= 0,0
postype		= p1
facing		= 0
stateno		= 3011
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale	= (IfElse(Random <= 799,0.75,3))
size.yscale	= (IfElse(Random <= 799,0.75,3))

[State 3500:	Helper]
type		= Helper
trigger1	= ((GameTime%20) = 0) && (Random > 749) && (NumHelper(3012) < 5)
helpertype	= Normal
name		= "Rock001"
id		= 3012
pos		= 0,0
postype		= p1
facing		= 0
stateno		= 3012
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale	= (IfElse(Random <= 499,0.75,0.50))
size.yscale	= (IfElse(Random <= 499,0.75,0.50))

[State 3500:	Helper]
type		= Helper
trigger1	=  ((GameTime%30) = 0) && (Random = [249,749]) && (NumHelper(3013) < 5)
helpertype	= Normal
name		= "Rock002"
id		= 3013
pos		= 0,0
postype		= p1
facing		= 0
stateno		= 3013
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale	= (IfElse(Random <= 499,0.50,0.75))
size.yscale	= (IfElse(Random <= 499,0.50,0.75))

[State 3500:	Helper]
type			= Helper
trigger1		= (AnimElem = 12, > 50)
helpertype		= Normal
name			= "KameHameHa Barrier"
id			= 3014
pos			= 0,0
postype		= p1
facing		= 1
stateno		= 3014
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 3500:	ChangeState]
type			= ChangeState
triggerall              = time > 70
trigger1		= (Command != "holdc")
trigger2                = Time = 270
trigger3                = power <= 0
value			= (IfElse(Command = "holdup",3516,3515))

[State 3500:	ChangeState]
type			= ChangeState
triggerall              = ifelse (var(9) = 1, time > 90, time > 70)
trigger1		= (Command != "holdc")
trigger2                = Time = 270
trigger3                = power <= 0
value			= (IfElse((P2bodydist Y <= -70 && var(9) = 1),3516,3515))


[State 3500:	ChangeState]
type			= ChangeState
trigger1		= (AnimElem = 12, > 80)
value			= 3020

;---------------------------------------------------------------------------
;Chou KameHameHa: Rock000
[Statedef 3011]
type 			= S
movetype		= I
physics		= N
anim			= 9080
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 3011:	SprPriority]
type			= SprPriority
trigger1		= (!Time)
value			= (IfElse(Random <= 499,3,-3))

[State 3011:	VarRandom]
type			= VarRandom
trigger1		= (!Time)
v			= 0
range			= -200,200

[State 3011:	PosSet]
type			= PosSet
trigger1		= (!Time)
x			= var(0)
y			= 0

[State 3011:	VelSet]
type			= VelSet
trigger1		= (Time = 1)
x			= (IfElse(Random <= 799,0,IfElse((Random = [800,900]),-0.2,0.2)))
y			= (IfElse(Random <= 499,-1,-2))

[State 3011:	VelSet]
type			= VelSet
trigger1		= (Parent, StateNo = [3015,3016]) && (Parent, AnimElem = 2)
x			= (IfElse(Parent, Facing = Facing,15,-15))
y			= (IfElse(Parent, StateNo = 3516,-13,0))

[State 3011:	VelAdd]
type			= VelAdd
trigger1		= (Vel X >= 15)
x			= 0.5

[State 3011:	VelAdd]
type			= VelAdd
trigger1		= (Parent, StateNo != 3500)
y			= 0.05

[State 3011:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (Const(Size.XScale) <= 1)
value			= S2,2

[State 3011:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (Const(Size.XScale) > 1)
value			= S0,1

[State 3011:	PlaySnd]
type			= PlaySnd
trigger1		= (Pos Y >= 1)
value			= S1,9

[State 3011:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 3011:	DestroySelf]
type			= DestroySelf
trigger1		= (Pos Y < -210) || (Pos Y >= 1) || (!AnimTime)

;---------------------------------------------------------------------------
;Chou KameHameHa: Rock001
[Statedef 3012]
type 			= S
movetype		= I
physics		= N
anim			= 9090
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 3012:	SprPriority]
type			= SprPriority
trigger1		= (!Time)
value			= (IfElse(Random <= 499,3,-3))

[State 3012:	VarRandom]
type			= VarRandom
trigger1		= (!Time)
v			= 0
range			= -200,200

[State 3012:	PosSet]
type			= PosSet
trigger1		= (!Time)
x			= var(0)
y			= 0

[State 3012:	VelSet]
type			= VelSet
trigger1		= (Time = 1)
x			= (IfElse(Random <= 799,0,IfElse((Random = [800,900]),-0.2,0.2)))
y			= (IfElse(Random <= 499,-1.5,-2.5))

[State 3012:	VelSet]
type			= VelSet
trigger1		= (Parent, StateNo = [3015,3016]) && (Parent, AnimElem = 2)
x			= (IfElse(Parent, Facing = Facing,15,-15))
y			= (IfElse(Parent, StateNo = 3516,-13,0))

[State 3012:	VelAdd]
type			= VelAdd
trigger1		= (Vel X >= 15)
x			= 0.5

[State 3012:	VelAdd]
type			= VelAdd
trigger1		= (Parent, StateNo != 3500)
y			= 0.05

[State 3012:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S2,2

[State 3012:	PlaySnd]
type			= PlaySnd
trigger1		= (Pos Y >= 1)
value			= S1,9

[State 3012:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 3012:	DestroySelf]
type			= DestroySelf
trigger1		= (Pos Y < -210) || (Pos Y >= 1) || (!AnimTime)

;---------------------------------------------------------------------------
;Chou KameHameHa: Rock002
[Statedef 3013]
type 			= S
movetype		= I
physics		= N
anim			= 9100
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 3013:	SprPriority]
type			= SprPriority
trigger1		= (!Time)
value			= (IfElse(Random <= 499,3,-3))

[State 3013:	VarRandom]
type			= VarRandom
trigger1		= (!Time)
v			= 0
range			= -200,200

[State 3013:	PosSet]
type			= PosSet
trigger1		= (!Time)
x			= var(0)
y			= 0

[State 3013:	PosSet]
type			= PosSet
trigger1		= (!Time)
y			= 0

[State 3013:	VelSet]
type			= VelSet
trigger1		= (Time = 1)
x			= (IfElse(Random <= 799,0,IfElse((Random = [800,900]),-0.2,0.2)))
y			= (IfElse(Random <= 499,-2,-3))

[State 3013:	VelSet]
type			= VelSet
trigger1		= (Parent, StateNo = [3015,3016]) && (Parent, AnimElem = 2)
x			= (IfElse(Parent, Facing = Facing,15,-15))
y			= (IfElse(Parent, StateNo = 3516,-13,0))

[State 3013:	VelAdd]
type			= VelAdd
trigger1		= (Vel X >= 15)
x			= 0.5

[State 3013:	VelAdd]
type			= VelAdd
trigger1		= (Parent, StateNo != 3500)
y			= 0.05

[State 3013:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S2,2

[State 3013:	PlaySnd]
type			= PlaySnd
trigger1		= (Pos Y >= 1)
value			= S1,9

[State 3013:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 3013:	DestroySelf]
type			= DestroySelf
trigger1		= (Pos Y < -210) || (Pos Y >= 1) || (!AnimTime)

;---------------------------------------------------------------------------
;KameHameHa Barrier
[Statedef 3014]
type 			= S
movetype		= A
physics		= N
anim			= 3014
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 3014:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 3014:	BindToParent]
type			= BindToParent
trigger1		= 1
time			= 1
pos			= 0,0

[State 3014:	HitBy]
type			= HitBy
trigger1		= 1
value			= , NP, SP, HP
ignorehitpause	= 1

[State 3014:	HitOverride]
type			= HitOverride
trigger1		= 1
attr			= , NP, SP, HP
slot			= 0
stateno		= 9060
ignorehitpause	= 1

[State 3014:	HitDef]
type			= HitDef
trigger1		= 1
attr			= A, SP
hitflag		= P
priority		= 7, Hit
guard.dist		= 0

[State 3014:	DestroySelf]
type			= DestroySelf
trigger1		= (Parent, StateNo != 3500)

;---------------------------------------------------------------------------
;Chou KameHameHa: Release
[Statedef 3515]
type 		= S
movetype	= A
physics		= S
anim		= 3515
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 3100, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S4,22
volume = 100
channel = 5

[State 0, StopSnd]
type = StopSnd
trigger1 = Time = 0
channel = 4


[State 3001, RemoveExplod]
type = RemoveExplod
trigger1 = (AnimElem = 2)
id = 3549

[State 3001, RemoveExplod]
type = RemoveExplod
trigger1 = (AnimElem = 2)
id = 7033

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 1
value = -1

[State 3515:	ScreenBound]
type			= ScreenBound
trigger1		= (P2MoveType = H) || (BackEdgeBodyDist < -1)
value			= 0
movecamera		= 0,0

[State 3515:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 2)
x			= -3

[State 3515:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 2, = 0) || (AnimElem = 2, = 2) || (AnimElem = 2, = 4) || (AnimElem = 2, = 6) || (AnimElem = 2, = 8) || (AnimElem = 2, = 10)
trigger2		= (AnimElem = 2, = 12) || (AnimElem = 2, = 14) || (AnimElem = 2, = 16) || (AnimElem = 2, = 18) || (AnimElem = 2, = 20)
trigger3		= (AnimElem = 2, = 22) || (AnimElem = 2, = 24) || (AnimElem = 2, = 26) || (AnimElem = 2, = 28) || (AnimElem = 2, = 30)
trigger4		= (AnimElem = 2, = 32) || (AnimElem = 2, = 34) || (AnimElem = 2, = 36) || (AnimElem = 2, = 38) || (AnimElem = 2, = 40)
x			= 0.85

[State 3015:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 2, = 1) || (AnimElem = 2, = 3) || (AnimElem = 2, = 5) || (AnimElem = 2, = 7) || (AnimElem = 2, = 9)
trigger2		= (AnimElem = 2, = 11) || (AnimElem = 2, = 13) || (AnimElem = 2, = 15) || (AnimElem = 2, = 17) || (AnimElem = 2, = 19)
trigger3		= (AnimElem = 2, = 21) || (AnimElem = 2, = 23) || (AnimElem = 2, = 25) || (AnimElem = 2, = 27) || (AnimElem = 2, = 29)
trigger4		= (AnimElem = 2, = 31) || (AnimElem = 2, = 33) || (AnimElem = 2, = 35) || (AnimElem = 2, = 37) || (AnimElem = 2, = 39)
x			= -0.85

[State 3515:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S3,5

[State 3015:	StopSnd]
type			= StopSnd
trigger1		= (AnimElem = 2)
channel		= 0

[State 3515:	RemoveExplod]
type			= RemoveExplod
trigger1		= (AnimElem = 2)
id			= 9050

[State 3515:	RemoveExplod]
type			= RemoveExplod
trigger1		= (AnimElem = 2)
id			= 9200

[State 3515:	Explod]
type			= Explod
trigger1		= (AnimElem = 2)
anim			= 7101
id			= 7101
pos			= -20,0
postype		= p1
facing		= -1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.7,0.7
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 3515:	Explod]
type			= Explod
trigger1		= (AnimElem = 2)
anim			= 9160
id			= 9160
pos			= 37,-70
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 30
vel			= 0,-0.5
accel			= 0,0
random		= 10,10
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.5,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 3515:	Helper]
type			= Helper
trigger1 		= (AnimElem = 2)
helpertype		= Normal
name			= "Chou KameHameHa"
id			= 9180
pos			= 34,-53
postype		= p1
facing		= 1
stateno		= 9180
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= 1
size.yscale		= 0.75

[State 3515:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= (IfElse(BackEdgeBodyDist > -5,0,100))

;---------------------------------------------------------------------------
;Chou KameHameHa: Release Up
[Statedef 3516]
type 		= S
movetype	= A
physics		= S
anim		= 3516
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 3516, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S4,22
volume = 100
channel = 5

[State 0, StopSnd]
type = StopSnd
trigger1 = Time = 0
channel = 4



[State 3516, RemoveExplod]
type = RemoveExplod
trigger1 = (AnimElem = 2)
id = 3549

[State 3516, RemoveExplod]
type = RemoveExplod
trigger1 = (AnimElem = 2)
id = 7033

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 1
value = -1


[State 3516:	ScreenBound]
type			= ScreenBound
trigger1		= (P2MoveType = H) || (BackEdgeBodyDist < -1)
value			= 0
movecamera		= 0,0

[State 3516:	VelSet]
type			= VelSet
trigger1		= (AnimElem = 2)
x			= -3

[State 3516:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 2, = 0) || (AnimElem = 2, = 2) || (AnimElem = 2, = 4) || (AnimElem = 2, = 6) || (AnimElem = 2, = 8) || (AnimElem = 2, = 10)
trigger2		= (AnimElem = 2, = 12) || (AnimElem = 2, = 14) || (AnimElem = 2, = 16) || (AnimElem = 2, = 18) || (AnimElem = 2, = 20)
trigger3		= (AnimElem = 2, = 22) || (AnimElem = 2, = 24) || (AnimElem = 2, = 26) || (AnimElem = 2, = 28) || (AnimElem = 2, = 30)
trigger4		= (AnimElem = 2, = 32) || (AnimElem = 2, = 34) || (AnimElem = 2, = 36) || (AnimElem = 2, = 38) || (AnimElem = 2, = 40)
x			= 0.85

[State 3516:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 2, = 1) || (AnimElem = 2, = 3) || (AnimElem = 2, = 5) || (AnimElem = 2, = 7) || (AnimElem = 2, = 9)
trigger2		= (AnimElem = 2, = 11) || (AnimElem = 2, = 13) || (AnimElem = 2, = 15) || (AnimElem = 2, = 17) || (AnimElem = 2, = 19)
trigger3		= (AnimElem = 2, = 21) || (AnimElem = 2, = 23) || (AnimElem = 2, = 25) || (AnimElem = 2, = 27) || (AnimElem = 2, = 29)
trigger4		= (AnimElem = 2, = 31) || (AnimElem = 2, = 33) || (AnimElem = 2, = 35) || (AnimElem = 2, = 37) || (AnimElem = 2, = 39)
x			= -0.85

[State 3516:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S3,5

[State 3516:	StopSnd]
type			= StopSnd
trigger1		= (AnimElem = 2)
channel		= 0

[State 3516:	RemoveExplod]
type			= RemoveExplod
trigger1		= (AnimElem = 2)
id			= 9050

[State 3516:	RemoveExplod]
type			= RemoveExplod
trigger1		= (AnimElem = 2)
id			= 9200

[State 3516:	Explod]
type			= Explod
trigger1		= (AnimElem = 2)
anim			= 7101
id			= 7101
pos			= -20,0
postype		= p1
facing		= -1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.7,0.7
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 3516:	Explod]
type			= Explod
trigger1		= (AnimElem = 2)
anim			= 9160
id			= 9160
pos			= 28,-71
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 30
vel			= 0,-0.5
accel			= 0,0
random		= 10,10
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.5,1
sprpriority		= 2
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 3516:	Helper]
type			= Helper
trigger1 		= (AnimElem = 2)
helpertype		= Normal
name			= "Chou KameHameHa"
id			= 9181
pos			= 10,-67
postype		= p1
facing		= 1
stateno		= 9181
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= 1
size.yscale		= 0.75

[State 3516:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= (IfElse(BackEdgeBodyDist > -5,0,100))

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;Puño del Dragon - Charge
[Statedef 3800]
type 		= S
movetype	= A
physics		= S
anim		= 3800
;velset		= 0,0
ctrl		= 0
poweradd	= -3000
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2


[State 3100, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 45
movetime = 45
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1


[State 3100, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -200

[State 3100, VarAdd]
type = VarAdd
trigger1 = time >= 5 && Var(12) < 0
v = 12
value = 6

[State 3100, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3100, Cámara lenta]
type = Pause
trigger1 = time = [45, 70]
time = 1
movetime = 0

[State 3100:	EnvShake]
type			= EnvShake
trigger1 		= (AnimElem = 1, > 0) && ((GameTime%10) = 0)
time			= 50
freq			= 120
ampl			= -2
phase			= 50

[State 3100, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = 0,-60
sprpriority = 2
removetime = 28
bindtime = -1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3100, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S3,12
volume = 50
channel = 1


[State 3100, PlaySnd - Super Charge]
type = PlaySnd
triggerall = time > 45
trigger1 = Time = 46
value = S1,7
volume = 50
channel = 3


[State 3000, Aura]
type = Explod
trigger1 = time = 28
anim = 7033
ID = 7033
pos = 0, 0
sprpriority = -2
removetime = -1
bindtime = -1
ownpal = 1
scale = 0.7,0.7
removeongethit = 1
ontop = 0
supermovetime 	= 999
ignorehitpause  = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 28
value = S4,11
volume = 0
channel = 4



[State 3500:	Helper]
type		= Helper
trigger1	= time = 49;(Command = "x") || (Command = "y")
helpertype	= Normal
name		= "Ki Barrier"
id		= 9061
pos		= 0,0
postype		= p1
facing		= 1
stateno		= 9061
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
persistent	= 0
ignorehitpause	= 1

[State 3500, Ki Barrier - FX]
type = Explod
trigger1 = time = 49
anim = 3840 ;9060
ID = 3840 ;9060
pos = 0,-50
sprpriority = 2
removetime = -2
bindtime = -1
ownpal = 1
scale = 0.7,0.7
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1


[State 3500:	Helper]
type		= Helper
trigger1	= (time = 49)
helpertype	= Normal
name		= "KameHameHa Barrier"
id		= 3014
pos		= 0,0
postype		= p1
facing		= 1
stateno		= 3014
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 3500:	ChangeState]
type			= ChangeState
triggerall              = ifelse (var(9) = 1, time > 90, time > 70)
trigger1		= (Command != "holdx") && (Command != "holdy")
trigger2                = Time = 270
value			= 3810

;--------------------------------------------------------------------------
;Puño del Dragon - Atack!!
[Statedef 3810]
type 		= A
movetype	= A
physics		= N
anim		= 3810
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 3
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 3

[State 3810, RemoveExplod]
type = RemoveExplod
trigger1 = (AnimElem = 1)
id = 3549

[State 3810, RemoveExplod]
type = RemoveExplod
trigger1 = (AnimElem = 1)
id = 7033

[State 0, Diagonal Inicial]
type = VelSet
trigger1 = Time = 6
x = 7
y = -3.5

[State 0, Diagonal Inicial]
type = VelAdd
trigger1 = Time = 6
x = 2
y = 0

[State 0, Curba hacia abajo]
type = VelAdd
triggerall = time > 26 ;23
trigger1 = screenpos x > 300
trigger2 = FrontEdgeBodydist <=80;Time > 17
x = -0.4
y = 0.6

[State 0, Vuelta hacia atras]
type = Veladd
triggerall = Time > 45
trigger1 = pos Y > -40;Time > 39
x = -0.3
y = -0.9;-1.2

[State 0, Subida Final]
type = Veladd
triggerall = Time > 64
trigger1 = FrontEdgeBodydist >=200
x = 1.6
y = -0.05

[State 0, Freno]
type = VelMul
triggerall = time > 79
trigger1 = pos y < -60
x = 0.3
y = 0.7

[State 0, Deteción completa]
type = Velset
triggerall = Time > 91
trigger1 = pos y <= -80
x = 0
y = 0


[State 3600:	PalFX]
type		= PalFX
trigger1	= ((GameTime%10) = 0)
time		= 20
add		= 100,100,100
mul		= 256,256,150
sinadd		= -100,-100,-100,40
invertall	= 0
color		= 256

[State 3810:	Hitdef]
type            = Hitdef
trigger1        = Animelem = 2
trigger2        = Animelem = 3
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 600,100
pausetime	= 10,188 ;30
sparkno		= -1
sparkxy		= 0,-5
;guard.sparkxy   = 30, 20
guard.sparkno	= -1
hitsound	= s0,0
guardsound	= s0,0
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -5,-11
guard.velocity	= -4
air.velocity	= -5,-11
airguard.velocity = -4,-3
ground.cornerpush.veloff = 0
fall = 1
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
palfx.time	= 188
palfx.mul	= 200,200,50
palfx.add	= 200,200,150
palfx.sinadd 	= 15,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4

[State 3810, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3810, VarAdd]
type = VarAdd
trigger1 = time >= 0 && Var(12) < 0
v = 12
value = 1

[State 3810, BGColorFX]
type = BGPalFX
;triggerall = Time > 26
Trigger1 = Time >= 6
time = 1
add = Var(12),Var(12),Var(12)

[State 3810, Cámara lenta]
type = Pause
triggerall = numhelper(3850) = 1
trigger1 = time = [20, 80]
time = 1
movetime = 0


[State 3810:	Helper]
type		= Helper
trigger1	= (time = 6)
helpertype	= Normal
name		= "Cabeza Dragon"
id		= 3850
pos		= 0,0
postype		= p1
facing		= 1
stateno		= 3850
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 3810:	Helper]
type		= Helper
trigger1	= (time = 6)
helpertype	= Normal
name		= "Cuerpo Dragon"
id		= 3860
pos		= 0,0
postype		= p1
facing		= 1
stateno		= 3860
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 3810:	Explod, Cuerpo Dragon - cola1]
type		= Explod
trigger1        = (time = 6)
anim		= 3860
id		= 3860
pos		= -15,-40
postype		= p1
facing		= 1
vfacing		= 1
bindtime	= 1
vel		= 0,0
accel		= 0,0
random		= 0,0
removetime	= 110
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 1,1
sprpriority	= 4
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 3810:	Explod, Cuerpo Dragon - cola2]
type		= Explod
trigger1        = (time = 6)
anim		= 3860
id		= 3860
pos		= -40,-15
postype		= p1
facing		= 1
vfacing		= 1
bindtime	= 1
vel		= 0,0
accel		= 0,0
random		= 0,0
removetime	= 110
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 1,1
sprpriority	= 4
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 3810:	Explod, Cuerpo Dragon - cola3]
type		= Explod
trigger1        = (time = 6)
anim		= 3860
id		= 3860
pos		= -60,10
postype		= p1
facing		= 1
vfacing		= 1
bindtime	= 1
vel		= 0,0
accel		= 0,0
random		= 0,0
removetime	= 110
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 1,1
sprpriority	= 4
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 3810:	Explod, Cuerpo Dragon - cola4]
type		= Explod
trigger1        = (time = 6)
anim		= 3860
id		= 3860
pos		= -80,20
postype		= p1
facing		= 1
vfacing		= 1
bindtime	= 1
vel		= 0,0
accel		= 0,0
random		= 0,0
removetime	= 110
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 1,1
sprpriority	= 4
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1


[State 3810:	Explod]
type		= Explod
trigger1        = (time = 6)
anim		= 3849
id		= 3849
pos		= 0,10
postype		= p1
facing		= 1
vfacing		= 1
bindtime	= 1
vel		= 0,0
accel		= 0,0
random		= 0,0
removetime	= -2
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 1,1
sprpriority	= 4
ontop		= 0
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S4,12
volume = 0
channel = 3

[State 0, SprPriority]
type = SprPriority
trigger1 = movehit = 1
value = 3


[State 3810, ChangeState]
type = ChangeState
trigger1 = time = 160
value = 3820
ctrl = 0

;--------------------------------------------------------------------------
;Puño del Dragon - Terminación
[Statedef 3820]
type 		= A
movetype	= A
physics		= N
anim		= 3820
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 3
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 3

[State 7030:	BGPalFX]
type		= BGPalFX
triggerall      = (time >= 28) && (time < 30)
trigger1	= time%1 = 0
time		= 10
add		= 20,20,20
mul		= 256,256,200
sinadd		= 200,200,150,4
invertall	= 1
color		= 256

[State 7030:	Explod]
type		= Explod
trigger1        = (Time = 28)
anim		= 7038
id		= 7038
pos		= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime	= -1
vel		= 0,0
accel		= 0,0
random		= 0,0
removetime	= -2;20
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 0.5,0.5
sprpriority	= 4
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S3,1
volume = 50
channel = 5

[State 3810, ChangeState]
type = ChangeState
trigger1 = Time = 60
value = 991
ctrl = 0

;---------------------------------------------------------------------------
;Puño del Dragon - Cabeza Dragon
[Statedef 3850]
type 		= S
movetype	= A
physics		= N
anim		= 3850
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 0, BindToParent]
type = BindToParent
trigger1 = time >= 0
;time = 1
facing = 0
pos = 35,-70

[State 7030:	Explod]
type		= Explod
triggerall      = time < 140
trigger1        = Time%6 = 0
anim		= 9010
id		= 9010
pos		= -40 +(random%50),-30+(random%70)
postype		= p1
facing		= 1
vfacing		= 1
bindtime	= 1
vel		= 0,0
accel		= 0,0
random		= 0,0
removetime	= -2;20
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 1,1
sprpriority	= 4
ontop		= 0
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1

[State 7030:	Explod]
type		= Explod
triggerall      = time < 140
trigger1        = Time%6 = 5
anim		= 9010
id		= 9010
pos		= -40 +(random%50),30+(random%70)
postype		= p1
facing		= 1
vfacing		= 1
bindtime	= 1
vel		= 0,0
accel		= 0,0
random		= 0,0
removetime	= -2;20
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 1,1
sprpriority	= 4
ontop		= 0
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1

[State 0, DestroySelf]
type = Changestate
triggerall = time > 114
trigger1 = time = 200 ;parent, stateno != 3810
value = 3851

;-----------------------------------
;Puño del Dragon - Cabeza Dragon yendose
[Statedef 3851]
type 		= S
movetype	= A
physics		= N
anim		= 3851
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;ignorehitpause =
;persistent =


;---------------------------------------------------------------------------
;Puño del Dragon - Cuerpo Dragon inicial
[Statedef 3860]
type 		= S
movetype	= A
physics		= N
anim		= 3860
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= -1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 0, BindToParent]
type = BindToParent
trigger1 = time >= 0
;time = 1
facing = 0
pos = 0,-60

[State 3810:	Helper]
type		= Helper
triggerall      = time > 1 && time < 110
triggerall      = numhelper(3861) < 30
trigger1	= time%3 = 0
helpertype	= Normal
name		= "Cuerpo Dragon Clones"
id		= 3861
pos		= 0,0
postype		= p1
facing		= 1
stateno		= 3861
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 0, DestroySelf]
type = ChangeState
trigger1 = Time = 90 ;parent, stateno != 3810
Value = 3862

;-----------------------------------
;Puño del Dragon - Cuerpo yendose
[Statedef 3862]
type 		= S
movetype	= A
physics		= N
anim		= 3862
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= -1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;ignorehitpause =
;persistent =

;---------------------------------------------------------------------------
;Puño del Dragon - Cuerpo Dragon Clones
[Statedef 3861]
type 		= S
movetype	= A
physics		= N
anim		= 3860
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

;[State 0, BindToParent]
;type = BindToParent
;trigger1 = time > 0
;time = 5
;facing = 0

;[State 3860:	Helper]
;type		= Helper
;triggerall      = Numhelper(3861) < 15
;trigger1        = time  = 5
;helpertype	= Normal
;name		= "Cuerpo Dragon Clones"
;id		= 3861
;pos		= 0,0
;postype		= p1
;facing		= 1
;stateno		= 3861
;keyctrl		= 0
;ownpal		= 1
;supermovetime	= 0
;pausemovetime	= 0


[State 0, DestroySelf]
type = ChangeState
trigger1 = time = 110 ;parent, stateno != 3860
Value = 3862

;=========================================================================
;---------------------------------------------------------------------------
;Genkidama - Chargue
[Statedef 3900]
type 		= S
movetype	= A
physics		= S
anim		= 3900
velset		= 0,0
ctrl		= 0
poweradd	= -2000
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 3900, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 20
movetime = 20
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1


[State 3900, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -200

[State 3900, VarAdd]
type = VarAdd
trigger1 = time >= 5 && Var(12) < 0
v = 12
value = 6

[State 3900, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3900, Cámara lenta]
type = Pause
trigger1 = time = [20, 35]
time = 1
movetime = 0

[State 3900:	EnvShake]
type			= EnvShake
trigger1 		= (AnimElem = 1, > 0) && ((GameTime%10) = 0)
time			= 50
freq			= 120
ampl			= -2
phase			= 50

[State 3900, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = 0,-100
sprpriority = 2
removetime = 30
bindtime = -1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3900, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S3,12
volume = 50
channel = 1

[State 3900, PlaySnd - bola charge]
type = PlaySnd
trigger1 = time = 28
value = S3,13
volume = 50
channel = 2


[State 3900, Bola Charge]
type = Explod
trigger1 = time = 28
anim = 3949
ID = 3949
pos = 0,-150
sprpriority = 2
removetime = 999
bindtime = -1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3900, Aura]
type = Explod
trigger1 = time = 28
anim = 3920
ID = 3920
pos = -5, 0
sprpriority = 3
removetime = -1
bindtime = -1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 0
supermovetime 	= 999
ignorehitpause  = 1

[State 3900, PlaySnd - bola charge]
type = PlaySnd
trigger1 = time = 194
value = S4,13
volume = 100
channel = 4


[State 3001:		Helper]
type		= Helper
trigger1	= time = 194
helpertype	= Normal
name		= "Genkidama abajo"
id		= 3950
pos		= 0,-120
postype		= p1
facing		= 1
stateno		= 3950
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 1
size.yscale     = 1

[State 3900, Aura]
type = Explod
trigger1 = time = 194
anim = 3921
ID = 3921
pos = 5, -5
sprpriority = 3
removetime = -1
bindtime = -1
ownpal = 1
scale = 0.85,0.85
removeongethit = 1
ontop = 0
supermovetime 	= 999
ignorehitpause  = 1

[State 3001, RemoveExplod]
type = RemoveExplod
trigger1 = time = 194
id = 3949

[State 3001, RemoveExplod]
type = RemoveExplod
trigger1 = time = 194
id = 3920


[State 3900, PlaySnd - bola charge]
type = PlaySnd
trigger1 = time = 194
value = S3,14
volume = 50
channel = 3


[State 3001, RemoveExplod]
type = RemoveExplod
trigger1 = time = 449
id = 3921


[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 450
value = 3901
;elem = 1
;ignorehitpause =
;persistent =


[State 3900:	ChangeState]
type			= ChangeState
trigger1		= time = 514
value			= 991

;--------------------------------------------------------------------------
;---------------------------------------------------------------------------
;Genkidama Release Down
[Statedef 3950]
movetype	= A
anim		= 3951
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 3

[State 3950:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[STate 3950: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 3950:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

;[State 950:	PlayerPush]
;type			= PlayerPush
;trigger1		= 1
;value			= 0


[State 3950:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 1
y			= 2


[State 3950:	VelMul]
type		= Veladd
trigger1	= (Time > 0)
x		= 0.01
y		= 0.02

[State 3950: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 50
framegap 	= 1
length 		= 20
paladd 		= 0, 0, 0
palmul 		= .90, .90, .90
palcontrast 	= 100, 100, 100
trans 		= add

[State 3950, Bola]
type = Explod
trigger1 = time = 0
anim = 3950
ID = 3950
postype = p1
pos = 0,-50
sprpriority = 2
removetime = -1
bindtime = -1
ownpal = 1
scale = 1,1
vel = 0,0
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1


[State 3950:	Hitdef]
type            = Hitdef
trigger1        = (1)
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 90,7
pausetime	= 4,2
sparkno		= -1
sparkxy		= 0,-5
;guard.sparkxy   = 30, 20
guard.sparkno	= -1
hitsound	= s0,5
guardsound	= s0,5
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -1,-3
guard.velocity	= -2
air.velocity	= -0.5,-1
airguard.velocity = -4,-3
ground.cornerpush.veloff = 0
fall =1
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
palfx.time	= 25
palfx.mul	= 120,120,150
palfx.add	= 200,200,250
palfx.sinadd 	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4

[State 3950, Bola spark]
type = Explod
trigger1 = movecontact = 1
anim = 3060+(random%5)
ID = 3060
postype = p2
pos = -10+(random%70),-50+(random%70)
sprpriority = 2
removetime = 26
bindtime = 1
ownpal = 1
scale = 1,1
vel = 0,0
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3950, Bola spark]
type = Explod
trigger1 = movecontact = 1
anim = 3070+(random%5)
ID = 3070
postype = p2
pos = -10+(random%70),-50+(random%70)
sprpriority = 2
removetime = 26
bindtime = 1
ownpal = 1
scale = 1,1
vel = 0,0
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 50
x = 0
y = 0

[State 3001, RemoveExplod]
type = RemoveExplod
trigger1 = time = 199
id = 3950

[State 3950, Explosión]
type = Explod
trigger1 = time = 189
anim = 3960
ID = 3960
pos = 0,-60
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = 1.7,1.7
vel = 0,0
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3950, Ground]
type = Explod
triggerall = pos y > 50
trigger1 = time%8 = 0
anim = 3970
ID = 3970
pos = 0,-40
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = 1.3,1.4
vel = 0,0
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3900, PlaySnd - bola descarga]
type = PlaySnd
trigger1 = time = 189
value = S0,0
volume = 50
channel = 5


[State 3950:	DestroySelf]
type			= DestroySelf
trigger1                = time = 200
;---------------------------------------------------------------------------


;===========================================================================
;-| Misc |------------------------------------------------------------------
;---------------------------------------------------------------------------
;Short Jump
[Statedef 7000]
type 			= A
movetype		= I
physics		= A
;anim			= 7000
;velset		= 0,0
ctrl			= 1
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 7000: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= !Time
value 		= IfElse((Vel X) = 0, 41, IfElse((Vel X) > 0, 42, 43))

[State 7000: 	VelSet]
type 			= VelSet
trigger1 		= !Time
x 			= IfElse(Vel X = 0,0,IfElse(Vel X < 0,-3.1,3.4))
y 			= -6.5

[State 7000: 	VelSet]
type 			= VelSet
trigger1 		= (!Time) && (Var(0))
x 			= IfElse(Vel X = 0,0,IfElse(Vel X < 0,-5,5))

[State 7000: 	AfterImage]
type 			= AfterImage
trigger1 		= ((!Time) && (Vel X != 0)) && (Var(0))
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 7000: 	ChangeState]
type 			= ChangeState
trigger1 		= (Pos Y >= 0) && (Vel Y > 0)
value 		= 52

;---------------------------------------------------------------------------
;Ki Charge
[Statedef 7030]
type 		= S
movetype	= I
physics		= S
anim		= 7030
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 7030:	PowerAdd]
type			= PowerAdd
trigger1		= (Time > 13)
value			= 5

[State 7030:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S1,0
channel		= 0

[State 7030:	PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S3,1
channel		= 1

[State 7030:	PlaySnd]
type			= PlaySnd
trigger1		= (Time > 13) && ((GameTime%50) = 0)
value			= S1,5
channel		= 2

[State 7030:	PlaySnd]
type			= PlaySnd
trigger1		= (Time > 13) && ((GameTime%9) = 0)
value			= S0,8
lowpriority		= 1
channel		= 3

[State 7030:	PlaySnd]
type			= PlaySnd
trigger1		= (Time > 13) && ((GameTime%70) = 0)
value			= S0,4
lowpriority		= 1
channel		= 4

[State 7030:	BGPalFX]
type			= BGPalFX
trigger1		= ((Time > 100) && ((GameTime%70) = 0))
time			= 10
add			= 20,20,20
mul			= 256,256,256
sinadd		= 200,200,200,4
invertall		= 1
color			= 256

[State 3600:	PalFX]
type			= PalFX
trigger1		= Time > 15 && ((GameTime%20) = 0)
time			= 20
add			= 100,100,100
mul			= 256,256,150
sinadd		        = -100,-100,-100,40
invertall		= 0
color			= 256

[State 7030:	EnvShake]
type			= EnvShake
trigger1 		= ((Time > 100) && ((GameTime%5) = 0))
time			= 5
freq			= 140
ampl			= -4
phase			= 90

[State 7030:	Explod]
type		= Explod
trigger1	= (Time = 13)
anim		= 7101
id		= 7101
pos		= 20,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime	= 1
vel		= 0,0
accel		= 0,0
random		= 0,0
removetime	= -2
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 0.5,0.5
sprpriority	= 2
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 7030:	Explod]
type		= Explod
trigger1	= (Time = 13)
anim		= 7101
id		= 7101
pos		= -20,0
postype		= p1
facing		= -1
vfacing		= 1
bindtime	= 1
vel		= 0,0
accel		= 0,0
random		= 0,0
removetime	= -2
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 0.5,0.5
sprpriority	= 2
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 7030:	Explod]
type		= Explod
trigger1	= (Time = 13)
anim		= 7033
id		= 7033
pos		= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime	= -1
vel		= 0,0
accel		= 0,0
random		= 0,0
removetime	= -1
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 0.5,0.5
sprpriority	= 0
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 7030:	Explod]
type		= Explod
triggerall	= power > 1000
trigger1        = (Time%15 = 0)
anim		= 7032
id		= 7032
pos		= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime	= -1
vel		= 0,0
accel		= 0,0
random		= 0,0
removetime	= -2;20
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 0.5,0.5
sprpriority	= 4
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 7030:	Explod]
type		= Explod
triggerall      = power > 2000
trigger1	= (Time%30 = 0)
anim		= 7034+(random%3)
id		= 7032
pos		= 2+(random%6),-20
postype		= p1
facing		= 1
vfacing		= 1
bindtime	= -1
vel		= 0,0
accel		= 0,0
random		= 0,0
removetime	= 28
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 0.5,0.5
sprpriority	= 5
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 7030:	Helper]
type		= Helper
trigger1	= (Time = 23) && (NumHelper(7041) = 0)
helpertype	= Normal
name		= "Flame Effect"
id		= 7031
pos		= -15,0
postype		= p1
facing		= 0
stateno		= 7031
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale	= 0.75
size.yscale	= 0.75

[State 7030:	Helper]
type		= Helper
trigger1	= (Time > 100) && ((GameTime%10) = 0) && (Random < 249) && (NumHelper(7032) < 5)
helpertype	= Normal
name		= "Rock000"
id		= 7032
pos		= 0,0
postype		= p1
facing		= 0
stateno		= 7032
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale	= (IfElse(Random <= 799,0.75,3))
size.yscale	= (IfElse(Random <= 799,0.75,3))

[State 7030:	Helper]
type		= Helper
trigger1	= (Time > 100) && ((GameTime%20) = 0) && (Random > 749) && (NumHelper(7032) < 5)
helpertype	= Normal
name		= "Rock001"
id		= 7033
pos		= 0,0
postype		= p1
facing		= 0
stateno		= 7033
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale	= (IfElse(Random <= 499,0.75,0.50))
size.yscale	= (IfElse(Random <= 499,0.75,0.50))

[State 7030:	Helper]
type		= Helper
trigger1	= (Time > 100) && ((GameTime%30) = 0) && (Random = [249,749]) && (NumHelper(7032) < 5)
helpertype	= Normal
name		= "Rock002"
id		= 7034
pos		= 0,0
postype		= p1
facing		= 0
stateno		= 7034
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale	= (IfElse(Random <= 499,0.50,0.75))
size.yscale	= (IfElse(Random <= 499,0.50,0.75))

[State 7030:	ChangeState]
type			= ChangeState
trigger1		= ((Command != "charge") || (Command != "charge 1")) && (Var(2) <= 0)
value			= 7039

;---------------------------------------------------------------------------
;Ki Charge:
;Flame Effect
[Statedef 7031]
type 		= S
movetype	= I
physics		= N
anim		= 7031
velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[State 7031:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow
flag2			= Invisible

[State 7031:	BindToParent]
type			= BindToParent
trigger1		= 1
time			= 1
pos			= 0,0

[State 7031:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(0)		= 35

[State 7031:	VarSet]
type			= VarSet
trigger1		= (Var(0) = 150)
var(1)		= 0

[State 7031:	VarSet]
type			= VarSet
trigger1		= (Var(0) = 255)
var(1)		= 1

[State 7031:	VarAdd]
type			= VarAdd
trigger1		= 1
var(0)		= IfElse(Var(1) = 0,1,-1)

[State 7031: 	AfterImage]
type 		= AfterImage
trigger1 	= 1
time 		= 5
framegap 	= 1
length 		= 2
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= var(0), var(0), var(0)
trans 		= add

[State 7031:	DestroySelf]
type			= DestroySelf
trigger1		= (Parent, StateNo != 7030)

;---------------------------------------------------------------------------
;Ki Charge:
;Rock000
[Statedef 7032]
type 			= S
movetype		= I
physics		= N
anim			= 9080
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 7032:	SprPriority]
type			= SprPriority
trigger1		= (!Time)
value			= (IfElse(Random <= 499,3,-3))

[State 7032:	VarRandom]
type			= VarRandom
trigger1		= (!Time)
v			= 0
range			= -200,200

[State 7032:	PosSet]
type			= PosSet
trigger1		= (!Time)
x			= var(0)
y			= 0

[State 7032:	VelSet]
type			= VelSet
trigger1		= (Time = 1)
x			= (IfElse(Random <= 799,0,IfElse((Random = [800,900]),-0.2,0.2)))
y			= (IfElse(Random <= 499,-1,-2))

[State 7032:	VelAdd]
type			= VelAdd
trigger1		= (Parent, StateNo != 7030)
y			= 0.05

[State 7032:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (Const(Size.XScale) <= 1)
value			= S2,2

[State 7032:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time) && (Const(Size.XScale) > 1)
value			= S0,1

[State 7032:	PlaySnd]
type			= PlaySnd
trigger1		= (Pos Y >= 1)
value			= S1,9

[State 7032:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 7032:	DestroySelf]
type			= DestroySelf
trigger1		= (Pos Y < -210) || (Pos Y >= 1) || (!AnimTime)

;---------------------------------------------------------------------------
;Ki Charge:
;Rock001
[Statedef 7033]
type 			= S
movetype		= I
physics		= N
anim			= 9090
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 7033:	SprPriority]
type			= SprPriority
trigger1		= (!Time)
value			= (IfElse(Random <= 499,3,-3))

[State 7033:	VarRandom]
type			= VarRandom
trigger1		= (!Time)
v			= 0
range			= -200,200

[State 7033:	PosSet]
type			= PosSet
trigger1		= (!Time)
x			= var(0)
y			= 0

[State 7033:	VelSet]
type			= VelSet
trigger1		= (Time = 1)
x			= (IfElse(Random <= 799,0,IfElse((Random = [800,900]),-0.2,0.2)))
y			= (IfElse(Random <= 499,-1.5,-2.5))

[State 7033:	VelAdd]
type			= VelAdd
trigger1		= (Parent, StateNo != 7030)
y			= 0.05

[State 7033:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S2,2

[State 7033:	PlaySnd]
type			= PlaySnd
trigger1		= (Pos Y >= 1)
value			= S1,9

[State 7033:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 7033:	DestroySelf]
type			= DestroySelf
trigger1		= (Pos Y < -210) || (Pos Y >= 1) || (!AnimTime)

;---------------------------------------------------------------------------
;Ki Charge:
;Rock002
[Statedef 7034]
type 			= S
movetype		= I
physics		= N
anim			= 9100
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 7034:	SprPriority]
type			= SprPriority
trigger1		= (!Time)
value			= (IfElse(Random <= 499,3,-3))

[State 7034:	VarRandom]
type			= VarRandom
trigger1		= (!Time)
v			= 0
range			= -200,200

[State 7034:	PosSet]
type			= PosSet
trigger1		= (!Time)
x			= var(0)
y			= 0

[State 7034:	PosSet]
type			= PosSet
trigger1		= (!Time)
y			= 0

[State 7034:	VelSet]
type			= VelSet
trigger1		= (Time = 1)
x			= (IfElse(Random <= 799,0,IfElse((Random = [800,900]),-0.2,0.2)))
y			= (IfElse(Random <= 499,-2,-3))

[State 7034:	VelAdd]
type			= VelAdd
trigger1		= (Parent, StateNo != 7030)
y			= 0.05

[State 7034:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S2,2

[State 7034:	PlaySnd]
type			= PlaySnd
trigger1		= (Pos Y >= 1)
value			= S1,9

[State 7034:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 7034:	DestroySelf]
type			= DestroySelf
trigger1		= (Pos Y < -210) || (Pos Y >= 1) || (!AnimTime)

;---------------------------------------------------------------------------
;Ki Charge - End
[Statedef 7039]
type 		= S
movetype	= I
physics		= S
anim		= 7039
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 7030:	Explod]
type		= Explod
trigger1	= (Time = 0)
anim		= 7037
id		= 7037
pos		= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime	= -1
vel		= 0,0
accel		= 0,0
random		= 0,0
removetime	= -2
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 0.75,0.75
sprpriority	= 0
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 7030:	Explod]
type		= Explod
triggerall	= power > 1000
trigger1        = (Time = 0)
anim		= 7038
id		= 7038
pos		= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime	= -1
vel		= 0,0
accel		= 0,0
random		= 0,0
removetime	= -2;20
supermove	= 0
supermovetime	= 0
pausemovetime	= 0
scale		= 0.5,0.5
sprpriority	= 4
ontop		= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 7039:	VelSet]
type			= VelSet
trigger1		= (!Time)
y			= 0

[State 7039:	StopSnd]
type			= StopSnd
trigger1		= (!Time)
channel		= 0

[State 7039:	StopSnd]
type			= StopSnd
trigger1		= (!Time)
channel		= 1

[State 7039:	RemoveExplod]
type			= RemoveExplod
trigger1		= (!Time)
id			= 7033

[State 7039:	RemoveExplod]
type			= RemoveExplod
trigger1		= (!Time)
id			= 7032

[State 7039:	RemoveExplod]
type			= RemoveExplod
trigger1		= (!Time)
id			= 7034

[State 7039:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0

;---------------------------------------------------------------------------
;Parry - Ground
[Statedef 7040]
type 			= U
movetype		= I
physics		= U
anim			= IfElse(StateType = S,7040,7041)
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 7040:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoWalk

[State 7040:	CtrlSet]
type			= CtrlSet
trigger1		= (Time > 4) && (StateType = S)
value			= 1

[State 7040:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 7040:	Pause]
type			= Pause
trigger1		= (!Time)
time			= 14
movetime		= 14

[State 7040:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(12)		= 1

[State 7040:	PalFX]
type			= PalFX
trigger1		= (!Time)
time			= 8
add			= 0,0,0
mul			= 256,256,256
sinadd		= 75,100,255,100
invertall		= 0
color			= 256

[State 7040:	EnvColor]
type			= EnvColor
trigger1		= (!Time)
value			= 255,255,255
time			= 4

[State 7040:	EnvShake]
type			= EnvShake
trigger1		= (!Time)
time			= 8
freq			= 60
ampl			= -2
phase			= 90

[State 7040:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S1,1

[State 7040:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S3,6

[State 7040:	Explod]
type			= Explod
trigger1		= (!Time)
anim			= 9280
id			= 9280
pos			= (IfElse(StateType = S,24,12)),(IfElse(StateType = S,-54,-49))
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 12
scale			= 0.5,0.5
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 7040:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= IfElse(StateType = S,0,11)

;---------------------------------------------------------------------------
;Parry - Air
[Statedef 7050]
type 			= A
movetype		= I
physics		= N
anim			= 7050
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 7050:	CtrlSet]
type			= CtrlSet
trigger1		= (Time > 4)
value			= 1

[State 7050:	NotHitBy]
type			= NotHitBy
trigger1		= (Time < 14)
value			= SCA

[State 7050:	Pause]
type			= Pause
trigger1		= (!Time)
time			= 14
movetime		= 14

[State 7050:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(12)		= 1

[State 7050:	VarSet]
type			= VarSet
trigger1		= (!Time)
fvar(0)		= Vel X

[State 7050:	VarSet]
type			= VarSet
trigger1		= (!Time)
fvar(1)		= Vel Y

[State 7050:	VelSet]
type			= VelSet
trigger1		= (Time)
x			= 0
y			= 0
persistent		= 0

[State 7050:	VelSet]
type			= VelSet
trigger1		= (Time > 14)
x			= FVar(0)
y			= FVar(1)
persistent		= 0

[State 7050:	VelAdd]
type			= VelAdd
trigger1		= (Time > 14)
y			= 0.45

[State 7050:	PalFX]
type			= PalFX
trigger1		= (!Time)
time			= 8
add			= 0,0,0
mul			= 256,256,256
sinadd		= 75,100,255,100
invertall		= 0
color			= 256

[State 7050:	EnvColor]
type			= EnvColor
trigger1		= (!Time)
value			= 255,255,255
time			= 4

[State 7050:	EnvShake]
type			= EnvShake
trigger1		= (!Time)
time			= 8
freq			= 60
ampl			= -2
phase			= 90

[State 7050:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S1,1

[State 7050:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S3,6

[State 7050:	Explod]
type			= Explod
trigger1		= (!Time)
anim			= 9280
id			= 9280
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 12
scale			= 0.5,0.5
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 7050:	ChangeState]
type			= ChangeState
trigger1		= (Pos Y >= 0) && (Vel Y > 0)
value			= 52

;---------------------------------------------------------------------------
;Air Parry Window
[Statedef 7051]
type 			= A
movetype		= I
physics		= N
;anim			= 7051
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 7051:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow
flag2			= Invisible

[State 7051:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 7051:	BindToParent]
type			= BindToParent
trigger1		= 1
time			= 1
pos			= 0,0

[State 7051:	ParentVarSet]
type			= ParentVarSet
trigger1		= (!Time)
var(11)		= 8
ignorehitpause	= 1

[State 7051:	DestroySelf]
type			= DestroySelf
trigger1		= (Parent, Command != "holdfwd")

;===========================================================================
;-| Effects |---------------------------------------------------------------
;---------------------------------------------------------------------------
;Flame Effect
[Statedef 9001]
type 			= S
movetype		= I
physics		= N
anim			= 9001
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[State 9001:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow
flag2			= Invisible

[State 9001:	BindToParent]
type			= BindToParent
trigger1		= 1
time			= 1
pos			= 0,0

[State 9001:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(0)		= 35

[State 9001:	VarSet]
type			= VarSet
trigger1		= (Var(0) = 35)
var(1)		= 0

[State 9001:	VarSet]
type			= VarSet
trigger1		= (Var(0) = 150)
var(1)		= 1

[State 9001:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(2)		= (Parent, StateNo)

[State 9001:	VarAdd]
type			= VarAdd
trigger1		= 1
var(0)		= IfElse(Var(1) = 0,1,-1)

[State 9001: 	AfterImage]
type 			= AfterImage
trigger1 		= 1
time 			= 5
framegap 		= 1
length 		= 2
paladd 		= 175, 175, 75
palmul 		= .75, .75, .75
palcontrast 	= var(0), var(0), var(0)
trans 		= add

[State 9001:	DestroySelf]
type			= DestroySelf
trigger1		= (Parent, StateNo != Var(2))

;---------------------------------------------------------------------------
;HitSpark: Orange
;[Statedef 9010]

;---------------------------------------------------------------------------
;Dust
;[Statedef 9020]

;---------------------------------------------------------------------------
;Small Explosion
[Statedef 9030]
type 			= S
movetype		= I
physics		= N
anim			= 9030
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 9030:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9030:	DestroySelf]
type			= DestroySelf
trigger1		= (!AnimTime)

;---------------------------------------------------------------------------
;Ki Blast Effect
[Statedef 9040]
type 			= S
movetype		= I
physics		= N
anim			= 9040
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[State 9040:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow
flag2			= Invisible

[State 9040:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(0)		= 200

[State 9040:	VarAdd]
type			= VarAdd
trigger1		= 1
var(0)		= -2

[State 9040:	AfterImage]
type 			= AfterImage
trigger1 		= 1
time 			= 5
framegap 		= 1
length 		= 2
paladd 		= 120, 120, 120
palmul 		= .50, .50, .50
palcontrast 	= var(0), var(0), var(0)
trans 		= add

[State 9040:	DestroySelf]
type			= DestroySelf
trigger1		= (!AnimTime)

;---------------------------------------------------------------------------
;Shockwave
;[Statedef 9050]

;---------------------------------------------------------------------------
;Ki Barrier
[Statedef 9061]
type 		= A
movetype	= A
physics		= N
anim		= 9061
velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 9061:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow
flag2			= Invisible

[State 9061:	BindToParent]
type			= BindToParent
trigger1		= 1
time			= 1
pos			= -5,-55

[State 9061:	HitBy]
type			= HitBy
trigger1		= 1
value			= , NP, SP, HP
ignorehitpause	= 1

[State 9061:	HitOverride]
type			= HitOverride
trigger1		= 1
attr			= , NP, SP, HP
slot			= 0
stateno		= 9060
ignorehitpause	= 1

[State 9061:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(0)		= 100

[State 9061:	VarAdd]
type			= VarAdd
trigger1		= 1
var(0)		= -1

[State 9060:	ParentVarSet]
type			= ParentVarSet
trigger1		= (MoveContact) && ((EnemyNear, BackEdgeBodyDist < 10) || (EnemyNear, FrontEdgeBodyDist < 10))
var(4)		= 1
ignorehitpause	= 1

[State 9061:	AfterImage]
type 		= AfterImage
trigger1 	= 1
time 		= 5
framegap 	= 1
length 		= 2
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= var(0), var(0), var(0)
trans 		= add


[State 9061:	HitDef]
type		= HitDef
trigger1	= 1
attr		= S, HP
hitflag		= MAFDP
guardflag	= M
animtype	= DiagUp
priority	= 7, Hit
damage		= 50,12
pausetime	= 0,6
guard.pausetime	= 0,20
sparkno		= S3070
guard.sparkno	= S3070
sparkxy		= 10,0
hitsound	= S0,9
guardsound	= S0,9
ground.type	= Trip
air.type	= Trip
ground.slidetime = 25
ground.hittime	= 25
air.hittime	= 25
ground.velocity	= -3,-9
guard.velocity	= -10
air.velocity	= -3,-9
airguard.velocity	= -3,-9
ground.cornerpush.veloff = 0
yaccel		= 0.35
fall		= 1
fall.recover	= 0
down.bounce	= 1
id		= 9061
kill		= 0
guard.kill	= 0
getpower	= 0
givepower	= 50
envshake.time 	= 20
envshake.freq 	= 120
envshake.ampl 	= -6
persistent	= 0


[State 9060:	DestroySelf]
type			= DestroySelf
trigger1		= movecontact = 1
Trigger2                =(!AnimTime) || (Parent, MoveType = H)

;---------------------------------------------------------------------------
;Small Projectile
[Statedef 9070]
type 			= S
movetype		= I
physics		= N
anim			= 9070
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 9070:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= Invisible
flag2			= NoShadow

[State 9070:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9070:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 9070:	MakeDust]
type			= MakeDust
trigger1		= (Vel Y = 0)
pos 			= 0,60
spacing 		= 2

[State 9070:	EnvShake]
type			= EnvShake
trigger1		= (Pos Y >= 0)
time			= 12
freq			= 120
ampl			= -4
phase			= 90

[State 9070:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 14
y			= (IfElse((Parent,Command = "holdup"),-6.666666,(IfElse((Parent,Command = "holddown"),6.666666,0))))

[State 9070:	VelMul]
type			= VelMul
trigger1		= (Time > 0)
x			= 1.1
y			= 1.1

[State 9070:	AfterImage]
type			= AfterImage
trigger1		= (!Time)
time 			= 10
timegap		= 2
framegap 		= 3
length 		= 10
paladd 		= 50, 50, 50
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 9070:	Helper]
type			= Helper
trigger1		= (Pos Y >= 0)
helpertype		= Normal
name			= "Rock000"
id			= 9080
pos			= 0,0
;postype		= p1
facing		= 1
stateno		= 9080
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= 0.5
size.yscale		= 0.5

[State 9070:	Helper]
type			= Helper
trigger1		= (Pos Y >= 0)
helpertype		= Normal
name			= "Rock001"
id			= 9090
pos			= 0,0
;postype		= p1
facing		= 1
stateno		= 9090
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= 0.5
size.yscale		= 0.5

[State 9070:	Helper]
type			= Helper
trigger1		= (Pos Y >= 0)
helpertype		= Normal
name			= "Rock002"
id			= 9100
pos			= 0,0
;postype		= p1
facing		= 1
stateno		= 9100
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale		= 0.5
size.yscale		= 0.5

[State 9070:	DestroySelf]
type			= DestroySelf
trigger1 		= (Parent, NumProjID(9070) = 0)

;---------------------------------------------------------------------------
;Debris000
[Statedef 9080]
type 			= S
movetype		= I
physics		= N
anim			= 9080
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 9080:	SprPriority]
type			= SprPriority
trigger1		= (!Time)
value			= (IfElse(Random <= 499,3,-3))

[State 9080:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9080:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 9080:	MakeDust]
type			= MakeDust
trigger1		= (Pos Y >= 1) && (Time > 10)
pos 			= 5,0
pos2			= -5,0
spacing 		= 2
persistent		= 0

[State 9080:	VelAdd]
type			= VelAdd
trigger1		= (Time > 10)
y			= (IfElse(Random <= 499,0.40,0.35))

[State 9080:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= (IfElse(Random <= 499,3,-3))
y			= (IfElse(Random <= 499,-8,-4))

[State 9080:	VelSet]
type			= VelSet
trigger1		= (Pos Y >= 1) && (Time > 10)
x			= 0
y			= 0

[State 9080:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 9080:	DestroySelf]
type			= DestroySelf
trigger1		= (!AnimTime)

;---------------------------------------------------------------------------
;Debris001
[Statedef 9090]
type 			= S
movetype		= I
physics		= N
anim			= 9090
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 9090:	SprPriority]
type			= SprPriority
trigger1		= (!Time)
value			= (IfElse(Random <= 499,3,-3))

[State 9090:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9090:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 9090:	MakeDust]
type			= MakeDust
trigger1		= (Pos Y >= 1) && (Time > 10)
pos 			= 5,0
pos2			= -5,0
spacing 		= 2
persistent		= 0

[State 9090:	VelAdd]
type			= VelAdd
trigger1		= (Time > 10)
y			= (IfElse(Random <= 499,0.40,0.35))

[State 9090:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= (IfElse(Random <= 499,2,-5))
y			= (IfElse(Random <= 499,-10,-5))

[State 9090:	VelSet]
type			= VelSet
trigger1		= (Pos Y >= 1) && (Time > 10)
x			= 0
y			= 0

[State 9090:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 9090:	DestroySelf]
type			= DestroySelf
trigger1		= (!AnimTime)

;---------------------------------------------------------------------------
;Debris002
[Statedef 9100]
type 			= S
movetype		= I
physics		= N
anim			= 9100
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 9100:	SprPriority]
type			= SprPriority
trigger1		= (!Time)
value			= (IfElse(Random <= 499,3,-3))

[State 9100:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9100:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 9100:	MakeDust]
type			= MakeDust
trigger1		= (Pos Y >= 1) && (Time > 10)
pos 			= 5,0
pos2			= -5,0
spacing 		= 2
persistent		= 0

[State 9100:	VelAdd]
type			= VelAdd
trigger1		= (Time > 10)
y			= (IfElse(Random <= 499,0.40,0.35))

[State 9100:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= (IfElse(Random <= 499,4,-5))
y			= (IfElse(Random <= 499,-6,-3))

[State 9100:	VelSet]
type			= VelSet
trigger1		= (Pos Y >= 1) && (Time > 10)
x			= 0
y			= 0

[State 9100:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 15
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 9100:	DestroySelf]
type			= DestroySelf
trigger1		= (!AnimTime)

;---------------------------------------------------------------------------
;Bakuken Ha: Projectile
[Statedef 9110]
type 			= A
movetype		= A
physics		= N
anim			= 9110
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 5
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 9110:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow

[State 9110:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9110:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 9110:	BindToParent]
type			= BindToParent
trigger1		= 1
time			= 1
pos			= 34,-53
ignorehitpause	= 1

[State 9110:	ParentVarSet]
type			= ParentVarSet
trigger1		= (MoveContact)
var(4)		= IfElse(((EnemyNear, BackEdgeBodyDist < 10) && (Parent, P2BodyDist X < 25)),2,1)
ignorehitpause	= 1

[State 9110:	PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S3,3

[State 9110:	AfterImage]
type 			= AfterImage
trigger1 		= (!Time)
time 			= 25
timegap		= 2
framegap 		= 4
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110, 110, 110
trans 		= add

[State 9110:	EnvColor]
type			= EnvColor
trigger1		= (MoveHit)
value			= 255,255,255
time			= 7
persistent		= 0
ignorehitpause	= 1

[State 9110:	HitDef]
type			= HitDef
trigger1		= (AnimElem = 2)
attr			= S, SP
hitflag		= MAFP
guardflag		= M
animtype		= Hard
air.animtype	= Back
priority		= 5, Hit
damage		= 75
pausetime		= 5,12
guard.pausetime	= 5,12
sparkno		= S9010
guard.sparkno	= -1
sparkxy		= 10,0
hitsound		= S2,3
guardsound		= S0,9
ground.type		= Low
air.type		= Trip
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
yaccel		= 0.45
ground.velocity	= -18,-3.2
guard.velocity	= -18
air.velocity	= -18,-3.2
airguard.velocity	= -18,-3.2
ground.cornerpush.veloff = 0
fall			= 1
fall.recover	= 0
id			= 9110
getpower		= 0
givepower		= 75

[State 9110:	DestroySelf]
type			= DestroySelf
trigger1		= (!AnimTime) || (Parent, StateNo != 1000)

;---------------------------------------------------------------------------
;Daburu Kikou Ha: Projectile Straight
[Statedef 9130]
type 			= A
movetype		= A
physics		= N
anim			= 9130
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 9130:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= , NA, SA, HA, NT, ST, HT

[State 9130:	HitOverride]
type			= HitOverride
trigger1		= 1
attr			= SCA, NP, SP, HP
slot			= 0
stateno		= 9030 

[State 9130:	VarRandom]
type			= VarRandom
trigger1		= (!Time)
v			= 0
range			= -100,100

[State 9130:	VelSet]
type			= VelSet
trigger1		= (Time)
x			= 10
y			= Var(0)*0.01

[State 9130:	PalFX]
type			= PalFX
trigger1		= (!Time)
time			= 40
add			= 100,100,100
mul			= 256,256,256
sinadd		= -100,-100,-100,40
invertall		= 0
color			= 256

[State 9130:	BGPalFX]
type			= BGPalFX
trigger1		= (MoveHit)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[State 9130: 	AfterImage]
type 			= AfterImage
trigger1 		= (!Time)
time 			= 20
framegap 		= 2
length 		= 15
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100, 100, 100
trans 		= add

[State 9130:	Explod]
type			= Explod
trigger1		= (Pos Y >= 1)
anim			= 9030
id			= 9030
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 9130:	Explod]
type			= Explod
trigger1		= (MoveContact)
anim			= 9160
id			= 9160
pos			= 0,-25
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 30
vel			= 0,-0.5
accel			= 0,0
random		= 10,10
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.5,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 9130:	Helper]
type			= Helper
trigger1		= (!Time)
helpertype		= Normal
name			= "Projectile Tail"
id			= 9140
pos			= 11,0
postype		= p1
facing		= 1
stateno		= 9140
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 9130:	HitDef]
type			= HitDef
trigger1		= 1
attr			= S, SP
hitflag		= MAFDP
guardflag		= MA
animtype		= Hard
priority		= 7, Hit
damage		= 40,10
pausetime		= 12,12
guard.pausetime	= 15,20
sparkno		= S9030
guard.sparkno	= S9030
sparkxy		= 0,0
hitsound		= S0,5
guardsound		= S0,9
ground.type		= High
air.type		= Trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
ground.velocity	= -8
guard.velocity	= -8
air.velocity	= -8,-3.5
airguard.velocity	= -8,-3.5
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall		= 1
down.velocity	= -1,-2
down.bounce		= 1
id			= 9130
getpower		= 0
givepower		= 25
palfx.time		= 12
palfx.mul		= 256,256,256
palfx.add		= 200,50,10
palfx.sinadd	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0

[State 9130:	ChangeState]
type			= ChangeState
triggerall		= (P2Dist X < 75)
trigger1		= (P2Dist Y > 100) || (P2StateType = L) || (P2StateType = C) || ((P2Dist X = [0,10]) && (EnemyNear, Pos Y = 0))
value			= 9131

[State 9130:	ChangeState]
type			= ChangeState
trigger1		= (P2Dist X < 75) && (P2Dist Y < -40)
value			= 9132

[State 9130:	DestroySelf]
type			= DestroySelf
trigger1		= (MoveContact) || (FrontEdgeBodyDist < -10)
ignorehitpause	= 1

;---------------------------------------------------------------------------
;Daburu Kikou Ha: Projectile Down
[Statedef 9131]
type 			= A
movetype		= A
physics		= N
anim			= 9131
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 9131:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= , NA, SA, HA, NT, ST, HT

[State 9131:	HitOverride]
type			= HitOverride
trigger1		= 1
attr			= SCA, NP, SP, HP
slot			= 0
stateno		= 9030 

[State 9131:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 10
y			= 6.666666

[State 9131:	PalFX]
type			= PalFX
trigger1		= (!Time)
time			= 40
add			= 100,100,100
mul			= 256,256,256
sinadd		= -100,-100,-100,40
invertall		= 0
color			= 256

[State 9131:	BGPalFX]
type			= BGPalFX
trigger1		= (MoveHit)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[State 9131: 	AfterImage]
type 			= AfterImage
trigger1 		= (!Time)
time 			= 20
framegap 		= 2
length 		= 15
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100, 100, 100
trans 		= add

[State 9131:	Explod]
type			= Explod
trigger1		= (Pos Y >= 1)
anim			= 9030
id			= 9030
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 9131:	Explod]
type			= Explod
trigger1		= (MoveContact)
anim			= 9160
id			= 9160
pos			= 0,-25
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 30
vel			= 0,-0.5
accel			= 0,0
random		= 10,10
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.5,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 9131:	HitDef]
type			= HitDef
trigger1		= 1
attr			= S, SP
hitflag		= MAFDP
guardflag		= HA
animtype		= Hard
priority		= 7, Hit
damage		= 40,10
pausetime		= 12,12
guard.pausetime	= 15,20
sparkno		= S9030
guard.sparkno	= S9030
sparkxy		= 0,0
hitsound		= S0,5
guardsound		= S0,9
ground.type		= High
air.type		= Trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
ground.velocity	= -8
guard.velocity	= -8
air.velocity	= -8,-3.5
airguard.velocity	= -8,-3.5
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall		= 1
down.velocity	= -1,-2
down.bounce		= 1
id			= 9130
getpower		= 0
givepower		= 25
palfx.time		= 12
palfx.mul		= 256,256,256
palfx.add		= 200,50,10
palfx.sinadd	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0

[State 9131:	DestroySelf]
type			= DestroySelf
trigger1		= (MoveContact) || (FrontEdgeBodyDist < -10) || (Pos Y >= 1)
ignorehitpause	= 1

;---------------------------------------------------------------------------
;Daburu Kikou Ha: Projectile Up
[Statedef 9132]
type 			= A
movetype		= A
physics		= N
anim			= 9132
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 9132:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= , NA, SA, HA, NT, ST, HT

[State 9132:	HitOverride]
type			= HitOverride
trigger1		= 1
attr			= SCA, NP, SP, HP
slot			= 0
stateno		= 9030 

[State 9132:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 10
y			= -6.666666

[State 9132:	PalFX]
type			= PalFX
trigger1		= (!Time)
time			= 40
add			= 100,100,100
mul			= 256,256,256
sinadd		= -100,-100,-100,40
invertall		= 0
color			= 256

[State 9132:	BGPalFX]
type			= BGPalFX
trigger1		= (MoveHit)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[State 9132: 	AfterImage]
type 			= AfterImage
trigger1 		= (!Time)
time 			= 20
framegap 		= 2
length 		= 15
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100, 100, 100
trans 		= add

[State 9132:	Explod]
type			= Explod
trigger1		= (Pos Y >= 1)
anim			= 9030
id			= 9030
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 9132:	Explod]
type			= Explod
trigger1		= (MoveContact)
anim			= 9160
id			= 9160
pos			= 0,-25
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 30
vel			= 0,-0.5
accel			= 0,0
random		= 10,10
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.5,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 9132:	HitDef]
type			= HitDef
trigger1		= 1
attr			= S, SP
hitflag		= MAFDP
guardflag		= MA
animtype		= Hard
priority		= 7, Hit
damage		= 40,10
pausetime		= 12,12
guard.pausetime	= 15,20
sparkno		= S9030
guard.sparkno	= S9030
sparkxy		= 0,0
hitsound		= S0,5
guardsound		= S0,9
ground.type		= High
air.type		= Trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
ground.velocity	= -8
guard.velocity	= -8
air.velocity	= -8,3.5
airguard.velocity	= -8,3.5
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall		= 1
down.velocity	= -1,-2
down.bounce		= 1
id			= 9130
getpower		= 0
givepower		= 25
palfx.time		= 12
palfx.mul		= 256,256,256
palfx.add		= 200,50,10
palfx.sinadd	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0

[State 9132:	DestroySelf]
type			= DestroySelf
trigger1		= (MoveContact) || (FrontEdgeBodyDist < -10) || (Pos Y < -1000)
ignorehitpause	= 1

;---------------------------------------------------------------------------
;Daburu Kikou Ha: Projectile Tail
[Statedef 9140]
type 			= A
movetype		= I
physics		= N
anim			= 9140
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 9140:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow
flag2			= Invisible

[State 9140:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9140:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 9140:	VelSet]
type			= VelSet
trigger1		= 1
x			= Parent, Vel X
y			= Parent, Vel Y

[State 9140: 	AfterImage]
type 			= AfterImage
trigger1 		= (!Time)
time 			= 30
timegap		= 1
framegap 		= 3
length 		= 60
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100, 100, 100
trans 		= add

[State 9140:	DestroySelf]
type			= DestroySelf
trigger1		= (Parent, MoveContact) || (Parent, FrontEdgeBodyDist < -10) || (Parent, StateNo != 9130)

;---------------------------------------------------------------------------
;Kienzan: Disc
[Statedef 9150]
type 			= A
movetype		= A
physics		= N
anim			= 9150
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 9150:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow

[State 9150:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9150:	Turn]
type			= Turn
trigger1		= (P2Dist X < 10) && (Time > 15)

[State 9150:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(0)		= 0

[State 9150:	VarAdd]
type			= VarAdd
trigger1		= (Var(0) = 0) && (MoveHit)
var(0)		= 1
ignorehitpause	= 1
persistent		= 0

[State 9150:	VarAdd]
type			= VarAdd
trigger1		= (Var(0) = [1,30])
var(0)		= 1

[State 9150:	VarAdd]
type			= VarAdd
trigger1		= (Var(0) = 31) && (HitCount = 2)
var(0)		= 1

[State 9150:	VelSet]
type			= VelSet
trigger1		= (Parent, AnimElem = 3) && (Parent, Name = "[Necromancer's] Cell")
x			= 12

[State 9150:	VelSet]
type			= VelSet
trigger1		= (!Time) && (Parent, IsHelper)
x			= (Parent, Vel X)
y			= (Parent, Vel Y*(-1))

[State 9150:	VelAdd]
type			= VelAdd
trigger1		= (P2Dist X < 0) && (Vel X > -12) && (Parent, StateNo != 1070)
x			= -0.2

[State 9150:	VelAdd]
type			= VelAdd
trigger1		= (P2Dist X > 0) && (Vel X < 12) && (Parent, StateNo != 1070)
x			= 0.2

[State 9150:	VelAdd]
type			= VelAdd
trigger1		= (EnemyNear, Pos Y > Pos Y) && (Vel Y < 8) && (Parent, StateNo != 1070)
y			= 0.2

[State 9150:	VelAdd]
type			= VelAdd
trigger1		= (EnemyNear, Pos Y <= Pos Y) && (Vel Y > -8) && (Parent, StateNo != 1070)
y			= -0.2

[State 9150:	BGPalFX]
type			= BGPalFX
trigger1		= (Var(0) = 32) || (MoveGuarded)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[State 9150: 	AfterImage]
type 			= AfterImage
trigger1 		= ((GameTime%5) = 0)
time 			= 5
timegap		= 1
framegap 		= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100, 100, 100
trans 		= add

[State 9150:	Explod]
type			= Explod
trigger1		= (Var(0) = 32) || (MoveGuarded)
anim			= 9030
id			= 9030
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 9150:	HitDef]
type			= HitDef
trigger1		= (Var(0) = 0)
attr			= S, SP
hitflag		= MAFDP
guardflag		= MA
animtype		= Hard
priority		= 7, Hit
damage		= 40,10
pausetime		= 0,12
guard.pausetime	= 0,20
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound		= S4,4
guardsound		= S0,9
ground.type		= High
air.type		= Trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
ground.velocity	= -5
guard.velocity	= -5
air.velocity	= -5,-3.5
airguard.velocity	= -5,-3.5
ground.cornerpush.veloff = 0
fall.recover	= 0
air.fall		= 1
down.velocity	= -1,-2
down.bounce		= 1
id			= 9150
getpower		= 0
givepower		= 25
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0

[State 9150:	HitDef]
type			= HitDef
trigger1		= (Var(0) = 31)
attr			= S, SP
hitflag		= MAFDP
guardflag		= MA
animtype		= Hard
priority		= 7, Hit
damage		= 40,10
pausetime		= 0,12
guard.pausetime	= 0,20
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound		= S0,5
guardsound		= S0,9
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
ground.velocity	= -5,-3.5
guard.velocity	= -5
air.velocity	= -5,-3.5
airguard.velocity	= -5,-3.5
ground.cornerpush.veloff = 0
fall.recover	= 0
air.fall		= 1
down.velocity	= -1,-2
down.bounce		= 1
id			= 9150
getpower		= 0
givepower		= 25
palfx.time		= 12
palfx.mul		= 256,256,256
palfx.add		= 200,50,10
palfx.sinadd	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0

[State 9150:	DestroySelf]
type			= DestroySelf
trigger1		= (Var(0) = 32) || (MoveGuarded) || (Time > 300)

;---------------------------------------------------------------------------
;Projectile Smoke
;[Statedef 9160]

;---------------------------------------------------------------------------
;Large Projectile: Straight
[Statedef 9170]
type 			= A
movetype		= A
physics		= N
anim			= 9170
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 9170:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9170:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 10
y			= 0

[State 9170:	VelMul]
type			= VelMul
trigger1		= 1
x			= 1.1

[State 9170:	PalFX]
type			= PalFX
trigger1		= (!Time)
time			= 40
add			= 100,100,100
mul			= 256,256,256
sinadd		= -100,-100,-100,40
invertall		= 0
color			= 256

[State 9170:	BGPalFX]
type			= BGPalFX
trigger1		= (MoveHit)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[State 9170: 	AfterImage]
type 			= AfterImage
trigger1 		= (!Time)
time 			= 20
framegap 		= 2
length 		= 15
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100, 100, 100
trans 		= add

[State 9170:	Explod]
type			= Explod
trigger1		= (Pos Y >= 1)
anim			= 9030
id			= 9030
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

[State 9170:	Explod]
type			= Explod
trigger1		= (MoveContact)
anim			= 9160
id			= 9160
pos			= 0,-25
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 30
vel			= 0,-0.5
accel			= 0,0
random		= 10,10
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.5,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
ignorehitpause	= 1

[State 9170:	HitDef]
type			= HitDef
trigger1		= 1
attr			= S, SP
hitflag		= MAFDP
guardflag		= M
animtype		= Hard
priority		= 7, Hit
damage		= 80,20
pausetime		= 12,12
guard.pausetime	= 15,20
sparkno		= S9030
guard.sparkno	= S9030
sparkxy		= 0,0
hitsound		= S0,5
guardsound		= S0,9
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
ground.velocity	= -8,-3.5
guard.velocity	= -8
air.velocity	= -8,-3.5
airguard.velocity	= -8,-3.5
ground.cornerpush.veloff = 0
fall.recover	= 0
air.fall		= 1
down.velocity	= -1,-2
down.bounce		= 1
id			= 9130
getpower		= 0
givepower		= 25
palfx.time		= 12
palfx.mul		= 256,256,256
palfx.add		= 200,50,10
palfx.sinadd	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0

[State 9170:	DestroySelf]
type			= DestroySelf
trigger1		= (MoveContact) || (FrontEdgeBodyDist < -10)
ignorehitpause	= 1

;---------------------------------------------------------------------------
;Chou KameHameHa: Projectile
[Statedef 9180]
type 		= A
movetype	= A
physics		= N
anim		= 9180
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 9180:	AssertSpecial]
type			= AssertSpecial
trigger1		= (Parent, Var(7) > 580)
flag			= UnGuardable

[State 9180:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag                    = noshadow

[State 9180:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9180:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 9180:	BGPalFX]
type			= BGPalFX
trigger1		= (Time < 25) && ((GameTime%2) = 0)
time			= 1
add			= (200-Time*3),(200-Time*3),(255-Time*3)
mul			= 256,256,256
;sinadd		= 256,256,256,0
invertall		= 1
color			= 256

[State 9180:	Explod]
type			= Explod
trigger1		= (MoveContact) && ((GameTime%4) = 0)
anim			= 9010
id			= 9010
pos			= 0,-40
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 30,40
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 4
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
ignorehitpause	= 1

[State 9180:	Explod]
type			= Explod
trigger1		= (MoveContact)
anim			= 9160
id			= 9160
pos			= 0,-25
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 30
vel			= 0,-0.5
accel			= 0,0
random		= 10,10
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.5,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 9180:	Explod]
type			= Explod
trigger1		= (MoveContact)
anim			= 3580
id			= 3580
pos			= 0,-30
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 9180:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 40
timegap		= 2
framegap 		= 3
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100,100,100
trans 		= add

[State 9180:	HitDef]
type			= HitDef
trigger1		= (!MoveContact)
attr			= S, HP
hitflag		= MAFDP
guardflag		= M
animtype		= Hard
priority		= 7, Hit
damage		= (Parent, Var(7)),(Parent, Var(7)/3)
pausetime		= 0,12
guard.pausetime	= 0,20
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound		= S0,5
guardsound		= S0,9
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
yaccel		= 0.35
ground.velocity	= -25,-3
guard.velocity	= -8
air.velocity	= -25,-3
airguard.velocity	= -25,-3
ground.cornerpush.veloff = 0
fall			= 1
fall.recover	= 0
id			= 9180
getpower		= 0
givepower		= 50
palfx.time		= 40
palfx.mul		= 256,256,256
palfx.add		= 200,200,255
palfx.sinadd	= -100,-100,-155,40
envshake.time 	= 30
envshake.freq 	= 120
envshake.ampl 	= -8
persistent		= 0

[State 9180:	DestroySelf]
type			= DestroySelf
trigger1		= (!AnimTime) || (Parent, StateNo != 3515)

;---------------------------------------------------------------------------
;Chou KameHameHa: Projectile Up
[Statedef 9181]
type 		= A
movetype	= A
physics		= N
anim		= 9181
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 9181:	AssertSpecial]
type			= AssertSpecial
trigger1		= (Parent, Var(7) > 600)
flag			= UnGuardable

[State 9181:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9181:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 9181:	BGPalFX]
type			= BGPalFX
trigger1		= (Time < 25) && ((GameTime%2) = 0)
time			= 1
add			= (200-Time*3),(200-Time*3),(255-Time*3)
mul			= 256,256,256
;sinadd		= 256,256,256,0
invertall		= 1
color			= 256

[State 9181:	Explod]
type			= Explod
trigger1		= (MoveContact) && ((GameTime%4) = 0)
anim			= 9010
id			= 9010
pos			= 0,-40
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 30,40
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 4
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
ignorehitpause	= 1

[State 9181:	Explod]
type			= Explod
trigger1		= (MoveContact)
anim			= 9160
id			= 9160
pos			= 0,-25
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 30
vel			= 0,-0.5
accel			= 0,0
random		= 10,10
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.5,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 9181:	Explod]
type			= Explod
trigger1		= (MoveContact)
anim			= 3580
id			= 3580
pos			= 0,-30
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 9181:	AfterImage]
type			= AfterImage
trigger1 		= (!Time)
time 			= 40
timegap		= 2
framegap 		= 3
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100,100,100
trans 		= add

[State 9181:	HitDef]
type			= HitDef
trigger1		= (!MoveContact)
attr			= S, HP
hitflag		= MAFDP
guardflag		= M
animtype		= Hard
priority		= 7, Hit
damage		= (Parent, Var(7)),(Parent, Var(7)/3)
pausetime		= 0,12
guard.pausetime	= 0,20
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound		= S0,5
guardsound		= S0,9
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
yaccel		= 0.35
ground.velocity	= -15,-13
guard.velocity	= -8
air.velocity	= -15,-13
airguard.velocity	= -15,-13
ground.cornerpush.veloff = 0
fall			= 1
fall.recover	= 0
id			= 9181
getpower		= 0
givepower		= 50
palfx.time		= 40
palfx.mul		= 256,256,256
palfx.add		= 200,200,255
palfx.sinadd	= -100,-100,-155,40
envshake.time 	= 30
envshake.freq 	= 120
envshake.ampl 	= -8
persistent		= 0

[State 9181:	DestroySelf]
type			= DestroySelf
trigger1		= (!AnimTime) || (Parent, StateNo != 3516)

;---------------------------------------------------------------------------
;SuperPause
[Statedef 9190]
type 			= S
movetype		= I
physics		= N
anim			= 9190
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 9190:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= GlobalNoShadow
flag2			= NoBarDisplay

[State 9190:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoMusic
flag2			= NoFG

[State 9190:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 9190:	PlayerPush]
type			= PlayerPush
trigger1		= 1
value			= 0

[State 9190:	BindToParent]
type			= BindToParent
trigger1		= 1
time			= 1
pos			= 12,-54

[State 9190: 	AfterImage]
type 			= AfterImage
trigger1		= (!Time)
time 			= 25
timegap		= 4
framegap 		= 1
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add

[State 9190:	BGPalFX]
type			= BGPalFX
trigger1		= (!Time)
time			= 50
add			= -100,-100,-100
mul			= 256,256,256
sinadd		= 100,100,100,50
invertall		= 1
color			= 256

[State 9190:	Explod]
type			= Explod
trigger1		= (!Time)
anim			= 9191
id			= 9191
pos			= 0,0
postype		= Back
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= -14,0
accel			= 0,0
random		= 0,0
removetime		= 50
supermove		= 1
supermovetime	= 50
pausemovetime	= 0
scale			= 1,1.1
sprpriority		= -3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 9190:	Explod]
type			= Explod
trigger1		= (!Time)
anim			= 9191
id			= 9191
pos			= -20,53
postype		= Back
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= -14,0
accel			= 0,0
random		= 0,0
removetime		= 50
supermove		= 1
supermovetime	= 50
pausemovetime	= 0
scale			= 1,1.1
sprpriority		= -3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 9190:	Explod]
type			= Explod
trigger1		= (!Time)
anim			= 9191
id			= 9191
pos			= -10,106
postype		= Back
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= -14,0
accel			= 0,0
random		= 0,0
removetime		= 50
supermove		= 1
supermovetime	= 50
pausemovetime	= 0
scale			= 1,1.1
sprpriority		= -3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 9190:	Explod]
type			= Explod
trigger1		= (!Time)
anim			= 9191
id			= 9191
pos			= -10,158
postype		= Back
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= -14,0
accel			= 0,0
random		= 0,0
removetime		= 50
supermove		= 1
supermovetime	= 50
pausemovetime	= 0
scale			= 1,1.1
sprpriority		= -3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 9190:	Explod]
type			= Explod
trigger1		= (!Time)
anim			= 9191
id			= 9191
pos			= 0,210
postype		= Back
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= -14,0
accel			= 0,0
random		= 0,0
removetime		= 50
supermove		= 1
supermovetime	= 50
pausemovetime	= 0
scale			= 1,1.1
sprpriority		= -3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1

[State 9190:	DestroySelf]
type			= DestroySelf
trigger1		= (!AnimTime)

;---------------------------------------------------------------------------
;SuperPause: BG
;[Statedef 9191]

;---------------------------------------------------------------------------
;Projectile Charge
;[Statedef 9200]

;---------------------------------------------------------------------------
;Ripple
;[Statedef 9210]

;---------------------------------------------------------------------------
;Big Explosion
;[Statedef 9220]

;---------------------------------------------------------------------------
;KameHameHa Force
[Statedef 9270]
type 			= S
movetype		= I
physics		= N
anim			= 9270
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 11000:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow
flag2			= Invisible

[State 9270:	BindToParent]
type			= BindToParent
trigger1		= 1
time			= 1
pos			= -20,-52

[State 9270:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(0)		= 35

[State 9270:	VarSet]
type			= VarSet
trigger1		= (Var(0) = 35)
var(1)		= 0

[State 9270:	VarSet]
type			= VarSet
trigger1		= (Var(0) = 150)
var(1)		= 1

[State 9270:	VarAdd]
type			= VarAdd
trigger1		= 1
var(0)		= IfElse(Var(1) = 0,5,-5)

[State 9270:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(2)		= (Parent, StateNo)

[State 9270:	AfterImage]
type 			= AfterImage
trigger1 		= 1
time 			= 5
framegap 		= 1
length 		= 2
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= var(0), var(0), var(0)
trans 		= add

[State 9270:	DestroySelf]
type			= DestroySelf
trigger1		= (Parent, StateNo != Var(2)) || (!AnimTime)

;===========================================================================
;-| Common |----------------------------------------------------------------
;---------------------------------------------------------------------------
;Stand
[Statedef 0]
type 			= S
movetype		= I
physics		= S
;anim			= 0
;velset		= 0,0
ctrl			= 1
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 0:		ChangeAnim]
type 			= ChangeAnim
trigger1 		= ((Anim != 0) && (Anim != 5)) || ((Anim = 5) && (!AnimTime))
value			= 0

[State 0: 		VelSet]
type 			= VelSet
trigger1 		= (!Time)
y 			= 0

[State 0: 		VelSet] 
type 			= VelSet
trigger1 		= (Abs(Vel X) < 2) || (Time = 4)
x 			= 0

;---------------------------------------------------------------------------
;Stand to Crouch
[Statedef 10]
type 			= C
movetype		= I
physics		= C
anim			= 10
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 10: 		VelMul]
type 			= VelMul
trigger1 		= (!Time)
x 			= .75

[State 10: 		ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 11

[State 10:		ChangeState]
type			= ChangeState
trigger1		= (Pos Y < 0)
value			= 50

;---------------------------------------------------------------------------
;Crouching
[Statedef 11]
type 			= C
movetype		= I
physics		= C
anim			= 11
;velset		= 0,0
ctrl			= 1
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 11: 		ChangeAnim] 
type 			= ChangeAnim
trigger1 		= (Anim = 6) && (!AnimTime)
value 		= 11

[State 11:		ChangeState]
type			= ChangeState
trigger1		= (Pos Y < 0)
value			= 50

[State 11:		ChangeState]
type			= ChangeState
trigger1		= (RoundState != 2)
value			= 0

;---------------------------------------------------------------------------
;Crouch to Stand
[Statedef 12]
type 			= S
movetype		= I
physics		= S
anim			= 12
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 12: 		ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 0

[State 12:		ChangeState]
type			= ChangeState
trigger1		= (Pos Y < 0)
value			= 50

;---------------------------------------------------------------------------
;Walk
[Statedef 20]
type 			= S
movetype		= I
physics		= S
;anim			= -1
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 20: 		VelSet]
type 			= VelSet
trigger1 		= (Command = "holdfwd")
x 			= Const(Velocity.Walk.Fwd.X)

[State 20: 		VelSet]
type 			= VelSet
trigger1 		= (Command = "holdback")
x 			= Const(Velocity.Walk.Back.X)

[State 20: 		ChangeAnim]
type 			= ChangeAnim
triggerall 		= (Vel X > 0)
trigger1 		= ((Anim != 20) && (Anim != 5)) || ((Anim = 5) && (!AnimTime))
value 		= 20

[State 20: 		ChangeAnim]
type 			= ChangeAnim
triggerall 		= (Vel X < 0)
trigger1 		= ((Anim != 21) && (Anim != 5)) || ((Anim = 5) && (!AnimTime))
value 		= 21

[State 20:		ChangeState]
type			= ChangeState
trigger1		= (Pos Y < 0)
value			= 50

;---------------------------------------------------------------------------
;Jump Start
[Statedef 40]
type 			= S
movetype		= I
physics		= S
anim			= 40
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= (EnemyNear, Facing = Facing)
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[State 40: 		VarSet]
type 			= VarSet
trigger1 		= (!Time)
sysvar(1) 		= 0

[State 40: 		VarSet]
type 			= VarSet
trigger1 		= (Command = "holdfwd")
sysvar(1) 		= 1

[State 40: 		VarSet]
type 			= VarSet
trigger1 		= (Command = "holdback") && (Var(20) != 1)
sysvar(1) 		= -1

[State 40: 		VarSet]
type 			= VarSet
trigger1 		= (!Time)
var(0) 		= 0

[State 40: 		VarSet]
type 			= VarSet
triggerall		= (Var(0) = 0)
trigger1		= ((PrevStateNo = [100,101]) && (Command = "holdfwd")) || ((PrevStateNo = [105,106]) && (Command = "holdback")) || (Command = "Long Jump")
var(0) 		= 1

[State 40: 		MakeDust]
type 			= MakeDust
trigger1 		= (!AnimTime)
pos 			= -5, 0
spacing 		= 4

[State 40:		PlaySnd]
type			= PlaySnd
trigger1		= (!AnimTime)
value			= S1,6

[State 40:		VelSet]
type			= VelSet
trigger1		= (Pos Y < 0)
x			= 0
y			= 0

[State 40: 		VelSet]
type 			= VelSet
trigger1 		= (!AnimTime)
x 			= IfElse(SysVar(1) = 0,Const(Velocity.Jump.Neu.X),IfElse(SysVar(1) = 1,Const(Velocity.Jump.Fwd.X),Const(Velocity.Jump.Back.X)))
y 			= Const(Velocity.Jump.Y)

[State 40: 		ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime) && (Command != "holdup")
value 		= 7000
ctrl 			= 1

[State 40: 		ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 50
ctrl 			= 1

;---------------------------------------------------------------------------
;AirJump Start
[Statedef 45]
type 			= A
movetype		= I
physics		= N
;anim			= -1
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 45: 		ChangeAnim]
type 			= ChangeAnim
trigger1 		= (SelfAnimExist(44))
value 		= 44

[State 45: 		ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!SelfAnimExist(44))
value 		= 41

[State 45: 		VarSet]
type 			= VarSet
trigger1 		= (!Time)
sysvar(1) 		= 0

[State 45: 		VarSet]
type 			= VarSet
trigger1 		= (Command = "holdfwd")
sysvar(1) 		= 1

[State 45: 		VarSet]
type 			= VarSet
trigger1 		= (Command = "holdback")
sysvar(1) 		= -1

[State 45: 		VelSet]
type 			= VelSet
trigger1 		= (Time = 2)
x 			= IfElse(SysVar(1) = 0, Const(Velocity.AirJump.Neu.X), IfElse(SysVar(1) = 1, Const(Velocity.AirJump.Fwd.X), Const(Velocity.AirJump.Back.X)))
y 			= Const(Velocity.AirJump.Y)

[State 45: 		ChangeState]
type 			= ChangeState
trigger1 		= (Time = 2)
value 		= 50
ctrl 			= 1

;---------------------------------------------------------------------------
;Jump Up
[Statedef 50]
type 			= A
movetype		= I
physics		= A
;anim			= 50
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 50: 		ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time)
value 		= IfElse((Vel X) = 0,41,IfElse((Vel X) > 0,42,43))

[State 50: 		ChangeAnim]
type 			= ChangeAnim
trigger1 		= (Vel Y > -2) && (SelfAnimExist(Anim + 3))
value 		= (Anim + 3)
persistent 		= 0

[State 50: 		VarSet]
type 			= VarSet
trigger1 		= (!Time)
sysvar(1) 		= 0

[State 50: 		VelSet]
type 			= VelSet
trigger1 		= (!Time) && (Var(0) = 1)
x 			= IfElse((Vel X) = 0,0,IfElse((Vel X) < 0,-5,5.2))

[State 50: 		VelAdd]
type 			= VelAdd
trigger1 		= (!Time) && (Var(0) = 1)
y			= -0.25

[State 50: 		AfterImage]
type 			= AfterImage
trigger1 		= (!Time) && (Var(0) = 1) && (Vel X != 0)
time 			= 15
timegap		= 4
framegap 		= 1
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 110,110,110
trans 		= add
persistent		= 0

;---------------------------------------------------------------------------
;Jump Land
[Statedef 52]
type 			= S
movetype		= I
physics		= S
anim			= 47
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 52:		CtrlSet]
type			= CtrlSet
trigger1		= (Time = 2)
value			= 1

[State 52: 		VelSet]
type 			= VelSet
trigger1 		= (!Time)
x			= 0
y 			= 0

[State 52: 		PosSet]
type 			= PosSet
trigger1 		= (!Time)
y 			= 0

[State 52:		PlaySnd]
type			= PlaySnd
trigger1		= (!Time)
value			= S1,6

[State 52: 		ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 0

;---------------------------------------------------------------------------
;Run_Fwd
[Statedef 100]
type 		= S
movetype	= I
physics		= N
anim		= 100
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 1

[State 100:		AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoWalk
flag2			= NoAutoTurn

[State 100:		AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoStandGuard
flag2			= NoCrouchGuard

[State 100:		ScreenBound]
type			= ScreenBound
trigger1		= (BackEdgeBodyDist <= -5)
value			= 0
movecamera		= 0,0

[State 100:		CtrlSet]
type			= CtrlSet
trigger1		= 1
value			= (IfElse(BackEdgeBodyDist > -5,1,0))

[State 100:		VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 0
y			= 0

[State 100: 	VelSet]
type 			= VelSet
trigger1 		= (Time > 6)
x 			= Const(Velocity.Run.Fwd.X)
y			= 0

[State 100:		PlaySnd]
type			= PlaySnd
trigger1		= (AnimElem = 2)
value			= S1,10

[State 100: 	MakeDust]
type 			= MakeDust
trigger1 		= 1
pos 			= -5, 0
spacing 		= 4

[State 1300,0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 3001, Explod - arena]
type = Explod
trigger1 =  (AnimElem = 2)
anim =  7100
ID =    7100
pos =  5,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.7,0.7
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 100:		ChangeState]
type			= ChangeState
trigger1		= (Command != "holdfwd") && (BackEdgeBodyDist > -1)
value			= 101

[State fly, Changestate]
type = ChangeState
trigger1 = Pos Y < 0
value =  990

;---------------------------------------------------------------------------
;Run_Fwd - Stop
[Statedef 101]
type 		= S
movetype	= I
physics		= N
anim		= 101
velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 1


[State 101, VelMul]
type = VelMul
trigger1 = 1
x = .3
;y =
;ignorehitpause = 0
;persistent = 1


[State 101: 	MakeDust]
type 			= MakeDust
trigger1 		= 1
pos 			= -5, 0
spacing 		= 4
[State 0, VelAdd]
type = VelAdd
trigger1 = time = 0
x = 0.5
y = 0

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, 4]
type = ChangeState
;trigger1 = vel X = 0
trigger1 = animtime = 0
value = 0

[State fly, Changestate]
type = ChangeState
trigger1 = Pos Y < 0
value = 991

;---------------------------------------------------------------------------
;Run_Back
[Statedef 105]
type 		= S
movetype	= I
physics		= N
anim		= 105
velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 1

[State 100:	AssertSpecial]
type		= AssertSpecial
trigger1	= 1
flag		= NoWalk
flag2		= NoAutoTurn

[State 100:	AssertSpecial]
type		= AssertSpecial
trigger1	= 1
flag		= NoStandGuard
flag2		= NoCrouchGuard

[State 100:	ScreenBound]
type		= ScreenBound
trigger1	= (BackEdgeBodyDist <= -5)
value		= 0
movecamera	= 0,0

[State 100:	CtrlSet]
type		= CtrlSet
trigger1	= 1
value		= (IfElse(BackEdgeBodyDist > -5,1,0))

[State 100:	VelSet]
type		= VelSet
trigger1	= (!Time)
x		= 0
y		= 0

[State 105: 	VelSet]
type 		= VelSet
trigger1 	= (Time > 6)
x 		= Const(Velocity.Run.Back.X)
y		= 0

[State 105: 	MakeDust]
type 		= MakeDust
trigger1 	= 1
pos 		= -5, 0
spacing 	= 4

[State 1300,0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 3001, Explod - arena]
type = Explod
trigger1 =  (AnimElem = 2)
anim =  7101
ID =    7101
pos =  5,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.5,0.5
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = (Animelem = 2)
value = S1,10

[State 100:		ChangeState]
type			= ChangeState
trigger1		= (Command != "holdback") && (AnimElem = 2, > 5) && (BackEdgeBodyDist > -1)
value			= 106


;---------------------------------------------------------------------------
;Run_Back - Stop
[Statedef 106]
type 		= S
movetype	= I
physics		= N
anim		= 106
velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 106: 	VelSet]
type 			= VelSet
trigger1 		= 1
x 			= -1
y			= 0

[State 106: 	MakeDust]
type 			= MakeDust
trigger1 		= Time = 2
pos 			= -5,-2
spacing 		= 4

[State 106: 	ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 0
ctrl 			= 1

;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; Run Fwd en el aire
[Statedef 107]
type=S
physics=N
CTRL=0

[State 11,1]
type=ChangeAnim
trigger1=Anim !=100 && !time
value=100

[State 100,1]
type = VelSet
trigger1 = (Time > 6)
x = Const(Velocity.Run.Fwd.X)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = (Animelem = 2)
value = S1,10


[State 1300,0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1


[State 106,3]
type = MakeDust
trigger1 = pos y >= -30
pos = -25,floor(-pos y)
spacing = 2


[State 100,2] ;Prevent run from canceling into walk
type=AssertSpecial
trigger1=1
flag=NoWalk

[State 100,3] ;Prevent from turning
type=AssertSpecial
trigger1=1
flag=NoAutoTurn

[State 100,1]
type=null;VelSet
trigger1=time>=12
trigger1=pos y>=0
x=0

[State 100,4]
type = ChangeState
trigger1 = time <=12
trigger1 = command = "a"
value = 620

[State 100,4]
type = ChangeState
trigger1 = time <= 12
trigger1 = command = "b"
value = 630

[State 100,4]
type = ChangeState
trigger1 = time <= 12
trigger1 = command = "c"
value = 920

[State 100,4]
type = ChangeState
trigger1 = time <=12
trigger1 = command="x"
value = 600

[State 100,4]
type = ChangeState
trigger1 = time <=12
trigger1 = command = "y"
value = 610

[State 900,GoDown2]
type = VelSet
Trigger1 = pos Y > -1
y = 0

[State 100,4]
type = ChangeState
trigger1 = time > 20
value = ifelse(pos y >=0,101,50)
ctrl = ifelse(pos y >=0,1,0)
;---------------------------------------------------------------------------
; Run Back en el aire
[Statedef 108]
type=S
physics=N
CTRL=0

[State 11,1]
type=ChangeAnim
trigger1=Anim !=105 && !time
value=105

[State 100,1]
type=VelSet
trigger1 = (time > 6)
x = Const(Velocity.Run.Back.X)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = (Animelem = 2)
value = S1,10

[State 1300,0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 106,3]
type = MakeDust
trigger1 =  pos y >= -30
pos = 25,floor(-pos y)
spacing = 2

[State 100,2] ;Prevent run from canceling into walk
type=AssertSpecial
trigger1=1
flag=NoWalk

[State 100,3] ;Prevent from turning
type=AssertSpecial
trigger1=1
flag=NoAutoTurn

[State 100,1]
type=null;VelSet
trigger1=time>=12
trigger1=pos y>=0
x=0

[State 100,4]
type=ChangeState
trigger1 = time<=12
trigger1 = command = "a"
value = 620

[State 100,4]
type = ChangeState
trigger1 = time <= 12
trigger1 = command = "b"
value = 630

[State 100,4]
type = ChangeState
trigger1 = time <= 12
trigger1 = command = "c"
value = 920

[State 100,4]
type = ChangeState
trigger1 = time<=12
trigger1 = command="x"
value = 600

[State 100,4]
type = ChangeState
trigger1 = time<=12
trigger1 = command="y"
value = 610

[State 900,GoDown2]
type = VelSet
Trigger1 = pos Y > -1
y = 0

[State 100,4]
type = ChangeState
trigger1 = time > 20
value = ifelse(pos y >=0,106,50)
ctrl = ifelse(pos y >=0,1,0)

;---------------------------------------------------------------------------
;Run_Up
[Statedef 110]
type 			= S
movetype		= I
physics		= N
;anim			= -1
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 110: 	CtrlSet]
type 			= CtrlSet
trigger1 		= !Time
value 		= 0

[State 110: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= !Time
value 		= 110

[State 110: 	HitBy]
type 			= HitBy
trigger1 		= !Time
value 		= SCA, NT, ST, HT
time 			= 30

[State 110: 	VelSet]
type 			= VelSet
trigger1 		= !Time
x 			= 0
z 			= -7

[State 110: 	VelMul]
type 			= VelMul
trigger1 		= 1
z 			= 0.8

[State 110: 	VelSet]
type 			= VelSet
trigger1 		= AnimTime = -8
z 			= 0

[State 110: 	CtrlSet]
type 			= CtrlSet
trigger1 		= (!AnimTime)
value 		= 1

[State 110: 	ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 0

;---------------------------------------------------------------------------
;Run_Down
[Statedef 115]
type 			= S
movetype		= I
physics		= N
;anim			= -1
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 115: 	CtrlSet]
type 			= CtrlSet
trigger1 		= !Time
value 		= 0

[State 115: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= !Time
value 		= 110

[State 115: 	HitBy]
type 			= HitBy
trigger1 		= !Time
value 		= SCA, AT
time 			= 30

[State 115: 	VelSet]
type 			= VelSet
trigger1 		= !Time
x 			= 0
z 			= 7

[State 115: 	VelMul]
type 			= VelMul
trigger1 		= 1
z 			= 0.8

[State 115: 	VelSet]
type 			= VelSet
trigger1 		= AnimTime = -8
z 			= 0

[State 115: 	CtrlSet]
type 			= CtrlSet
trigger1 		= (!AnimTime)
value 		= 1

[State 115: 	ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 0

;---------------------------------------------------------------------------
;Guard Start
[Statedef 120]
type 			= U 
physics 		= U

[State 120: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= !Time
value 		= 120 + (StateType = C) + (StateType = A)*2

[State 120: 	StateTypeSet]
type 			= StateTypeSet
trigger1 		= (!Time) && (StateType = S)
physics 		= S

[State 120: 	StateTypeSet]
type 			= StateTypeSet
trigger1 		= (!Time) && (StateType = C)
physics 		= C

[State 120: 	StateTypeSet]
type 			= StateTypeSet
trigger1 		= (!Time) && (StateType = A)
physics 		= A

[State 120: 	ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 130 + (StateType = C) + (StateType = A)*2

;---------------------------------------------------------------------------
;Stand Guard (Guarding)
[Statedef 130]
type 			= S
physics		= S

[State 130:		PosSet]
type			= PosSet
trigger1		= (!Time)
y			= 0

[State 130: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (Anim != 130)
value 		= 130

[State 130:		VelSet]
type			= VelSet
trigger1		= (!Time)
y			= 0

;---------------------------------------------------------------------------
;Crouch Guard (Guarding)
[Statedef 131]
type 			= C
physics		= C

[State 131:		PosSet]
type			= PosSet
trigger1		= (!Time)
y			= 0

[State 131: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (Anim != 131)
value 		= 131

[State 131:		VelSet]
type			= VelSet
trigger1		= (!Time)
y			= 0

;---------------------------------------------------------------------------
;Air Guard (Guarding)
[Statedef 132]
type 			= A
physics		= N

[State 132: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (Anim != 132)
value 		= 132

[State 132: 	VelAdd]
type 			= VelAdd
trigger1 		= 1
y 			= Const(Movement.YAccel)

[State 132: 	VarSet]
type 			= VarSet
trigger1 		= 1
sysvar(0) 		= (Pos Y >= 0) && (Vel Y > 0)

[State 132: 	VelSet]
type 			= VelSet
trigger1 		= SysVar(0)
y 			= 0

[State 132: 	PosSet]
type 			= PosSet
trigger1 		= SysVar(0)
y 			= 0

[State 132: 	ChangeState]
type 			= ChangeState
trigger1 		= (SysVar(0)) && (Command != "holdback")
value 		= 52

[State 132: 	ChangeState]
type 			= ChangeState
trigger1 		= SysVar(0)
value 		= 130

;---------------------------------------------------------------------------
;Guard End
[Statedef 140]
type 			= U
physics 		= U
ctrl 			= 1

[State 140: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time)
value 		= 140 + (StateType = C) + (StateType = A)*2

[State 140: 	StateTypeSet]
type 			= StateTypeSet
trigger1 		= (!Time) && (StateType = S)
physics 		= S

[State 140: 	StateTypeSet]
type 			= StateTypeSet
trigger1 		= (!Time) && (StateType = C)
physics 		= C

[State 140: 	StateTypeSet]
type 			= StateTypeSet
trigger1 		= (!Time) && (StateType = A)
physics 		= A

;---------------------------------------------------------------------------
;Stand GuardHit (Shaking)
[Statedef 150]
type 			= S
movetype		= H
physics		= N
;anim			= -1
velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 150: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= 1
value 		= 150

[State 150: 	ChangeState]
type 			= ChangeState
trigger1 		= HitShakeOver
value 		= 151

[State 150: 	ForceFeedBack]
type 			= ForceFeedback
trigger1 		= (!Time)
waveform 		= Square
time 			= 3

;---------------------------------------------------------------------------
;Stand GuardHit (Knocked Back)
[Statedef 151]
type 			= S
movetype		= H
physics		= S
anim			= 150
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 151: 	HitVelSet]
type 			= HitVelSet
trigger1 		= (!Time)
x 			= 1

[State 151: 	VelSet]
type 			= VelSet
trigger1 		= (Time = GetHitVar(SlideTime)) || (Time >= GetHitVar(HitTime))
x 			= 0

[State 151: 	CtrlSet]
type 			= CtrlSet
trigger1 		= (Time = GetHitVar(ctrltime))
value 		= 1

[State 151: 	ChangeState]
type 			= ChangeState
trigger1 		= Time >= GetHitVar(hittime)
value 		= 130
ctrl 			= 1

;---------------------------------------------------------------------------
;Crouch GuardHit (Shaking)
[Statedef 152]
type 			= C
movetype		= H
physics		= N
;anim			= -1
velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 152: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= 1
value 		= 151

[State 152: 	ChangeState]
type 			= ChangeState
trigger1 		= HitShakeOver
value 		= 153

[State 152: 	ForceFeedBack]
type 			= ForceFeedback
trigger1 		= (!Time)
waveform 		= Square
time 			= 4

;---------------------------------------------------------------------------
;Crouch GuardHit2 (Knocked Back)
[Statedef 153]
type 			= C
movetype		= H
physics		= C
anim			= 151
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 153: 	HitVelSet]
type 			= HitVelSet
trigger1 		= !Time
x 			= 1

[State 153: 	VelSet]
type 			= VelSet
trigger1 		= (Time = GetHitVar(SlideTime)) || (Time >= GetHitVar(HitTime))
x 			= 0

[State 153: 	CtrlSet]
type 			= CtrlSet
trigger1 		= (Time = GetHitVar(CtrlTime))
value 		= 1

[State 153: 	ChangeState]
type 			= ChangeState
trigger1 		= (Time >= GetHitVar(HitTime))
value 		= 131
ctrl 			= 1

;---------------------------------------------------------------------------
;Air GuardHit (Shaking)
[Statedef 154]
type 			= A
movetype		= H
physics		= N
;anim			= -1
velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 154: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= 1
value 		= 152

[State 154: 	ChangeState]
type 			= ChangeState
trigger1 		= HitShakeOver
value 		= 155 

[State 154: 	ForceFeedBack]
type 			= ForceFeedback
trigger1 		= (!Time)
waveform 		= Square
time 			= 4

;---------------------------------------------------------------------------
;Air GuardHit2 (Knocked Away)
[Statedef 155]
type 			= A
movetype		= H
physics		= N
anim			= 152
;velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 155: 	HitVelSet]
type 			= HitVelSet
trigger1 		= (!Time)
x 			= 1
y 			= 1

[State 155: 	VelAdd]
type 			= VelAdd
trigger1 		= 1
y 			= Const(Movement.YAccel)

[State 155: 	CtrlSet]
type 			= CtrlSet
trigger1 		= (Time = GetHitVar(CtrlTime))
value 		= 1

[State 155: 	VarSet]
type 			= VarSet
trigger1 		= 1
sysvar(0) 		= (Pos Y >= 0) && (Vel Y > 0)

[State 155: 	VelSet]
type 			= VelSet
trigger1 		= SysVar(0)
y 			= 0

[State 155: 	PosSet]
type 			= PosSet
trigger1 		= SysVar(0)
y 			= 0

[State 155: 	ChangeState]
type 			= ChangeState
trigger1 		= SysVar(0)
trigger1 		= Command != "holdback"
value 		= 52

[State 155: 	ChangeState]
type 			= ChangeState
trigger1 		= SysVar(0)
value 		= 130

;---------------------------------------------------------------------------
;Air Guard (Guarding)
;Used, to prevent an error message flow I could not fix any other way... =|
[Statedef 51]
type 			= A
physics		= N

[State 51: 		ChangeAnim]
type 			= ChangeAnim
trigger1 		= (Anim != 132)
value 		= 132

[State 51: 		VelAdd]
type 			= VelAdd
trigger1 		= 1
y 			= 0.45

[State 51: 		VarSet]
type 			= VarSet
trigger1 		= 1
sysvar(0) 		= (Pos Y >= 0) && (Vel Y > 0)

[State 51: 		VelSet]
type 			= VelSet
trigger1 		= SysVar(0)
y 			= 0

[State 51: 		PosSet]
type 			= PosSet
trigger1 		= SysVar(0)
y 			= 0

[State 51: 		ChangeState]
type 			= ChangeState
trigger1 		= (SysVar(0)) && (Command != "holdback")
value 		= 52

[State 51: 		ChangeState]
type 			= ChangeState
trigger1 		= SysVar(0)
value 		= 130

;---------------------------------------------------------------------------
;Lose (Time Over)
[Statedef 170]
type 			= S
movetype		= I
physics		= N
anim			= 170
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 170: 	NotHitBy]
type 			= NotHitBy
trigger1 		= 1
value 		= SCA
time 			= 1

;---------------------------------------------------------------------------
;Draw Game (Time Over)
[Statedef 175]
type 			= S
movetype		= I
physics		= N
;anim			= -1
velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 175: 	ChangeState] 
type 			= ChangeState
trigger1 		= (!Time) && (!SelfAnimExist(175))
value 		= 170

[State 175: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time)
value 		= 175

[State 175: 	NotHitBy]
type 			= NotHitBy
trigger1 		= 1
value 		= SCA
time 			= 1

;---------------------------------------------------------------------------
;HitGround_Shake
[Statedef 5000]
type 			= S
movetype		= H
physics		= N
;anim			= 5000
velset		= 0,0
;ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 5000: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (GetHitVar(AnimType) != [3,5])
value 		= IfElse((GetHitVar(GroundType) = 1),5000,5010) + GetHitVar(AnimType)

[State 5000: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (GetHitVar(AnimType) = [3,5])
value 		= 5030

[State 5000: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (GetHitVar(AnimType) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(AnimType))) && (GetHitVar(HitCount) >= 2)
value 		= 5047 + GetHitVar(AnimType)

[State 5000: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (Time > 0)
value 		= Anim

[State 5000: 	StateTypeSet]
type 			= StateTypeSet
trigger1 		= (!Time) && (GetHitVar(YVel) != 0) && (GetHitVar(Fall)) || (Pos Y != 0)
type 			= A

[State 5000: 	ChangeState]
type 			= ChangeState
trigger1 		= (HitShakeOver) && (GetHitVar(YVel) = 0)
value 		= 5001

[State 5000: 	ChangeState]
type 			= ChangeState
trigger1 		= HitShakeOver
value 		= 5030

[State 5000: 	ForceFeedBack]
type 			= ForceFeedBack
trigger1 		= (Anim = 5000) || (Anim = 5010)
persistent 		= 0
time 			= 6
waveform 		= Square

[State 5000: 	ForceFeedBack]
type 			= ForceFeedBack
trigger1 		= (Anim = 5001) || (Anim = 5011)
persistent 		= 0
time 			= 8
waveform 		= SineSquare
ampl 			= 110,-1,-.3

[State 5000: 	ForceFeedBack]
type 			= ForceFeedBack
trigger1 		= (Anim = 5012) || (Anim = 5002) || (Anim = 5030)
persistent 		= 0
time 			= 15
waveform 		= SineSquare
ampl 			= 140

[State 5000:	VarSet]
type			= VarSet
trigger1		= (!Time)
v			= 23
value			= IfElse(GetHitVar(Fall.Recover) = 1,1,0)

;---------------------------------------------------------------------------
; HITG_SLIDE
[Statedef 5001]
type    		= S
movetype		= H
physics 		= S

[State 5001:	StateTypeSet]
type			= StateTypeSet
trigger1		= (Pos Y < 0)
physics		= N

[State 5001: 	HitVelSet]
type 			= HitVelSet
trigger1 		= (!Time) && (Pos Y >= 0)
x 			= 1

[State 5001: 	HitVelSet]
type 			= HitVelSet
trigger1 		= (!Time) && (Pos Y < 0)
x 			= 1
y			= 1

[State 5001: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!AnimTime)
value 		= 5005 + GetHitVar(animtype) + (GetHitVar(groundtype)=2)*10

[State 5001: 	VelMul]
type 			= VelMul
trigger1 		= (Time >= GetHitVar(slidetime)) && (Pos Y >= 0)
x 			= .6

[State 5001: 	VelSet]
type 			= VelSet
trigger1 		= (HitOver) && (Pos Y >= 0)
x 			= 0

[State 5001: 	VelSet]
type 			= VelSet
trigger1 		= (HitOver) && (Pos Y < 0)
x 			= 0
y			= 0

[State 5001: 	DefenceMulSet]
type 			= DefenceMulSet
trigger1 		= HitOver
value 		= 1

[State 5001: 	ChangeState]
type 			= ChangeState
trigger1 		= HitOver
value 		= 0
ctrl 			= 1

;---------------------------------------------------------------------------
; HITC_SHAKE
[Statedef 5010]
type    		= C
movetype		= H
physics 		= N
velset 		= 0,0

[State 5010: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (GetHitVar(AnimType) != [3,5])
value 		= 5020 + GetHitVar(AnimType)

[State 5010: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (GetHitVar(AnimType) = [3,5])
value 		= 5030

[State 5010: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && ((GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype))))
value 		= 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5010: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= Time > 0
value 		= Anim

[State 5010: 	ChangeState]
type 			= ChangeState
trigger1 		= (HitShakeOver) && (GetHitVar(yvel) = 0)
value 		= 5011

[State 5010: 	ChangeState]
type 			= ChangeState
trigger1 		= HitShakeOver
value 		= 5030

[State 5010: 	ForceFeedBack]
type 			= ForceFeedback
trigger1 		= Anim = 5020
persistent 		= 0
time 			= 6
waveform 		= Square

[State 5010: 	FFB Medium]
type 			= ForceFeedback
trigger1 		= Anim = 5021
persistent 		= 0
time 			= 8
waveform 		= SineSquare
ampl 			= 110,-1,-.3

[State 5010: 	FFB Hard]
type 			= ForceFeedback
trigger1 		= Anim = 5022
persistent 		= 0
time 			= 15
waveform 		= SineSquare
ampl 			= 140

;---------------------------------------------------------------------------
; HITC_SLIDE
[Statedef 5011]
type    		= C
movetype		= H
physics 		= C

[State 5011: 	HitVelSet]
type 			= HitVelSet
trigger1 		= !Time
x 			= 1

[State 5011: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!AnimTime)
value 		= 5025 + GetHitVar(AnimType)

[State 5011: 	VelMul]
type 			= VelMul
trigger1 		= (Time >= GetHitVar(SlideTime))
x 			= .6

[State 5011: 	VelSet]
type 			= VelSet
trigger1 		= (HitOver)
x 			= 0

[State 5011: 	DefenceMulSet]
type 			= DefenceMulSet
trigger1 		= (HitOver)
value 		= 1

[State 5011: 	ChangeState]
type 			= ChangeState
trigger1 		= (HitOver)
value 		= 11
ctrl 			= 1

;---------------------------------------------------------------------------
; HITA_SHAKE
[Statedef 5020]
type			= A
movetype		= H
physics		= N
velset		= 0,0

[State 5020:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && (GetHitVar(AnimType) != [3,5])
value			= IfElse((GetHitVar(AirType) = 1),5000,5010) + GetHitVar(AnimType)

[State 5020, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = !Time
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5020, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = !Time
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5020, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5020, 5]
type = ChangeState
trigger1 = HitShakeOver
value = 5030

[State 5020, FFB Light]
type = ForceFeedback
trigger1 = Anim = 5000 || (Anim = 5010)
persistent = 0
time = 6
waveform = square

[State 5020, FFB Medium]
type = ForceFeedback
trigger1 = Anim = 5001 || (Anim = 5011)
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5020, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012 || (Anim = 5002) || (Anim = 5030) || (Anim = [5051,5059])
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------
; HITA_UP (initial going up)
[Statedef 5030]
type    	= A
movetype	= H
physics 	= N
ctrl 		= 0

[State 5030, 1]
type = VelAdd;Gravity
trigger1 = 1
y = GetHitVar(yaccel)

[State 5030, 2]
type = HitVelSet
trigger1 = !Time
x = 1
y = 1

[State 5030, 3]
type = ChangeState
triggerall = !HitFall
trigger1 = (HitOver) || ((Vel Y > 0) && (Pos Y >= 10))
value = 5040

[State 5030, 4]
type = ChangeState
triggerall = HitFall
trigger1 = (HitOver) || ((Vel Y > 0) && (Pos Y >= 10))
value = 5050

[State 5030, 5]
type = ChangeState
trigger1 = (!AnimTime)
value = 5035

;---------------------------------------------------------------------------
; HITA_UP_T (transition)
[Statedef 5035]
type    = A
movetype= H
physics = N

[State 5035, 1]
type = ChangeAnim
trigger1 = !Time && SelfAnimExist(5035) && (Anim != [5051,5059]) && Anim != 5090
value = 5035

[State 5035, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5035, 3]
type = ChangeState
triggerall = (!HitFall) || (HitFall)
trigger1 = (HitOver) || (!AnimTime) || ((Vel Y > 0) && (Pos Y >= 10)) || ((!Time) && (Anim != 5035))
value = IfElse(!HitFall,5040,5050)

;---------------------------------------------------------------------------
; HITA_RECOV (recovering in air, not falling)
[Statedef 5040]
type    = A
movetype= H
physics = N

[State 5040, 1]
type = ChangeState
trigger1 = !Alive
value = 5050

[State 5040, 2]
type = ChangeAnim
trigger1 = (!AnimTime)
trigger1 = Anim != 5040
trigger2 = !Time
trigger2 = Anim != 5035
value = 5040

[State 5040, 3]
type = CtrlSet
trigger1 = HitOver
value = 1

[State 5040, 4]
type = StateTypeSet
trigger1 = HitOver
movetype = I

[State 5040, 5]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5040, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52 ;JUMPLAND

;---------------------------------------------------------------------------
; HITA_FALL (knocked up, falling)
[Statedef 5050]
type    		= A
movetype		= H
physics		= N

[State 5050:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!AnimTime) && (Anim = 5035)
trigger2		= (!Time) && (Anim != 5035) && (Anim != [5051, 5059]) && (Anim != [5061, 5069]) && (Anim != 5090)
value			= 5050

[State 5050:	ChangeAnim]
type			= ChangeAnim
trigger1		= (Anim = [5050,5059]) && (Vel Y >= IfElse(Anim = 5050,1,-2)) && (SelfAnimExist(Anim+10))
value			= (Anim+10)
persistent		= 0

[State 5050:	VelAdd]
type			= VelAdd
trigger1		= 1
y 			= GetHitVar(yaccel)

[State 5050:	ChangeState]
type			= ChangeState
trigger1		= (Vel Y > 0) && (Pos Y >= IfElse((Anim = [5051,5059]) || (Anim = [5061,5069]), 0, 25))
value			= 5100

;---------------------------------------------------------------------------
; HIT_TRIP (shaking)
[Statedef 5070]
type			= A
movetype		= H
physics		= N
velset		= 0,0

[State 5070: 	ChangeAnim]
type 			= ChangeAnim 
trigger1 		= (PrevStateNo != 100) || (Vel X < 5)
value 		= 5070

[State 5070: 	ChangeAnim]
type 			= ChangeAnim 
triggerall		= (SelfAnimExist(5071))
trigger1 		= (PrevStateNo = 100) || (Vel X > 5)
value 		= 5071

[State 5070: 	ChangeAnim]
type 			= ChangeAnim 
triggerall		= (!SelfAnimExist(5071))
trigger1 		= (PrevStateNo = 100) || (Vel X > 5)
value 		= 5070

[State 5070:	ChangeState]
type 			= ChangeState
trigger1 		= (HitShakeOver)
value 		= 5071

[State 5070:	ForceFeedBack]
type			= ForceFeedback
trigger1		= (!Time)
time			= 12
waveform		= sinesquare
ampl			= 140

;---------------------------------------------------------------------------
; HIT_TRIP2 (fall through air)
[Statedef 5071]
type    		= A
movetype		= H
physics 		= N

[State 5071: 	HitVelSet]
type 			= HitVelSet
trigger1 		= (!Time)
x 			= 1
y 			= 1

[State 5071:	VelAdd]
type 			= VelAdd
trigger1 		= 1
y 			= GetHitVar(yaccel)

[State 5071: 	ChangeState]
type 			= ChangeState
trigger1 		= (Vel Y > 0) && (Pos Y >= 15)
value 		= 5110

;---------------------------------------------------------------------------
; HITL_SHAKE
[Statedef 5080]
type    = L
movetype= H
physics = N
velset = 0,0

[State 5080, 1] ;Set default anim
type = VarSet
trigger1 = !Time
sysvar(2) = ifelse (GetHitVar(yvel) = 0, 5080, 5090)

[State 5080, 2]
type = VarAdd
trigger1 = !Time
trigger1 = (anim = [5081,5089]) || (anim = [5111,5119])
trigger1 = SelfAnimExist(sysvar(2) + (anim % 10))
sysvar(2) = anim % 10

[State 5080, 3] ;If 5090 doesn't exist, default to 5030
type = VarSet
trigger1 = !Time
trigger1 = sysvar(2) = 5090
trigger1 = !SelfAnimExist(5090)
sysvar(2) = 5030

[State 5080, 3] ;Freeze
type = ChangeAnim
trigger1 = 1
value = sysvar(2)

[State 5080, 4]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0
value = 5081 ;HITL_SLIDE

[State 5080, 5]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) != 0
value = 5030 ;HITA_UP

;---------------------------------------------------------------------------
; HITL_SLIDE
[Statedef 5081]
type    = L
movetype= H
physics = C

[State 5081, 1]
type = HitVelSet
trigger1 = !Time
x = 1

[State 5081, 2]
type = VelSet
trigger1 = HitOver
x = 0

[State 5081, 3] ;Don't show hit ground frame
type = VarSet
trigger1 = !Time
sysvar(0) = 1

[State 5081, 4]
type = ChangeState
trigger1 = HitOver
value = 5110 ;HIT_LIEDOWN

;---------------------------------------------------------------------------
; HIT_BOUNCE (hit ground)
[Statedef 5100]
type			= L
movetype		= H
physics		= N

[State 5100:	VelSet]
type			= VelSet
trigger1		= (!Time) && (GetHitVar(Fall.YVel) = 0) && (Vel X > 1)
x			= 1

[State 5100:	EnvShake]
type			= FallEnvShake
trigger1		= (!Time)

[State 5100:	VarSet]
type			= VarSet
trigger1		= (!Time)
sysvar(1)		= Floor(Vel Y)

[State 5100:	ChangeAnim]
type			= ChangeAnim
triggerall		= (!Time)
trigger1		= (Anim != [5051,5059]) && (Anim != [5061,5069])
trigger2		= (!SelfAnimExist(5100 + (anim % 10)))
value			= 5100

[State 5100:	ChangeAnim]
type			= ChangeAnim
trigger1		= (!Time) && ((Anim = [5051,5059]) || (Anim = [5061,5069])) && (SelfAnimExist(5100 + (Anim%10)))
value			= 5100 + (Anim%10)

[State 5100:	PosSet]
type			= PosSet
trigger1		= (!Time)
y			= 0

[State 5100:	VelSet]
type			= VelSet
trigger1		= (!Time)
y			= 0

[State 5100:	VelMul]
type			= VelMul
trigger1		= (!Time)
x			= 0.75

[State 5100: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (Random < 250) && (Time = 1)
value 		= S0,7

[State 5100: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (Time = 1)
value 		= S0,6

[State 5100:	ChangeState]
type			= ChangeState
trigger1		= (!Time) && (GetHitVar(Fall.YVel) = 0)
value			= 5110

[State 5100:	GameMakeAnim]
type			= GameMakeAnim
trigger1		= (Time = 1)
value			= 60 + (SysVar(1) > 5) + (SysVar(1) > 14)
pos			= 0, 0
under			= SysVar(1) <= 10

[State 5100:	HitFallDamage]
type			= HitFallDamage
trigger1		= (Time = 3)

[State 5100:	PosFreeze]
type			= PosFreeze
trigger1		= 1

[State 5100:	ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 5101

[State 5100:	ForceFeedBack]
type			= ForceFeedback
trigger1		= (!Time)
waveform		= sinesquare
ampl			= 128,-3,-.2,.005
time			= 20

;---------------------------------------------------------------------------
; HIT_BOUNCE (bounce into air)
[Statedef 5101]
type    = L
movetype= H
physics = N

[State 5101, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
triggerall = !Time
trigger1 = anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (anim % 10))
value = 5160

[State 5101, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = !Time
trigger1 = anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = 5160 + (anim % 10)

[State 5101, 3]
type = HitFallVel
trigger1 = !Time

[State 5101, 4]
type = PosSet
trigger1 = !Time
y = 20

[State 5101, 5] ;Acceleration
type = VelAdd
trigger1 = 1
y = .4

[State 5101, 6] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 12
type = ChangeState
value = 5110

;---------------------------------------------------------------------------
; HIT_LIEDOWN
[Statedef 5110]
type    = L
movetype= H
physics = N

[State 5110, EnvShake]
type = FallEnvShake
trigger1 = !Time

[State 5110, 1] ;For hit up/up-diag type (from state 5081)
type = ChangeAnim
persistent = 0
trigger1 = SelfAnimExist(5110 + (anim % 10))
trigger1 = anim = [5081,5089]
value = 5110 + (anim % 10)

[State 5110, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = !Time
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim != [5161,5169]
trigger2 = !SelfAnimExist(5170 + (anim % 10))
value = 5170

[State 5110, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = !Time
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim = [5161,5169]
trigger1 = SelfAnimExist(5170 + (anim % 10))
value = 5170 + (anim % 10)

[State 5110, 4]
type = HitFallDamage
trigger1 = !Time

[State 5110, 5]
type = PosSet
trigger1 = !Time
y = 0

[State 5110, Var] ;Get fall velocity
type = VarSet
trigger1 = !Time
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 5110, 7]
type = GameMakeAnim
trigger1 = !Time
trigger1 = !SysVar(0)
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 10

[State 5110, 8]
type = VelSet
trigger1 = !Time
y = 0

[State 5110, 9] ;For hit up type
type = ChangeAnim
persistent = 0
triggerall = anim = [5171,5179]
triggerall = SelfAnimExist(5110 + (anim % 10))
trigger1 = (!AnimTime)
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground anim
value = 5110 + (anim % 10)

[State 5110, 10] ;For normal
type = ChangeAnim
persistent = 0
triggerall = Anim != [5111,5119]
trigger1 = (!AnimTime)
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
value = 5110

[State 5110, 11] ;If just died
type = ChangeState
triggerall = !alive
trigger1 = (!AnimTime)
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 5150

[State 5110, 12]
type = VarSet
trigger1 = SysVar(0)
trigger1 = !Time
sysvar(0) = 0

[State 5110, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5110: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (!Time) && (!SysVar(0))
value 		= S0,6

[State 5110, 14]
type = ForceFeedback
trigger1 = alive
trigger1 = !Time
time = 8
ampl = 240
waveform = sine

[State 5110, 15]
type = ForceFeedback
trigger1 = !alive
trigger1 = !Time
ampl = 200, 7, -.467
time = 30
waveform = sine

;---------------------------------------------------------------------------
; HIT_GETUP
[Statedef 5120]
type    = L
movetype= I
physics = N

[State 5120, 1a] ;Get up anim (normal)
type = ChangeAnim
triggerall = !Time
trigger1 = anim != [5111,5119]
trigger2 = !SelfAnimExist(5120 + (anim % 10))
value = 5120

[State 5120, 1b] ;Get up anim (for hit up/diag-up)
type = ChangeAnim
triggerall = !Time
trigger1 = anim = [5111,5119]
trigger1 = SelfAnimExist(5120 + (anim % 10))
value = 5120 + (anim % 10)

[State 5120, 2]
type = VelSet
trigger1 = !Time
x = 0

[State 5120, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 10

[State 5120, 4]
type = HitFallSet
trigger1 = (!AnimTime)
value = 1

[State 5120, 5] ;Can't be thrown right after getting up
type = NotHitBy
trigger1 = (!AnimTime)
value = , NT,ST,HT
time = 12

[State 5120, 6] ;Can't be hit right after getting up (short time)
type = NotHitBy
trigger1 = (!AnimTime)
value2 = SCA
time = 3

[State 5120, 7]
type = ChangeState
trigger1 = (!AnimTime)
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; HIT_LIEDEAD
[Statedef 5150]
type    = L
movetype= H
physics = N
sprpriority = -3

[State 5150, 1] ;Normal anim
type = ChangeAnim
triggerall = (!Time) && (SelfAnimExist(5140))
trigger1 = ((Anim != [5111,5119]) && (Anim != [5171,5179])) || (!SelfAnimExist(5140 + (Anim % 10)))
value = 5140

[State 5150, 3] ;Hit up type anim
type = ChangeAnim
trigger1 = (!Time) && ((Anim = [5111,5119]) || (Anim = [5171,5179])) && (SelfAnimExist(5140 + (Anim % 10)))
value = 5140 + (anim % 10)

[State 5150, 4] ;Match over anim
type = ChangeAnim
persistent = 0
trigger1 = (MatchOver = 1) && (Anim = [5140,5149]) && (SelfAnimExist(Anim+10))
value = anim+10

[State 5150, 5] ;Switch to 5110 if liedead anim does not exist
type = ChangeAnim
trigger1 = (!Time) && (Anim != [5140,5159]) && (Anim != [5110,5119])
value = 5110

[State 5150, 6] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5150, 7] ;Friction
type = VelSet
trigger1 = Vel X < .05
persistent = 0
x = 0

[State 5150, 8]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; HIT_FALLRECOVER (still falling)
[Statedef 5200]
type			= A
movetype		= H
physics 		= N

[State 5200:	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (Anim = 5035) && (!AnimTime)
value 		= 5050

[State 5200:	VelAdd]
type 			= VelAdd
trigger1 		= 1
y 			= GetHitVar(yaccel)

[State 5200:	SelfState]
type 			= SelfState
trigger1 		= (Vel Y > 0) && (Pos Y >= 10)
value 		= 5201

;---------------------------------------------------------------------------
; HIT_FALLRECOVER (on the ground)
[Statedef 5201]
type    = A
movetype= H
physics = A
anim = 5200

[State 5201: 	Turn]
type 			= Turn
trigger1 		= (!Time) && (P2Dist X < -5)

[State 5201: 	VelSet]
type 			= VelSet
trigger1 		= (!Time)
x 			= -.15
y 			= -3.5

[State 5201: 	PosSet]
type 			= PosSet
trigger1 		= (!Time)
y 			= 0

[State 5201: 	NotHitBy]
type 			= NotHitBy
trigger1 		= 1
value 		= SCA
time 			= 1

[State 5201: 	PalFX]
type 			= PalFX
trigger1 		= (!Time)
time 			= 5
add 			= 128,128,128

[State 5201:	Explod]
type			= Explod
trigger1 		= (Time = 1)
anim			= F60
id			= 60
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= -3
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0

;---------------------------------------------------------------------------
; HIT_AIRFALLRECOVER
[Statedef 5210]
type    = A
movetype= I
physics = N
anim = 5210
ctrl = 0

[State 5210, 1]
type = PalFX
trigger1 = !Time
time = 5
add = 128,128,128

[State 5210, 1]
type = PosFreeze
trigger1 = !Time
value = 4

[State 5210, 2]
type = Turn
trigger1 = !Time
trigger1 = p2dist X < -20

[State 5210, 1] 
type = VelMul
trigger1 = Time = 4
x = .8
y = .8

[State 5210, 1]
type = VelAdd
trigger1 = Time = 4
y = -8

[State 5210, 1] 
type = VelMul
trigger1 = Time = 4
trigger1 = Vel Y > 0
y = .5

[State 5210, 1]
type = VelAdd
trigger1 = Time = 4
trigger1 = Vel Y > -3
y = -2

[State 5210, 1]
type = VelAdd
trigger1 = Time = 4
trigger1 = Vel Y > -2
y = -1

[State 5210, 2] ;Go up
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holdup"
y = -2

[State 5210, 2] ;Go down
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holddown"
y = 1.5

[State 5210, 2] ;Go fwd
type = VelMul
trigger1 = Time = 4
trigger1 = Command = "holdfwd"
x = 1

[State 5210, 2] ;Go back
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holdback"
x = -1

[State 5210, 3]
type = NotHitBy
trigger1 = !Time
value = SCA
time = 15

[State 5210, 4]
type = CtrlSet
trigger1 = Time = 20
value = 1

[State 5210, 5]
type = VelAdd
trigger1 = Time >= 4
y = .35

[State 5210: 	ChangeState]
type 			= ChangeState
trigger1 		= (Vel Y > 0) && (Pos Y >= 0)
value 		= 52
ctrl 			= 1

;---------------------------------------------------------------------------
;Dizzy State
[Statedef 5300]
type 			= S
movetype		= I
physics 		= S
anim 			= 5300
velset 		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
;sprpriority	= 0

[State 5300: 	SelfState]
type 			= SelfState
trigger1 		= (Time > 200)
value 		= 0
ctrl 			= 1

;---------------------------------------------------------------------------
;Continue?
[Statedef 5500]
type 			= S
anim 			= 5300
velset 		= 0,0
ctrl 			= 0

[State 5500: 	ChangeAnim]
type 			= ChangeAnim
trigger1 		= (!Time) && (SelfAnimExist(5500))
value 		= 5500

;---------------------------------------------------------------------------
;Initialize
[Statedef 5900]
type 			= S
;anim			= 5900

[State 5900:	AssertSpecial]
type			= AssertSpecial
trigger1		= (RoundNo = 1)
flag			= Invisible

[State 5900: 	ChangeState] 
type 			= ChangeState
trigger1 		= (RoundNo = 1) && (Time = 1)
value 		= 190


;Corner Juggle Limit



;===========================================================================
;-| Artificial Intelligence |-----------------------------------------------

;[Statedef -3]
