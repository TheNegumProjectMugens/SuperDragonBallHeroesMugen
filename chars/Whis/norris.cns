; Chuck Norris FTW !

[Data]
life = 2000
power = 3000
attack = 250
defence = 200
fall.defence_up = 999 ;Unstoppable !
liedown.time = 0
airjuggle = 666666 ;Not useful, but...
sparkno = 2
guard.sparkno = 40
KO.echo = 0
volume = 255
IntPersistIndex = 60
FloatPersistIndex = 40

[Size]
xscale = 0.9
yscale = 0.9
ground.back = 15
ground.front = 16
air.back = 12
air.front = 12
height = 60
attack.dist = 999		;Default attack distance
proj.attack.dist = 999	;Default attack distance for projectiles
proj.doscale = 0		;Set to 1 to scale projectiles too   
head.pos = 0, -100	;Approximate position of head
mid.pos = 0, -60		;Approximate position of midsection
shadowoffset = 0		;Number of pixels to vertically offset the shadow
draw.offset = 0,0		;Player drawing offset in pixels (x, y)

[Velocity]
walk.fwd  = 1.5		;Walk forward
walk.back = -1.5		;Walk backward
run.fwd  = 12, 0		;Run forward (x, y)
run.back = -4.5,-3.8	;Hop backward (x, y)
jump.neu = 0,-5		;Neutral jumping velocity (x, y)
jump.back = -8		;Jump back Speed (x, y)
jump.fwd = 8		;Jump forward Speed (x, y)
runjump.back = -12,-5      ;Running jump speeds (opt)
runjump.fwd = 12,-5	;.
airjump.neu = 0,-10	;.
airjump.back = -8	;Air jump speeds (opt)
airjump.fwd = 8		;.

[Movement]
airjump.num = 1		;Number of air jumps allowed (opt)
airjump.height = 10	;Minimum distance from ground before you can air jump (opt)
yaccel = .44		;Vertical acceleration
stand.friction = .85	;Friction coefficient when standing
crouch.friction = .82	;Friction coefficient when crouching

;---------------------------------------------------------------------------
; Format:
; [Statedef STATENO]
; type = ?      S/C/A/L  stand/crouch/air/liedown
; movetype = ?  I/A/H    idle/attack/gethit
; physics = ?   S/C/A/N  stand/crouch/air/none
; juggle = ?             air juggle points move requires
;
; [State STATENO, ?]     ? - any number you choose
; type = ?
; ...

;---------------------------------------------------------------------------
; Lose by Time Over
; CNS difficulty: basic
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win state decider
; CNS difficulty: basic
[Statedef 180]
type = S

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = roundnotover

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0 && !var(17)
v = 18
range = 0,3

[State 180, 1]
type = ChangeState
trigger1 = var(17)
value = 186

[State 180, 1]
type = ChangeState
trigger1 = !numexplod(184) && var(18) = 0 && !var(33) && !var(17)
value = 181

[State 180, 1]
type = ChangeState
trigger1 = !numexplod(184) && var(18) = 1 && !var(33) && !var(17)
value = 183

[State 180, 1]
type = ChangeState
trigger1 = !numexplod(184) && var(18) = 2 && !var(33) && !var(17)
value = 184

[State 180, 1]
type = ChangeState
trigger1 = !numexplod(184) && var(18) = 3 && !var(33) && !var(17)
value = 187

[State 180, 1]
type = ChangeState
trigger1 = numexplod(184) && !var(17)
value = 182

[State 180, 1]
type = ChangeState
trigger1 = !numexplod(184) && var(33) && !var(17)
value = 185

;---------------------------------------------------------------------------
; Ajusting his hat
[Statedef 181]
type = S
ctrl = 0
anim = 180
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 300
flag = roundnotover

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = numexplod(1842) || numexplod(184)
flag = nobardisplay
flag2 = noBG
flag3 = noFG

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = numexplod(1842) || numexplod(184)
flag = globalnoshadow

[State -2, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S666,0
volume = 255
channel = -1

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; WRYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYY !!!
[Statedef 182]
type = S
physics = N
ctrl = 0
anim = 181
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3400,1
volume = 255
channel = -1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 200
flag = roundnotover

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = noBG
flag3 = noFG

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = globalnoshadow

;---------------------------------------------------------------------------
; YOU'RE DEAD !!!
[Statedef 183]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = numexplod(1842) || numexplod(184)
flag = nobardisplay
flag2 = noBG
flag3 = noFG

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = numexplod(1842) || numexplod(184)
flag = globalnoshadow

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = 0
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 240
flag = nobardisplay
flag2 = noBG
flag3 = noFG

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 18201
pos = 0,0
postype = left
facing = 1
scale = 10,10
removetime = 241
sprpriority = 0
supermovetime = 99999999999999999999
pausemovetime = 99999999999999999999
ontop = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 18200
pos = 160,120
postype = left
facing = 1
scale = .5,.5
removetime = 241
sprpriority = 999999
supermovetime = 99999999999999999999
pausemovetime = 99999999999999999999
ontop = 1

[State 0, Explod]
type = Explod
trigger1 = time = 240
anim = 1102
pos = 160,120
postype = left
facing = 1
scale = 2,2
removetime = 31
sprpriority = 999999999
supermovetime = 99999999999999999999
pausemovetime = 99999999999999999999
ontop = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = time = [50,240]
trigger2 = time = 0
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 240
value = S182,1
volume = 255
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S182,0
volume = 255
channel = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nomusic

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 500
flag = roundnotover

;---------------------------------------------------------------------------
; Switching DeathStar Off
[Statedef 184]
type = S
ctrl = 0
anim = 183
velset = 0,0
sprpriority = 999999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = numexplod(1842) || numexplod(184)
flag = nobardisplay
flag2 = noBG
flag3 = noFG

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = numexplod(1842) || numexplod(184)
flag = globalnoshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 800
flag = roundnotover

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time > 605
flag = noFG

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nomusic

[State -2, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S18300,0
volume = 255
channel = 0

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 606
channel = 0

[State -2, PlaySnd]
type = PlaySnd
trigger1 = time = 606
value = S183,0
volume = 255
channel = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 18300
ID = 18300
pos = 125,-150
postype = p1
removetime = 606
scale = .5,.5
supermovetime = 99999999999999999999
pausemovetime = 99999999999999999999
under = 1

[State 0, Explod]
type = Explod
trigger1 = time = 606
anim = 18201
pos = 0,0
postype = left
facing = 1
scale = 10,10
supermovetime = 99999999999999999999
pausemovetime = 99999999999999999999
sprpriority = 99999

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; SGS Win Pose
[Statedef 185]
type = S
ctrl = 0
velset = 0,0
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 200
flag = roundnotover

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 3352

;---------------------------------------------------------------------------
; Huh ???
[Statedef 186]
type = S
ctrl = 0
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 200
flag = roundnotover

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = numexplod(1842) || numexplod(184)
flag = nobardisplay
flag2 = noBG
flag3 = noFG

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = numexplod(1842) || numexplod(184)
flag = globalnoshadow

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 184

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S184,0
volume = 255
channel = -1

[State 0, Explod]
type = Explod
trigger1 = timemod = 60,30 && facing = 1
anim = 18400
pos = 30,-120
postype = p1
facing = 1
removetime = 30
scale = .5,.5
supermovetime = 99999999999999999999
pausemovetime = 99999999999999999999
sprpriority = 10

[State 0, Explod]
type = Explod
trigger1 = timemod = 60,30 && facing = -1
anim = 18400
pos = 30,-120
postype = p1
facing = -1
removetime = 30
scale = .5,.5
supermovetime = 99999999999999999999
pausemovetime = 99999999999999999999
sprpriority = 10

;---------------------------------------------------------------------------
; Cool Wheels
[Statedef 187]
type = S
ctrl = 0
anim = 184
sprpriority = 2
velset = 0,0

[State 0, Explod]
type = Explod
trigger1 = time = 30
anim = 211
ID = 188
pos = 125,-250
postype = p1
vel = 0,20
removetime = -1
sprpriority = 3
supermovetime = 99999999999999999999
pausemovetime = 99999999999999999999
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time >= 45
ID = 188
pos = 125,0
postype = p1
bindtime = -1
supermovetime = 99999999999999999999
pausemovetime = 99999999999999999999
vel = 0,0

[State 0, Explod]
type = Explod
trigger1 = time = 45
anim = 3303
pos = 70,0
postype = p1
removetime = -2
sprpriority = 1
supermovetime = 99999999999999999999
pausemovetime = 99999999999999999999
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 45
anim = 3303
pos = -110,0
postype = p1
removetime = -2
sprpriority = 1
supermovetime = 99999999999999999999
pausemovetime = 99999999999999999999
ownpal = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 45
time = 20
freq = 120
ampl = -8

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 200
value = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 45
value = S185,0
volume = 255
channel = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 45
value = S185,1
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 45
value = S185,2
volume = 255
channel = 2
loop = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 200
value = S185,3
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 206
value = S185,4
volume = 255
channel = -1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time >= 206
flag = invisible

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 280
value = S211,0
volume = 255
channel = 3

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 280
channel = 2

[State 0, VelSet]
type = VelSet
trigger1 = time >= 280
x = 30

[State 0, ScreenBound]
type = ScreenBound
trigger1 = time > 280
value = 0
movecamera = 0,1

[State 0, SndPan]
type = SndPan
trigger1 = 1
channel = 3
abspan = (pos x)

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 600
flag = roundnotover

;---------------------------------------------------------------------------
[Statedef 190]
type = S
ctrl = 0
anim = 10000
sprpriority = 2
velset = 0,0

[State 0, ChangeState]
type = ChangeState
trigger1 = p2name != "Deadpool" && p2name != "Nanarman"
value = 191

[State 0, ChangeState]
type = ChangeState
triggerall = p2name = "Deadpool"
trigger1 = enemy,teammode = single
trigger2 = enemy,teammode = turns
value = 192

[State 0, ChangeState]
type = ChangeState
triggerall = p2name = "Nanarman"
trigger1 = enemy,teammode = single
trigger2 = enemy,teammode = turns
value = 193

;---------------------------------------------------------------------------
; Introduction
; CNS difficulty: basic
[Statedef 191]
type = S
ctrl = 0
anim = 190
sprpriority = 2
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 200
flag = noBG
flag2 = noFG

[State 190, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = time = 0
value = 190

[State 190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 200
flag = invisible

[State 0, AllPalFX]
type = AllPalFX
trigger1 = time = 150
trigger2 = time = [150,199]
trigger2 = timemod = 5,0
time = 2
add = 256,256,256
mul = 256,256,256

[State 0, Explod]
type = Explod
trigger1 = timemod = 9,0
trigger1 = time < 150
trigger1 = random < 500
trigger2 = time = [150,199]
trigger2 = !numexplod(191)
id = 191
anim = 191
pos = -10,-60
postype = p1
removetime = -2
sprpriority = 3
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = timemod = 10,0
trigger1 = time < 200
id = 192
anim = 192
pos = -50,0
velocity = 10,-2
accel = -.5,0
postype = p1
removetime = 42
sprpriority = 4
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = timemod = 10,0
trigger1 = time < 200
id = 192
anim = 192
pos = 50,0
velocity = -10,-2
accel = .5,0
postype = p1
removetime = 42
sprpriority = 4
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
id = 1941
anim = 1941
pos = 0,-50
postype = p1
removetime = -1
sprpriority = 0
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
id = 194
anim = 194
pos = 0,0
postype = p1
removetime = -1
scale = 2,2
sprpriority = -1
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 150
id = 1942
anim = 1942
pos = 0,0
postype = p1
removetime = -2
facing = -1
scale = .5,.5
sprpriority = 1
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 150
id = 1942
anim = 1942
pos = 0,0
postype = p1
removetime = -2
scale = .5,.5
sprpriority = 1
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 180
id = 197
anim = 197
pos = 0,-50
postype = p1
removetime = -2
sprpriority = 999
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 200
anim = 193
pos = 25,24
postype = p1
removetime = -2
sprpriority = 1
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 200
anim = 193
pos = -25,24
postype = p1
removetime = -2
sprpriority = 1
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 200
anim = 193
pos = 50,48
postype = p1
removetime = -2
sprpriority = 4
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 200
anim = 193
pos = -50,48
postype = p1
removetime = -2
sprpriority = 4
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 9,0
trigger1 = time < 150
trigger1 = random < 500
trigger2 = time = [150,199]
trigger2 = timemod = 10,0
trigger3 = time = 150
value = S190,1
volume = 255
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 200
value = S190,3
volume = 255
channel = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 200
value = S190,2
volume = 255
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 150
value = S190,4
volume = 255
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 120,0
value = S3200,1
volume = 255
channel = 5

[State 0, StopSnd]
type = StopSnd
trigger1 = time >= 200
channel = 5

[State 0, StopSnd]
type = StopSnd
trigger1 = time >= 200
channel = 4

[State 0, EnvShake]
type = EnvShake
trigger1 = time < 150 && timemod = 30,0
time = 30
freq = 60
ampl = -2

[State 0, EnvShake]
type = EnvShake
trigger1 = time = [150,199]
trigger1 = timemod = 30,0
time = 30
freq = 60
ampl = -4

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 200
time = 30
freq = 90
ampl = -16

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 230
time = 30
freq = 90
ampl = -8

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 260
time = 30
freq = 90
ampl = -4

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 200
id = 191

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 200
id = 192

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time >= 200
id = 194

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time >= 200
id = 1941

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 301
value = S190,0
volume = 255
channel = -1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 200
time = 50
add = 256,256,256
mul = 256,256,256
sinadd = -256,-256,-256,200

[State 0, PalFX]
type = PalFX
trigger1 = time = 200
time = 100
add = 256,256,256
mul = 256,256,256
sinadd = -256,-256,-256,400

[State 190, 4] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Introduction (Deadpool)
[Statedef 192]
type = S
ctrl = 0
sprpriority = -1
velset = 0,0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, PosSet]
type = PosSet
trigger1 = facing = -1 && time = [1,260]
x = 500

[State 0, PosSet]
type = PosSet
trigger1 = facing = 1 && time = [1,260]
x = -500

[State 0, Turn]
type = Turn
trigger1 = time = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S191,0
volume = 255
channel = 0

[State 190, 1]
type = ChangeAnim
trigger1 = time = 0
value = 20

[State 190, 1]
type = ChangeAnim
trigger1 = time = 500
value = 0

[State 190, 1]
type = ChangeAnim
trigger1 = time = 1226
value = 195

[State 190, 1]
type = ChangeAnim
trigger1 = time = 1266
value = 0

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro
flag2 = nomusic

[State 0, VelSet]
type = VelSet
trigger1 = time = [260,500]
x = 1.5

[State 0, VelSet]
type = VelSet
trigger1 = time < 200 || time > 500
x = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time > 1500
value = 200

;---------------------------------------------------------------------------
; Introduction (Nanarman)
[Statedef 193]
type = S
ctrl = 0
sprpriority = -1
velset = 0,0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 196

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S191,1
volume = 255
channel = 0

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 190
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 216
value = S191,2
volume = 255
channel = 0

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro
flag2 = nomusic

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Knife Thrower
[Statedef 195]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 195

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 200]
type    = U
movetype= I
physics = N
poweradd= 0
ctrl = 0
velset = 0,0

[State 0, PalFX]
type = PalFX
trigger1 = time = 1
time = 10
add = 256,256,256
mul = 256,256,256
sinadd = -256,-256,-256,40

[State 0, AllPalFX]
type = AllPalFX
trigger1 = time = 0
time = 10
invertall = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y < 0
statetype = A

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y >= 0
statetype = S

[State 0, PosSet]
type = PosSet
trigger1 = anim = 201 && statetype = S
y = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 1 && statetype = S
value = 201

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 1 && statetype = A
value = 202

[State 0, Turn]
type = Turn
trigger1 = p2dist x < 0

[State 0, PosSet]
type = PosSet
trigger1 = fvar(19) && time = 0
x = (playerID(var(4)),pos x)+(facing)*40
y = (playerID(var(4)),pos y)

[State 0, PosSet]
type = PosSet
trigger1 = fvar(20) && time = 0
x = (playerID(var(5)),pos x)+(facing)*40
y = (playerID(var(5)),pos y)

[State 0, Pause]
type = Pause
trigger1 = time = 0
time = 10
movetime = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S200,5
volume = 255

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S200,6
volume = 255

[State 0, CtrlSet]
type = CtrlSet
trigger1 = time >= 5
value = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0 && statetype = S
value = 0
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time >= 11 && statetype = A
value = 51
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 210]
type    = A
movetype= A
physics = N
poweradd= 0
ctrl = 0
sprpriority = 999999
velset = 0,0
anim = 210

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 0 && parent, numhelper(220) = 0
time = 20
add = -128,-128,-128
mul = 256,256,256
sinadd = 128,128,128,80

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = -(screenpos y)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .5,.5

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1300,0
volume = 255
channel = -1

[State 0, Projectile]
type = Projectile
trigger1 = time = 5 && parent, numhelper(211) = 0
projanim = 1306
projid = 1306
projremovetime = 20
projpriority = 7
offset = 0,0
postype = p1
supermovetime = 999999
pausemovetime = 999999
attr = S,SP
hitflag = MAFDP
guardflag =
animtype = back
air.animtype = back
priority = 7,Hit
damage = 20,20
pausetime = 0,15
sparkno = -1
hitsound = S200,4
ground.type = Trip
air.type = Trip
air.hittime = 20
ground.velocity = -5,-5
air.velocity = -5,-5
fall = 1
fall.recover = 0
kill = 1

[State 0, Explod]
type = Explod
trigger1 = projhittime(1306) = 1
anim = 191
pos = 0,-50
postype = p2
bindtime = -1
removetime = 15
sprpriority = 99999

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
[Statedef 212]
type    = A
movetype= A
physics = N
poweradd= 0
ctrl = 0
velset = 0,0
anim = 217

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .5,.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1101,2
volume = 255

[State 0, VelSet]
type = VelSet
trigger1 = 1
y = 30

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y >= 0
value = 213
ctrl = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno = 15850
ignorehitpause = 1
persistent = 1

;---------------------------------------------------------------------------
[Statedef 213]
type    = A
movetype= A
physics = N
sprpriority = 999999
poweradd= 0
ctrl = 0
velset = 0,0
anim = 213

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .5,.5

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20
freq = 120
ampl = -4
phase = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1101,4
volume = 255

[State 0, Projectile]
type = Projectile
triggerall = (root,var(10)=0||root,var(10)=7)
trigger1 = time = 0
projanim = 214
projscale = 1,1
projremovetime = 10
offset = 0,0
postype = p1
attr = S,SP
hitflag = MAFDP        ;HLAFD+-
guardflag =
affectteam = E          ;B,E,F
animtype = diagup
priority = 7,Hit   ;Hit,Miss,Dodge
damage = 20,20
pausetime = 0,0
sparkno = -1
sparkxy = 0,0
ground.type = High
air.type = High
ground.slidetime = 40
ground.hittime = 160
air.hittime = 160
ground.velocity = -6,-7
air.velocity = -6,-7
fall = 1
fall.recover = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0 || root,stateno = 15850

;---------------------------------------------------------------------------
[Statedef 220]
type    = A
movetype= I
physics = N
poweradd= 0
ctrl = 0
velset = 0,0
anim = 10000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3000,0
volume = 255
channel = -1

[State 0, AllPalFX]
type = BGPalFX
trigger1 = 1
time = 2
invertall = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time > 500
trigger2 = parent,command = "z" && time > 0
trigger3 = parent,stateno = [3000,3999]
trigger4 = win || lose || drawgame

;---------------------------------------------------------------------------
; Standing Light Kick
; CNS difficulty: easy
[Statedef 230]
type    = S
movetype= A
physics = S
poweradd= 20
ctrl = 0
velset = 0,0
anim = 230

[State 0, Helper]
type = Helper
triggerall = P2name != "G-sakuya" && P4name != "G-sakuya"
trigger1 = p2dist x > 100 && time = 2 && (!var(10)||var(10)=7)
helpertype = normal
name = "MISSILE!!!"
ID = 1253
stateno = 1253
pos = 50,-80
postype = p1
pausemovetime = 10
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S200,7
volume = 255
channel = -1

[State 0, Projectile]
type = Projectile
triggerall = (!var(10)||var(10)=7)
trigger1 = animelem = 2
projanim = 200
projscale = 1,1
projremovetime = 5
offset = 50,-80
postype = p1
attr = S,SP
hitflag = MAFP        ;HLAFD+-
guardflag =
affectteam = E          ;B,E,F
animtype = hard          ;light,medium,hard,back,up,diagup
priority = 7,Hit   ;Hit,Miss,Dodge
damage = 20,20
pausetime = 0,5
sparkno = 0
sparkxy = 40,0
hitsound = S200,0
guardsound = 0,0
ground.type = High
air.type = High
ground.slidetime = 5
ground.hittime = 12
air.hittime = 12
ground.velocity = -2
air.velocity = -2,-3

[State 230, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Medium Kick
; CNS difficulty: easy
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 30
ctrl = 0
velset = 0,0
anim = 240

[State 0, Helper]
type = Helper
triggerall = P2name != "G-sakuya" && P4name != "G-sakuya"
trigger1 = p2dist x > 100 && time = 4 && (!var(10)||var(10)=7)
helpertype = normal
name = "MISSILE!!!"
ID = 1253
stateno = 1253
pos = 80,-70
postype = p1
pausemovetime = 10
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S200,7
volume = 255
channel = -1

[State 0, Projectile]
type = Projectile
triggerall = (!var(10)||var(10)=7)
trigger1 = animelem = 5
projanim = 200
projscale = 1,1
projremovetime = 5
offset = 80,-70
postype = p1
attr = S,SP
hitflag = MAFP        ;HLAFD+-
guardflag =
affectteam = E          ;B,E,F
animtype = hard          ;light,medium,hard,back,up,diagup
priority = 7,Hit   ;Hit,Miss,Dodge
damage = 30,30
pausetime = 0,5
sparkno = 1
sparkxy = 40,0
hitsound = S200,1
guardsound = 0,0
ground.type = High
air.type = High
ground.slidetime = 7
ground.hittime = 18
air.hittime = 18
ground.velocity = -3
air.velocity = -3,-4

[State 240, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Strong Kick
; CNS difficulty: easy
[Statedef 250]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 50
ctrl = 0
velset = 0,0
anim = 250

[State 0, Helper]
type = Helper
triggerall = P2name != "G-sakuya" && P4name != "G-sakuya"
trigger1 = p2dist x > 100 && time = 6 && (!var(10)||var(10)=7)
helpertype = normal
name = "MISSILE!!!"
ID = 1253
stateno = 1253
pos = 35,-65
postype = p1
pausemovetime = 10
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S200,7
volume = 255
channel = -1

[State 0, Projectile]
type = Projectile
triggerall = (!var(10)||var(10)=7)
trigger1 = animelem = 4
projanim = 200
projid = 250
projscale = 1,1
projremovetime = 7
offset = 45,-65
postype = p1
attr = S,SP
hitflag = MAFP        ;HLAFD+-
guardflag =
affectteam = E          ;B,E,F
animtype = back         ;light,medium,hard,back,up,diagup
priority = 7,Hit   ;Hit,Miss,Dodge
damage = 50,50
pausetime = 0,7
sparkno = 2
sparkxy = 40,0
hitsound = S200,2
guardsound = 0,0
ground.type = High
air.type = High
ground.slidetime = 10
ground.hittime = 24
air.hittime = 24
ground.velocity = -5,-5
air.velocity = -5,-5
fall = 1

[State 250, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 251]
type    = A
movetype= I
physics = N
ctrl = 0
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = 1
value = 251

[State 0, VelSet]
type = VelSet
trigger1 = 1
y = -20

[State 0, ChangeState]
type = ChangeState
trigger1 = time >= 100
value = 252
ctrl = 0

;---------------------------------------------------------------------------
[Statedef 252]
type    = A
movetype= I
physics = N
ctrl = 0
velset = 0,0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = 1
value = 252

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = -250

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = -.5
y = .4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -(time)*10
scale = .5-(time*.0025),.5-(time*.0025)

[State 0, Explod]
type = Explod
trigger1 = time = 199
anim = F0
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 3

[State 0, ChangeState]
type = ChangeState
trigger1 = time >= 200
value = 944
ctrl = 0

;---------------------------------------------------------------------------
; Crouching Light Kick
; CNS difficulty: easy
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 20
ctrl = 0
anim = 430

[State 0, Helper]
type = Helper
triggerall = P2name != "G-sakuya" && P4name != "G-sakuya"
trigger1 = p2dist x > 100 && time = 2 && (!var(10)||var(10)=7)
helpertype = normal
name = "MISSILE!!!"
ID = 1253
stateno = 1253
pos = 65,-45
postype = p1
pausemovetime = 10
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S200,7
volume = 255
channel = -1

[State 0, Projectile]
type = Projectile
triggerall = (!var(10)||var(10)=7)
trigger1 = time = 3
projanim = 200
projscale = 1,1
projremovetime = 5
offset = 65,-45
postype = p1
attr = S,SP
hitflag = MAFP        ;HLAFD+-
guardflag =
affectteam = E          ;B,E,F
animtype = hard          ;light,medium,hard,back,up,diagup
priority = 7,Hit   ;Hit,Miss,Dodge
damage = 20,20
pausetime = 0,5
sparkno = 0
sparkxy = 40,0
hitsound = S200,0
guardsound = 0,0
ground.type = low
air.type = low
ground.velocity = -2
air.velocity = -2,-3
ground.slidetime = 5
ground.hittime = 12
air.hittime = 12

[State 430, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Medium Kick
; CNS difficulty: easy
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 30
ctrl = 0
anim = 440

[State 0, Helper]
type = Helper
triggerall = P2name != "G-sakuya" && P4name != "G-sakuya"
trigger1 = p2dist x > 100 && time = 4 && (!var(10)||var(10)=7)
helpertype = normal
name = "MISSILE!!!"
ID = 1253
stateno = 1253
pos = 45,-20
postype = p1
pausemovetime = 10
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S200,7
volume = 255
channel = -1

[State 0, Projectile]
type = Projectile
triggerall = (!var(10)||var(10)=7)
trigger1 = time = 5
projanim = 200
projscale = 1,1
projremovetime = 5
offset = 45,-20
postype = p1
attr = S,SP
hitflag = MAFDP        ;HLAFD+-
guardflag =
affectteam = E          ;B,E,F
animtype = hard          ;light,medium,hard,back,up,diagup
priority = 7,Hit   ;Hit,Miss,Dodge
damage = 30,30
pausetime = 0,5
sparkno = 1
sparkxy = 40,0
hitsound = S200,1
guardsound = 0,0
ground.type = low
air.type = low
ground.slidetime = 7
ground.hittime = 18
air.hittime = 18
ground.velocity = -3
air.velocity = -3,-4

[State 440, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouch Strong Kick
; CNS difficulty: easy
; Description: This move uses "Trip" for the "ground.type" parameter in
;     its HitDef. It's a special type that puts the opponent in a tripped
;     animation as he falls. Also, the hitflag parameter in the HitDef
;     is set to "MAFD". The "D" indicates that a downed opponent can be
;     hit by the attack.
[Statedef 450]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 70
ctrl = 0
anim = 450

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S200,7
volume = 255
channel = -1

[State 0, Projectile]
type = Projectile
triggerall = (!var(10)||var(10)=7)
trigger1 = time = 7
projanim = 451
projscale = 1,1
projremovetime = 5
offset = 0,0
postype = p1
attr = S,SP
hitflag = MAFP        ;HLAFD+-
guardflag =
affectteam = E          ;B,E,F
animtype = up         ;light,medium,hard,back,up,diagup
priority = 7,Hit   ;Hit,Miss,Dodge
damage = 50,50
pausetime = 0,7
sparkno = 3
sparkxy = 0,-30
hitsound = S250,0
guardsound = 0,0
ground.type = High
air.type = High
ground.slidetime = 10
ground.hittime = 24
air.hittime = 24
p2stateno = 251
fall = 1
envshake.time = 20
envshake.freq = 120
envshake.ampl = -8

[State -2, Helper]
type = Helper
trigger1 = !numhelper(9998) && target,stateno = [251,252]
helpertype = normal ;player
name = "pwncanceler"
ID = 9998
stateno = 9998
pos = 0,0
postype = p1
supermovetime = 2000000000
pausemovetime = 2000000000

[State 450, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Jump Light Kick
; CNS difficulty: easy
[Statedef 630]
type    = A
movetype= A
physics = N
juggle  = 3
poweradd= 20
ctrl = 0
anim = 630

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S200,7
volume = 255
channel = -1

[State 0, VelSet]
type = VelSet
trigger1 = enemynear,statetype = A && enemynear,movetype = H
trigger1 = time <= 20
x = 0
y = 0

[State 0, VelSet]
type = PosSet
trigger1 = fvar(19) && time <= 20
trigger1 = enemynear,statetype = A && enemynear,movetype = H
x = (playerID(var(4)),pos x)-(facing)*40
y = (playerID(var(4)),pos y)

[State 0, VelSet]
type = PosSet
trigger1 = fvar(20) && time <= 20
trigger1 = enemynear,statetype = A && enemynear,movetype = H
x = (playerID(var(5)),pos x)-(facing)*40
y = (playerID(var(5)),pos y)

[State 0, Turn]
type = Turn
trigger1 = p2dist x < 0 && time <= 20

[State 0, Gravity]
type = Gravity
trigger1 = time > ifelse((enemynear,statetype = A && enemynear,movetype = H),20,0)

[State 0, Projectile]
type = Projectile
triggerall = (!var(10)||var(10)=7)
trigger1 = time = 5
projanim = 200
projscale = 1,1
projremovetime = 25
velocity = vel x,vel y
accel = 0,(Const(movement.yaccel))
offset = 50,-75
postype = p1
attr = S,SP
hitflag = MAFP        ;HLAFD+-
guardflag =
affectteam = E          ;B,E,F
animtype = hard          ;light,medium,hard,back,up,diagup
priority = 7,Hit   ;Hit,Miss,Dodge
damage = 20,20
pausetime = 0,20
sparkno = 0
sparkxy = 20,25
hitsound = S200,0
guardsound = 0,0
ground.type = High
air.type = High
ground.velocity = -5
air.velocity = 0,0
ground.slidetime = 5
ground.hittime = 12
air.hittime = 12
air.fall = 1
fall.recover = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time > ifelse((enemynear,statetype = A && enemynear,movetype = H),20,0) && pos y >= 0
value = 52

;---------------------------------------------------------------------------
; Jump Medium Kick
; CNS difficulty: easy
[Statedef 640]
type    = A
movetype= A
physics = N
juggle  = 4
poweradd= 30
ctrl = 0
anim = 640

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S200,7
volume = 255
channel = -1

[State 0, VelSet]
type = VelSet
trigger1 = enemynear,statetype = A && enemynear,movetype = H
trigger1 = time <= 20
x = 0
y = 0

[State 0, VelSet]
type = PosSet
trigger1 = fvar(19) && 1 && time <= 20
trigger1 = enemynear,statetype = A && enemynear,movetype = H
x = (playerID(var(4)),pos x)-(facing)*40
y = (playerID(var(4)),pos y)

[State 0, VelSet]
type = PosSet
trigger1 = fvar(20) && 1 && time <= 20
trigger1 = enemynear,statetype = A && enemynear,movetype = H
x = (playerID(var(5)),pos x)-(facing)*40
y = (playerID(var(5)),pos y)

[State 0, Turn]
type = Turn
trigger1 = p2dist x < 0 && time <= 20

[State 0, Gravity]
type = Gravity
trigger1 = time > ifelse((enemynear,statetype = A && enemynear,movetype = H),20,0)

[State 0, Projectile]
type = Projectile
triggerall = (!var(10)||var(10)=7)
trigger1 = time = 7
projanim = 200
projscale = 1,1
projremovetime = 20
velocity = vel x,vel y
accel = 0,(Const(movement.yaccel))
offset = 50,-65
postype = p1
attr = S,SP
hitflag = MAFP        ;HLAFD+-
guardflag =
affectteam = E          ;B,E,F
animtype = hard          ;light,medium,hard,back,up,diagup
priority = 7,Hit   ;Hit,Miss,Dodge
damage = 30,30
pausetime = 0,20
sparkno = 1
sparkxy = 40,10
hitsound = S200,1
guardsound = 0,0
ground.type = High
air.type = High
ground.slidetime = 7
ground.hittime = 18
air.hittime = 18
ground.velocity = -3
air.velocity = 0,0
air.fall = 1
fall.recover = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time > ifelse((enemynear,statetype = A && enemynear,movetype = H),20,0) && pos y >= 0
value = 52

;---------------------------------------------------------------------------
; Jump Strong Kick
; CNS difficulty: easy
[Statedef 650]
type    = A
movetype= A
physics = N
juggle  = 4
poweradd= 50
ctrl = 0
anim = 650

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S200,7
volume = 255
channel = -1

[State 0, VelSet]
type = VelSet
trigger1 = enemynear,statetype = A && enemynear,movetype = H
trigger1 = time <= 20
x = 0
y = 0

[State 0, Gravity]
type = Gravity
trigger1 = time > ifelse((enemynear,statetype = A && enemynear,movetype = H),20,0)

[State 0, Projectile]
type = Projectile
triggerall = (!var(10)||var(10)=7)
trigger1 = time = 6
projanim = 200
projscale = 1,1
projremovetime = 15
velocity = vel x,vel y
accel = 0,(Const(movement.yaccel))
offset = 20,-75
postype = p1
attr = S,SP
hitflag = MAFP        ;HLAFD+-
guardflag =
affectteam = E          ;B,E,F
animtype = hard          ;light,medium,hard,back,up,diagup
priority = 7,Hit   ;Hit,Miss,Dodge
damage = 50,50
pausetime = 0,0
sparkno = 2
sparkxy = 30,0
hitsound = S200,2
guardsound = 0,0
ground.type = High
air.type = High
ground.slidetime = 10
ground.hittime = 24
air.hittime = 24
ground.velocity = -5
air.velocity = 0,10
air.fall = 1
fall.recover = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time > ifelse((enemynear,statetype = A && enemynear,movetype = H),20,0) && pos y >= 0
value = 52

;---------------------------------------------------------------------------
[Statedef 1000]
type    = A
movetype= A
physics = N
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1000

[State 0, Turn]
type = Turn
trigger1 = time = 0 && p2dist x < 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S200,7
volume = 255
channel = -1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = (p2dist x)/25
y = -6

[State 0, Veladd]
type = Veladd
trigger1 = 1
y = .4

[State 0, Explod]
type = Explod
trigger1 = anim = 1010 && animelem = 1
anim = 1005
pos = 93,-63
postype = p1
bindtime = -1
removetime = -2
sprpriority = 999999999
ownpal = 1
removeongethit = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 8 && anim != 1010 && p2dist x < 100
value = 1010

[State 0, Projectile]
type = Projectile
triggerall = (!var(10)||var(10)=7)
trigger1 = anim = 1010 && animelem = 1
projid = 1000
projanim = 200
projscale = 1,1
projremovetime = 5
velocity = vel x,vel y
accel = 0,(Const(movement.yaccel))
offset = 55,-60
postype = p1
attr = S,SP
hitflag = MAFP        ;HLAFD+-
guardflag =
affectteam = E          ;B,E,F
animtype = hard          ;light,medium,hard,back,up,diagup
priority = 7,Hit   ;Hit,Miss,Dodge
damage = 100,100
pausetime = 0,0
sparkno = -1
hitsound = S1000,1
guardsound = 0,0
ground.type = High
air.type = High
ground.slidetime = 20
ground.hittime = 20
air.hittime = 20
ground.velocity = -20,-10
air.velocity = -20,-10
p2stateno = 1001
fall = 1
p2facing = 1
envshake.time = 10
envshake.freq = 60
envshake.ampl = -8
envshake.phase = 90

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y >= 0 && vel y >= 0
value = 52
ctrl = 0

;------------------
[Statedef 1001]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1025, Anim] ;Custom animation
type = ChangeAnim2
trigger1 = 1
value = 1001

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 1002

;------------------
[Statedef 1002]
type    = A
movetype= H
physics = N

[State 1026, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1026, Gravity]
type = VelAdd
trigger1 = 1
y = .45

[State 1026, No scroll]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 0,1

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 1003

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;------------------
[Statedef 1003]
type    = A
movetype= H
physics = N

[State 1027, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 1027, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 1027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 1027, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 1027, Spark]
type = Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3

[State 1027, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 1003

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 1027, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 1004

;------------------
[Statedef 1004]
type    = A
movetype= H
physics = N

[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 1028, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6

[State 1028, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = .35

[State 1028, Anim 5050] ;Self falling animation
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1028, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 1028, Anim 5060] ;Coming down - normal
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 1028, Anim 5062] ;Coming down - diagup type
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 1028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;---------------------------------------------------------------------------
[Statedef 1100]
type    = S
movetype= A
physics = S
poweradd= 100
ctrl = 0
velset = 0,0
anim = 1100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 8
value = S1100,0
volume = 255
channel = 2

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal
name = "GRENADE!!!"
ID = 1101
stateno = 1101
pos = 80,-100
pausemovetime = 10
postype = p1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1101]
type    = A
movetype= A
physics = N
sprpriority = 999999
poweradd= 0
ctrl = 0
anim = 1101

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1

[State 0, ]
type = VarRandom
trigger1 = Time = 0
v = 0
range = 2,10

[State 0, ]
type = VarRandom
trigger1 = Time = 0
v = 1
range = -12,-4

[State 0, ]
type = VelSet
trigger1 = Time = 0
x = var(0)
y = var(1)

[State 0, ]
type = VelAdd
trigger1 = 1
y = 0.3

[State 0, ]
type = VelMul
trigger1 = vel x > 0
trigger1 = frontedgedist < 3
trigger2 = vel x < 0
trigger2 = backedgedist < 3
x = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y >= 0
trigger1 = vel y >= 0
trigger2 = vel x > 0
trigger2 = frontedgedist < 7
trigger3 = vel x < 0
trigger3 = backedgedist < 7
value = S1100,1
volume = 255
channel = -1

[State 0, ]
type = Velmul
trigger1 = pos y >= 0
trigger1 = vel y >= 0
x = 0.95
y = -0.85

[State 0, ]
type = AngleAdd
trigger1 = 1
value = -(vel x)*5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .5,.5

[State 0, ChangeState]
type = ChangeState
trigger1 = time >= 150
value = 1102

;---------------------------------------------------------------------------
[Statedef 1102]
type    = A
movetype= A
physics = N
sprpriority = 999999
poweradd= 0
ctrl = 0
velset = 0,0
anim = 215

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20
freq = 120
ampl = -4
phase = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1101,3
volume = 255
channel = -1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = 1,1

[State 0, Projectile]
type = Projectile
triggerall = (root,var(10)=0||root,var(10)=7)
trigger1 = time = 0
projanim = 216
projscale = 1,1
projremovetime = 10
offset = 0,0
postype = p1
attr = S,SP
hitflag = MAFDP        ;HLAFD+-
guardflag =
affectteam = E          ;B,E,F
animtype = diagup
priority = 7,Hit   ;Hit,Miss,Dodge
damage = 30,30
pausetime = 0,0
sparkno = -1
sparkxy = 0,0
ground.type = High
air.type = High
ground.slidetime = 40
ground.hittime = 160
air.hittime = 160
ground.velocity = -6,-7
air.velocity = -6,-7
fall = 1
fall.recover = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
[Statedef 1150]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3100

[State 0, VarRandom]
type = VarRandom
trigger1 = timemod = 5,0
v = 52
range = 0,320

[State 0, VarRandom]
type = VarRandom
trigger1 = timemod = 5,0
v = 53
range = 0,240

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 5,0
value = S1101,3
volume = 255
channel = -1
freqmul = 2.0

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim = 215
pos = var(52),var(53)
postype = left
bindtime = 1
scale = .5,.5
removetime = -2
sprpriority = 5
ownpal = 1

[State 0, Projectile]
type = Projectile
triggerall = (root,var(10)=0||root,var(10)=7)
trigger1 = timemod = 5,0
projanim = 216
projscale = 1,1
projremovetime = 10
offset = var(52),var(53)-240
postype = back
projedgebound = 999999
projstagebound = 999999
projheightbound = -999999
attr = S,SP
hitflag = MAFDP        ;HLAFD+-
guardflag =
affectteam = E          ;B,E,F
animtype = diagup
priority = 7,Hit   ;Hit,Miss,Dodge
damage = 20,20
pausetime = 0,0
sparkno = -1
sparkxy = 0,0
ground.type = High
air.type = High
ground.slidetime = 40
ground.hittime = 160
air.hittime = 160
ground.velocity = -1,-4
air.velocity = -1,-4
fall = 1
fall.recover = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = command != "holdb"
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1200]
type    = S
movetype= A
physics = S
poweradd= 0
anim = 1200
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1200,1
volume = 255
channel = 0

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal
name = "columns"
ID = 1200
stateno = 1201
pos = 0,0
postype = p1
supermovetime = 2000000000
pausemovetime = 2000000000
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time > 0 && !animtime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1201]
type    = S
movetype= A
physics = N
poweradd= 0
ctrl = 0
velset = 0,0
anim = 10000

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = globalnoshadow

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod=5,0
value = S1200,2
volume = 255
channel = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod=5,0
value = S1200,3
volume = 255
channel = 2

[State 0, VarSet]
type = VarSet
trigger1 = 1 && time = 0
v = 2
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = 1 && timemod = 5,0
v = 2
value = 100

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim = 1201
pos = var(2),-100
postype = p1
removetime = -2
sprpriority = 999999999
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,0
anim = 3101
pos = var(2),20
postype = p1
removetime = -2
sprpriority = 999999997
ownpal = 1

[State 0, Projectile]
type = Projectile
triggerall = (root,var(10)=0||root,var(10)=7)
trigger1 = timemod = 5,0
projanim = 3305
projremovetime = 10
offset = var(2),0
postype = p1
attr = S,SP
hitflag = MAFDP
guardflag =
affectteam = E
animtype = diagup
priority = 7,Hit
damage = 20,20
pausetime = 0,0
sparkno = -1
sparkxy = 0,0
ground.type = High
air.type = High
ground.slidetime = 40
ground.hittime = 160
air.hittime = 160
ground.velocity = -5,-3
air.velocity = -5,-2
fall = 1
fall.recover = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time > 10

;---------------------------------------------------------------------------
[Statedef 1253]
type    = A
movetype= A
physics = N
sprpriority = -2
poweradd= 0
ctrl = 0
anim = 1251

[State -2];ìGàÍêlñ⁄ID
type = varset
triggerall = numenemy
triggerall = var(4) = 0
trigger1 = enemynear(0),ID !=0
var(4) = enemynear(0),ID

[State -2];ìGìÒêlñ⁄ID
type = varset
triggerall = numenemy
triggerall = enemynear,numpartner
triggerall = var(5) = 0
trigger1 = enemynear(1),ID !=0
var(5) = enemynear(1),ID

[State -3, fvar(16)] ; nearest enemy y
type = VarSet
trigger1 = numpartner
fvar(18) = partner,life

[State -3, fvar(16)] ; nearest enemy y
type = VarSet
trigger1 = numenemy
fvar(19) = enemy,life

[State -3, fvar(16)] ; nearest enemy y
type = VarSet
trigger1 = numenemy
trigger1 = enemynear, numpartner
fvar(20) = enemy(1),life

[State -3, fvar(3)] ;normal enemy1 x
type = VarSet
trigger1 = var(4) != 0
trigger1 = var(10) <=0
fvar(7) = (playerID(var(4)),pos x) + playerID(var(4)),Const(size.mid.pos.x)

[State -3, fvar(4)] ;normal enemy1 y
type = VarSet
trigger1 = var(4) != 0
trigger1 = var(10) <=0
trigger1 = P2name != "Biomenace Skullman"
fvar(8) = (playerID(var(4)),pos y) + (playerID(var(4)),Const(size.mid.pos.y)/ifelse((playerID(var(4)), statetype=C),2,1))

[State -3, fvar(4)] ;P2skullman y
type = VarSet
trigger1 = var(4) != 0
trigger1 = var(10) <=0
trigger1 = P2name = "Biomenace Skullman"
fvar(8) = (playerID(var(4)),pos y)-20

[State -3, fvar(3)] ;irregular enemy1 x
type = VarSet
trigger1 = var(4) != 0
trigger1 = var(10) >0
fvar(7) = (playerID(var(4)),pos x)

[State -3, fvar(4)] ;irregular enemy1 y
type = VarSet
trigger1 = var(4) != 0
trigger1 = var(10) >0
fvar(8) = (playerID(var(4)),pos y)-7

[State -3, fvar(5)] ;normal enemy2 x
type = VarSet
trigger1 = var(5) != 0
trigger1 = var(11) <=0
fvar(9) = (playerID(var(5)),pos x) + playerID(var(5)),Const(size.mid.pos.x)

[State -3, fvar(6)] ;normal enemy2 y
type = VarSet
trigger1 = var(5) != 0
trigger1 = var(11) <=0
trigger1 = P4name != "Biomenace Skullman"
fvar(10) = (playerID(var(5)),pos y)+ (playerID(var(5)),Const(size.mid.pos.y)/ifelse((playerID(var(5)), statetype=C),2,1))

[State -3, fvar(4)] ;P4skullman y
type = VarSet
trigger1 = var(5) != 0
trigger1 = var(11) <=0
trigger1 = P4name = "Biomenace Skullman"
fvar(10) = (playerID(var(5)),pos y)-20

[State -3, fvar(5)] ;irregular enemy2 x
type = VarSet
trigger1 = var(5) != 0
trigger1 = var(11) >0
fvar(9) = (playerID(var(5)),pos x)

[State -3, fvar(6)] ;irregular enemy2 y
type = VarSet
trigger1 = var(5) != 0
trigger1 = var(11) >0
fvar(10) = (playerID(var(5)),pos y)-7

[State -3, fvar(6)];enemy 1 hp
type = VarSet
trigger1 = var(4) != 0
fvar(13) = playerID(var(4)), Life

[State -3, fvar(6)];enemy 2 hp
type = VarSet
trigger1 = var(5) != 0
fvar(14) = playerID(var(5)), Life

[State -3, fvar(15)] ;enemy 1 nearness
type = VarSet
trigger1 = var(5) != 0
fvar(15) = ifelse(Exp(0.5*ln((fvar(7) * fvar(7))+(fvar(8) * fvar(8))))<=(Exp(0.5*ln((fvar(9) * fvar(9))+(fvar(10) * fvar(10))))), 0, 1)

[State -3, fvar(16)] ; nearest enemy x
type = VarSet
trigger1 = var(5) !=0
trigger1 = fvar(14)>0
trigger1 = fvar(13)>0
fvar(16) = ifelse(fvar(15)<=0, fvar(7), fvar(9))

[State -3, fvar(16)] ; nearest enemy y
type = VarSet
trigger1 = var(5) !=0
trigger1 = fvar(14)>0
trigger1 = fvar(13)>0
fvar(17) = ifelse(fvar(15)<=0, fvar(8), fvar(10))

[State -3, fvar(16)] ; nearest enemy x
type = VarSet
trigger1 = var(5) <=0
trigger2 = fvar(14)<=0
fvar(16) = fvar(7)

[State -3, fvar(16)] ; nearest enemy y
type = VarSet
trigger1 = var(5) <=0
trigger2 = fvar(14)<=0
fvar(17) = fvar(8)

[State -3, fvar(16)] ; nearest enemy x
type = VarSet
trigger1 = var(5) !=0
trigger1 = fvar(13)<=0
fvar(16) = fvar(9)

[State -3, fvar(16)] ; nearest enemy y
type = VarSet
trigger1 = var(5) !=0
trigger1 = fvar(13)<=0
fvar(17) = fvar(10)

[State 226, Vector Length]
type = VarSet
trigger1 = (fvar(16) - Pos X)!=0
fvar(4) = atan(((fvar(17) - Pos Y))/((fvar(16) - Pos X) * Facing))

[State 226, Vector Length]
type = VarSet
trigger1 = 1
fvar(5) = ifelse(((fvar(16) - Pos X) * Facing)>=0, 90, 270)

[State 226, Vector Length]
type = VarSet
trigger1 = !win
trigger1 = movecontact<=0
trigger2 = win
trigger2 = time = 0
fvar(6) = (fvar(4)*360/(2*Pi))+fvar(5)

[State 226, Angle 4]
type = AngleDraw
trigger1 = 1
value = floor(-3*ceil(fvar(6)/3))
scale = .5,.5

[State 226, VelSet]
type = Velset
trigger1 = 1
x = 15*sin(PI/180*fvar(6))
ignorehitpause = 1

[State 226, Veladd]
type = Veladd
trigger1 = 1
y = -3*cos(PI/180*fvar(6))
ignorehitpause = 1

[State 0, DestroySelf]
type = ChangeState
trigger1 = p2dist x = [-20,20]
value = 1102

;---------------------------------------------------------------------------
[Statedef 1260]
type    = S
movetype= A
physics = S
poweradd= 0
anim = 1260
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S1260,0
volume = 255

[State 0, Helper]
type = Helper
trigger1 = time = 5 && numhelper(1260) < 10
helpertype = normal
name = "knife"
ID = 1260
stateno = 1261
pos = 35,-135
postype = p1
ownpal = 1
pausemovetime = 15

[State 0, Helper]
type = Helper
trigger1 = time = 5 && numhelper(1260) < 10
helpertype = normal
name = "knife"
ID = 1260
stateno = 1261
pos = 35,-135
postype = p1
ownpal = 1
pausemovetime = 15

[State 0, Helper]
type = Helper
trigger1 = time = 5 && numhelper(1260) < 10
helpertype = normal
name = "knife"
ID = 1260
stateno = 1261
pos = 35,-135
postype = p1
ownpal = 1
pausemovetime = 15

[State 0, Helper]
type = Helper
trigger1 = time = 5 && numhelper(1260) < 10
helpertype = normal
name = "knife"
ID = 1260
stateno = 1261
pos = 35,-135
postype = p1
ownpal = 1
pausemovetime = 15

[State 0, Helper]
type = Helper
trigger1 = time = 5 && numhelper(1260) < 10
helpertype = normal
name = "knife"
ID = 1260
stateno = 1261
pos = 35,-135
postype = p1
ownpal = 1
pausemovetime = 15

[State 0, Helper]
type = Helper
trigger1 = time = 5 && numhelper(1260) < 10
helpertype = normal
name = "knife"
ID = 1260
stateno = 1261
pos = 35,-135
postype = p1
ownpal = 1
pausemovetime = 15

[State 0, Helper]
type = Helper
trigger1 = time = 5 && numhelper(1260) < 10
helpertype = normal
name = "knife"
ID = 1260
stateno = 1261
pos = 35,-135
postype = p1
ownpal = 1
pausemovetime = 15

[State 0, Helper]
type = Helper
trigger1 = time = 5 && numhelper(1260) < 10
helpertype = normal
name = "knife"
ID = 1260
stateno = 1261
pos = 35,-135
postype = p1
ownpal = 1
pausemovetime = 15

[State 0, Helper]
type = Helper
trigger1 = time = 5 && numhelper(1260) < 10
helpertype = normal
name = "knife"
ID = 1260
stateno = 1261
pos = 35,-135
postype = p1
ownpal = 1
pausemovetime = 15

[State 0, Helper]
type = Helper
trigger1 = time = 5 && numhelper(1260) < 10
helpertype = normal
name = "knife"
ID = 1260
stateno = 1261
pos = 35,-135
postype = p1
ownpal = 1
pausemovetime = 15

[State 0, ChangeState]
type = ChangeState
trigger1 = time > 0 && !animtime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1261]
type    = A
movetype= A
physics = N
sprpriority = 5
poweradd= 0
ctrl = 0
anim = 1261

[State 226, Angle 4]
type = AngleDraw
trigger1 = 1
value = -(time*12)

[State 226, VelSet]
type = Velset
trigger1 = time = 0
x = (random/50)-10
y = -3

[State 226, VelSet]
type = Velset
trigger1 = time > 10
x = 0
y = 0

[State 0, Projectile]
type = Projectile
triggerall = (root,var(10)=0||root,var(10)=7)
trigger1 = timemod = 10,0
projanim = 1263
projscale = 1,1
projremovetime = 10
offset = 0,0
postype = p1
attr = S,SP
hitflag = MAFDP        ;HLAFD+-
guardflag =
affectteam = E          ;B,E,F
animtype = diagup
priority = 7,Hit   ;Hit,Miss,Dodge
damage = 10,10
pausetime = 0,0
sparkno = 1
sparkxy = 0,0
ground.type = High
air.type = High
hitsound = S1260,3
ground.slidetime = 30
ground.hittime = 30
air.hittime = 30
ground.velocity = -3
air.velocity = -3,-2
air.fall = 1
fall.recover = 0

[State 0, DestroySelf]
type = ChangeState
trigger1 = root,stateno = 195 || p2life < 50 || roundstate > 2
value = 1262

;---------------------------------------------------------------------------
[Statedef 1262]
type    = A
movetype= A
physics = N
sprpriority = 5
poweradd= 0
ctrl = 0
anim = 1261

[State -2];ìGàÍêlñ⁄ID
type = varset
triggerall = numenemy
triggerall = var(4) = 0
trigger1 = enemynear(0),ID !=0
var(4) = enemynear(0),ID

[State -2];ìGìÒêlñ⁄ID
type = varset
triggerall = numenemy
triggerall = enemynear,numpartner
triggerall = var(5) = 0
trigger1 = enemynear(1),ID !=0
var(5) = enemynear(1),ID

[State -3, fvar(16)] ; nearest enemy y
type = VarSet
trigger1 = numpartner
fvar(18) = partner,life

[State -3, fvar(16)] ; nearest enemy y
type = VarSet
trigger1 = numenemy
fvar(19) = enemy,life

[State -3, fvar(16)] ; nearest enemy y
type = VarSet
trigger1 = numenemy
trigger1 = enemynear, numpartner
fvar(20) = enemy(1),life

[State -3, fvar(3)] ;normal enemy1 x
type = VarSet
trigger1 = var(4) != 0
trigger1 = var(10) <=0
fvar(7) = (playerID(var(4)),pos x) + playerID(var(4)),Const(size.mid.pos.x)

[State -3, fvar(4)] ;normal enemy1 y
type = VarSet
trigger1 = var(4) != 0
trigger1 = var(10) <=0
trigger1 = P2name != "Biomenace Skullman"
fvar(8) = (playerID(var(4)),pos y) + (playerID(var(4)),Const(size.mid.pos.y)/ifelse((playerID(var(4)), statetype=C),2,1))

[State -3, fvar(4)] ;P2skullman y
type = VarSet
trigger1 = var(4) != 0
trigger1 = var(10) <=0
trigger1 = P2name = "Biomenace Skullman"
fvar(8) = (playerID(var(4)),pos y)-20

[State -3, fvar(3)] ;irregular enemy1 x
type = VarSet
trigger1 = var(4) != 0
trigger1 = var(10) >0
fvar(7) = (playerID(var(4)),pos x)

[State -3, fvar(4)] ;irregular enemy1 y
type = VarSet
trigger1 = var(4) != 0
trigger1 = var(10) >0
fvar(8) = (playerID(var(4)),pos y)-7

[State -3, fvar(5)] ;normal enemy2 x
type = VarSet
trigger1 = var(5) != 0
trigger1 = var(11) <=0
fvar(9) = (playerID(var(5)),pos x) + playerID(var(5)),Const(size.mid.pos.x)

[State -3, fvar(6)] ;normal enemy2 y
type = VarSet
trigger1 = var(5) != 0
trigger1 = var(11) <=0
trigger1 = P4name != "Biomenace Skullman"
fvar(10) = (playerID(var(5)),pos y)+ (playerID(var(5)),Const(size.mid.pos.y)/ifelse((playerID(var(5)), statetype=C),2,1))

[State -3, fvar(4)] ;P4skullman y
type = VarSet
trigger1 = var(5) != 0
trigger1 = var(11) <=0
trigger1 = P4name = "Biomenace Skullman"
fvar(10) = (playerID(var(5)),pos y)-20

[State -3, fvar(5)] ;irregular enemy2 x
type = VarSet
trigger1 = var(5) != 0
trigger1 = var(11) >0
fvar(9) = (playerID(var(5)),pos x)

[State -3, fvar(6)] ;irregular enemy2 y
type = VarSet
trigger1 = var(5) != 0
trigger1 = var(11) >0
fvar(10) = (playerID(var(5)),pos y)-7

[State -3, fvar(6)];enemy 1 hp
type = VarSet
trigger1 = var(4) != 0
fvar(13) = playerID(var(4)), Life

[State -3, fvar(6)];enemy 2 hp
type = VarSet
trigger1 = var(5) != 0
fvar(14) = playerID(var(5)), Life

[State -3, fvar(15)] ;enemy 1 nearness
type = VarSet
trigger1 = var(5) != 0
fvar(15) = ifelse(Exp(0.5*ln((fvar(7) * fvar(7))+(fvar(8) * fvar(8))))<=(Exp(0.5*ln((fvar(9) * fvar(9))+(fvar(10) * fvar(10))))), 0, 1)

[State -3, fvar(16)] ; nearest enemy x
type = VarSet
trigger1 = var(5) !=0
trigger1 = fvar(14)>0
trigger1 = fvar(13)>0
fvar(16) = ifelse(fvar(15)<=0, fvar(7), fvar(9))

[State -3, fvar(16)] ; nearest enemy y
type = VarSet
trigger1 = var(5) !=0
trigger1 = fvar(14)>0
trigger1 = fvar(13)>0
fvar(17) = ifelse(fvar(15)<=0, fvar(8), fvar(10))

[State -3, fvar(16)] ; nearest enemy x
type = VarSet
trigger1 = var(5) <=0
trigger2 = fvar(14)<=0
fvar(16) = fvar(7)

[State -3, fvar(16)] ; nearest enemy y
type = VarSet
trigger1 = var(5) <=0
trigger2 = fvar(14)<=0
fvar(17) = fvar(8)

[State -3, fvar(16)] ; nearest enemy x
type = VarSet
trigger1 = var(5) !=0
trigger1 = fvar(13)<=0
fvar(16) = fvar(9)

[State -3, fvar(16)] ; nearest enemy y
type = VarSet
trigger1 = var(5) !=0
trigger1 = fvar(13)<=0
fvar(17) = fvar(10)

[State 226, Vector Length]
type = VarSet
trigger1 = (fvar(16) - Pos X)!=0
fvar(4) = atan(((fvar(17) - Pos Y))/((fvar(16) - Pos X) * Facing))

[State 226, Vector Length]
type = VarSet
trigger1 = 1
fvar(5) = ifelse(((fvar(16) - Pos X) * Facing)>=0, 90, 270)

[State 226, Vector Length]
type = VarSet
trigger1 = !win
trigger1 = movecontact<=0
trigger2 = win
trigger2 = time = 0
fvar(6) = (fvar(4)*360/(2*Pi))+fvar(5)

[State 226, Angle 4]
type = AngleDraw
trigger1 = 1
value = floor(-3*ceil(fvar(6)/3))

[State 226, VelAdd]
type = VelAdd
trigger1 = 1
x = 3*sin(PI/180*fvar(6))
ignorehitpause = 1

[State 226, VelAdd]
type = VelAdd
trigger1 = 1
y = -3*cos(PI/180*fvar(6))
ignorehitpause = 1

[State 0, DestroySelf]
type = ChangeState
trigger1 = pos y >= 0 || p2dist x = [-20,20]
value = 1263

[State 0, DestroySelf]
type = DestroySelf
trigger1 = pos x > 400 || pos x < -400

;---------------------------------------------------------------------------
[Statedef 1263]
type    = A
movetype= A
physics = N
sprpriority = 999999
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1262

[State 226, Angle 4]
type = AngleDraw
trigger1 = 1
value = ifelse((pos y >= 0),-135,(floor(-3*ceil(fvar(6)/3))))

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && pos y >= 0
value = S1260,2
volume = 255
channel = 1

[State 0, Projectile]
type = Projectile
triggerall = (root,var(10)=0||root,var(10)=7)
trigger1 = time = 0 && pos y < 0
projanim = 1263
projscale = 1,1
projremovetime = 60
offset = 0,0
postype = p1
velocity = 15,10
attr = S,SP
hitflag = MAFDP        ;HLAFD+-
guardflag =
affectteam = E          ;B,E,F
animtype = diagup
priority = 7,Hit   ;Hit,Miss,Dodge
damage = 10,10
pausetime = 0,10
sparkno = 2
sparkxy = 0,0
ground.type = High
air.type = High
hitsound = S1260,1
ground.slidetime = 30
ground.hittime = 30
air.hittime = 30
ground.velocity = -3
air.velocity = -3,-2
air.fall = 1
fall.recover = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time > 15

;---------------------------------------------------------------------------
[Statedef 1300]
type    = S
movetype= I
physics = S
ctrl = 0
velset = 0,0
anim = 1400

[State 0, Explod]
type = Explod
trigger1 = facing = 1 && time = 0
anim = 3999
ID = 3998
pos = -217,240
postype = left
vel = 14,0
accel = -.5,0
facing = 1
removetime = 200
supermovetime = 999999
pausemovetime = 999999
scale = 1,1
sprpriority = -99
under = 1
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = facing = -1 && time = 0
anim = 3999
ID = 3998
pos = 217,240
postype = right
vel = -14,0
accel = .5,0
facing = -1
removetime = 200
supermovetime = 999999
pausemovetime = 999999
scale = 1,1
sprpriority = -99
under = 1
ownpal = 1

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 1
time = 35
anim = S3997
sound = S3999,0
pos = -40,-75
movetime = 35
darken = 0
p2defmul = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 3998
pos = -40,-75
postype = p1
bindtime = -1
removetime = -2
supermovetime = 999999
pausemovetime = 999999
scale = 1,1
sprpriority = -100
under = 1
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = timemod = 10,0
trigger1 = var(51) < 1300
id = 1305
anim = 192
pos = -50,0
velocity = 10,-2
supermovetime = 999999
pausemovetime = 999999
accel = -.5,0
postype = p1
removetime = 42
sprpriority = 4
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = timemod = 10,0
trigger1 = var(51) < 1300
id = 1305
anim = 192
pos = 50,0
velocity = -10,-2
supermovetime = 999999
pausemovetime = 999999
accel = .5,0
postype = p1
removetime = 42
sprpriority = 4
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = var(51) > 1300 && time > 0 && !numexplod(1404)
id = 1404
anim = 1404
pos = 0,0
supermovetime = 999999
pausemovetime = 999999
postype = p1
removetime = -1
sprpriority = 4
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1400,0
volume = 255
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S190,4
volume = 255
channel = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 194
ID = 1301
pos = 0,0
postype = p1
facing = 1
vfacing = 1
supermovetime = 999999
pausemovetime = 999999
bindtime = -1
removetime = -1
scale = 2,2
sprpriority = -1
ownpal = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 130
value = S200,6
volume = 255

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 51
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time > 35
v = 51
value = 10

[State 240, 5]
type = ChangeState
trigger1 = command != "holdc"
trigger1 = time > 35
value = 1301

;---------------------------------------------------------------------------
[Statedef 1301]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1401

[State 0, Feint]
type = Turn
trigger1 = time = 0 && p2dist x < 0

[State 0, VelSet]
type = VelSet
trigger1 = time < 3
x = 20

[State 0, VelSet]
type = VelSet
trigger1 = time = 3
x = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1403
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5,.5
sprpriority = 2
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1406
pos = 100,-75
bindtime = -1
postype = p1
removetime = -2
sprpriority = 2
ownpal = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1400,1
volume = 255
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1400,2
volume = 255
channel = 1

[State -2, Helper]
type = Helper
trigger1 = !numhelper(9998)
helpertype = normal ;player
name = "pwncanceler"
ID = 9998
stateno = 9998
pos = 0,0
postype = p1
supermovetime = 2000000000
pausemovetime = 2000000000

[State 0, Projectile]
type = Projectile
triggerall = (!var(10)||var(10)=7)
trigger1 = animelem = 2
projanim = 1407
projid = 1300
projscale = 1,1
projremovetime = 5
offset = 80,-70
postype = p1
attr = S,SP
hitflag = MAFP        ;HLAFD+-
guardflag =
affectteam = E          ;B,E,F
animtype = hard          ;light,medium,hard,back,up,diagup
priority = 7,Hit   ;Hit,Miss,Dodge
damage = 300+var(51),300+var(51)
pausetime = 0,0
sparkno = S1105
sparkxy = 40,0
hitsound = S190,3
guardsound = 0,0
ground.type = High
air.type = High
ground.slidetime = 20
ground.hittime = 20
air.hittime = 20
ground.velocity = -20,-10
air.velocity = -20,-10
p2stateno = 3001
fall = 1
p2facing = 1
envshake.time = 20
envshake.freq = 120
envshake.ampl = -16
envshake.phase = 90

[State 240, 5]
type = ChangeState
trigger1 = Time > 48
value = 1302

;---------------------------------------------------------------------------
[Statedef 1302]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 1402

[State 240, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3000]
type    = A
movetype= A
physics = N
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1011

[State 0, Turn]
type = Turn
trigger1 = time = 0 && p2dist x < 0

[State 0, Explod]
type = Explod
trigger1 = anim = 1010 && animelem = 1
anim = 1005
pos = 93,-63
postype = p1
bindtime = -1
removetime = -2
sprpriority = 999999999
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = facing = 1 && time = 0
anim = 3999
ID = 3998
pos = -217,240
postype = left
vel = 14,0
accel = -.5,0
facing = 1
removetime = 200
supermovetime = 999999
pausemovetime = 999999
scale = 1,1
sprpriority = -99
under = 1
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = facing = -1 && time = 0
anim = 3999
ID = 3998
pos = 217,240
postype = right
vel = -14,0
accel = .5,0
facing = -1
removetime = 200
supermovetime = 999999
pausemovetime = 999999
scale = 1,1
sprpriority = -99
under = 1
ownpal = 1

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 1
time = 35
anim = S3997
sound = S3999,0
pos = 0,-80
movetime = 0
darken = 0
p2defmul = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 3998
pos = 0,-80
postype = p1
bindtime = -1
removetime = -2
supermovetime = 999999
pausemovetime = 999999
scale = 1,1
sprpriority = -100
under = 1
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 1
x = (p2dist x)/20
y = -8

[State 0, Veladd]
type = Veladd
trigger1 = time > 1
y = .8

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 1 && anim != 1010 && p2dist x < 100
value = 1010

[State 0, Projectile]
type = Projectile
triggerall = (!var(10)||var(10)=7)
trigger1 = anim = 1010 && animelem = 1
projid = 1000
projanim = 200
projscale = 1,1
projremovetime = 5
velocity = vel x,vel y
accel = 0,(Const(movement.yaccel))
offset = 55,-60
postype = p1
attr = S,SP
hitflag = MAFP        ;HLAFD+-
guardflag =
affectteam = E          ;B,E,F
animtype = hard          ;light,medium,hard,back,up,diagup
priority = 7,Hit   ;Hit,Miss,Dodge
damage = 500,500
pausetime = 0,0
sparkno = S1105
hitsound = S1000,0
guardsound = 0,0
ground.type = High
air.type = High
ground.slidetime = 20
ground.hittime = 20
air.hittime = 20
ground.velocity = -20,-10
air.velocity = -20,-10
p2stateno = 3001
fall = 1
p2facing = 1
envshake.time = 20
envshake.freq = 120
envshake.ampl = -16
envshake.phase = 90

[State -2, Helper]
type = Helper
trigger1 = !numhelper(9998)
helpertype = normal ;player
name = "pwncanceler"
ID = 9998
stateno = 9998
pos = 0,0
postype = p1
supermovetime = 2000000000
pausemovetime = 2000000000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = projhittime(1000) = 1 && target, life = 0
value = S3000,0
volume = 255
channel = -1

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y >= 0 && vel y >= 0 && time > 2
value = 52
ctrl = 0

;---------------------------------------------------------------------------
[Statedef 3001]
type    = A
movetype= H
physics = N
ctrl = 0
velset = 0,0
anim = 3001

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = -15
y = -1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, ChangeState]
type = ChangeState
trigger1 = alive
trigger1 = pos x > 300 || pos x < -300
value = 3002

[State 0, ChangeState]
type = ChangeState
trigger1 = !alive
trigger1 = pos x > 300 || pos x < -300
value = 944

;---------------------------------------------------------------------------
[Statedef 3002]
type    = A
movetype= H
physics = N
ctrl = 0
velset = 0,0
anim = 3001

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, PosSet]
type = PosSet
trigger1 = pos x > 300 && alive
x = -300

[State 0, PosSet]
type = PosSet
trigger1 = pos x < -300 && alive
x = 300

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = -15
y = -1

[State 0, ChangeState]
type = SelfState
trigger1 = screenpos x = [0,320]
value = 5050

;---------------------------------------------------------------------------
[Statedef 3200]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3205

[State 0, Explod]
type = Explod
trigger1 = facing = 1 && time = 5
anim = 3999
ID = 3998
pos = -217,240
postype = left
vel = 14,0
accel = -.5,0
facing = 1
removetime = 200
supermovetime = 999999
pausemovetime = 999999
scale = 1,1
sprpriority = -99
under = 1
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = facing = -1 && time = 5
anim = 3999
ID = 3998
pos = 217,240
postype = right
vel = -14,0
accel = .5,0
facing = -1
removetime = 200
supermovetime = 999999
pausemovetime = 999999
scale = 1,1
sprpriority = -99
under = 1
ownpal = 1

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 6
time = 35
anim = S3997
sound = S3999,0
pos = 75,-109
movetime = 0
darken = 0
p2defmul = 0

[State 0, Explod]
type = Explod
trigger1 = time = 5
anim = 3998
pos = 75,-109
postype = p1
bindtime = -1
removetime = -2
supermovetime = 999999
pausemovetime = 999999
scale = 1,1
sprpriority = -100
under = 1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "PROTONCANNON!!!"
ID = 3202
stateno = 3202
supermove = 0
pausemove = 0
pos = 35,-70
postype = p1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = S3200,0
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 17
value = S3200,2
volume = 255
channel = -1
freqmul = .6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 27
value = S3200,1
volume = 255
channel = 1
loop = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = time > 220
channel = 1
loop = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 7
time = 220
freq = 60
ampl = -4
phase = 90

[State 0, PalFX]
type = PalFX
trigger1 = (time = [7,220]) && timemod = 4,0
time = 2
add = 50,0,10
mul = 256,256,256

[State 0, ChangeState]
type = ChangeState
trigger1 = time > 250
value = 3201

;---------------------------------------------------------------------------
[Statedef 3201]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3206

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3202]
type    = S
movetype= A
physics = N
sprpriority = -10
poweradd= 0
ctrl = 0

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root,animelem = 1
pos = 35,-70

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root,animelem = 2
pos = 35,-80

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = anim != 3200
trigger1 = root,stateno = 3200 && (root,time <= 10 || root,time >= 220)
trigger2 = root,stateno = 3201
value = 3200

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = anim != 3201
trigger1 = root,stateno = 3200 && root,time = [11,220]
value = 3201

[State 0, Projectile]
type = Projectile
triggerall = (root,var(10)=0||root,var(10)=7)
trigger1 = time = [10,221]
trigger1 = root,stateno = 3200
trigger1 = timemod = 5,0
trigger1 = !win
projanim = 3204
projscale = 1,1
projid = 3204
projremovetime = 2
velocity = 0,0
offset = 34,-29
postype = p1
attr = S,SP
hitflag = MAFDP        ;HLAFD+-
guardflag =
affectteam = E          ;B,E,F
animtype = hard          ;light,medium,hard,back,up,diagup
priority = 7,Hit   ;Hit,Miss,Dodge
damage = 10,10
pausetime = 0,10
sparkno = -1
sparkxy = 0,0
hitsound = S200,4
guardsound = 0,0
ground.type = High
air.type = High
ground.slidetime = 5
ground.hittime = 5
air.hittime = 5
ground.velocity = -5,-5
air.velocity = -5,-5
fall = 1

[State 0, Explod]
type = Explod
trigger1 = numexplod(3202) = 0
trigger1 = time > 10
trigger1 = root,stateno = 3200
trigger1 = facing = 1
anim = 3202
ID = 3202
pos = 34,-29
postype = p1
facing = 1
removetime = -1
bindtime = -1
sprpriority = 99999

[State 0, Explod]
type = Explod
trigger1 = numexplod(3202) = 0
trigger1 = time > 10
trigger1 = root,stateno = 3200
trigger1 = facing = -1
anim = 3202
ID = 3202
pos = 34,-29
postype = p1
facing = 1
removetime = -1
bindtime = -1
sprpriority = 99999

[State 0, Explod]
type = Explod
trigger1 = numexplod(3203) = 0
trigger1 = time > 10
trigger1 = root,stateno = 3200
trigger1 = facing = 1
anim = 3203
ID = 3203
pos = 34,-29
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 99999

[State 0, Explod]
type = Explod
trigger1 = numexplod(3203) = 0
trigger1 = time > 10
trigger1 = root,stateno = 3200
trigger1 = facing = -1
anim = 3203
ID = 3203
pos = 34,-29
postype = p1
facing = 1
removetime = -1
bindtime = -1
sprpriority = 99999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno != 3200 || time >= 220
id = 3202

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno != 3200 || time >= 220
id = 3203

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != [3200,3201]

;---------------------------------------------------------------------------
[Statedef 3300]
type    = A
movetype= A
physics = A
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3307

[State 0, Explod]
type = Explod
trigger1 = facing = 1 && time = 0
anim = 3999
ID = 3998
pos = -217,240
postype = left
vel = 14,0
accel = -.5,0
facing = 1
removetime = 200
supermovetime = 999999
pausemovetime = 999999
scale = 1,1
sprpriority = -99
under = 1
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = facing = -1 && time = 0
anim = 3999
ID = 3998
pos = 217,240
postype = right
vel = -14,0
accel = .5,0
facing = -1
removetime = 200
supermovetime = 999999
pausemovetime = 999999
scale = 1,1
sprpriority = -99
under = 1
ownpal = 1

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 1
time = 35
anim = S3997
sound = S3999,0
pos = 0,-80
movetime = 0
darken = 0
p2defmul = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 3998
pos = 0,-80
postype = p1
bindtime = -1
removetime = -2
supermovetime = 999999
pausemovetime = 999999
scale = 1,1
sprpriority = -100
under = 1
ownpal = 1

[State 0, Projectile]
type = Projectile
triggerall = (!var(10)||var(10)=7)
trigger1 = time > 4
projanim = 200
projremovetime = 1
projpriority = 7
offset = 50,-75
postype = p1
attr = S,SP
hitflag = MAFP
guardflag =
affectteam = E          ;B,E,F
animtype = back
priority = 7,Hit
damage = 200,200
sparkno = 3
sparkxy = 10,25
hitsound = S200,3
guardsound = 0,0
ground.type = High
p1stateno = 3301
p2stateno = 3303
kill = 0

[State 0, VelSet]
type = VelSet
trigger1 = time <= 4
x = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 4
x = 15
y = 10

;---------------------------------------------------------------------------
[Statedef 3301]
type    = A
movetype= A
physics = N
poweradd= 0
sprpriority = 2
ctrl = 0
velset = 0,0
anim = 3302

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 12
y = 8

[State 0, TargetBind]
type = TargetBind
trigger1 = 1
pos = 65,-50

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y >= 0
value = 3302
ctrl = 0

;---------------------------------------------------------------------------
[Statedef 3302]
type    = A
movetype= A
physics = N
poweradd= 0
sprpriority = 2
ctrl = 0
velset = 0,0
anim = 41

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "hole"
ID = 3305
stateno = 3305
pos = 0,0
postype = p1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 3303
ID = 3303
pos = 120,0
postype = p1
removetime = 14
sprpriority = 5

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 999

[State 0, PosSet]
type = PosSet
trigger1 = time = 250
y = 5

[State 0, VelSet]
type = VelSet
trigger1 = time = [250,275]
x = -2.5
y = -7

[State 0, VelAdd]
type = VelAdd
trigger1 = time >= 250
y = .5

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time > 275
physics = A

[State -2, Helper]
type = Helper
trigger1 = !numhelper(9998)
helpertype = normal ;player
name = "pwncanceler"
ID = 9998
stateno = 9998
pos = 0,0
postype = p1
supermovetime = 2000000000
pausemovetime = 2000000000

[State 0, ChangeState]
type = ChangeState
trigger1 = time > 260 && command = "x"
value = 200

;---------------------------------------------------------------------------
[Statedef 3303]
type    = A
movetype= H
physics = N
poweradd= 0
sprpriority = 2
ctrl = 0
velset = 0,0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

[State 0, Turn]
type = Turn
trigger1 = facing = (enemynear,facing)

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = -12
y = 8

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y >= 10
value = 3304
ctrl = 0

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = anim != 3304
value = 3304

;---------------------------------------------------------------------------
[Statedef 3304]
type    = A
movetype= H
physics = N
poweradd= 0
sprpriority = 2
ctrl = 0
velset = 0,0
anim = 3304

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 999

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 250 && name != "Chuck_Norris"
value = -300

[State 0, ChangeState]
type = ChangeState
trigger1 = time > 250 && alive
value = 3307

[State 0, ChangeState]
type = ChangeState
trigger1 = time > 250 && !alive
value = 944

;---------------------------------------------------------------------------
[Statedef 3307]
type    = A
movetype= H
physics = N
poweradd= 0
sprpriority = 2
ctrl = 0
velset = 0,-11
anim = 3354

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = -10

[State 0, ChangeState]
type = SelfState
trigger1 = time > 0
value = 5050

;---------------------------------------------------------------------------
[Statedef 3305]
type    = S
movetype= A
physics = N
poweradd= 0
sprpriority = 0
ctrl = 0
velset = 0,0
anim = 3300

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S3301,0
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3300,1
volume = -300
channel = -1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 32
value = 0

[State 0, VarSet]
type = VarAdd
trigger1 = time < 10
fv = 32
value = .1

[State 0, VarSet]
type = VarSet
trigger1 = time = 10
fv = 32
value = 1

[State 0, VarSet]
type = VarAdd
trigger1 = time >= 264
fv = 32
value = -.1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = fvar(32),fvar(32)

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 10
time = 10
freq = 60
ampl = -4
phase = 90

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 60
time = 200
freq = 90
ampl = -8
phase = 90

[State 0, Helper]
type = Helper
trigger1 = !numhelper(3306) && time = 50
helpertype = normal
name = "firecolumn"
ID = 3306
stateno = 3306
pos = 0,10
postype = p1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time > 274

;---------------------------------------------------------------------------
[Statedef 3306]
type    = S
movetype= A
physics = N
poweradd= 0
sprpriority = 999999
ctrl = 0
velset = 0,0
anim = 3301

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1.25,1.25

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3300,0
volume = -350
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,0
value = S3300,1
volume = -350
channel = -1

[State 0, Projectile]
type = Projectile
triggerall = (root,var(10)=0||root,var(10)=7)
trigger1 = time = [10,190]
trigger1 = timemod = 5,0
projanim = 3305
projscale = 1,1
projid = 3305
projremovetime = 2
velocity = 0,0
offset = 34,-29
postype = p1
attr = S,SP
hitflag = MAFDP        ;HLAFD+-
guardflag =
affectteam = E          ;B,E,F
animtype = hard          ;light,medium,hard,back,up,diagup
priority = 7,Hit   ;Hit,Miss,Dodge
damage = 5,5
pausetime = 0,15
sparkno = -1
sparkxy = 0,0
hitsound = S200,4
guardsound = 0,0
ground.type = High
air.type = High
ground.slidetime = 5
ground.hittime = 5
air.hittime = 5
ground.velocity = 0,0
air.velocity = 0,0
fall = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 200
value = 3306

[State 0, DestroySelf]
type = DestroySelf
trigger1 = anim = 3306 && animtime = 0

;---------------------------------------------------------------------------
[Statedef 3400]
type    = A
movetype= A
physics = N
poweradd= 0
ctrl = 0
velset = 0,0
anim = 41

[State 0, Explod]
type = Explod
trigger1 = facing = 1 && time = 1
anim = 3999
ID = 3998
pos = -217,240
postype = left
vel = 14,0
accel = -.5,0
facing = 1
removetime = 200
supermovetime = 999999
pausemovetime = 999999
scale = 1,1
sprpriority = -99
under = 1
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = facing = -1 && time = 1
anim = 3999
ID = 3998
pos = 217,240
postype = right
vel = -14,0
accel = .5,0
facing = -1
removetime = 200
supermovetime = 999999
pausemovetime = 999999
scale = 1,1
sprpriority = -99
under = 1
ownpal = 1

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 1
time = 35
anim = S3997
sound = S3999,0
pos = 0,-80
movetime = 0
darken = 1
p2defmul = 0

[State 0, Explod]
type = Explod
trigger1 = time = 1
anim = 3998
pos = 0,-80
postype = p1
bindtime = -1
removetime = -2
supermovetime = 999999
pausemovetime = 999999
scale = 1,1
sprpriority = -100
under = 1
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
y = -8

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y < -200
value = 3401
ctrl = 0

;---------------------------------------------------------------------------
[Statedef 3401]
type    = A
movetype= A
physics = N
poweradd= 0
ctrl = 0
velset = 0,0
anim = 10000

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = -999

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "ROADSUMMERDA!!!"
ID = 3403
stateno = 3403
pos = 0,-200
supermovetime = 2000000000
pausemovetime = 2000000000
postype = p2

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 0, ChangeState]
type = ChangeState
trigger1 = time > 1 && !numhelper(3403)
value = 3402
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = enemynear,life = 0 && roundstate > 2 && win
value = 3404
ctrl = 0

;---------------------------------------------------------------------------
[Statedef 3402]
type    = A
movetype= A
physics = A
poweradd= 0
ctrl = 0
velset = 0,0
anim = 41

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = -200

;---------------------------------------------------------------------------
[Statedef 3404]
type    = S
movetype= I
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 10000

[State 0, posset]
type = Posset
trigger1 = 1
x = 0
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = noBG
flag3 = noFG

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = globalnoshadow

[State 0, ChangeState]
type = ChangeState
trigger1 = !numhelper(3403)
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3403]
type    = A
movetype= A
physics = N
poweradd= 0
ctrl = 0
sprpriority = 999999
velset = 0,0
anim = 3400

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 0, AllPalFX]
type = AllPalFX
trigger1 = pos y >= 0 && time <= 20
time = 300
sinadd = 256,256,256,1200

[State 0, AllPalFX]
type = AllPalFX
trigger1 = time = [320,370]
time = 2
add = 256,256,256

[State 0, AllPalFX]
type = AllPalFX
trigger1 = time = 371
time = 50
add = 256,256,256
sinadd = -256,-256,-256,200

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = win
flag = nobardisplay
flag2 = noBG
flag3 = noFG

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = globalnoshadow

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = 0
y = -200

[State 0, VelSet]
type = VelSet
trigger1 = pos y < 0
y = 20

[State 0, Projectile]
type = Projectile
triggerall = (root,var(10)=0||root,var(10)=7)
trigger1 = pos y = 0
projanim = 3102
projremovetime = 1
offset = 0,0
postype = p1
attr = S,SP
hitflag = MAFDP        ;HLAFD+-
guardflag =
affectteam = E          ;B,E,F
animtype = diagup
priority = 7,Hit   ;Hit,Miss,Dodge
damage = 999999,999999
pausetime = 0,0
sparkno = -1
sparkxy = -10,-70
ground.type = High
air.type = High
ground.slidetime = 40
ground.hittime = 160
air.hittime = 160
ground.velocity = 0,0
air.velocity = 0,0
fall = 1
fall.recover = 0

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y >= 0 && !numexplod(3405) && time <= 250
value = S3400,0
volume = 255
channel = -1

[State 0, Explod]
type = Explod
trigger1 = !numexplod(3405) && pos y >= 0 && time <= 250
anim = 1102
ID = 3405
pos = 0,0
postype = p1
removetime = 20
scale = .5,.5
sprpriority = 999999
ontop = 1

[State 0, Explod]
type = Explod
trigger1 = !numexplod(3406) && pos y >= 0 && time <= 250
anim = 1102
ID = 3406
pos = 125,-25
postype = p1
scale = .5,.5
removetime = 20
sprpriority = 999999
ontop = 1

[State 0, Explod]
type = Explod
trigger1 = !numexplod(3407) && pos y >= 0 && time <= 250
anim = 1102
ID = 3407
pos = -125,-25
postype = p1
scale = .5,.5
removetime = 20
sprpriority = 999999
ontop = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = pos y >= 0
trigger1 = timemod = 9,0
time = 9
freq = 90
ampl = -16
phase = 90

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time > 371
trigger2 = root,command = "holdstart"||parent,command = "holdstart"||command = "holdstart"
trigger2 = roundstate = [2,3]
ignorehitpause = 1
persistent = 1

;---------------------------------------------------------------------------
[Statedef 3350]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3350

[State 0, Explod]
type = Explod
trigger1 = facing = 1 && time = 0
anim = 3999
ID = 3998
pos = -217,240
postype = left
vel = 14,0
accel = -.5,0
facing = 1
removetime = 200
supermovetime = 999999
pausemovetime = 999999
scale = 1,1
sprpriority = -99
under = 1
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = facing = -1 && time = 0
anim = 3999
ID = 3998
pos = 217,240
postype = right
vel = -14,0
accel = .5,0
facing = -1
removetime = 200
supermovetime = 999999
pausemovetime = 999999
scale = 1,1
sprpriority = -99
under = 1
ownpal = 1

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 1
time = 35
anim = S3997
sound = S3999,0
pos = 0,-80
movetime = 35
darken = 0
p2defmul = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 3998
pos = 0,-80
postype = p1
bindtime = -1
removetime = -2
supermovetime = 999999
pausemovetime = 999999
scale = 1,1
sprpriority = -100
under = 1
ownpal = 1

[State 0, AfterImage]
Type = Afterimage
trigger1 = animelem = 5
time = 25
length = 7
framegap = 1
timegap = 1
palcolor = 256
PalBright = 0,0,0
PalContrast = 0,0,0
paladd = 0,0,0
palmul = 0,0,0
trans = none

[State 0, Projectile]
type = Projectile
triggerall = (!var(10)||var(10)=7)
trigger1 = time = [36,55]
projanim = 200
projremovetime = 1
projpriority = 7
offset = 40,-50
postype = p1
attr = S,SP
hitflag = MAFP
guardflag =
affectteam = E
animtype = back
priority = 7,Hit
damage = 0,0
sparkno = -1
sparkxy = 0,0
ground.type = High
p1stateno = 3351
p2stateno = 3353
p1getp2facing = 1
kill = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = [36,55]
x = 15

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3351]
type    = S
movetype= I
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3351

[State 0, TargetBind]
type = TargetBind
trigger1 = 1
pos = 60,-85

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = [50,250]
time = 2
mul = 0,0,0

[State 0, Explod]
type = Explod
trigger1 = time = [50,100]
trigger1 = timemod = 10,0
trigger2 = time = 50
anim = F0
pos = (random/10)-50,-(random/10)
postype = p1
facing = floor(random/500)-1
vfacing = floor(random/500)-1
removetime = -2
sprpriority = 999999
ontop = 1

[State 0, Explod]
type = Explod
trigger1 = time = [100,150]
trigger1 = timemod = 7,0
trigger2 = time = 100
anim = F1
pos = (random/10)-50,-(random/10)
postype = p1
facing = floor(random/500)-1
vfacing = floor(random/500)-1
removetime = -2
sprpriority = 999999
ontop = 1

[State 0, Explod]
type = Explod
trigger1 = time = [150,200]
trigger1 = timemod = 5,0
trigger2 = time = 150
anim = F2
pos = (random/10)-50,-(random/10)
postype = p1
facing = floor(random/500)-1
vfacing = floor(random/500)-1
removetime = -2
sprpriority = 999999
ontop = 1

[State 0, Explod]
type = Explod
trigger1 = time = [200,250]
trigger1 = timemod = 2,0
trigger2 = time = 200
anim = F3
pos = (random/10)-50,-(random/10)
postype = p1
facing = floor(random/500)-1
vfacing = floor(random/500)-1
removetime = -2
sprpriority = 999999
ontop = 1

[State 0, HitAdd]
type = HitAdd
trigger1 = time = [50,100]
trigger1 = timemod = 10,0
trigger2 = time = 50
value = 1

[State 0, HitAdd]
type = HitAdd
trigger1 = time = [100,150]
trigger1 = timemod = 7,0
trigger2 = time = 100
value = 1

[State 0, HitAdd]
type = HitAdd
trigger1 = time = [150,200]
trigger1 = timemod = 5,0
trigger2 = time = 150
value = 1

[State 0, HitAdd]
type = HitAdd
trigger1 = time = [200,250]
trigger1 = timemod = 2,0
trigger2 = time = 200
value = 13

[State 0, HitAdd]
type = HitAdd
trigger1 = time = 251
value = 302

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = [50,100]
trigger1 = timemod = 10,0
trigger2 = time = 50
value = S200,0
volume = 255

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = [100,150]
trigger1 = timemod = 7,0
trigger2 = time = 100
value = S200,1
volume = 255

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = [150,200]
trigger1 = timemod = 5,0
trigger2 = time = 150
value = S200,2
volume = 255

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = [200,244]
trigger1 = timemod = 2,0
trigger2 = time = 200
value = S200,3
volume = 255

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time >= 50
flag = invisible

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 251
value = 3352
ctrl = 0

;---------------------------------------------------------------------------
[Statedef 3352]
type    = S
movetype= I
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3352

[State 0, TargetState]
type = TargetState
trigger1 = target,stateno != 3354 && time < 20
value = 3354

[State 0, PlaySnd]
type = PlaySnd
triggerall = time = 2
trigger1 = enemynear,life = 0 && roundstate > 2 && win
value = S3350,0
volume = 255

[State 0, Explod]
type = Explod
trigger1 = facing = 1 && !numexplod(3353)
trigger1 = enemynear,life = 0 && roundstate > 2 && win
anim = 3353
ID = 3353
pos = 0,240
postype = left
facing = 1
removetime = -1
bindtime = -1
supermovetime = 999999
pausemovetime = 999999
scale = 1,1
sprpriority = -99
under = 1
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = facing = -1 && !numexplod(3353)
trigger1 = enemynear,life = 0 && roundstate > 2 && win
anim = 3353
ID = 3353
pos = 0,240
postype = right
facing = -1
removetime = -1
bindtime = -1
supermovetime = 999999
pausemovetime = 999999
scale = 1,1
sprpriority = -99
under = 1
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = var(33)
flag = noautoturn

[State 0, VarSet]
type = VarSet
trigger1 = 1
trigger1 = enemynear,life = 0 && roundstate > 2 && win
v = 33
value = 1

[State -2, Helper]
type = Helper
trigger1 = !numhelper(9998)
helpertype = normal ;player
name = "pwncanceler"
ID = 9998
stateno = 9998
pos = 0,0
postype = p1
supermovetime = 2000000000
pausemovetime = 2000000000

[State 0, ChangeState]
type = ChangeState
trigger1 = time > 60
trigger1 = enemynear,life > 0 || roundstate <= 2 || !win
value = 0
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time > 200
trigger1 = enemynear,life = 0 && roundstate > 2 && win
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3353]
type    = A
movetype= H
physics = N
poweradd= 0
ctrl = 0
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time >= 50
flag = invisible

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = anim != 3354
value = 3354

;---------------------------------------------------------------------------
[Statedef 3354]
type    = L
movetype= H
physics = N
poweradd= 0
ctrl = 0
velset = 0,0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = anim != 3355
value = 3355

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 0 && name != "Chuck Norris"
value = -400

[State 0, VarSet]
type = VarSet
trigger1 = 1
sysvar(0) = 1

[State 0, SelfState]
type = SelfState
trigger1 = alive && time > 40
value = 5110

[State 0, SelfState]
type = SelfState
trigger1 = !alive && time > 0
value = 5150

;---------------------------------------------------------------------------
[Statedef 9997]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 10000

[State 0, Nothing]
type = null
trigger1 = 1

;---------------------------------------------------------------------------
[Statedef 9998]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 10000

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root, stateno != 3000
trigger1 = target, stateno != [251,252]
trigger1 = root, stateno != 15850
trigger1 = root, stateno != 3302
trigger1 = root, stateno != 1301
trigger1 = root, stateno != 3352

[State -2, Helper]
type = Helper
triggerall = !numhelper(9997)
trigger1 = enemynear,life = 0 && roundstate > 2 && win
helpertype = normal
name = "pwncanceler2"
ID = 9997
stateno = 9997
pos = 0,0
postype = p1
supermovetime = 2000000000
pausemovetime = 2000000000

;---------------------------------------------------------------------------
[Statedef 9999]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 10000

[State -2, Explod]
type = Explod
triggerall = numexplod(3205) = 0 && (root,var(10)=0||root,var(10)=7)
trigger1 = time = 0
anim = 1102
ID = 3205
pos = 0,-1079
postype = p2
removetime = 31
sprpriority = 999999

[State -2, PlaySnd]
type = PlaySnd
triggerall = numexplod(3205) != 0 && (root,var(10)=0||root,var(10)=7)
trigger1 = time = 0
value = S1101,0
volume = 0
channel = -1

;---------------------------------------------------------------------------
[Statedef 45000]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 10000

[State 0, DestroySelf]
type = DestroySelf
trigger1 = roundstate < 3

;---------------------------------------------------------------------------
[Statedef 50000]
type = A
physics = N
anim = 10000
sprpriority = 5
ctrl = 0

[State 50000]
type = bindtoroot
trigger1 = 1
pos = 0,0
facing = 1

[State 50000]
type = changeanim
trigger1 = selfanimexist(root,anim)
value = (root,anim)
elem = (root,animelemno(0))

[State 50000]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 50000]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 50000]
type = angledraw
trigger1= 1
scale= 1 + 0.02*(gametime%12), 1 + 0.02*(gametime%12)

[State 50000]
type = trans
trigger1 = 1
trans = addalpha
alpha= 250 - 23*(gametime%12), 23*(gametime%12)
ignorehitpause = 1

[State 50000]
type = destroyself
trigger1=roundstate!=2
trigger2=(root,stateno=[123456,234567])||(root,stateno=[987654,987655])
trigger3=(root,stateno=3351&&root,time=[50,250])
trigger4=root,stateno=15852||root,stateno=120||root,stateno=851111

;---------------------------------------------------------------------------
; WTF ????????????????????????????????????
[Statedef 123456]
type    = S
movetype= I
physics = N
poweradd= 999999
ctrl = 0
velset = 0,0
anim = 40000

[State 0, SuperPause]
type = SuperPause
trigger1 = 1
time = 999999
anim = -1
movetime = 999999
darken = 0
p2defmul = 0
unhittable = 1

[State 0, AllPalFX]
type = AllPalFX
trigger1 = 1
time = 1
add = random/4,random/4,random/4
mul = random/4,random/4,random/4
ignorehitpause = 1
persistent = 1
supermove = 999999
pausemove = 999999

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = 0
y = 0
supermove = 999999
pausemove = 999999

[State 0, ChangeState]
type = ChangeState
trigger1 = time >= 200
value = 234567
ctrl = 0
supermove = 999999
pausemove = 999999

[State 0, ChangeState]
type = ChangeState
trigger1 = var(10)!=1
value = 0
ctrl = 1
supermove = 999999
pausemove = 999999

;---------------------------------------------------------------------------
; WTF again ????????????????????????????????????
[Statedef 234567]
type    = S
movetype= I
physics = N
poweradd= 999999
ctrl = 0
velset = 0,0
anim = 3100

[State 0, SuperPause]
type = SuperPause
trigger1 = 1
time = 999999
anim = -1
movetime = 999999
darken = 0
p2defmul = 0
unhittable = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = noBG
flag3 = noFG
supermove = 999999
pausemove = 999999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nomusic
supermove = 999999
pausemove = 999999

[State 0, Explod]
type = Explod
trigger1 = !numexplod(2345670) && time = 0
anim = 2345670
ID = 2345670
pos = 160,120
postype = left
removetime = 180
bindtime = -1
supermove = 999999
pausemove = 999999
scale = .5,.5
sprpriority = 99999999999999999999999999999999999999999999999999999999999999999
ontop = 1

[State 0, Explod]
type = Explod
trigger1 = !numexplod(2345670) && !numexplod(2345673) && time > 0
anim = 2345673
ID = 2345673
pos = 0,0
postype = left
removetime = -1
bindtime = -1
supermove = 999999
pausemove = 999999
scale = .5,.5
sprpriority = 999999999999999999999999999999999999999999999999999999999999999999
ontop = 1

[State 0, Explod]
type = Explod
trigger1 = !numexplod(18201)
anim = 18201
ID = 18201
pos = 0,0
postype = left
removetime = -1
bindtime = -1
supermove = 999999
pausemove = 999999
scale = .5,.5
sprpriority = 9999999999999999999999999999999999999999999999999999999999999999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 180
value = S66666,0
volume = 255
channel = 0
loop = 1
persistent = 1
supermove = 999999
pausemove = 999999

[State 0, EnvShake]
type = EnvShake
trigger1 = time > 180 && timemod = 5,0
time = 5
freq = 120
ampl = -8
supermove = 999999
pausemove = 999999

[State 0, StopSnd]
type = StopSnd
trigger1 = time < 180
channel = -1
supermove = 999999
pausemove = 999999

[State 0, ChangeState]
type = ChangeState
trigger1 = time >= 540
value = 987654
ctrl = 0
supermove = 999999
pausemove = 999999

[State 0, ChangeState]
type = ChangeState
trigger1 = var(10)!=1
value = 0
ctrl = 1
supermove = 999999
pausemove = 999999

;---------------------------------------------------------------------------
; MUGEN F1'D !!!!!!!!!!!!!!!!!!!!!!!!!!!!!
[Statedef 987654]
type    = S
movetype= I
physics = N
poweradd= 0
ctrl = 0
velset = 0,0
anim = 10000

[State 0, ChangeState]
type = ChangeState
trigger1 = var(10)=1
value = 987654
ctrl = 0
supermove = 999999
pausemove = 999999

[State 0, ChangeState]
type = ChangeState
trigger1 = var(10)!=1
value = 0
ctrl = 1
supermove = 999999
pausemove = 999999

;---------------------------------------------------------------------------
[statedef 851111]
type = S
movetype = A
physics = S
velset = 0,0
sprpriority = 1
ctrl = 0

[State -2, Helper]
type = Helper
trigger1 = !numhelper(9998)
helpertype = normal ;player
name = "pwncanceler"
ID = 9998
stateno = 9998
pos = 0,0
postype = p1
supermovetime = 2000000000
pausemovetime = 2000000000

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim != 40000
value = 40000

[state 851111]
type = lifeset
trigger1 = 1
value = lifemax
ignorehitpause = 1

[state 851111]
type = powerset
trigger1 = 1
value = powermax
ignorehitpause = 1

[State 851111]
type = ReversalDef
triggerall = !ishelper
trigger1 = alive
reversal.attr = SCA,AA,AT,AP
priority = 7, Hit
pausetime = 0,0
hitsound = -1
ignorehitpause = 1

[state 851111]
type = targetstate
triggerall = !ishelper&&numenemy
triggerall = roundstate = 2
trigger1 = numtarget
value = 30101
ignorehitpause = 1

[State changeprev]
type = changestate
trigger1 = numhelper(45000)
value = 15852
ctrl = 0
ignorehitpause = 1
pausemovetime = 99990000000
supermovetime = 99990000000

