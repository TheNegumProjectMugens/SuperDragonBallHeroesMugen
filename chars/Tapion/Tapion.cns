; KFM's constants and state file.
; There are comments scattered through this file, so you may like to
; take a look if would like to learn more about the cns.

; これはKFMの定数と状態のファイルです。
; このファイルの中には注釈が散らされているので、CNSを習いたいお方は
; 読んでみたらいいです。

[Data]
;Amount of life to start with
;体力ゲージの初期値
life = 1200
;attack power (more is stronger)
Power = 3000
;攻撃ダメージ
attack = 120
;defensive power (more is stronger)
;体力パワー
defence = 120
;Percentage to increase defense everytime player is knocked down
fall.defence_up = 50
;Time which player lies down for, before getting up
liedown.time = 60
;Number of points for juggling
airjuggle = 15
;Default hit spark number for HitDefs
sparkno = 2
;Default guard spark number
guard.sparkno = 40
;1 to enable echo on KO
KO.echo = 0
;Volume offset (negative for softer)
volume = 0
;Variables with this index and above will not have their values
;reset to 0 between rounds or matches. There are 60 int variables,
;indexed from 0 to 59, and 40 float variables, indexed from 0 to 39.
;If omitted, then it defaults to 60 and 40 for integer and float
;variables repectively, meaning that none are persistent, i.e. all
;are reset. If you want your variables to persist between matches,
;you need to override state 5900 from common1.cns.
IntPersistIndex = 60
FloatPersistIndex = 40

[Size]
xscale = 1           ;Horizontal scaling factor.
yscale = 1           ;Vertical scaling factor.
ground.back = 15     ;Player width (back, ground)
ground.front = 16    ;Player width (front, ground)
air.back = 12        ;Player width (back, air)
air.front = 12       ;Player width (front, air)
height = 60          ;Height of player (for opponent to jump over)
attack.dist = 160    ;Default attack distance
proj.attack.dist = 90 ;Default attack distance for projectiles
proj.doscale = 0     ;Set to 1 to scale projectiles too
head.pos = -5, -90   ;Approximate position of head
mid.pos = -5, -60    ;Approximate position of midsection
shadowoffset = 0     ;Number of pixels to vertically offset the shadow
draw.offset = 0,0    ;Player drawing offset in pixels (x, y)

[Velocity]
walk.fwd  = 2      ;Walk forward
walk.back = -2     ;Walk backward
run.fwd  = 6.6, 0    ;Run forward (x, y)
run.back = -4.5,-3.8 ;Hop backward (x, y)
jump.neu = 0,-8.4    ;Neutral jumping velocity (x, y)
jump.back = -2.55    ;Jump back Speed (x, y)
jump.fwd = 2.5       ;Jump forward Speed (x, y)
runjump.back = -2.55,-8.1 ;Running jump speeds (opt)
runjump.fwd = 4,-8.1      ;.
airjump.neu = 0,-8.1      ;.
airjump.back = -2.55      ;Air jump speeds (opt)
airjump.fwd = 2.5         ;.

[Movement]
airjump.num = 0      ;Number of air jumps allowed (opt)
airjump.height = 35  ;Minimum distance from ground before you can air jump (opt)
yaccel = .44         ;Vertical acceleration
stand.friction = .85  ;Friction coefficient when standing
crouch.friction = .82 ;Friction coefficient when crouching

;---------------------------------------------------------------------------
; Variable usage:
; This is a record of the variables that KFM uses. Keeping a record of your
; variable usage helps you avoid careless mistakes later.
; var(1)  - Used in kfm.cmd for combo condition (updated every tick)
; var(2)  - Used in Kung Fu Throw (state 800) to remember if fwd was being
;           held (remembered from state 800 through state 810).


;---------------------------------------------------------------------------
; Lose by Time Over
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 170]
type = S
ctrl = 0
anim = 5300
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,9
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S5,8
volume = 100


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,200]
flag = roundnotover

;---------------------------------------------------------------------------
; Win state decider
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 181

;---------------------------------------------------------------------------
; Win pose 1

[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,9
volume = 100

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,170]
flag = roundnotover


;---------------------------------------------------------------------------
; Introduction
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0


[State 191:		AssertSpecial]
type			= AssertSpecial
;trigger1		= (Time >1)
trigger1		= 1
flag			= Intro
;flag2			= NoBarDisplay
flag3			= NoMusic

;[State 1852, EnvShake]
;type = EnvShake
;trigger1 = time = 250
;time = 1200
;freq = 50
;ampl = -2
;phase = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = 15,7
volume = 0
channel = 9
freqmul = 1.0
loop = 1
pan = 0

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 400
channel = 9
;ignorehitpause =
;persistent =

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 400
value = 15,0
volume = 0
channel = 7
freqmul = 1.0
loop = 1
pan = 0




[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 250
value = 15,8
volume = 0
channel = 12
freqmul = 1.0
loop = 1
pan = 0

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 1600
channel = 12
;ignorehitpause =
;persistent =

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1600
value = 15,9
volume = 0
channel = 11
freqmul = 1.0
loop = 1
pan = 0

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 1700
channel = 11
;ignorehitpause =
;persistent =

[State 191, cajita girando]
type = Explod
trigger1 = time = 0
anim = 191
ID =  191
pos = 0,43
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 300
supermove = 1
pausemove =1
scale = 1, 1
sprpriority = 5
ontop = 0
;shadow = 255,255,255
ownpal = 0
removeongethit = 0
ignorehitpause = 0

[State 191, abriendo]
type = Explod
trigger1 = time = 300
anim = 192
ID =  192
pos = 0,43
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
pausemove =1
scale = 1, 1
sprpriority = 5
ontop = 0
;shadow = 255,255,255
ownpal = 0
removeongethit = 0
ignorehitpause = 0

[State 191,]
type = Explod
trigger1 = time = 228
anim = 7150
ID =  7150
pos = 0,47
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.5, 0.5
sprpriority = 4

[State 191,]
type = Explod
trigger1 = time = 258
anim = 7155
ID =  7155
pos = -15,47
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.5, 0.5
sprpriority = 6

[State 191,humo A]
type = Explod
trigger1 = time = 300
anim = 193
ID =  193
pos = -3,48
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = 700;1000
;supermove = 1
;pausemove =1
scale = 0.6, 0.6
sprpriority = 5
ontop = 1

[State 2200, Explod]
type = Explod
trigger1 = time = 500
anim =  9800
ID = 9800
pos = 0,-50
postype = p1
facing = 1
vfacing = 1
bindtime = 999
scale = 1, 0.7
removetime = 10
removeongethit = 1
sprpriority = 6


[State 191, humo B]
type = Explod
trigger1 = time = 1000
anim = 194
ID =  194
pos = -3,45;28
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
pausemove =1
scale = 0.6, 0.6
sprpriority = 1
ontop = 1
;shadow = 255,255,255
ownpal = 0
removeongethit = 0
ignorehitpause = 0

[State 191,]
type = Explod
trigger1 = time = 500
anim = 195
ID =  195
pos = 0,-55
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = 1150
scale = 0.3, 0.5
sprpriority = 4

[State 191,]
type = Explod
trigger1 = time = 300
anim = 196
ID =  196
pos = -30,47
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = 1600
scale = 0.5, 0.5
sprpriority = 4

[State 191,]
type = Explod
trigger1 = time = 300
anim = 197
ID =  197
pos = 30,47
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = 1600
scale = 0.5, 0.5
sprpriority = 4


[State 888:		Helper]
type		= Helper
triggerall      = time >= 500 && time < 1500
trigger1        = time%15 = 0
helpertype	= Normal
name		= "Viento en espiral"
id		= 198
pos		= 0,-100
postype		= p1
facing		= 1
stateno		= 198
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.7
size.yscale     = 0.7



[State 191,]
type = Explod
trigger1 = time = 500
anim = 8200
ID =  8200
pos = 3,43
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.7, 0.7
sprpriority = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 500
value = 3,31
volume = 0
channel = 5



[State 0, PosSet]
type = PosSet
trigger1 = time = 0
;x = 0
y = -40
;ignorehitpause =
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = time = 1650
x = 0
y = 0.2
;ignorehitpause =
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 2
x = 0
y = 0
;ignorehitpause =
;persistent =

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1859
value = S40,0



[State 191, 1]
type = ChangeState
;trigger1        = (!AnimTime)
trigger1 = time = 2000
value = 0

;--------------------------------------------
;Intro - viento en espiral
[Statedef 198]
movetype	= A
anim		= 198
;velset          = 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 0: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 40
framegap 	= 1
length 		= 5
paladd 		= 0, 0, 0
palmul 		= .90, .90, .95
palcontrast 	= 150,150,165
trans 		= add



[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
;value =  (winmugen only)
scale = fvar(19), fvar(19)


[State 0, VelSet]
type = Veladd
trigger1 = time >= 0 && vel Y < 3
x = 0
y = 0.2

[State 2060, VarSet]
type = Varset
trigger1 = time = 0
fv = 19
value = 0.1

[State 2060, VarAdd]
type = Varadd
trigger1 = time >= 0;time = [0, 25]
fv = 19
value = 0.03

[State 2060, VarAdd]
type = Varadd
trigger1 = time >= 20;time = [26, 40]
fv = 19
value = -0.05


[State 1001:	DestroySelf]
type			= DestroySelf
trigger1                = animtime = 0

;------------------------------------------------------------------------
;Flying Start
[Statedef 1110]
type = A
movetype = A
physics = A
juggle  = 7
velset = 0, -6
ctrl = 0
anim = 1110

[State 1110, 1]
type = PlaySnd
trigger1 = Animelem = 1
value = 1, 2

[State 1110, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 1100
ctrl = 1

;--------------------------------------------------------------------------
;Flying
[Statedef 1100]
type = A
ctrl = 0
anim = 1100
velset = 0,0

[State 1100, PowerAdd]
type = PowerAdd
trigger1 = time > 0
value = -2

[State 1100, parar1]
type = VelSet
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
trigger1 = var(2) = 0
trigger2 = Pos Y < -450
x = 0
y = 0

[State 1100, papar2]
type = ChangeAnim
trigger1 = command != "holdup"
trigger1 = command != "holddown"
trigger1 = Anim != 1100
value = 1100

[State 1100,Var(1)]
type = VarSet
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
trigger1 = Var(2) != 2
trigger2 = Var(2) = 2
trigger2 = Vel Y >= 0.3
v = 2
value = 1

[State 1100,Var(2)]
type = VarSet
trigger1 = Var(2) = 1
trigger1 = Vel Y <= -0.3
v = 2
value = 2

[State 1100,Up]
type = VelAdd
trigger1 = Var(2) = 1
y = -0.02

[State 1100,Down]
type = VelAdd
trigger1 = Var(2) = 2
y = 0.03

[State 1100,fuwaEnd]
type = VelSet
Triggerall = var(2) != 0
Trigger1 = command = "holdfwd"
Trigger2 = command = "holdback"
Trigger3 = command = "holdup"
Trigger4 = command = "holddown"
y = 0

[State 1100,fuwaEndVar]
type = VarSet
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
trigger3 = command = "holdup"
trigger4 = command = "holddown"
v = 2
value = 0

[State 1100, UpBorder1]
type = PosSet
trigger1 = Pos Y < -450
y = -450

[State 1100, UpBorder2a]
type = PosAdd
trigger1 = P2BodyDist Y > 450
trigger1 = Vel Y < 0
y = 50

[State 1100, UpBorder2b]
type = VelSet
trigger1 = P2BodyDist Y > 450
trigger1 = Vel Y < 0
y = 0

[State 1100, Runeffect]
type = AfterImage
trigger1 = Command = "FF"
trigger1 = Vel X < 8.6
trigger2 = Command = "BB"
trigger2 = Vel X > -7
trigger3 = Command = "DD"
trigger3 = Vel Y < 8.6
trigger4 = Command = "UU"
trigger4 = Vel Y > -7
time 		= 15
timegap		= 2
framegap 	= 2
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, 0, .50
palcontrast 	= 100,50,150
trans 		= add


[State 1100, RunFwd]
type = VelSet
trigger1 = Command = "FF"
trigger1 = Vel X < 6.6
x = 6.6

[State 1110, 1]
type = PlaySnd
trigger1 = Command = "FF"
value = 0, 9

[State 1100, RunBack]
type = VelSet
trigger1 = Command = "BB"
trigger1 = Vel X > -5.7
x = -5.7

[State 1110, 1]
type = PlaySnd
trigger1 = Command = "BB"
value = 0, 9

[State 1100, RunDown]
type = VelSet
trigger1 = Command = "DD"
trigger1 = Vel Y < 6.6
y = 6.6

[State 1110, 1]
type = PlaySnd
trigger1 = Command = "DD"
value = 0, 9

[State 1100, RunUp]
type = VelSet
trigger1 = Command = "UU"
trigger1 = Vel Y > -5.7
y = -5.7

[State 1110, 1]
type = PlaySnd
trigger1 = Command = "UU"
value = 0, 9

[State 1100, GoDownAnim]
type = ChangeAnim
triggerall = Anim != 1103
trigger1 = command = "holddown"
value = 1103

[State 1100, GoDown1]
type = VelAdd
trigger1 = command = "holddown"
y = 0.3

[State 1100,GoDown2]
type = VelSet
trigger1 = command = "holddown"
trigger1 = Vel Y < 0
y = 0


[State 1100, GoUpAnim]
type = ChangeAnim
trigger1 = Anim != 1104
trigger1 = command = "holdup"
value = 1104

[State 1100, GoUp1]
type = VelAdd
trigger1 = command = "holdup"
y = -0.2

[State 1100,GoUp2]
type = VelSet
trigger1 = command = "holdup"
trigger1 = Vel Y > 0
y = 0


[State 1100, GoBackAnim]
type = ChangeAnim
triggerall = Anim != 1102
trigger1 = command = "holdback"
value = 1102

[State 1100, GoBack1]
type = VelAdd
trigger1 = command = "holdback"
x = -0.15

[State 1100,GoBack2]
type = VelSet
trigger1 = command = "holdback"
trigger1 = Vel X > 0
x = 0

[State 1100, GoFwdAnim]
type = ChangeAnim
trigger1 = Anim != 1101
trigger1 = command = "holdfwd"
value = 1101

[State 1100, GoFwd1]
type = VelAdd
trigger1 = command = "holdfwd"
x = 0.25

[State 1100,GoFwd2]
type = VelSet
trigger1 = command = "holdfwd"
trigger1 = Vel X < 0
x = 0


[State 1100, MakeDust1]
type = MakeDust
triggerall = Pos Y >= -80 && Pos Y <= -70
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
pos = -5, 75
spacing = 3

[State 1100, MakeDust2]
type = MakeDust
triggerall = Pos Y >= -70 && Pos Y <= -60
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
pos = -5, 60
spacing = 3

[State 1100, MakeDust3]
type = MakeDust
triggerall = Pos Y >= -60 && Pos Y <= -50
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
pos = -5, 50
spacing = 3

[State 1100, MakeDust4]
type = MakeDust
triggerall = Pos Y >= -50 && Pos Y <= -40
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
pos = -5, 40
spacing = 3

[State 1100, MakeDust5]
type = MakeDust
triggerall = Pos Y >= -40
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
pos = -5, 30
spacing = 3


[State 1100,Turn]
type = Turn
trigger1 = P2Dist X < 0

[State 1100,Land]
type = ChangeState
trigger1 = Pos Y >= 0
value = 52
ctrl = 1

[State 1100,End]
type = ChangeState
trigger1 = Time > 2
trigger1 = command = "fly"
value = 50
ctrl = 1

[State 1100,WinALose]
type = ChangeState
trigger1 = Win = 1
trigger2 = Lose = 1
value = 1202

;---------------------------------------------------------------------------
[Statedef 1202]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1202

[State 210, 3]
type = VelAdd
trigger1 = AnimElem = 1
trigger1 = AnimElem <= 2
x = -0.3

[State 210, 3]
type = VelSet
trigger1 = AnimElem = 3
x = 0

[State 3021, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1100

[State 210, 3]
type = ChangeState
trigger1 = time = 60
value = 1203

;---------------------------------------------------------------------------
[Statedef 1203]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0

[State 1531, 5]
type = PlaySnd
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
persistent = 0
value = s2,8

[State 52, 3]
type = PosSet
trigger1 = Vel Y = 0
y = 0

[State 209, 1]
type = ChangeAnim
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 1203

[State 209, 1]
type = Velset
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
y = 0

[State 3021, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1100

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------------------
; Super Jump Start
[Statedef 60]
type            = A
movetype        = I
physics         = N
anim            = 41
velset          = 0,-10
ctrl            = 0
poweradd        = 0
juggle          = 0
facep2          = 0
hitdefpersist   = 0
movehitpersist  = 0
hitcountpersist = 0
sprpriority     = 2
;---------------

[state 60, CtrlSet]
type            = CtrlSet
trigger1        = Time >= 1
value           = 1

[state 60, VelSetFwd]
type            = VelSet
trigger1        = command = "holdfwd"
x               = 3

[state 60, VelSetBack]
type            = VelSet
trigger1        = command = "holdback"
x               = -3

[state 60, VelAdd]
type            = VelAdd
trigger1        = Time > 10
x               = 0
y               = .40
;---------------

[State 60, Explod atras]
type = Explod
trigger1 = time = 1
anim = 7109
ID =  7109
pos = -15,30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
pausemove =1
scale = 0.5, 0.4
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0

[State 60, Explod adelante]
type = Explod
trigger1 = time = 1
anim = 7108
ID =  7108
pos = 15,30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
pausemove =1
scale = 0.5, 0.4
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0


[State 60, PlaySnd]
type = PlaySnd
trigger1 =  time = 1
value = s1,4
volume = 50
channel = -1

[state 60, End]
type            = ChangeState
trigger1        = Pos Y >= 1
value           = 52

;---------------------------------------------------------------------------
;Cargar ki
[Statedef 700]
type = S
movetype= I
physics = S
juggle = 9
ctrl = 0
anim = 730
poweradd = 0
facep2 = 1
sprpriority = 0

[State 700, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,1
volume = 100
channel = -1

[State 700, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S11,11
volume = 100
channel = 1

[State 7030:	PlaySnd]
type			= PlaySnd
trigger1		= (Time > 13) && ((GameTime%50) = 0)
value			= S3,2
channel		= 2

[State 700, Explod]
type = Explod
trigger1 = animelem = 2
anim = 2007
ID = 2007
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -1
scale = .9,.9
sprpriority = 0
ownpal = 1
removeongethit	= 1

[State 700, Explod]
type = Explod
trigger1 = animelem = 2
anim = 15180
ID = 15180
pos = -15,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -1
scale = .4,.2
sprpriority = 0
ownpal = 1
removeongethit	= 1

[State 1, aura 1]
type = Explod
trigger1 = random > 750
anim = 2005
ID = 2005
pos = -15,-30
postype = p1
facing = 1
vfacing = 1
bindtime = -1
random = 10,60
supermove = 1
scale = .2,.2
sprpriority = ifelse(random<500,-3,3)
ownpal = 1

[State 1, aura 1]
type = Explod
trigger1 = random > 750
anim = 20051
ID = 20051
pos = -15,-40
postype = p1
facing = 1
vfacing = 1
bindtime = -1
random = 10,40
supermove = 1
scale = .2,.2
sprpriority = ifelse(random<500,-3,3)
ownpal = 1

[State 1, aura 1]
type = Explod
trigger1 = random > 750
anim = 2006
ID = 2006
pos = 10,-70
postype = p1
facing = 1
vfacing = 1
bindtime = -1
random = 10,40
supermove = 1
scale = .2,.2
sprpriority = ifelse(random<500,-3,3)
ownpal = 1

[State 1, aura 1]
type = Explod
trigger1 = random > 750
anim = 2005
ID = 2005
pos = 20,-50
postype = p1
facing = -1
vfacing = 1
bindtime = -1
random = 10,40
supermove = 1
scale = .2,.2
sprpriority = ifelse(random<500,-3,3)
ownpal = 1

[State 1, aura 1]
type = Explod
trigger1 = random > 750
anim = 20051
ID = 20051
pos = 10,-20
postype = p1
facing = -1
vfacing = 1
bindtime = -1
random = 10,40
supermove = 1
scale = .2,.2
sprpriority = ifelse(random<500,-3,3)
ownpal = 1

[State 1, aura 1]
type = Explod
trigger1 = random > 750
anim = 2006
ID = 2006
pos = 0,-40
postype = p1
facing = 1
vfacing = 1
bindtime = -1
random = 10,60
supermove = 1
scale = .2,.2
sprpriority = ifelse(random<500,-3,3)
ownpal = 1

[State 3001, Explod - arena]
type = Explod
trigger1 =  AnimElem = 2
anim =  7109
ID =    7109
pos =  -10 ,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.5,0.5
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0


[State 3001, Explod - arena]
type = Explod
trigger1 =  AnimElem = 2
anim =  7109
ID =    7109
pos =  10 ,5
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.5,0.5
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 700:	EnvShake]
type			= EnvShake
trigger1 		= ((Time > 100) && ((GameTime%5) = 0))
time			= 5
freq			= 140
ampl			= -4
phase			= 90


[State 1000, particulas de esferas]
type = Explod
trigger1  = Time > 2
trigger1 =  GameTime%5 = 0
anim = 2669
Id  = 2669
postype = p1
pos = 0,0
ontop = 1
removetime = 40
supermove = 1
scale = 0.3,0.3
ownpal = 1
random = 30,0
vel = ifelse(random <500,.5,-.5),-2 ;    IfElse(exp_cond,exp_true,exp_false)

[State 700,Poweradd]
type = Poweradd
trigger1 = Time >= 10
value = 7

[State 700,ChangeState]
type = ChangeState
trigger1 = command != "charge" || command != "charge 1"|| power = 3000
trigger2= power=3000
value = 701
ctrl = 1

;fin del charge
[Statedef 701]
type = S
movetype= I
physics = S
juggle = 9
velset = 0,0
ctrl = 0
anim = 701
facep2 = 1

[State 701, RemoveExplod]
type = RemoveExplod
trigger1 = command != "charge" || command != "charge 1"|| power = 3000
id = 2007

[State 701,ChangeState]
type = ChangeState
trigger1 = power < 3000 && animelem =1 && time > 15
value = 0
ctrl = 1

[State 701,ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------------------------------------------------------------------------

;Zanzoken
[Statedef 1090]
type=S
movetype=I
physics=N
velset=0,0
sprpriority=0
ctrl=0
anim = 1030
Poweradd = -200

[State 0, ]
type=ChangeAnim
trigger1=!time
value=anim
elem=animelemno(0)
[State 0]
type=null;ChangeAnim
trigger1=(time<5)
;value=ifelse(pos y >=0,22,29)

[State 0]
type=AssertSpecial
trigger1=(time=[5,35])
flag=invisible
flag2=noshadow
ignorehitpause=1

[State 0]
type=EnvShake
trigger1=time=5
time=8
freq=260
ampl=-8

;[State 0]
;type=AllPalFX
;trigger1=time=7
;time=6
;add=160,160,160
;ignorehitpause=1

[State 0]
type=PlaySnd
trigger1=(time=5)||(time=10)
value= 3,6

[State 1090]
type=AfterImage
trigger1= time = 5
time=10
length=10
palcontrast=120,120,120
palmul=.35,.35,.35
timegap=1
framegap=1
trans=Add
ignorehitpause=1

[State 1090, Afterimage bck]
type=Helper
trigger1=(time=5)
helpertype=normal
name="Afterimage bck"
ID=1093
pos=0,0
postype=p1
facing=1
stateno=1093
keyctrl=0
ownpal=1
persistent=0

[State 1090, Afterimage forw]
type=Helper
trigger1=(time=5)
helpertype=normal
name="Afterimage forw"
ID=1094
pos=0,0
postype=p1
facing=1
stateno=1094
keyctrl=0
ownpal=1
persistent=0

[State 0]
type=ChangeAnim
trigger1=(time>=10)
value=(ifelse(vel y<0,1103,ifelse(vel y>0,1104,ifelse(vel x<0,1102,ifelse(vel x>0,1101,ifelse(pos y<0,992,0))))))

[State 0]
type=PlayerPush
trigger1=(time=[5,35])
value=0

[State 0]
type=NotHitBy
trigger1=(time=[5,35])
value=SCA,NT,AT
time=1
ignorehitpause=1

[State 0]
type = PosAdd
trigger1 = (time=10)
x = ifelse(command="holdfwd",(70),(ifelse(command="holdback",(-70),0)))
y = ifelse(command="holdup",(-50),(ifelse(command="holddown",50,0)))

[State 0]
type = Posset
trigger1 = (time=10) && command = "holddown"
trigger2 = pos y > 0
y = 0

[State 0]
type = VelSet
trigger1 = (time>=10)
x = ifelse(command="holdfwd",(3),(ifelse(command="holdback",(-3),(0))))
y = ifelse(command="holdup",(-3),(ifelse(command="holddown",(3),0)))

[State 0]
type=ScreenBound
trigger1=(command!="holdfwd")&&(command!="holdback")&&(command!="holddown")&&(command!="holdup")&&(time>=25)
movecamera=1,1
value=0

[State 0]
type=AfterImage
trigger1=(time=5)||(time>=10)&&(gametime%3=0)
time=ifelse(time=5,10,3)
length=ifelse(time=5,10,20)
palcontrast=120,120,120
palmul=ifelse(time=5,.55,.65),ifelse(time=5,.55,.65),ifelse(time=5,.55,.65)
timegap=1
framegap=1
trans=Add
ignorehitpause=1

[State 0]
type=Turn
trigger1=p2dist x<0

[State 0]
type=ChangeState
trigger1=(time>=35)
value=ifelse(pos y<0,ifelse(command="holdfwd" ||command="holdback" || command="holdup",1100,50),0)
ctrl=1
;---------------------------------------------------
;Zanzoken-1
[Statedef 1093]
type=S
movetype=I
physics=N
velset=ifelse(parent,stateno=1056,-7,-1),0
sprpriority=0
ctrl=0

[State 0, blargh]
type=DisplayToClipboard
trigger1=1
text="What should i write here?"
ignorehitpause=1

[State 0, ]
type=ChangeAnim
trigger1=!time
value=parent,anim
elem=parent,animelemno(0)

[State 0]
type=NotHitBy
trigger1=1
value=SCA
time=1

[State 0]
type=AssertSpecial
trigger1=1
flag=noshadow
flag2=invisible
ignorehitpause=1

[State 0]
type=AfterImage
trigger1=gametime%8=0
time=4
length=4
palcolor=256
palcontrast=120,120,120
palmul=.35,.35,.35
timegap=1
framegap=1
trans=add
ignorehitpause=1

[State 0]
type=DestroySelf
trigger1=time>12
ignorehitpause=1
;------------------------------------------------------------
;Zanzoken-2
[Statedef 1094]
type=S
movetype=I
physics=N
velset=ifelse(parent,stateno=1056,7,1),0
sprpriority=0
ctrl=0

[State 0, blargh]
type=DisplayToClipboard
trigger1=1
text="What should i write here?"
ignorehitpause=1

[State 0, ]
type=ChangeAnim
trigger1=!time
value=parent,anim
elem=parent,animelemno(0)

[State 0]
type=NotHitBy
trigger1=1
value=SCA
time=1

[State 0]
type=AssertSpecial
trigger1=1
flag=noshadow
flag2=invisible
ignorehitpause=1

[State 0]
type=AfterImage
trigger1=gametime%8=0
time=4
length=4
palcolor=256
palcontrast=120,120,120
palmul=.35,.35,.35
timegap=1
framegap=1
trans=add
ignorehitpause=1

[State 0]
type=DestroySelf
trigger1=time>12
ignorehitpause=1

;Zanzouken
[Statedef 1030]
type 			= A
movetype		= I
physics		= N
anim			= 1030
;velset		= 0,0
ctrl			= 0
poweradd		= 20
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1030: 	VarSet]
type 			= VarSet
trigger1 		= (!Time)
var(5) 		= IfElse(Command = "holda",1,2)

[State 1030:	AssertSpecial]
type			= AssertSpecial
trigger1 		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0)
flag			= Invisible
flag2			= NoShadow

[State 1030: 	PlayerPush]
type 			= PlayerPush
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0)
value 		= 0

[State 1030: 	NotHitBy]
type 			= NotHitBy
trigger1 		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0)
value 		= SCA
time 			= 1

[State 1030:	MakeDust]
type			= MakeDust
trigger1 		= (AnimElem = 2, > 0) && (AnimElem = 3, < 0)
pos 			= -5, 0
spacing 		= 4

[State 1030:	EnvColor]
type			= EnvColor
trigger1		= (AnimElem = 2, > 0) && (AnimElem = 2, < 10) && ((GameTime%2) = 0)
value			= 255,255,255
time			= 1

[State 1030: 	VelSet]
type 			= VelSet
trigger1 		= (AnimElem = 2) || (AnimElem = 2, = 31)
x 			= IfElse(Var(5) = 1,15,25)
y			= 0

[State 1030: 	VelSet]
type 			= VelSet
trigger1 		= (AnimElem = 2, = 5)
x 			= 0
y			= 0

[State 1030: 	VelSet]
type 			= VelSet
trigger1 		= (AnimElem = 3, = 0)
x 			= 1
y			= 0

[State 1030: 	VelSet]
type 			= VelSet
trigger1 		= (AnimElem = 3, = 5)
x 			= 0
y			= 0

[State 1030:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 2, = 30)
x			= 50

[State 1030:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 3, = 6) || (AnimElem = 3, = 8) || (AnimElem = 3, = 10) || (AnimElem = 3, = 12)
x			= 0.95

[State 1030:	PosAdd]
type			= PosAdd
trigger1		= (AnimElem = 3, = 5) || (AnimElem = 3, = 7) || (AnimElem = 3, = 9) || (AnimElem = 3, = 11)
x			= -0.95

[State 1030: 	PlaySnd]
type 			= PlaySnd
trigger1 		= (AnimElem = 2)
value 		= S3,0

[State 1030:	VarSet]
type			= VarSet
trigger1		= (!Time)
var(6)		= 100

[State 1030:	VarSet]
type			= VarSet
trigger1		= (AnimElem = 2, = 30)
var(6)		= 80

[State 1030:	VarAdd]
type			= VarAdd
trigger1 		= (AnimElem = 2, > 0) && (AnimElem = 2, < 10)
var(6)		= -2

[State 1030:	VarAdd]
type			= VarAdd
trigger1 		= (AnimElem = 2, > 30) && (AnimElem = 2, < 35)
var(6)		= 2

[State 1030: 	AfterImage]
type 			= AfterImage
trigger1 		= (AnimElem = 2, > 0) && (AnimElem = 2, < 10)
time 			= 5
timegap		= 1
framegap 		= 1
length 		= 5
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= var(6),var(6),var(6)
trans 		= add

[State 1030: 	AfterImage]
type 			= AfterImage
trigger1 		= (AnimElem = 2, > 30) && (AnimElem = 2, < 35)
time 			= 5
timegap		= 1
framegap 		= 1
length 		= 5
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= var(6),var(6),var(6)
trans 		= add

[State 1030:	Helper]
type			= Helper
trigger1		= (AnimElem = 2)
helpertype		= Normal
name			= "AfterImage"
id			= 1031
pos			= 0,0
postype		= p1
facing		= 0
stateno		= 1031
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 1030: 	ChangeState]
type 			= ChangeState
trigger1 		= (!AnimTime)
value 		= 1030

;---------------------------------------------------------------------------
;Zanzouken: AfterImage
[Statedef 1031]
type 			= A
movetype		= I
physics		= N
anim			= 1030
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 1031:	AssertSpecial]
type			= AssertSpecial
trigger1 		= 1
flag			= Invisible
flag2			= NoShadow

[State 1031: 	PlayerPush]
type 			= PlayerPush
trigger1		= 1
value 		= 0

[State 1031: 	NotHitBy]
type 			= NotHitBy
trigger1 		= 1
value 		= SCA
time 			= 1

[State 1031: 	VarSet]
type 			= VarSet
trigger1 		= (!Time)
var(0) 		= (Parent, Var(5))

[State 1031:	VelSet]
type			= VelSet
trigger1		= (!Time)
x 			= IfElse(Var(0) = 1,15,25)
y			= 0

[State 1031: 	AfterImage]
type 			= AfterImage
trigger1 		= (!Time)
time 			= 20
timegap		= 3
framegap 		= 4
length 		= 10
paladd 		= 0, 0, 0
palmul 		= .50, .50, .50
palcontrast 	= 100, 100, 100
trans 		= add

[State 1031:	DestroySelf]
type			= DestroySelf
trigger1		= (Time > 15) || (Parent, StateNo != 1030)


;===================================================================================
;---------------- Corriendo ------------------------------------------------------------
;===================================================================================
;---------------------------------------------------------------------------
;Runing kick
[Statedef 300]
type    = A
movetype= A
physics = N
juggle  = 3
poweradd= 20
ctrl = 0
anim = 440;631
sprpriority = 2

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7000) < 2
trigger1 = Movehit = 1
anim = 7002
ID = 7002
postype = P1
pos = 55,-15
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.2,0.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 300, 1]
type = VelSet
trigger1 = Time = 0
x = 0;(IfElse(Command = "holdfwd",4.6,4));(IfElse(Command = "holdback",13,13))))
y = -5.7;(IfElse(Command = "holdfwd",-4.6,4));(IfElse(Command = "holdback",-6,-9))))

[State 1450, 3]
type = VelAdd
trigger1 = Time > 0
x = 0.5;.40
y = .40

[State 300, 1]
type = PlaySnd
trigger1 = Animelem = 2
value = 0, 1

[State 300, 2]
type = HitDef
trigger1 = Animelem = 3
attr = A, NA
damage = 16
guardflag = HA
priority = 3
pausetime = 8,8
sparkno = -1
sparkxy = 10,0
guard.sparkno = s7005
hitsound   = s0,5
guardsound = s0,8
ground.type = High
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = -4
air.velocity = -2,-3

[State 300, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 4, 5


[State 300, 3]
type = Changestate
trigger1 = animtime = 0
value = 51
ctrl = 1

;---------------------------------------------------------------------------
;Runing punch
[Statedef 310]
type    = A
movetype= A
physics = N
juggle  = 3
poweradd= 20
ctrl = 0
anim = 310
sprpriority = 2

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7000) < 2
trigger1 = Movehit = 1
anim = 7002
ID = 7002
postype = P1
pos = 55,-45
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.2,0.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 310, 1]
type = VelSet
trigger1 = Time = 0
x = 3

[State 310, 1]
type = PlaySnd
trigger1 = Animelem = 2
value = 0, 4

[State 310, 2]
type = HitDef
trigger1 = Animelem = 2
attr = A, NA
damage = 16
guardflag = HA
priority = 3
pausetime = 8,8
sparkno = s6000 
sparkxy = -20,-50
guard.sparkno = s7005
hitsound   = s0,5
guardsound = s0,8
ground.type = High
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = -4
air.velocity = -2,-3

[State 310, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 4, 3


[State 310, 3]
type = Changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;===================================================================================
;---------------- B疽icos ----------------------------------------------------------
;===================================================================================
;---------------------------------------------------------------------------

;pia A

[Statedef 200]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 200                       ;Change animation (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set p1's sprite layering priority to 2 (in front)


[State 1500, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S5,6
volume = 50



[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 23, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8                 ;Time attacker pauses, time opponent shakes
sparkno = -1             ;Spark anim no (Def: set above)
sparkxy = -10, -45               ;X-offset for the "hit spark" rel. to p2,
guard.sparkno = s7005
;Y-offset for the spark rel. to p1
hitsound = s0, 5                  ;Sound to play on hit
guardsound = s0, 8                ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -4             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12                 ;Time before opponent regains control in air

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7000) < 2
trigger1 = Movehit = 1
anim = 7000
ID = 7000
postype = P1
pos = 60,-45
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.2,0.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 200, 7]
type = ChangeState
triggerall = time >= 2
trigger1 = command = "x"
value = 201
ctrl = 1

;---------------------------------------------------------------------------
; Stand Light Punch - 2nd hit
[Statedef 201]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
anim = 201                       ;Change animation (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2                ;Set p1's sprite layering priority to 2 (in front)



[State 1500, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S5,1
volume = 50



[State 201, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = 23, 0                   ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 3, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8                 ;Time attacker pauses, time opponent shakes
sparkno = -1               ;Spark anim no (Def: set above)
sparkxy = -10, -45               ;X-offset for the "hit spark" rel. to p2,
guard.sparkno = s7005
;Y-offset for the spark rel. to p1
hitsound = s0, 5                  ;Sound to play on hit
guardsound = s0, 8               ;Sound to play on guard
ground.type = High               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 10             ;Time opponent is in hit state
ground.velocity = -4             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     ;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High                  ;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3           ;X-velocity at which opponent is pushed,
;Y-velocity at which opponent is pushed
air.hittime = 12                 ;Time before opponent regains control in air


[State 201, Spark CVS]
type = Explod
triggerall = Numexplod(7000) < 3
trigger1 = Movehit = 1
anim = 7001
ID = 7001
postype = P1
pos = 60,-45
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.2,0.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0



[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing strong punch
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 210
sprpriority = 0

[State 0, PosAdd]
type = Velset
trigger1 = animelem = 1 || animelem = 2
x = 2
y = 0
;ignorehitpause =
;persistent =




[State 210, Width]
type = Width
trigger1 = (AnimElemTime (2) >= 0) && (AnimElemTime (7) < 0)
value = 15,0

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 2

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype  = Medium
damage    = 57
guardflag = MA
pausetime = 12,12
sparkno = -1
sparkxy = -20,-40
guard.sparkno = s7005
hitsound   = s0, 7
guardsound = s0, 8
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -5.5
air.velocity = -2.5,-4

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7000) < 2
trigger1 = Movehit = 1
anim = 7002
ID = 7002
postype = P1
pos = 55,-45
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.2,0.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 210, 4]
type = SprPriority
trigger1 = AnimElem = 5
value = 2



[State 1500, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S5,0
volume = 50

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing light kick
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 22
ctrl = 0
velset = 0,0
anim = 230
sprpriority = 2

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7000) < 2
trigger1 = Movehit = 1
anim = 7000
ID = 7000
postype = P1
pos = 70,-40
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.2,0.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 1500, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S5,6
volume = 50

[State 230, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 3
y = 0

[State 230, MakeDust]
type = MakeDust
trigger1 = animelem = 2
pos = -1, 0
spacing	= 1

[State 230, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 230, 2]
type = HitDef
trigger1 = animelem = 2
attr = S, NA
animtype  = Medium
damage    = 26
guardflag = MA
pausetime = 12,12
sparkno = -1
sparkxy = -10,-37
guard.sparkno = s7005
hitsound   = s0, 5
guardsound = s0, 8
ground.type = Low
ground.slidetime = 10
ground.hittime  = 11
ground.velocity = -5
air.velocity = -2.5,-3.5

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing strong kick
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 240
sprpriority = 2

[State 0, PosSet]
type = Posadd
trigger1 = AnimElem = 2 || animelem = 3
x = 5
y = 0

[State 1500, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S5,0
volume = 50


[State 240, Spark CVS]
type = Explod
triggerall = Numexplod(7000) < 2
trigger1 = Movehit = 1
anim = 7001
ID = 7001
postype = P1
pos = 64,-57
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.2,0.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 2

[State 240, 2]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype  = Medium
damage    = 63
guardflag = MA
pausetime = 10,12
sparkno = -1
sparkxy = -10,-60
guard.sparkno = s7005
hitsound   = s0, 6
guardsound = s0, 8
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3, 0
air.velocity = -2.2,-3.5
recover = 0

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Standing strong kick - 2nd hit
; CNS difficulty: easy
[Statedef 241]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 241
sprpriority = 2


[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7000) < 2
trigger1 = Movehit = 1
anim = 7002
ID = 7002
postype = P1
pos = 55,-45
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.2,0.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 241, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 8
y = 0

[State 241, MakeDust]
type = MakeDust
trigger1 = animelem = 3
pos = -1, 0
spacing	= 1

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 3

[State 241, 2]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
animtype  = Medium
damage    = 63
guardflag = MA
pausetime = 12,12
sparkno = s6000 
sparkxy = -10,-50
guard.sparkno = s7005
hitsound   = s0, 7
guardsound = s0, 8
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6
air.velocity = -2.2,-3.2

[State 241, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 4, 7

[State 241, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;===========================================================================
;---------------------------------------------------------------------------
;Crouching light punch
; CNS difficulty: easy
; Description: Simple crouching attack. The HitDef's guardflag parameter
;     is set to "L", meaning that the move can only be guarded low
;     (crouching), and not by standing or jumping opponents.
;     Like for all light attacks, it's a good idea to keep the slidetime
;     and hittime parameters at a smaller number, so the opponent isn't
;     stunned for too long. For all crouching attacks you have to
;     remember to set the attr parameter to indicate that it is crouching
;     attack. In this case, "C, NA" stands for "crouching, normal attack".
;     The HitDef's priority is set at 3, instead of the default of 4,
;     so this attack has a lower priority than most others, meaning
;     KFM will get hit instead of trading hits with his opponent if
;     their attack collision boxes (Clsn1) intersect each other's Clsn2
;     boxes at the same time.
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 15
ctrl = 0
anim = 400
sprpriority = 2

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7000) < 2
trigger1 = Movehit = 1
anim = 7000
ID = 7000
postype = P2
pos = 0,-20
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.2,0.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 400, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 0

[State 400, 2]
type = HitDef
trigger1 = animelem = 2
attr = C, NA
damage    = 23
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 10,11
sparkno = -1
sparkxy = -10,-35
guard.sparkno = s7005
hitsound   = s0, 5
guardsound = s0, 8
ground.type = Low
ground.slidetime = 4
ground.hittime  = 10
ground.velocity = -4
air.velocity = -1.5,-3

[State 400, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 4, 7

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouching strong punch
; CNS difficulty: easy
; Description: This is a 2-hit move. It is done by having two HitDefs
;     triggered, one for each frame of animation that hits.
;     Notice how the first hit cannot be guarded by an opponent in the
;     air, because of the "M" in the guardflag, meaning it can only
;     be guarded "middle". The second hit has an "MA" guardflag, so
;     it can be guarded both on the ground and in the air.
; CNS レベル: 易
; 詳細: これは殴打が二発ある攻撃です。
; 殴打できるアニメーションの枚は一々HitDefを登録しています。
; 一発目の攻撃のHitDefにはguardflagが「M」（middle＝中段ガード）
; にセットされているので、相手は空中でガードできません。二発目
; の攻撃のguardflagは「MA」（middle+air＝中段＋空中ガード）で、
; 地上、空中でもガードすることができます。
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 50
ctrl = 0
anim = 410
sprpriority = 2

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7000) < 2
trigger1 = Movehit = 1
anim = 7001
ID = 7001
postype = P2
pos = 0,-20
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.2,0.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 410, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 3

;This is the first hit, triggered on the 3rd element of animation.
[State 410, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage    = 37
animtype  = Medium
hitflag = MAF
guardflag = M
pausetime = 12,12
sparkno = -1
sparkxy = -10,-65
guard.sparkno = s7005
hitsound   = s0, 6
guardsound = s0, 8
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -3,-4

[State 410, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 4, 4

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouching light kick
; CNS difficulty: easy
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 22
ctrl = 0
anim = 430
sprpriority = 2

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7000) < 2
trigger1 = Movehit = 1
anim = 7002
ID = 7002
postype = P2
pos = -15,-10
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.2,0.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 430, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 0

[State 430, 2]
type = HitDef
trigger1 = animelem = 2
attr = C, NA
damage    = 28
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 8,15
sparkno = -1
sparkxy = -10,-28
guard.sparkno = s7005
hitsound   = s0, 5
guardsound = s0, 8
ground.type = Low
ground.slidetime = 6
ground.hittime  = 10
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20

[State 430, 4]
type = ChangeState
triggerall = time >= 8
trigger1 = command = "a"
value = 431
ctrl = 1

[State 430, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 4, 3

[State 430, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouching light kick - 2nd Hit
; CNS difficulty: easy
[Statedef 431]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 22
ctrl = 0
anim = 431
sprpriority = 2


[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7000) < 2
trigger1 = Movehit = 1
anim = 7000
ID = 7000
postype = P1
pos = 55,-45
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.2,0.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 430, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 1, 3

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 8
y = 0

[State 241, MakeDust]
type = MakeDust
trigger1 = animelem = 2
pos = -1, 0
spacing	= 1

[State 430, 2]
type = HitDef
trigger1 = animelem = 3
attr = C, NA
damage    = 28
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 8,12
sparkno = s6000 
sparkxy = -10,-8
guard.sparkno = s7005
hitsound   = s0, 5
guardsound = s0, 8
ground.type = Low
ground.slidetime = 6
ground.hittime  = 10
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20

[State 430, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 4, 4

[State 430, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouch Strong Kick
; CNS difficulty: easy
; Description: This move uses "Trip" for the "ground.type" parameter in
;     its HitDef. It's a special type that puts the opponent in a tripped
;     animation as he falls. Also, the hitflag parameter in the HitDef
;     is set to "MAFD". The "D" indicates that a downed opponent can be
;     hit by the attack.
; CNS レベル: 易
; 詳細:
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 70
ctrl = 0
anim = 440
sprpriority = 2

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7000) < 2
trigger1 = Movehit = 1
anim = 7002
ID = 7002
postype = P2
pos = -10,-10
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.2,0.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 430, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 1, 3

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 8
y = 0

[State 241, MakeDust]
type = MakeDust
trigger1 = animelem = 2
pos = -1, 0
spacing	= 1

[State 430, 2]
type = HitDef
trigger1 = animelem = 3
attr = C, NA
damage    = 28
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 8,12
sparkno = -1
sparkxy = -10,-8
guard.sparkno = s7005
hitsound   = s0, 5
guardsound = s0, 8
ground.type = Low
ground.slidetime = 6
ground.hittime  = 10
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20

[State 430, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 4, 4

[State 430, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;===========================================================================
;---------------------------------------------------------------------------
;Jump Light Punch
; CNS difficulty: easy
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 11
ctrl = 0
anim = 600
sprpriority = 2

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7000) < 2
trigger1 = Movehit = 1
anim = 7000
ID = 7000
postype = P1
pos = 35,0
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.2,0.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 600, 1]
type = PlaySnd
trigger1 = Animelem = 2
value = 0, 0

[State 600, 2]
type = HitDef
trigger1 = Animelem = 2
attr = A, NA
damage    = 20
guardflag = HA
priority = 3
pausetime = 7,8
sparkno = -1
sparkxy = -10,-20
guard.sparkno = s7005
hitsound   = s0,5
guardsound = s0,8
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.3,-3

[State 600, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 4, 7

[State 600, 3]
type = CtrlSet
trigger1 = Animtime = 0
value = 1

;---------------------------------------------------------------------------
;Jump Strong Punch
; CNS difficulty: easy
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = 610
sprpriority = 2

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7000) < 2
trigger1 = Movehit = 1
anim = 7001
ID = 7001
postype = P2
pos = 0,-60
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.2,0.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 610, 2]
type = PlaySnd
trigger1 = Animelem = 3
value = 0, 3

[State 610, 3]
type = HitDef
trigger1 = Animelem = 3
attr = A, NA
damage = 72
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = -1
sparkxy = -10,-25
guard.sparkno = s7005
hitsound   = s0,6
guardsound = s0,8
animtype = Med
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5
air.velocity = -3,-4

[State 600, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 4, 6


[State 600, 3]
type = CtrlSet
trigger1 = Animtime = 0
value = 1

;---------------------------------------------------------------------------
;Jump Light Kick
; CNS difficulty: easy
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 20
ctrl = 0
anim = 630
sprpriority = 2

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7000) < 2
trigger1 = Movehit = 1
anim = 7002
ID = 7002
postype = P1
pos = 45,0
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.2,0.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 630, 1]
type = PlaySnd
trigger1 = Animelem = 2
value = 0, 1

[State 630, 2]
type = HitDef
trigger1 = Animelem = 2
attr = A, NA
damage = 26
guardflag = HA
priority = 3
pausetime = 8,8
sparkno = -1
sparkxy = -5,-15
guard.sparkno = s7005
hitsound   = s0,5
guardsound = s0,8
ground.type = High
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = -4
air.velocity = -2,-3


[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 4, 7


[State 600, 3]
type = CtrlSet
trigger1 = Animtime = 0
value = 1

;---------------------------------------------------------------------------
;Jump Strong Kick
; CNS difficulty: easy
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = 640
sprpriority = 2

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7000) < 2
trigger1 = Movehit = 1
anim = 7000
ID = 7000
postype = P1
pos = 45,0
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.2,0.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 640, 2]
type = PlaySnd
trigger1 = Animelem = 2
value = 0, 2

[State 640, 3]
type = HitDef
trigger1 = Animelem = 2
attr = A, NA
damage    = 70
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = -1
sparkxy = -10,-40
guard.sparkno = s7005
hitsound   = s0,7
guardsound = s0,8
animtype = Med
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5
air.velocity = -3, 4

[State 640, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 4, 0

[State 640, 3]
type = CtrlSet
trigger1 = Animtime = 0
value = 1

;===========================================================================



;---------------------------------------------------------------------------
;Fly Light Punch
; CNS difficulty: easy
[Statedef 500]
type    = S
movetype= A
physics = S
juggle  = 2
poweradd= 11
ctrl = 0
anim = 600
sprpriority = 2

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7000) < 2
trigger1 = Movehit = 1
anim = 7000
ID = 7000
postype = P1
pos = 35,0
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.2,0.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 500, 1]
type = PlaySnd
trigger1 = Animelem = 2
value = 0, 0

[State 500, 2]
type = HitDef
trigger1 = Animelem = 2
attr = A, NA
damage    = 20
guardflag = HA
priority = 3
pausetime = 7,8
sparkno = s6000 
sparkxy = -10,-25
guard.sparkno = s7005
hitsound   = s0,5
guardsound = s0,8
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.3,-3

[State 500, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 4, 3

[State 500, GoFwd1]
type = VelAdd
trigger1 = command = "holdfwd"
x = 1

[State 500, GoFwd1]
type = VelAdd
trigger1 = command = "holdback"
x = -1

[State 500,GoDown2]
type = VelSet
Trigger1 = command = "holddown"
Trigger1 = pos Y > -1
y = 0

[State 500,GoDown2]
type = VelSet
Trigger1 = command = "holddown"
Trigger1 = pos Y > -1
y = 0

[State 500,Land]
type = ChangeState
trigger1 = Pos Y >= 0
value = 52
ctrl = 1

[State 500, 3]
type = Changestate
trigger1 = Animtime = 0
value = 1100

[State 500, 3]
type = Changestate
trigger1 = pos Y = 0
value = 0

;---------------------------------------------------------------------------
;Fly Strong Punch
; CNS difficulty: easy
[Statedef 510]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
anim = 610
sprpriority = 2

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7000) < 2
trigger1 = Movehit = 1
anim = 7000
ID = 7000
postype = P1
pos = 30,-25
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.2,0.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 510, 2]
type = PlaySnd
trigger1 = Animelem = 3
value = 0, 3

[State 510, 3]
type = HitDef
trigger1 = Animelem = 3
attr = A, NA
damage = 72
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = s6000 
sparkxy = -10,-25
guard.sparkno = s7005
hitsound   = s0,6
guardsound = s0,8
animtype = Med
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5
air.velocity = -3,-4

[State 510, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 4, 5


[State 510, GoFwd1]
type = VelAdd
trigger1 = command = "holdfwd"
x = 1

[State 510, GoFwd1]
type = VelAdd
trigger1 = command = "holdback"
x = -1

[State 510,GoDown2]
type = VelSet
Trigger1 = command = "holddown"
Trigger1 = pos Y > -1
y = 0

[State 510,GoDown2]
type = VelSet
Trigger1 = command = "holddown"
Trigger1 = pos Y > -1
y = 0

[State 510,Land]
type = ChangeState
trigger1 = Pos Y >= 0
value = 52
ctrl = 1

[State 510, 3]
type = Changestate
trigger1 = Animtime = 0
value = 1100

[State 510, 3]
type = Changestate
trigger1 = pos Y = 0
value = 0

;---------------------------------------------------------------------------
;Fly Light Kick
; CNS difficulty: easy
[Statedef 530]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 20
ctrl = 0
anim = 630
sprpriority = 2

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7000) < 2
trigger1 = Movehit = 1
anim = 7001
ID = 7001
postype = P1
pos = 55,5
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.2,0.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 530, 1]
type = PlaySnd
trigger1 = Animelem = 2
value = 0, 1

[State 530, 2]
type = HitDef
trigger1 = Animelem = 2
attr = A, NA
damage = 26
guardflag = HA
priority = 3
pausetime = 8,8
sparkno = -1
sparkxy = -5,-15
guard.sparkno = s7005
hitsound   = s0,5
guardsound = s0,8
ground.type = High
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = -4
air.velocity = -2,-3

[State 530, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 4, 3

[State 530, GoFwd1]
type = VelAdd
trigger1 = command = "holdfwd"
x = 1

[State 530, GoFwd1]
type = VelAdd
trigger1 = command = "holdback"
x = -1

[State 530,GoDown2]
type = VelSet
Trigger1 = command = "holddown"
Trigger1 = pos Y > -1
y = 0

[State 530,GoDown2]
type = VelSet
Trigger1 = command = "holddown"
Trigger1 = pos Y > -1
y = 0

[State 530,Land]
type = ChangeState
trigger1 = Pos Y >= 0
value = 52
ctrl = 1

[State 530, 3]
type = Changestate
trigger1 = Animtime = 0
value = 1100

[State 530, 3]
type = Changestate
trigger1 = pos Y = 0
value = 0

;---------------------------------------------------------------------------
;Fly Strong Kick
; CNS difficulty: easy
[Statedef 540]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
anim = 640
sprpriority = 2

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7000) < 2
trigger1 = Movehit = 1
anim = 7002
ID = 7002
postype = P1
pos = 45,-10
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.2,0.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 540, 2]
type = PlaySnd
trigger1 = Animelem = 4
value = 0, 2

[State 540, 3]
type = HitDef
trigger1 = Animelem = 2
attr = A, NA
damage    = 70
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = s6000 
sparkxy = -10,-40
guard.sparkno = s7005
hitsound   = s0,7
guardsound = s0,8
animtype = Med
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5
air.velocity = -3, 4

[State 540, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 4, 6

[State 540, GoFwd1]
type = VelAdd
trigger1 = command = "holdfwd"
x = 1

[State 540, GoFwd1]
type = VelAdd
trigger1 = command = "holdback"
x = -1

[State 540,GoDown2]
type = VelSet
Trigger1 = command = "holddown"
Trigger1 = pos Y > -1
y = 0

[State 540,GoDown2]
type = VelSet
Trigger1 = command = "holddown"
Trigger1 = pos Y > -1
y = 0

[State 540,Land]
type = ChangeState
trigger1 = Pos Y >= 0
value = 52
ctrl = 1

[State 540, 3]
type = Changestate
trigger1 = Animtime = 0
value = 1100

[State 540, 3]
type = Changestate
trigger1 = pos Y = 0
value = 0


;===================================================================================
;---------------- Specials Ki-------------------------------------------------------
;===================================================================================
; Description: This is like a standard attack, but with some differences.
;   There are two HitDefs in this attack. One is triggered when the
;   opponent is near (using a p2bodydist trigger), and the other
;   when the opponent is farther away. The main differences between
;   the near and far versions of the HitDefs is that the near version
;   has a "fall" parameter set to 1, causing the opponent to be knocked
;   down. Other minor differences are the damage, and the velocity to
;   give the opponent.
;   The line "attr = S, SA" line means this is a Standing, Special Attack.
;   It is important you have the attr parameter set correctly for all
;   you HitDefs.
;===================================================================================

;Fireball
[Statedef 1000]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 1000
poweradd = -75

[State 1000, 1]
type=PlaySnd
trigger1 = AnimElem = 2
value= s3, 4
volume = 50

;[State 1000, PlaySnd]
;type = PlaySnd
;trigger1 = Time = 0
;value = 1,5
;volume = 100

[State 700:		Helper]
type		= Helper
trigger1	= (AnimElem = 3) ;&& (Power > 50)
helpertype	= Normal
name		= "Fire Ball"
id		= 1050
pos		= 40,-40
postype		= p1
facing		= 1
stateno		= 1050
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.7
size.yscale     = 0.7

[State 1000, Explod]
type = Explod
trigger1 = Animelem = 3
anim =  1021
ID = 1021
pos = 10,-30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.7,0.7
Ontop = 1
removetime = -2
removeongethit = 1

[State 1000, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 4, 7

[State 1000, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  0
ctrl= 1


[State 1000, 0]
type = ChangeState
triggerall = power >= 50
triggerall = time  > 15
trigger1 = command = "c"
value = 1001

;----------------------------------------------
;Fireball   2
[Statedef 1001]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 1001
poweradd = -75

[State 1001, 1]
type=PlaySnd
trigger1 = AnimElem = 2
value= s3, 4
volume = 50

;[State 1000, PlaySnd]
;type = PlaySnd
;trigger1 = Time = 0
;value = 1,5
;volume = 100

[State 1001:		Helper]
type		= Helper
trigger1	= (AnimElem = 3) && (Power > 50)
helpertype	= Normal
name		= "Fire Ball"
id		= 1051
pos		= 40,-40
postype		= p1
facing		= 1
stateno		= 1051
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.7
size.yscale     = 0.7

[State 1001, Explod]
type = Explod
trigger1 = Animelem = 2
anim =  1026
ID = 1026
pos = 10,-30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.7,0.7
Ontop = 1
removetime = -2
removeongethit = 1

[State 1001, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 4, 6

[State 1001, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  0
ctrl= 1

[State 1001, 0]
type = ChangeState
triggerall = power >= 50
triggerall = time  > 15
trigger1 = command = "c"
value = 1000
;-----------------------------------------


;-----------------------------------------------
;Fire Ball Projectile
[Statedef 1050]
movetype	= A
anim		= 1020
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 1001:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[STate 1001: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 1001:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

;[State 1001:	PlayerPush]
;type			= PlayerPush
;trigger1		= 1
;value			= 0


[State 1001:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 3
;y			= (IfElse((Parent,Command = "holdup"),-0.5,(IfElse((Parent,Command = "holddown"),0.8,0))))

[State 1001:	VelMul]
type		= VelMul
trigger1	= (Time > 0)
x		= 1.06
y		= 1.06

[State 0: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 50
framegap 	= 1
length 		= 20
paladd 		= 0, 0, 0
palmul 		= .25, .50, .75
palcontrast 	= 50,100,150
trans 		= add



[State 1001:	Hitdef]
type            = Hitdef
trigger1        = (1)
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 40,10
pausetime	= 1,12
sparkno		= s1022
sparkxy		= 0,-5
;guard.sparkxy   = 30, 20
guard.sparkno	= s1022
hitsound	= s3,5
guardsound	= s3,5
ground.type	= Low
air.type	= Trip
ground.slidetime= 2
ground.hittime	= 2
air.hittime	= 5
ground.velocity	= -4
guard.velocity	= -4
air.velocity	= -4,-3
airguard.velocity = -4,-3
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
palfx.time	= 25
palfx.mul	= 50,120,150
palfx.add	= 100,200,250
palfx.sinadd 	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4



[State 1001:	DestroySelf]
type			= DestroySelf
trigger1 		= movecontact = 1;(Parent, NumProjID(1002) = 0)
trigger2                = time = 200

;-------------------------------------------------------
;Fire Ball Projectile 2
[Statedef 1051]
movetype	= A
anim		= 1025
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 1001:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[STate 1001: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 1001:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

;[State 1001:	PlayerPush]
;type			= PlayerPush
;trigger1		= 1
;value			= 0


[State 1001:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 3
;y			= (IfElse((Parent,Command = "holdup"),-0.5,(IfElse((Parent,Command = "holddown"),0.8,0))))

[State 1001:	VelMul]
type		= VelMul
trigger1	= (Time > 0)
x		= 1.06
y		= 1.06

[State 0: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 50
framegap 	= 1
length 		= 20
paladd 		= 0, 0, 0
palmul 		= .25, .50, .75
palcontrast 	= 50,100,150
trans 		= add

[State 1001:	Hitdef]
type            = Hitdef
trigger1        = (1)
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 40,10
pausetime	= 1,12
sparkno		= s1027
sparkxy		= 0,-5
;guard.sparkxy   = 30, 20
guard.sparkno	= s1027
hitsound	= s3,5
guardsound	= s3,5
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -4
guard.velocity	= -4
air.velocity	= -4,-3
airguard.velocity = -4,-3
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
palfx.time	= 25
palfx.mul	= 50,120,150
palfx.add	= 100,200,250
palfx.sinadd 	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4


[State 1001:	DestroySelf]
type			= DestroySelf
trigger1 		= movecontact = 1;(Parent, NumProjID(1002) = 0)
trigger2                = time = 200

;----------------------
;Fire Ball Projectile - abajo
[Statedef 1051]
movetype	= A
anim		= 1050
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 1001:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[STate 1001: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 1001:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

;[State 1001:	PlayerPush]
;type			= PlayerPush
;trigger1		= 1
;value			= 0


[State 1001:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 3
y			= 0.5

[State 1001:	VelMul]
type		= VelMul
trigger1	= (Time > 0)
x		= 1.06
y		= 1.06

[State 1001:	AfterImage]
type		= AfterImage
trigger1	= (!Time)
time 		= 200
timegap		= 2
framegap 	= 3
length 		= 5
paladd 		= 0, 0, 0
palmul 		= .25, .50, .75
palcontrast 	= 50,100,150
trans 		= add

[State 1001:	Hitdef]
type            = Hitdef
trigger1        = (1)
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 30,10
pausetime	= 1,12
sparkno		= s1060
sparkxy		= 0,-5
;guard.sparkxy   = 30, 20
guard.sparkno	= s1060
hitsound	= s3,5
guardsound	= s3,5
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -4
guard.velocity	= -4
air.velocity	= -4,-3
airguard.velocity = -4,-3
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
palfx.time	= 25
palfx.mul	= 50,120,150
palfx.add	= 100,200,250
palfx.sinadd 	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4


[State 1001:	DestroySelf]
type			= DestroySelf
trigger1 		= movecontact = 1;(Parent, NumProjID(1002) = 0)
trigger2                = time = 200

;--------------------------------------------
;Fire Ball Projectile - arriba
[Statedef 1052]
movetype	= A
anim		= 1050
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 1001:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[STate 1001: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 1001:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

;[State 1001:	PlayerPush]
;type			= PlayerPush
;trigger1		= 1
;value			= 0



[State 1001:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 3
y			= -0.5

[State 1001:	VelMul]
type		= VelMul
trigger1	= (Time > 0)
x		= 1.06
y		= 1.06

[State 1001:	AfterImage]
type		= AfterImage
trigger1	= (!Time)
time 		= 200
timegap		= 2
framegap 	= 3
length 		= 5
paladd 		= 0, 0, 0
palmul 		= .25, .50, .75
palcontrast 	= 50,100,150
trans 		= add

[State 1001:	Hitdef]
type            = Hitdef
trigger1        = (1)
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 30,10
pausetime	= 1,12
sparkno		= s1060
sparkxy		= 0,-5
;guard.sparkxy   = 30, 20
guard.sparkno	= s1060
hitsound	= s3,5
guardsound	= s3,5
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -4
guard.velocity	= -4
air.velocity	= -4,-3
airguard.velocity = -4,-3
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
palfx.time	= 25
palfx.mul	= 50,120,150
palfx.add	= 100,200,250
palfx.sinadd 	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4


[State 1001:	DestroySelf]
type			= DestroySelf
trigger1 		= movecontact = 1;(Parent, NumProjID(1002) = 0)
trigger2                = time = 200


;===================================================================================
;---------------- Specials Moves ---------------------------------------------------
;===================================================================================


;=========================================================================
;Patada voladora
[Statedef 1300]
type    = S
movetype= A
physics = A
juggle  = 0
poweradd = 100
ctrl = 0
anim = 641
sprpriority = 2

[State 1300, Velset]
type = VelSet
trigger1 = Time = 0
x = 5
y = -7.45

[State 1300, Veladd]
type = VelAdd
trigger1 = Time > 0
y = 0.2

[State 1300, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 3

[State 1300, 2]
type = HitDef
trigger1 = animelem = 2
attr = S, NA
animtype  = Medium
damage    = 50
guardflag = MA
pausetime = 12,12
sparkno = -1
sparkxy = -10,-50
guard.sparkno = s7005
hitsound   = s0, 7
guardsound = s0, 8
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6
air.velocity = -2.2,-3.2

[State 1300, Spark CVS]
type = Explod
triggerall = Numexplod(7001) < 2
trigger1 = Movehit = 1
anim = 7001
ID = 7001
postype = P1
pos = 52,-25
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.25,0.25
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 1800, Explod - arena]
type = Explod
trigger1 =  (AnimElem = 1)
anim =  7109
ID =    7109
pos =  -5 ,10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.5,0.5
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 60, PlaySnd]
type = PlaySnd
trigger1 =  time = 1
value = s1,4
volume = 50
channel = -1

[State 1760: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 25
framegap 	= 1
length 		= 20
paladd 		= 0, 0, 0
palmul 		= .25, .50, .75
palcontrast 	= 50,100,150
trans 		= add

[State 1300, ChangeState]
type = ChangeState
triggerall = time >= 6;4
trigger1 =  command = "a"
value = 1350
ctrl = 0

[State 1300, 4]
type = ChangeState
triggerall = pos y >= 0
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;---------------------------------------------------------
;Patada voladora 2do hit
[Statedef 1350]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd = 100
ctrl = 0
anim = 642
sprpriority = 2

[State 1350, VelSet]
type = VelSet
trigger1 =  animelem = 2
x = 2
y = 0
;ignorehitpause =
;persistent =

;[State 0, VelSet]
;type = VelSet
;trigger1 =  animelem = 3
;x = 2
;y = 0.8

[State 1760: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 15
framegap 	= 1
length 		= 20
paladd 		= 0, 0, 0
palmul 		= .25, .50, .75
palcontrast 	= 50,100,150
trans 		= add


[State 1350, Veladd]
type = VelAdd
trigger1 = Time > 0
y = 0.45


[State 1350, 2]
type = HitDef
trigger1 =  Animelem = 2
attr = A, NA
damage    = 50, 5
guardflag = HA
priority = 3
pausetime = 7,8
sparkno = -1
sparkxy = -40,-50
guard.sparkno = s7005
hitsound   = s0,5
guardsound = s0,8
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -2.5, -2
air.velocity = -1,-2
guard.velocity = -1
airguard.velocity =-1.-2.5
Fall = 1

[State 1350, Spark CVS]
type = Explod
triggerall = Numexplod(7000) < 2
trigger1 = Movehit = 1
anim = 7000
ID = 7000
postype = P1
pos = 49,-12
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.25,0.25
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 1350, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 4, 2

[State 1350, PosSet]
type = PosSet
trigger1 =  pos y > 0
y = 0

[State 1350, ChangeState]
type = ChangeState
trigger1 =  pos y >= 0
value = 0
ctrl = 1

[State 1350, ChangeState]
type = ChangeState
triggerall = time >= 5
trigger1 =  command = "a"
value = 1360
ctrl = 0


;-------------------------------------------------
;patada voladora para arriva
[Statedef 1360]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd = 100
ctrl = 0
anim = 643
sprpriority = 2

[State 1360, VelSet]
type = VelSet
trigger1 =  animelem = 3
x = 1.8
y = 1
;ignorehitpause =
;persistent =

[State 1760: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 15
framegap 	= 1
length 		= 20
paladd 		= 0, 0, 0
palmul 		= .25, .50, .75
palcontrast 	= 50,100,150
trans 		= add

[State 1360, Veladd]
type = VelAdd
trigger1 = Time > 10
y = 0.45


[State 1360, 2]
type = HitDef
trigger1 =  Animelem = 4
attr = A, NA
damage    = 30, 0
guardflag = HA
priority = 3
pausetime = 7,8
sparkno = -1
sparkxy = -40,-50
guard.sparkno = s7005
hitsound   = s0,5
guardsound = s0,8
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -2, -8
air.velocity = -2,-8
guard.velocity = -7
airguard.velocity =-7.-2.5
Fall = 1

[State 1360, Spark CVS]
type = Explod
triggerall = Numexplod(7002) < 2
trigger1 = Movehit = 1
anim = 7002
ID = 7002
postype = P1
pos = 35,-30
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.25,0.25
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 1800, Explod - arena]
type = Explod
trigger1 =  (AnimElem = 3)
anim =  1372
ID =    1372
pos = 35, -50
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.5,0.5
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 1360, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 4, 2

[State 1360, PosSet]
type = PosSet
trigger1 =  pos y > 0
y = 0

[State 1350, ChangeState]
type = ChangeState
triggerall = time >= 4
trigger1 =  command = "Espadazo aire"
value = 2100
ctrl = 0

[State 1350, ChangeState]
type = ChangeState
triggerall = time >= 4
trigger1 =  command = "Espadazo aire devil"
value = 2150
ctrl = 0

[State 1360, ChangeState]
type = ChangeState
trigger1 =  pos y >= 0
value = 0
ctrl = 1

;[State 1300, 3]
;type = Changestate
;triggerall =  Pos Y >= -1
;trigger1 =  animtime = 0
;value = 50
;ctrl = 1

;===============================================================================
;Patada voladora fuerte
[Statedef 1370]
type    = S
movetype= A
physics = A
juggle  = 0
poweradd = 100
ctrl = 0
anim = 1370
sprpriority = 2

[State 1300, Velset]
type = VelSet
trigger1 = Time = 0
x = 3.5
y = -9.4

[State 1300, Veladd]
type = VelAdd
trigger1 = Time > 0
y = 0.3

[State 1300, 1]
type = PlaySnd
trigger1 = AnimElem = 7
value = 0, 3

[State 1300, 2]
type = HitDef
trigger1 = animelem = 7
attr = S, NA
animtype  = Medium
damage    = 50
guardflag = MA
pausetime = 12,12
sparkno = -1
sparkxy = -10,-50
guard.sparkno = s7005
hitsound   = s0, 7
guardsound = s0, 8
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3, 4
air.velocity = -4.2,10.2
fall = 1

[State 1760: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 25
framegap 	= 1
length 		= 20
paladd 		= 0, 0, 0
palmul 		= .25, .50, .75
palcontrast 	= 50,100,150
trans 		= add


[State 1300, Spark CVS]
type = Explod
triggerall = Numexplod(7008) < 2
trigger1 = Movehit = 1
anim = 7008
ID = 7008
postype = P1
pos = 52,-25
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.5,0.6
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1


[State 1800, Explod - arena]
type = Explod
trigger1 =  (AnimElem = 1)
anim =  7109
ID =    7109
pos =  -5 ,10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.5,0.5
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 60, PlaySnd]
type = PlaySnd
trigger1 =  time = 1
value = s1,4
volume = 50
channel = -1

[State 1800, Explod - arena]
type = Explod
trigger1 =  (AnimElem = 7)
anim =  1371
ID =    1371
pos = 40 ,12
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.65,0.65
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0



[State 1300, 4]
type = ChangeState
triggerall = pos y >= 0
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;===================================================================================
;Espada1
[Statedef 1400]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 1400
poweradd = 75

[State 0, VelSet]
type = VelSet
;trigger1 = animelem = 2 || animelem = 4 || animelem = 6 ||
trigger1 =  time = 0
x = 7
y = 0

[State 1000, 1]
type=PlaySnd
trigger1 = AnimElem = 3
value= s3, 15
volume = 50

[State 1300, Explod]
type = Explod
trigger1 = animelem = 3
anim =  7600
ID = 7600
pos = 7,-48
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.8,0.9
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0
removetime = -2

;[State 1000, PlaySnd]
;type = PlaySnd
;trigger1 = Time = 0
;value = 1,5
;volume = 100

[State 1400: HitDef]
type = HitDef
trigger1 =  animelem = 3
attr = S, NA
hitflag	= MAF
guardflag = M
animtype = Hard
air.animtype = Back
priority = 1, Hit
damage = 30
pausetime = 8,10
guard.pausetime	= 8,10
sparkno	= s7610
sparkxy	= -35,-50
guard.sparkno = s7005
hitsound = S3,18
guardsound = S0,9
ground.type = High
air.type = Low
ground.slidetime = 15
ground.hittime = 15
air.hittime = 15
yaccel = 0.45
ground.velocity	= -6
guard.velocity = -8
air.velocity = -5,-5.7
airguard.velocity = -5,-5.7
ground.cornerpush.veloff = -8
air.fall = 1
id = 215
getpower = 40
givepower = 40

[State 1200, 1]
type = PlaySnd
trigger1 = animelem = 1 ;|| animelem = 5 || animelem = 7 || animelem = 9
value = 5, 2


[State 1400, 3]
type = ChangeState
triggerall = time > 8
trigger1 = command = "x"
value = 1401
ctrl = 0

[State 1400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------
; Rapid Espada 1
[Statedef 1401]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 75
ctrl = 0
velset = 0,0
anim = 1401
sprpriority = 2

[State 0, VelSet]
type = VelSet
;trigger1 = animelem = 2 || animelem = 4 || animelem = 6 ||
trigger1 =  animelem = 2
x = 2
y = 0

[State 1200, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 1

[State 1401, 2]
type = HitDef
trigger1 = animelem = 2
attr = A, SA
animtype  = Medium
damage    = 5,2
guardflag = MA
pausetime = 5,5
sparkno	= s7611
sparkxy	= -35,-61
guard.sparkno = s7005
hitsound   = s3,18
guardsound = s0, 8
ground.type = Low
ground.slidetime = 10
ground.hittime  = 11
ground.velocity = -5
air.velocity = -1,-3.5


[State 200, Spark CVS]
type = Explod
trigger1 = movehit = 2 || movehit = 4 || movehit = 6 || movehit = 8 || movehit = 10 || movehit = 12|| movehit = 7 || movehit = 8 || movehit = 9
anim = 7004
ID = 7004
postype = P1
pos = 80,-80
facing = 1
sprpriority = 3
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.8,0.8
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 1300, Explod]
type = Explod
trigger1 = animelem = 2
anim =  7602
ID = 7600
pos = 7,-58
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.8,1
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0
removetime = -2




[State 1200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1400, 3]
type = ChangeState
triggerall = time > 5
trigger1 = command = "x"
value = 1402
ctrl = 0


[State 1401, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------
; Rapid Espada 2
[Statedef 1402]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 75
ctrl = 0
velset = 0,0
anim = 1402
sprpriority = 2

[State 0, VelSet]
type = VelSet
;trigger1 = animelem = 2 || animelem = 4 || animelem = 6 ||
trigger1 =  animelem = 2
x = 2
y = 0

[State 1200, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 1

[State 1401, 2]
type = HitDef
trigger1 = animelem = 2
attr = A, SA
animtype  = Medium
damage    = 5,2
guardflag = MA
pausetime = 5,5
sparkno	= s7612
sparkxy	= -35,-43
guard.sparkno = s7005
hitsound   = s3,18
guardsound = s0, 8
ground.type = Low
ground.slidetime = 10
ground.hittime  = 11
ground.velocity = -5
air.velocity = -1,-3.5

[State 200, Spark CVS]
type = Explod
trigger1 = movehit = 2 || movehit = 4 || movehit = 6 || movehit = 8 || movehit = 10 || movehit = 12|| movehit = 7 || movehit = 8 || movehit = 9
anim = 7004
ID = 7004
postype = P1
pos = 80,-80
facing = 1
sprpriority = 3
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.8,0.8
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 1300, Explod]
type = Explod
trigger1 = animelem = 2
anim =  7601
ID = 7601
pos = 7,-52
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.8,1
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0
removetime = -2




[State 1200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1400, 3]
type = ChangeState
triggerall = time > 5
trigger1 = command = "x"
value = 1403
ctrl = 0

[State 1401, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------
; Rapid Espada 3
[Statedef 1403]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 75
ctrl = 0
velset = 0,0
anim = 1403
sprpriority = 2

[State 0, VelSet]
type = VelSet
;trigger1 = animelem = 2 || animelem = 4 || animelem = 6 ||
trigger1 =  animelem = 2
x = 2
y = 0

[State 1200, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 1

[State 1401, 2]
type = HitDef
trigger1 = animelem = 2
attr = A, SA
animtype  = Medium
damage    = 5,2
guardflag = MA
pausetime = 5,5
sparkno	= s7610
sparkxy	= -12,-50
guard.sparkno = s7005
hitsound   = s3,18
guardsound = s0, 8
ground.type = Low
ground.slidetime = 10
ground.hittime  = 11
ground.velocity = -5
air.velocity = -1,-3.5

[State 200, Spark CVS]
type = Explod
trigger1 = movehit = 2 || movehit = 4 || movehit = 6 || movehit = 8 || movehit = 10 || movehit = 12|| movehit = 7 || movehit = 8 || movehit = 9
anim = 7004
ID = 7004
postype = P1
pos = 80,-80
facing = 1
sprpriority = 3
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.8,0.8
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 1300, Explod]
type = Explod
trigger1 = animelem = 2
anim =  7600
ID = 7600
pos = 7,-48
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.8,1
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0
removetime = -2



[State 1200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1400, 3]
type = ChangeState
triggerall = time > 5
trigger1 = command = "x"
value = 1401
ctrl = 0

[State 1401, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1




;===================================================================================
;Espada Fuerte 1
[Statedef 1500]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 1500
poweradd = 100

[State 1500, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 4
y = 0


[State 1500, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,20
volume = 50

[State 1500, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S5,1
volume = 50


[State 60, Explod]
type = Explod
trigger1 = time = 13
anim = 1560
ID =  1560
pos = 10,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
pausemove =1
scale = 0.8, 0.8
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1

[State 1500, 4]
type = HitDef
trigger1 = animelem = 3
attr = A, SA
animtype  = Medium
damage    = 50, 4
priority  = 5
guardflag = MA
pausetime = 8,10
sparkno = -1
sparkxy = -15,-50
hitsound   = s3,19
guard.sparkno = s7005
guardsound = 6,0
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4.5
guard.velocity = -7
air.velocity = -7,0.5
fall = 0
fall.recover = 0

[State 1500, Explod fuego]
type = Explod
trigger1 = movecontact = 1
anim = 7500
ID =  7500
pos = -10,-50
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
pausemove =1
scale = 0.5, 0.5
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0


[State 1500, 3]
type = ChangeState
triggerall = time > 13
trigger1 = command = "Espadazo 2"
value = 1510
ctrl = 0


[State 1500, 3]
type = ChangeState
trigger1 = (animtime!)
value = 0
ctrl = 1

;----------------------------
;Espada Fuerte 2
[Statedef 1510]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 1510
poweradd = 100

[State 1500, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 3
y = 0


[State 1500, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3,20
volume = 50

[State 1500, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S5,6
volume = 50

[State 60, Explod]
type = Explod
trigger1 = time = 12
anim = 1570
ID =  1570
pos = -60,-5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
pausemove =1
scale = 1, 0.6
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1
ignorehitpause = 1

[State 1500, 4]
type = HitDef
trigger1 = animelem = 2
attr = A, SA
animtype  = Medium
damage    = 50, 4
priority  = 5
guardflag = MA
pausetime = 8,10
sparkno = -1
sparkxy = -15,-50
hitsound   = s3,19
guard.sparkno = s7005
guardsound = 6,0
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4.5
guard.velocity = -7
air.velocity = -7,0.5
fall = 0


[State 1500, Explod fuego]
type = Explod
trigger1 = movecontact = 1
anim = 7500
ID =  7500
pos = -10,-50
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
pausemove =1
scale = 0.5, 0.5
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1
ignorehitpause = 1

[State 1500, 3]
type = ChangeState
triggerall = time > 9
trigger1 = command = "Espadazo 2"
value = 1520
ctrl = 0


[State 1500, 3]
type = ChangeState
triggerall = time > 4
trigger1 = command = "espadazo moriya"
value = 1600
ctrl = 0


[State 1500, 3]
type = ChangeState
trigger1 = (animtime!)
value = 0
ctrl = 1


;----------------------------
;Espada Fuerte 3
[Statedef 1520]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 1520
poweradd = 100

[State 1500, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 6
y = 0


[State 1500, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S3,20
volume = 50

[State 1500, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S5,0
volume = 50

[State 60, Explod]
type = Explod
trigger1 = time = 8
anim = 1550
ID =  1550
pos = 48,-5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
pausemove =1
scale = 0.8, 0.8
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1
ignorehitpause = 1

[State 1500, 4]
type = HitDef
trigger1 = animelem = 3
attr = A, SA
animtype  = Medium
damage    = 50, 4
priority  = 5
guardflag = MA
pausetime = 10,12
sparkno = -1
sparkxy = -15,-50
hitsound   = s3,19
guard.sparkno = s7005
guardsound = 6,0
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -5.5, -3.8
guard.velocity = -7
air.velocity = -7,0.5
fall = 1
fall.recover = 1

[State 1500, Explod fuego]
type = Explod
trigger1 = movecontact = 1
anim = 7500
ID =  7500
pos = -10,-50
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
pausemove =1
scale = 0.5, 0.5
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0



[State 1500, 3]
type = ChangeState
trigger1 = (animtime!)
value = 0
ctrl = 1

;===========================================================================
;espadazo circulo
[Statedef 1600]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 100
ctrl = 0
velset = 0,0
anim = 1600
sprpriority = 2

[State 1600, PosSet]
type = Posadd
trigger1 = AnimElem = 2 || animelem = 3 || Animelem = 4
x = 13
y = 0

[State 1600, PlaySnd]
type = PlaySnd
trigger1 = time = 12
value = S3,20
volume = 50




[State 1600, Spark CVS]
type = Explod
triggerall = Numexplod(7500) < 2
trigger1 = Movehit = 1
anim = 7500
ID = 7500
postype = P1
pos = 52,-55
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.6,0.6
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 1600, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 2

[State 1600, 2]
type = HitDef
trigger1 =  AnimElem = 3
attr = S, NA
animtype  = Medium
damage    = 63
guardflag = MA
pausetime = 10,12
sparkno = -1
sparkxy = -10,-60
guard.sparkno = s7005
hitsound   = s3, 19
guardsound = s0, 8
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2.5, -7
air.velocity = -4,-6
recover = 0
fall = 1



[State 1600, Spark CVS]
type = Explod
trigger1 = animelem = 4
anim = 1650
ID = 1650
postype = P1
pos = 5,-65
vel = 0.5,0
facing = 1
sprpriority = 3
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.8,0.8
removeongethit = 1
ontop = 0
supermovetime 	= 999
ignorehitpause  = 1


[State 1600, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 4, 4



[State 1600, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;-------------------------------------------------------------------------------
;Repukken
[Statedef 1700]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 1700
poweradd = -50


[State 1700, Explod]
type = Explod
trigger1 =  time = 0
anim = 1710
ID = 1710
pos = -41, -32
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 999
supermove
pausemove
scale = 0.3,0.3
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1
;ignorehitpause =
;persistent =

[State 1700, Explod]
type = Explod
trigger1 =  time = 26
anim = 1710
ID = 1710
pos = -41, -32
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 999
supermove
pausemove
scale = 0.3,0.3
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1
;ignorehitpause =
;persistent =

[State 1700, Explod]
type = Explod
trigger1 =  time = 65
anim = 1710
ID = 1710
pos = -41, -32
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 999
supermove
pausemove
scale = 0.3,0.3
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1
;ignorehitpause =
;persistent =

[State 1700, RemoveExplod]
type = RemoveExplod
triggerall = time > 14
trigger1 = command != "hold_c"
trigger2 = time = 95
id =  1710
;ignorehitpause =
;persistent =


[State 1700, 1]
type = PlaySnd
trigger1 =  time% 35 = 0
value = 3, 23
volume = 200
channel = 1

[State 1700, StopSnd]
type = StopSnd
triggerall = time > 14
trigger1   = command != "hold_c"
trigger2   = time = 95
;trigger3   = vel x > 0 || vel x < 0
channel = 1



[State 1700, 2]
type = changestate
trigger1 = time >= 65
trigger1 = command != "hold_c"
trigger2 = time = 95
value =  1703
ctrl = 0


[State 1700, 2]
type = changestate
trigger1 = time >= 26
trigger1 = command != "hold_c"
value =  1702
ctrl = 0

[State 1700, 4]
type =  ChangeState
triggerall = time > 14
trigger1 = command != "hold_c"
value =  1701
ctrl = 1



;------------------------------------------------------------
;Repukken 1
[Statedef 1701]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 1701
poweradd = -50


[State 1701:		Helper]
type		= Helper
trigger1	= (AnimElem = 2)
helpertype	= Normal
name		= "Repukken"
id		= 1750
pos		= 80,5
postype		= p1
facing		= 1
stateno		= 1750
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.6
size.yscale     = 0.6

[State 1701, Explod]
type = Explod
trigger1 = Animelem = 2
anim =  1021
ID = 1021
pos = 15,-25
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.7,0.7
Ontop = 1
removetime = -2
removeongethit = 1

[State 1701, Explod]
type = Explod
trigger1 = time = 10
anim =  1751
ID = 1751
pos = 60,4
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.7,0.7
Ontop = 1
removetime = -2
removeongethit = 1

[State 1701, 1]
type=PlaySnd
trigger1 = AnimElem = 2
value= s3, 4
volume = 50


[State 1701, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 4, 7

[State 1701, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  0
ctrl= 1


;------------------------------------
;Repukken Projectile
[Statedef 1750]
movetype	= A
anim		= 1750
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 1750:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[STate 1750: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 1750:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

;[State 1001:	PlayerPush]
;type			= PlayerPush
;trigger1		= 1
;value			= 0


[State 1750:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 5
;y			= (IfElse((Parent,Command = "holdup"),-0.5,(IfElse((Parent,Command = "holddown"),0.8,0))))


[State 1750: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 50
framegap 	= 1
length 		= 20
paladd 		= 0, 0, 0
palmul 		= .25, .50, .75
palcontrast 	= 50,100,150
trans 		= add



[State 1750:	Hitdef]
type            = Hitdef
triggerall      = hitcount < 2
trigger1        = animelem = 1 ;|| animelem = 2 || animelem = 3 || animelem = 4
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 30,5
pausetime	= 6,6
sparkno		= -1
sparkxy		= -10,-25
;guard.sparkxy   = 30, 20
guard.sparkno	= -1
hitsound	= s3,5
guardsound	= s3,5
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -4
guard.velocity	= -4
air.velocity	= -4,-3
airguard.velocity = -4,-3
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
palfx.time	= 25
palfx.mul	= 50,120,150
palfx.add	= 100,200,250
palfx.sinadd 	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4

[State 1750, Spark CVS]
type = Explod
triggerall = Numexplod(1752) < 2
trigger1 = movecontact = 1
anim =1752
ID = 1752
postype = P2
pos = -10,5
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.6,0.6
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1



[State 1750:	DestroySelf]
type			= DestroySelf
trigger1                = movecontact = 1

;==========================================================================
;Repukken 2
[Statedef 1702]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 1702
poweradd = -100

[State 1702, 1]
type=PlaySnd
trigger1 = AnimElem = 2
value= s3, 4
volume = 50

;[State 1000, PlaySnd]
;type = PlaySnd
;trigger1 = Time = 0
;value = 1,5
;volume = 100

[State 1702:		Helper]
type		= Helper
trigger1	= (AnimElem = 2)
helpertype	= Normal
name		= "Repukken"
id		= 1760
pos		= 80,4
postype		= p1
facing		= 1
stateno		= 1760
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.5
size.yscale     = 0.5

[State 1702, Explod]
type = Explod
trigger1 = Animelem = 4
anim =  1021
ID = 1021
pos = 25,-25
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.7,0.7
Ontop = 1
removetime = -2
removeongethit = 1

[State 1702, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 4, 7

[State 1702, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  0
ctrl= 1
;------------------------------------
;Repukken Projectile  2
[Statedef 1760]
movetype	= A
anim		= 1760
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 1760:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[STate 1760: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 1760:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA


[State 1760:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 2.5
;y			= (IfElse((Parent,Command = "holdup"),-0.5,(IfElse((Parent,Command = "holddown"),0.8,0))))

[State 1760:	VelMul]
type		= VelMul
trigger1	= (Time > 0)
x		= 1.08
y		= 1.08

[State 1760: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 50
framegap 	= 1
length 		= 20
paladd 		= 0, 0, 0
palmul 		= .25, .50, .75
palcontrast 	= 50,100,150
trans 		= add



[State 1760:	Hitdef]
type            = Hitdef
triggerall      = hitcount < 6
trigger1        = animelem = 1 || animelem = 2 || animelem = 3 || animelem = 4
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 20,5
pausetime	= 6,6
sparkno		= -1;s1022
sparkxy		= -10+(random%30),-25+(random%20)
;guard.sparkxy   = 30, 20
guard.sparkno	= s1021
hitsound	= s3,28
guardsound	= s3,5
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -4
guard.velocity	= -4
air.velocity	= -4,-3
airguard.velocity = -4,-3
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
palfx.time	= 25
palfx.mul	= 50,120,150
palfx.add	= 100,200,250
palfx.sinadd 	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4

[State 1850, Explod - arena]
type = Explod
trigger1 = Movecontact = 1
anim =  1021+(random%2)
ID =    1021
pos =  -10+(random%30),-25+(random%20)
postype = p2  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.6,0.6
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 1850, Explod - arena]
type = Explod
trigger1 = Movecontact = 1
anim =  1026+(random%2)
ID =    1021
pos =  -10+(random%30),-25+(random%20)
postype = p2  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.6,0.6
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 1760, Explod]
type = Explod
trigger1 = time = 0
anim =  1761
ID = 1761
pos = 15,3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.7,0.7
Ontop = 1
removetime = -2
removeongethit = 1


[State 1760:	DestroySelf]
type			= DestroySelf
trigger1                = time = 150

;----------------------------------------------------------
;Repukken 3
[Statedef 1703]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 1702
poweradd = -150


[State 1703:		Helper]
type		= Helper
trigger1	= (AnimElem = 2)
helpertype	= Normal
name		= "Repukken"
id		= 1770
pos		= 0,5
postype		= p1
facing		= 1
stateno		= 1770
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.6
size.yscale     = 0.6

[State 1703, Explod]
type = Explod
trigger1 = Animelem = 2
anim =  1021
ID = 1021
pos = 15,-25
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.7,0.7
Ontop = 1
removetime = -2
removeongethit = 1


[State 1701, Explod]
type = Explod
trigger1 = time = 10
anim =  1751
ID = 1751
pos = 60,4
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.6,0.7
Ontop = 1
removetime = -2
removeongethit = 1

[State 1703, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 4, 7

[State 1703, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  0
ctrl= 1


;------------------------------------
;Repukken 3 Projectile
[Statedef 1770]
movetype	= A
anim		= 1771
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 1770:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[STate 1770: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 1770:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

;[State 1001:	PlayerPush]
;type			= PlayerPush
;trigger1		= 1
;value			= 0

[State 1760, Explod]
type = Explod
trigger1 = time = 21
anim =  1761
ID = 1761
pos = 180,3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.6,0.7
Ontop = 1
removetime = -2
removeongethit = 1



[State 1770:	Hitdef]
type            = Hitdef
triggerall      = hitcount < 5
trigger1        = animelem = 2 || animelem = 4 || animelem = 6 || animelem = 8 || animelem = 10 || animelem = 12 || animelem = 14 || animelem = 16
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 35,5
pausetime	= 2,4
sparkno		= s1022
sparkxy		= -15,-30
;guard.sparkxy   = 30, 20
guard.sparkno	= s1022
hitsound	= s3,5
guardsound	= s3,5
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -7
guard.velocity	= -4
air.velocity	= -7,-4
airguard.velocity = -4,-3
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
palfx.time	= 25
palfx.mul	= 50,120,150
palfx.add	= 100,200,250
palfx.sinadd 	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4

[State 1770, Explod]
type = Explod
trigger1 = time = 0
anim =  1770
ID = 1770
pos = 75,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.3,0.3
Ontop = 1
removetime = -2
removeongethit = 1

[State 1770, Explod]
type = Explod
trigger1 = time = 7
anim =  1770
ID = 1770
pos = 92,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.35,0.35
Ontop = 1
removetime = -2
removeongethit = 1

[State 1770, Explod]
type = Explod
trigger1 = time = 15
anim =  1770
ID = 1770
pos = 112,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.4,0.4
Ontop = 1
removetime = -2
removeongethit = 1

[State 1770, Explod]
type = Explod
trigger1 = time = 22
anim =  1770
ID = 1770
pos = 137,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.45,0.45
Ontop = 1
removetime = -2
removeongethit = 1

[State 1770, Explod]
type = Explod
trigger1 = time = 30
anim =  1770
ID = 1770
pos = 167,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.5,0.5
Ontop = 1
removetime = -2
removeongethit = 1

[State 1770, Explod]
type = Explod
trigger1 = time = 37
anim =  1770
ID = 1770
pos = 202,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.55,0.55
Ontop = 1
removetime = -2
removeongethit = 1

[State 1770, Explod]
type = Explod
trigger1 = time = 44
anim =  1770
ID = 1770
pos = 242,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.6,0.6
Ontop = 1
removetime = -2
removeongethit = 1

[State 1770, Explod]
type = Explod
trigger1 = time = 51
anim =  1770
ID = 1770
pos = 287,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.65,0.65
Ontop = 1
removetime = -2
removeongethit = 1

[State 1770, 1]
type = PlaySnd
trigger1 = AnimElem = 1 || AnimElem = 3 || AnimElem = 5 || AnimElem = 7 || AnimElem = 9 || AnimElem = 11 || AnimElem = 13 || AnimElem = 15
value = 3, 22





[State 1770:	DestroySelf]
type			= DestroySelf
trigger1                = time = 51

;==============================================================================




;===============================================================================

;espadazo al piso fuerte
[Statedef 1800]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= -300
ctrl = 0
anim = 1800
sprpriority = 2

[State 1800, Velset]
type = VelSet
trigger1 = Time = 0
x = 10
y = -5.2

[State 1800, Veladd]
type = VelAdd
trigger1 = Time > 0
y = 0.5

[State 1800, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1, 2

[State 1800, Explod - arena]
type = Explod
trigger1 =  (AnimElem = 1)
anim =  7109
ID =    7109
pos =  -5 ,10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.5,0.5
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0



[State 1800, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 2




[State 1800, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 4, 4



[State 1800, 4]
type = ChangeState
triggerall = pos y >= 0
trigger1 = time >= 11
value = 1801
ctrl = 1
;-----------------------------
;espadazo al piso fuerte
[Statedef 1801]
type = S
movetype = A
physics =S
velset = 0,0
juggle = 4
ctrl = 0
anim = 1801
poweradd = 0


[State 700, Explod]
type = Explod
trigger1 = animelem = 1
anim = 2007
ID = 2007
pos = 15,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .9,.9
sprpriority = 0
ownpal = 1
removeongethit	= 0

[State 1801, 1]
type=PlaySnd
trigger1 = AnimElem = 2
value= s3, 4
volume = 50

;[State 1000, PlaySnd]
;type = PlaySnd
;trigger1 = Time = 0
;value = 1,5
;volume = 100

[State 1801:		Helper]
type		= Helper
trigger1	= (time = 0)
helpertype	= Normal
name		= "espadazo al piso fuerte"
id		= 1850
pos		= 15,5
postype		= p1
facing		= 1
stateno		= 1850
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.5
size.yscale     = 0.5

[State 1801, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3, 5

[State 1801, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 4, 7

[State 1852, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10
freq = 150
ampl = -2
phase = 90


[State 1000, 4]
type =  ChangeState
trigger1 = time = 32
value =  0
ctrl= 1



;------------------------

;espadazo al piso fuerte
[Statedef 1850]
movetype	= A
anim		= 1850
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 10

[State 1850:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[STate 1850: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 1850:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

;[State 1001:	PlayerPush]
;type			= PlayerPush
;trigger1		= 1
;value			= 0

[State 1850:	Hitdef]
type            = Hitdef
triggerall      = hitcount < 3
trigger1        = animelem = 3|| animelem = 6 || animelem = 9 || animelem = 12 || animelem = 15
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 40,10
pausetime	= 6,8
sparkno		= s1022
sparkxy		= -20,-45
;guard.sparkxy   = 30, 20
guard.sparkno	= s1022
hitsound	= s3,19
guardsound	= 0;s3,5
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -1,-8
guard.velocity	= -3
air.velocity	= -1.5,-9
airguard.velocity = -4,-3
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
palfx.time	= 25
palfx.mul	= 50,120,150
palfx.add	= 100,200,250
palfx.sinadd 	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
sprpriority	= 10
fall = 1

[State 1850, Explod - arena]
type = Explod
trigger1 =  (AnimElem = 1)
anim =  1851
ID =    1851
pos =  0, -13
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.45,0.45
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0


[State 1850, Explod - arena]
type = Explod
trigger1 =  (AnimElem = 1)
anim =  1852
ID =    1852
pos =  0, -8
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.55,0.55
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0


[State 1850:	DestroySelf]
type			= DestroySelf
trigger1                = animtime = 0

;===============================================================================
;espadazo al piso devil
[Statedef 1900]
type = S
movetype = A
physics =S
velset = 0,0
juggle = 4
ctrl = 0
anim = 1900
poweradd = -150

[State 1900, PosAdd]
type = PosAdd
trigger1 =  animelem = 2
x = 10
y = 0
;ignorehitpause =
;persistent =



[State 1900, Explod - arena]
type = Explod
trigger1 =  (AnimElem = 2)
anim =  7109
ID =    7109
pos =  -15 ,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.5,0.5
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

;[State 1000, PlaySnd]
;type = PlaySnd
;trigger1 = Time = 0
;value = 1,5
;volume = 100

[State 1900:		Helper]
type		= Helper
trigger1	= animelem = 2
helpertype	= Normal
name		= "espadazo al piso devil"
id		= 1950
pos		= 70,5
postype		= p1
facing		= 1
stateno		= 1950
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.6
size.yscale     = 0.5

[State 1900, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 5

[State 1900, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 4, 7




[State 1900, 4]
type =  ChangeState
trigger1 = time = 40
value =  0
ctrl= 1


;------------------------

;espadazo al piso devil
[Statedef 1950]
movetype	= A
anim		= 1950
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 10

[State 1950:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[STate 1950: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 1950:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

;[State 1001:	PlayerPush]
;type			= PlayerPush
;trigger1		= 1
;value			= 0

[State 1950:	Hitdef]
type            = Hitdef
triggerall      = hitcount < 2
trigger1        = animelem = 3 ;|| animelem = 9 || animelem = 12 || animelem = 15 || animelem = 18
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 40,10
pausetime	= 1,12
sparkno		= s1022
sparkxy		= -20,-45
;guard.sparkxy   = 30, 20
guard.sparkno	= s1022
hitsound	= 0;s3,5
guardsound	= 0;s3,5
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -5,-2
guard.velocity	= -3
air.velocity	= -4,-3
airguard.velocity = -4,-3
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
palfx.time	= 25
palfx.mul	= 50,120,150
palfx.add	= 100,200,250
palfx.sinadd 	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
sprpriority	= 10
fall = 1

[State 1900, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10
freq = 150
ampl = -2
phase = 90

[State 1950:	DestroySelf]
type			= DestroySelf
trigger1                = animtime = 0


;===============================================================================
;boltereta
[Statedef 2100]
type = A
movetype = A
physics = N
;velset = 0,0,0
juggle = 4
ctrl = 0
anim = ifelse(vel X < 0, 2101, 2100)
poweradd = -150

[State 0, VelSet]
type = VelSet
trigger1 =  time = 0
x = ifelse(vel X < 0, -3, 5)
y = ifelse(vel X < 0, -5.25, -4)

[State 0, VelAdd]
type = VelAdd
trigger1 = time > 5
;x = 0
y = 0.25

[State 0, VarAdd]
type = VarAdd
trigger1 = time > 0
fv = 10
value = -30

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 0
value = fvar(10)
;scale =  (winmugen only)


[State 1000, 1]
type=PlaySnd
trigger1 = time = 10 || time = 25 || time = 40 || time = 55
value= s3, 15
volume = 50



[State 1760: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 17
framegap 	= 1
length 		= 20
paladd 		= 0, 0, 0
palmul 		= .25, .50, .75
palcontrast 	= 50,100,150
trans 		= add

[State 1800, 1]
type = PlaySnd
trigger1 = time = 2
value = 1, 2


[State 410, 2]
type = HitDef
trigger1 = time% 3 = 0;time = 4
attr = C, NA
damage    = 37
animtype  = Medium
hitflag = MAF
guardflag = M
pausetime = 12,12
sparkxy	= 30,-30
sparkno	= -1
hitsound   = s3,18
guardsound = s0, 8
guard.sparkno = -5-1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -3,-4



[State 1900, Explod - arena]
type = Explod
trigger1 = time% 17= 0  ;(AnimElem = 2)
anim =  2150
ID =    2150
pos =  15 ,0;20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 999
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.4,0.4
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = pos y >= -20
id = 2150



[State 1900, Explod - arena]
type = Explod
trigger1 =  time% 17 = 10;  (AnimElem = 4)
anim =  2151
ID =    2151
pos =  -10 ,0;20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 999
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.4,0.4
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 1600, Spark CVS]
type = Explod
triggerall = Numexplod(7500) < 2
trigger1 = Movehit = 1
anim = 7500
ID = 7500
postype = P2
pos = -30,-45
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.6,0.6
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 1600, Spark CVS]
type = Explod
triggerall = Numexplod(7005) < 2
trigger1 = moveguarded = 1
anim = 7005
ID = 7005
postype = P2
pos = 10,-45
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = pos y >= -20
id = 2151

[State 0, PosSet]
type = PosSet
trigger1 =  pos y > -20
y = 0

[State 1650, ChangeState]
type = ChangeState
trigger1 =  pos y >= -20
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;boltereta
[Statedef 2150]
type = A
movetype = A
physics = N
;velset = 0,0,0
juggle = 4
ctrl = 0
anim = 2155;ifelse(vel X < 0, 2101, 2100)
poweradd = -150


[State 1300:	VelSet]
type			= VelSet
trigger1		= time = 0
x = ifelse(vel X < 0, -1, 1)
y = ifelse(vel X < 0, -6, -6)


[State 1300:	VelAdd]
type			= VelAdd
trigger1		= time > 0
x			= 0
y			= 0.4

[State 1000, 1]
type=PlaySnd
trigger1 = animelem = 7
value= s3, 15
volume = 50



[State 1760: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 17
framegap 	= 1
length 		= 20
paladd 		= 0, 0, 0
palmul 		= .25, .50, .75
palcontrast 	= 50,100,150
trans 		= add


[State 410, 2]
type = HitDef
trigger1 = animelem = 7
attr = C, NA
damage    = 80
animtype  = Medium
hitflag = MAF
guardflag = M
pausetime = 12,12
sparkxy	= 30,-30
sparkno	= -1
hitsound   = s3,19
guardsound = s0, 8
guard.sparkno = -1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2, 2
air.velocity = -3, 4
fall = 1



[State 1900, Explod - arena]
type = Explod
trigger1 = animelem = 7
anim =  2150
ID =    2150
pos =  50 ,-43;20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 999
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.4,0.4
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 1600, Spark CVS]
type = Explod
triggerall = Numexplod(7500) < 2
trigger1 = Movehit = 1
anim = 7500
ID = 7500
postype = P2
pos = -30,-65
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.6,0.6
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 1600, Spark CVS]
type = Explod
triggerall = Numexplod(7005) < 2
trigger1 = Moveguarded = 1
anim = 7005
ID = 7005
postype = P2
pos = 10,-65
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1


[State 0, PosSet]
type = PosSet
trigger1 =  pos y > -20
y = 0

[State 1650, ChangeState]
type = ChangeState
trigger1 =  pos y >= -20
value = 0
ctrl = 1

;===================================================================================
;===================================================================================
;---------------- Specials Ki ---------------------------------------------------
;===================================================================================
;===================================================================================
;Shield
[Statedef 777]
type     = S
movetype = A
physics  = S
juggle = 2
ctrl = 0
velset = 0,0,0
anim = 2003

[State 777, power]
type = Explod
trigger1 = time = 4
anim = 905
ID = 905
sprpriority = -1
bindtime = -1
removetime = 6
ownpal = 0
pos = 0, 10
scale = 0.7,0.7
removeongethit	= 1



[State 777, power]
type = Explod
trigger1 = Animelem = 3
anim = 778
ID = 778
sprpriority = 3
bindtime = -1
removetime = -1
ownpal = 1
pos = 4, -52
scale = 0.7,0.7

[State 3001, Explod - arena]
type = Explod
trigger1 =  AnimElem = 2
anim =  7109;7100
ID =    7109;7100
pos =  -10 ,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.5,0.5
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0



[State 3001, Explod - arena]
type = Explod
trigger1 =  AnimElem = 2
anim =  7109
ID =    7109
pos =  15 ,5
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.5,0.5
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 3001, Explod - efecto]
type = Explod
trigger1 =  AnimElem = 2
anim =  1722
ID =    1722
pos =  8 ,-57
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.7,0.7
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 777, helper]
type = Helper
trigger1 = Animelem = 2
stateno = 907
id = 907
pos = 3, 0
postype = p1
ownpal = 1
helpertype = normal
name = "RR Shield"
size.xscale	    = 0.7
size.yscale	    = 0.7
removeongethit = 1
ontop = 1
supermovetime 	= - 1
ignorehitpause  = 1

[State 777, 1]
type = Poweradd
trigger1 = Time >= 0
value = -4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = 15,2
volume = 0
channel = 1
freqmul = 1.0
loop = 0
pan = 0


[State 730, 3]
type = PlaySnd
trigger1 = (animelem = 4) && time % 20 = 0
value = 15, 0
volume = 20
channel = 2

[State 0, StopSnd]
type = StopSnd
trigger1 = command != "hold_x"
trigger2 = command != "hold_y"
trigger3 = power = 0
channel = 2

[State 0, StopSnd]
type = StopSnd
trigger1 = command != "hold_x"
trigger2 = command != "hold_y"
trigger3 = power = 0
channel = 1

[State 2004, end0]
type = RemoveExplod
trigger1 = command != "hold_x"
trigger2 = command != "hold_y"
trigger3 = power = 0

[State 2004, end0]
type = changestate
trigger1 = command != "hold_x"
trigger2 = command != "hold_y"
trigger3 = power = 0
value = 732
ctrl = 0

;-------------------------------------------
;  shield -  helper escudo
[Statedef 907]
type    = S
movetype= I
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
poweradd = 0
sprpriority = 3
anim = 907

[State 777, power]
type = Explod
trigger1 = time = 0
anim = 909
ID = 909
sprpriority = -1
bindtime = -1
removetime = 999
ownpal = 0
pos = 0, 0
scale = 0.7,0.7
removeongethit	= 1

[State 0, RemoveExplod]
type = RemoveExplod
triggerall = time >= 0
trigger1 = parent, stateno != 777 ;command != x;numhelper(908) = 1
;trigger1 = command != "hold_x"
;trigger2 = command != "hold_y"
id = 909

[STate 778, hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP


[STate 778, override]
type = hitoverride
trigger1 = 1
attr = SAC,NP,SP,HP
stateno = 907
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[STate 2210, destroy]
type = destroyself
trigger1 = numhelper(908) = 1
;-------------------------
;Shield - termiacin
[Statedef 732]
type     = S
movetype = A
physics  = S
juggle = 2
ctrl = 0
velset = 0,0,0
anim = 2004

[State 730, helper]
type = Helper
trigger1 = (time = 0)
stateno = 908
id = 908
pos = 0, 10
postype = p1
ownpal = 1
helpertype = normal
name = "RR Shield ad hoc"
removeongethit = 1
ontop = 1
supermovetime 	= - 1
ignorehitpause  = 1

[State 730, power]
type = Explod
trigger1 = time = 0
anim = 906
ID = 906
sprpriority = -1
bindtime = -1
removetime = 6
ownpal = 1
pos = 0, 10
scale = 0.7,0.7

[State 2004, end0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------
; Shield - Helper Ad hoc
[Statedef 908]
type     = S
movetype = A
physics  = S
juggle = 2
ctrl = 0
velset = 0,0,0
anim = 908

[State 2004, end0]
type = destroyself
trigger1 = time = 1

;===================================================================================
;canto de la sirena
[Statedef 2000]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 2000
poweradd = -500


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = 15,0
volume = 0
channel = 2
freqmul = 1.0
loop = 1
pan = 0


[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 10
value = -4

[State 888:		Helper]
type		= Helper
triggerall	= time >= 10
trigger1        = time%20 = 0
helpertype	= Normal
name		= "Canto - hit"
id		= 2050
pos		= 0,0
postype		= p1
facing		= 1
stateno		= 2050
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 1
size.yscale     = 1

[State 0, Explod]
type = Explod
triggerall = time >= 10
trigger1 = time%45 = 0
anim = 2051
ID = 2051
pos = 0+(Random%15),-40+(Random%15)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 1+(Random%2),2.5-(Random%5)
accel = -0.01,-0.02
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.4,0.4
sprpriority = -2+(random%5)
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1


[State 0, Explod]
type = Explod
triggerall = time >= 10
trigger1 = time%45 = 0
anim = 2051
ID = 2051
pos = 0+(Random%15),-40+(Random%15)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = -1+(Random%2),2.5-(Random%5)
accel = 0.01,-0.02
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.4,0.4
sprpriority = -2+(random%5)
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = time >= 10
trigger1 = time%45 = 5
anim = 2053
ID = 2053
pos = 0+(Random%15),-40+(Random%15)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 1+(Random%2),2.5-(Random%5)
accel = -0.01,-0.02
random = 0,0
removetime = -2
supermove
pausemove
scale =  0.7,0.7
sprpriority = -2+(random%5)
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1


[State 0, Explod]
type = Explod
triggerall = time >= 10
trigger1 = time%45 = 5
anim = 2053
ID = 2053
pos = 0+(Random%15),-40+(Random%15)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = -1+(Random%2),2.5-(Random%5)
accel = 0.01,-0.02
random = 0,0
removetime = -2
supermove
pausemove
scale =  0.7,0.7
sprpriority = -2+(random%5)
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = time >= 10
trigger1 = time%45 = 10
anim = 2055
ID = 2055
pos = 0+(Random%15),-40+(Random%15)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 1+(Random%2),2.5-(Random%5)
accel = -0.01,-0.02
random = 0,0
removetime = -2
supermove
pausemove
scale =  0.7,0.7
sprpriority = -2+(random%5)
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1


[State 0, Explod]
type = Explod
triggerall = time >= 10
trigger1 = time%45 = 10
anim = 2055
ID = 2055
pos = 0+(Random%15),-40+(Random%15)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = -1+(Random%2),2.5-(Random%5)
accel = 0.01,-0.02
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.7,0.7
sprpriority = -2+(random%5)
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1




[State 0, StopSnd]
type = StopSnd
triggerall = time >= 100
trigger1 = command != "hold_c"
trigger2 = power = 0
trigger3 = stateno != 2000
channel = 2


[State 1000, 4]
type =  ChangeState
triggerall = time >= 100
trigger1 = command != "hold_c"
trigger2 = power = 0
value =  0
ctrl= 1




;-------------------------------------------------------------------------------
;canto de la sirena - hit
[Statedef 2050]
movetype	= A
anim		= 2050
velset          = 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 1001:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[STate 1001: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 1001:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 711, ]
type = HitDef
triggerall = p2stateno != 5301
trigger1 = (1)
attr = S, A
hitflag = MAF
guardflag = MAF
damage = 0, 0
pausetime = 0, 10
sparkno = -1
guard.sparkno = -1
p2stateno = 2070
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -4
guard.velocity	= -4
air.velocity	= -4,-3
airguard.velocity = -4,-3
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35


[State 888:		Helper]
type		= Helper
trigger1        = movecontact = 1
helpertype	= Normal
name		= "Invocador de Zzzzzzzz"
id		= 2060
pos		= -10,-50
postype		= p2
facing		= 1
stateno		= 2060
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0

[State 1001:	DestroySelf]
type			= DestroySelf
trigger1 		= movecontact = 1;(Parent, NumProjID(1002) = 0)
trigger2                = animtime = 0


;-------------------------------------
;canto de la sirena - Invocador de Zzzzzzzzzzzz
[Statedef 2060]
movetype	= A
anim		= 2060
;velset          = 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 0, BindToTarget]
type = BindToTarget
trigger1 = time >= 0
time = 200

[State 888:		Helper]
type		= Helper
trigger1        = time%30 = 0
helpertype	= Normal
name		= "Zzzzzzzz"
id		= 2061
pos		= -10,-50
postype		= p2
facing		= 1
stateno		= 2061
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0


[State 1001:	DestroySelf]
type			= DestroySelf
trigger1                = P2stateno != 5301
;trigger2                = time = 200

;--------------------------------------------
;canto de la sirena - Invocador de Zzzzzzzzzzzz
[Statedef 2061]
movetype	= A
anim		= 2060
;velset          = 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2


[State 2060, Zzzzzzzzzz FX1]
type = Explod
trigger1 = time = 0 ;time = 81
Anim = 2061
Pos = 0,0 ; 0, -70
vel = -0.5,-0.5
accel = 0,-0.01
Id = 2061
sprpriority = 4
facing = (facing)
vfacing = 1
removeongethit = 1
removetime = -2
Postype = p1
Bindtime = 1
SuperMove = 1
pausemove = 0
ignorehitpause = 0
ownpal = 1
scale = 0.01, 0.01

[State 2060, VarSet]
type = Varset
trigger1 = time = 0
fv = 20
value = 0.01

[State 2060, VarAdd]
type = Varadd
trigger1 = time > 0 & fvar(20) <= 0.3 ;time = 80
fv = 20
value = 0.01

[State 2060, Cambio de escala]
type = ModifyExplod
trigger1 = time = [0, 68];[81,125]
ID = 2061
scale = fvar(20), fvar(20)

[State 0, Trans]
type = Trans
trigger1 = (!time)
trans = add
;ignorehitpause =
;persistent =

[State 1001:	DestroySelf]
type			= DestroySelf
trigger1                = animtime = 0

;---------------------------------------------------------------------------
; canto de la sirena  - P2
[Statedef 2070]
type    = A
movetype= H
physics = N
ctrl = 0
anim = 5300
velset = 0,0

;[State 0, PlaySnd]
;type = PlaySnd
;trigger1 = time = 0
;value = S5,9
;volume = 0

[State 5300, 1] ;Use continue animation if available
type = selfstate
trigger1 = time = 100
value = 0
ctrl = 1



;=======================================================================
;-----------------------------------------------------------------------

;Fireball Aire - Lanzamiento 1
[Statedef 2200]
type = A
movetype = A
physics = N
;velset = 0,0,0
juggle = 4
ctrl = 0
anim = 2200
poweradd = -150

[State 2200, 1]
type=PlaySnd
trigger1 = AnimElem = 2
value= s3, 4
volume = 50

[State 2200, VelMul]
type = VelMul
trigger1 = !Time
x = .160
y = .160 ;.2


[State 2200:		Helper]
type		= Helper
trigger1	= (AnimElem = 2)
helpertype	= Normal
name		= "Fire Ball - 40 Grados"
id		= 2250
pos		= 25,-55
postype		= p1
facing		= 1
stateno		= 2250
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.75
size.yscale     = 0.75

[State 2200, Explod]
type = Explod
trigger1 = Animelem = 2
anim =  1049
ID = 1049
pos = 23,-55
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.5,0.5
Ontop = 1
removetime = 16
removeongethit = 1

[State 2200, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 4, 7

[State 2200, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  50
ctrl= 1


[State 2200, 0]
type = ChangeState
triggerall = power >= 50
triggerall = time  > 10
trigger1 = command = "c"
value = 2210

;----------------------------------------------
;Fireball Aire - Lanzamiento 2
[Statedef 2210]
type = A
movetype = A
physics = N
;velset = 0,0,0
juggle = 4
ctrl = 0
anim = 2210
poweradd = -150

[State 2210, 1]
type=PlaySnd
trigger1 = AnimElem = 2
value= s3, 4
volume = 50

[State 2210, VelMul]
type = VelMul
trigger1 = !Time
x = 1
y = 1 ;.2

;[State 1000, PlaySnd]
;type = PlaySnd
;trigger1 = Time = 0
;value = 1,5
;volume = 100

[State 2210:		Helper]
type		= Helper
trigger1	= (AnimElem = 2)
helpertype	= Normal
name		= "Fire Ball - 40 Grados"
id		= 2250
pos		= 25,-55
postype		= p1
facing		= 1
stateno		= 2250
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.75
size.yscale     = 0.75

[State 2210, Explod]
type = Explod
trigger1 = Animelem = 2
anim =  1049
ID = 1049
pos = 23,-55
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.5,0.5
Ontop = 1
removetime = 16
removeongethit = 1

[State 2210, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 4, 6

[State 2210, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  50
ctrl= 1

[State 2210, 0]
type = ChangeState
triggerall = power >= 50
triggerall = time  > 7
trigger1 = command = "c"
value = 2220

;-----------------------------------------
;Fireball Aire - Lanzamiento 3
[Statedef 2220]
type = A
movetype = A
physics = N
;velset = 0,0,0
juggle = 4
ctrl = 0
anim = 2220
poweradd = -300


[State 2220, 1]
type=PlaySnd
trigger1 = AnimElem = 2
value= s3, 4
volume = 50

[State 2220, VelMul]
type = VelMul
trigger1 = !Time
x = 1
y = 1 ;.2


[State 2220, VelMul]
type = Veladd
trigger1 = AnimElem = 2
x = -1.5
y = -1 ;.2

[State 2220:		Helper]
type		= Helper
trigger1	= (AnimElem = 3) && (Power > 50)
helpertype	= Normal
name		= "Fire Ball - 60 Grados"
id		= 2260
pos		= 25,-55
postype		= p1
facing		= 1
stateno		= 2260
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 1.2
size.yscale     = 1.2



[State 2220, Explod]
type = Explod
trigger1 = Animelem = 3
anim =  1049
ID = 1049
pos = 10,-42
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.5,0.5
Ontop = 1
removetime = 16
removeongethit = 1

[State 2220, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 4, 4

[State 2220, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  50
ctrl= 1

;-----------------------------------------------
;Fire Ball chica - Projectile
[Statedef 2250]
movetype	= A
anim		= 2250
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 2250:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[STate 2250: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 2250:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

;[State 1001:	PlayerPush]
;type			= PlayerPush
;trigger1		= 1
;value			= 0


[State 2250:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 3.5+(random%2)
y			= 2.5+(random%2)

[State 2250:	VelMul]
type		= Veladd
trigger1	= (Time > 0)
x		= 0.07
y		= -0.06

[State 0: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 75
framegap 	= 1
length 		= 20
paladd 		= 0, 0, 0
palmul 		= .90, .90, .95
palcontrast 	= 150,150,165
trans 		= add



[State 2250:	Hitdef]
type            = Hitdef
trigger1        = (1)
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 40,10
pausetime	= 1,12
sparkno		= s1060
sparkxy		= 0,-5
;guard.sparkxy   = 30, 20
guard.sparkno	= s1060
hitsound	= s3,5
guardsound	= s3,5
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -4
guard.velocity	= -4
air.velocity	= -4,-3
airguard.velocity = -4,-3
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
palfx.time	= 25
palfx.mul	= 50,120,150
palfx.add	= 100,200,250
palfx.sinadd 	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4

[State 2250, Explod]
type = Explod
trigger1 = pos Y >= 2
anim =  1060
ID = 1060
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 1,1
Ontop = 1
removetime = 26
removeongethit = 1



[State 2250:	DestroySelf]
type			= DestroySelf
trigger1 		= movecontact = 1;(Parent, NumProjID(1002) = 0)
trigger2                = time = 200
trigger3                = pos Y >= 3

;----------------------
;Fire Ball 60 Grados - Projectile
[Statedef 2260]
movetype	= A
anim		= 2250
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 2260:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[STate 2260: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 2260:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

;[State 1001:	PlayerPush]
;type			= PlayerPush
;trigger1		= 1
;value			= 0


[State 2260:	VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 4
y			= 2.5

[State 2260:	VelMul]
type		= VelMul
trigger1	= (Time > 0)
x		= 1.06
y		= 1.06

[State 0: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 75
framegap 	= 1
length 		= 20
paladd 		= 0, 0, 0
palmul 		= .90, .90, .95
palcontrast 	= 150,150,165
trans 		= add

[State 2260:	Hitdef]
type            = Hitdef
trigger1        = (1)
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 30,10
pausetime	= 1,12
sparkno		= s1060
sparkxy		= 0,-5
;guard.sparkxy   = 30, 20
guard.sparkno	= s1060
hitsound	= s3,5
guardsound	= s3,5
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -4
guard.velocity	= -4
air.velocity	= -4,-3
airguard.velocity = -4,-3
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
palfx.time	= 25
palfx.mul	= 50,120,150
palfx.add	= 100,200,250
palfx.sinadd 	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4

[State 2260, Explod]
type = Explod
trigger1 = pos Y >= 2
anim =  1060
ID = 1060
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 1,1
Ontop = 1
removetime = 26
removeongethit = 1


[State 2260:	DestroySelf]
type			= DestroySelf
trigger1 		= movehit = 1;(Parent, NumProjID(1002) = 0)
trigger2                = time = 200
trigger3                = pos Y >= 3

;===================================================================================
;---------------- Supers ---------------------------------------------------
;===================================================================================
; Caon Valiente
[Statedef 3000]
type = S
movetype = I
physics = S
anim = 5555
poweradd = -1000
ctrl = 0
velset = 0, 0

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 40
movetime = 40
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1


[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -200

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 15 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, C疥ara lenta]
type = Pause
trigger1 = time = [40, 55]
time = 1
movetime = 0



[State 3000:	EnvShake]
type			= EnvShake
trigger1 		= (AnimElem = 1, > 0) && ((GameTime%10) = 0)
time			= 70
freq			= 120
ampl			= -2
phase			= 90

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = -27 ,-84
sprpriority = 2
removetime = 28
bindtime = -1
ownpal = 1
scale = 0.6,0.6
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S3,9
volume = 50
channel = 1

[State 3000, PlaySnd - bola charge]
type = PlaySnd
trigger1 = time = 28
value = S3,7
volume = 50
channel = 2

[State 3000, Bola Charge]
type = Explod
trigger1 = time = 28
anim = 3040;3049
ID =  3040;3049
pos = -27,-85
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
supermove = 1
pausemove =1
scale = 0.4,0.4
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0


[State 1002:		Helper]
type		= Helper
trigger1	= time = 60
helpertype	= Normal
name		= "Great Ball"
id		= 3050
pos		= 30,-30
postype		= p1
facing		= 1
stateno		= 3050
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 1
size.yscale     = 1


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 28
value = S4,1
volume = 50

[State 0, VelSet]
type = VelSet
trigger1 = Time = 60
x = -2
y = -1


[State 241, MakeDust]
type = MakeDust
trigger1 = time = 60
pos = -1, 0
spacing	= 1


[State 3050, Humo luego de contactar el Porjectile]
type = Explod
triggerall = numhelper(3050) = 0 && time > 60
trigger1 = time  %1 = 0
ID = 8100
anim = 8100
pos = 0,-50
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = 24
vel	= 0,-0.5
accel = 0,0
random = 0,0;10,10
scale = 0.5,0.5
sprpriority = 3
ontop = 1
shadow = 0,0,0
ownpal = 1
ignorehitpause	= 1
removeongethit	= 0

[State 3050, Humo luego de contactar el Porjectile]
type = Explod
triggerall = numhelper(3050) = 0 && time > 60
trigger1 = time  %4 = 0
ID = 8100
anim = 8100
pos = -25,-10
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = 80
vel	= 0,-0.5
accel = 0,0
random = 10,100
scale = 0.5,1
sprpriority = 3
ontop = 1
shadow = 0,0,0
ownpal = 1
ignorehitpause	= 1
removeongethit	= 0


[State 3000]
type = changestate
trigger1 = time = 80;110
value = 50
ctrl = 1

;-----------------------------------------------
; Caon valiente - Projectile
[Statedef 3050]
movetype	= A
anim		= 3050
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 3000, Bola Charge]
type = Explod
trigger1 = time = 0
anim = 3049;3049
ID =  3049;3049
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermove = 1
pausemove =1
scale = 1,1
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0


[State 3000, Bola Charge]
type = Explod
trigger1 = time = 0
anim = 3046;3049
ID =  3046;3049
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermove = 1
pausemove =1
scale = 1,1
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0

[State 0, RemoveExplod]
type = RemoveExplod
;trigger1 = Numhelper(3050) = 0
trigger1 = movehit = 7
trigger2 = time = 150
id = 3049

[State 0, RemoveExplod]
type = RemoveExplod
;trigger1 = Numhelper(3050) = 0
trigger1 = movehit = 7
trigger2 = time = 150
id = 3046



[State 2004, end0]
type = RemoveExplod
trigger1 = movehit = 7
id = 3049

[State 2004, end0]
type = RemoveExplod
trigger1 = movehit = 7
id = 3046

[State 3050, PlaySnd - "Great Ball"]
type = PlaySnd
trigger1 = Time = 0
value = S3,8
volume = 50
channel = 4

;[State 3050, caida]
;type = Velset
;trigger1 = Time >= 0
;x = 10
;y = -1

;[State 3050, caida]
;type = Velmul
;trigger1 = Time >= 0
;x = 1.8
;y = -7

[State 1001:	VelSet]
type			= VelSet
trigger1                = (!Time)
x			= 2
y			= 2;2.2

[State 0, VelAdd]
type = VelAdd
trigger1 = Pos y > -70
x = 0.05
y = -0.07


[State 3050:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
flag			= NoShadow

[STate 3050: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 3050:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

;[State 1001:	PlayerPush]
;type			= PlayerPush
;trigger1		= 1
;value			= 0

[State 3050: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 200
framegap 	= 1
length 		= 30
paladd 		= 0, 0, 0
palmul 		= .90, .90, .90
palcontrast 	= 100, 100, 100
trans 		= add

[State 3050:	Hitdef]
type            = Hitdef
trigger1        = (1)
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 80,10
pausetime	= 7,8
sparkno		= s1060
sparkxy		= 0+(random%20),-30+(random%20)
;guard.sparkxy   = 30, 20
guard.sparkno	= -1 ;s8000
hitsound	= s3,10
guardsound	= s3,10
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -2, -6
guard.velocity	= -10
air.velocity	= -4,-7
airguard.velocity = -4,-3
ground.cornerpush.veloff = 0
fall            = 1
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
palfx.time	= 25
palfx.mul	= 100,100,200
palfx.add	= 200,200,250
palfx.sinadd 	= 75,75,150,2
envshake.time   = 10
envshake.freq   = 60
envshake.ampl   = -2
envshake.phase  = 1



[State 3050, Humo]
type = Explod
trigger1 = movehit = 7
anim	= 3045;8000
id	= 3045;8000
pos	= 0,-40
postype	= p1
facing	= 1
vfacing	= 1
bindtime = 1
vel	= 0, 0
accel	= 0,0
random	= 10,10
removetime = -2
supermove = 0
supermovetime = 0
pausemovetime = 0
scale = 0.4,0.4
sprpriority = 3
ontop	= 0
shadow	= 0,0,0
ownpal	= 1
removeongethit	= 0
persistent = 0
ignorehitpause	= 1


[State 3050, Humo atras]
type = Explod
trigger1 = movehit = 7
anim = 7100
ID =  7100
pos = 15,15
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 30
supermove = 1
pausemove =1
scale = 1, 1
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0


[State 3050:	DestroySelf]
type			= DestroySelf
trigger1 = movehit = 7
trigger2 = time = 150

;trigger1 		= time = 200
;trigger2                = movehit = 7

;=================================================================

;=========================================================================
;Ataque de Espada Valiente
[Statedef 3400]
type = S
movetype = I
physics = S
anim = 3400
poweradd = -1000
ctrl = 0
velset = 0, 0


[State 3400, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = AnimElem = 1
value = S15,5
volume = 50
channel = 1

[State 3400, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 40
movetime = 40
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1


[State 3400, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -200

[State 3400, VarAdd]
type = VarAdd
trigger1 = time >= 15 && Var(12) < 0
v = 12
value = 6

[State 3400, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3400, C疥ara lenta]
type = Pause
trigger1 = time = [40, 55]
time = 1
movetime = 0



[State 3400:	EnvShake]
type			= EnvShake
trigger1 		= (AnimElem = 1, > 0) && ((GameTime%10) = 0)
time			= 70
freq			= 120
ampl			= -2
phase			= 90


[State 3400, supercharge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = 7,-80
sprpriority = -1
removetime = 28
bindtime = -1
ownpal = 1
scale = 0.7,0.7
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1


[State 3400, Helper]
type = Helper
trigger1 = Time = 1
helpertype = normal
name = "tapion"
ID = 8888
stateno = 8888
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
pausemove = 1
pausemovetime = 999
ignorehitpause = 1

;--------------
;corrida
[State 3400, ChangeAnim]
type = ChangeAnim
trigger1 = time = 70
value = 3401

[State 3400, VelSet]
type = VelSet
trigger1 = time > 70
x = const(velocity.run.fwd.x)

[State 3400: 	AfterImage]
type 		= AfterImage
trigger1 	= time > 0 ;time > 70
time 		= 30
framegap 	= 1
length 		= 20
paladd 		= 0, 0, 0
palmul 		= .90, .90, .90
palcontrast 	= 50, 50, 50
trans 		= add

[State 3001, Explod - arena]
type = Explod
trigger1 =  time = 70
anim =  7109
ID =    7109
pos =  -5 ,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.5,0.5
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0


[State 3400, MakeDust]
type = MakeDust
triggerall = time > 70
trigger1 = AnimElem = 2 || AnimElem = 5
pos = -1,0
spacing = 1

[State 3400, ChangeAnim]
type = Changestate
triggerall = time > 70
trigger1 = P2dist X <= 150
value = 3410

[State 3400, ChangeAnim]
type = Changestate
trigger1 = time = 200
value = 0



;----------------------------------------
;fondo Tapion
[Statedef 8888]
type = S
movetype = I
physics = N
juggle = 0
ctrl = 0
anim = 8888
facing = 1
sprpriority = 1
ontop = 1
pausemove = 1
pausemovetime = 999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = Time > 0
flag = nobardisplay
pausemove = 1
pausemovetime = 999

[State 0:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Time > 49 && numexplod(8888) = 0
ignorehitpause = 1

;-------------------------------------------------------------
;Ataque de Espada Valiente- 1ｺ golpe
[Statedef 3410]
type    = S
movetype= A
physics = S
juggle  = 5
anim = 3410
poweradd = 0
ctrl = 0
velset = 5, 0



[State 3410, VelAdd]
type = VelAdd
trigger1 = time > 0
x = 0.5
y = 0


[State 3410, 2]
type = HitDef
trigger1 = AnimElem = 1 || AnimElem = 2
attr = S, NA
animtype  = Medium
damage    = 57
guardflag = MA
pausetime = 12,70
sparkno = S7500
sparkxy = -10,-45
guard.sparkno = s6000
hitsound   = s3,20
guardsound = s0, 8
ground.type = High
ground.slidetime = 12
ground.hittime  = 13
ground.velocity = -5.5
air.velocity = -2.5,-4





[State 3410, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 7

[State 3410, VelSet]
type = VelSet
trigger1 =  animelem = 5
x = 4

[State 3410, MakeDust1]
type = MakeDust
trigger1 = animelem = 5 && vel X != 0
pos = 5, 0
spacing = 1

[State 3410, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S1,3
volume = 100

[State 3410, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S0,6
volume = 100


[State 3410, VelSet]
type = VelSet
trigger1 = animelem = 6
x = 0


[State 3410, ChangeAnim]
type = ChangeState
trigger1 = Time = 70
trigger2 = moveguarded = 1
value = 5120

[State 3410, ChangeState]
type = ChangeState
trigger1 = Movehit = 2
value = 3420
ctrl = 0

;-----------------------------------------------------------------------
;Ataque de Espada Valiente - espada 1
[Statedef 3420]
type    = S
movetype= A
physics = S
juggle  = 5
anim = 3420
poweradd = 0
ctrl = 0
velset = 0, 0

[State 1300, PlayerPush]
type = PlayerPush
trigger1 =  time > 0
value = 0
;ignorehitpause =
;persistent =

[State 3410, VelSet]
type = VelSet
trigger1 = time > 0
x = 30


[State 3420, ChangeState]
type = ChangeState
trigger1 = time = 6
value = 3425
ctrl = 0


;[State 3420, ChangeState]
;type = ChangeState
;trigger1 = P2dist X <= 75;animTime = 0
;value = 3430
;ctrl = 0

;---------------------------------------------------------------------------
;Ataque de Espada Valiente
[Statedef 3425]
type    = S
movetype= A
physics = S
juggle  = 5
anim = 3421
poweradd = -2000
ctrl = 0
velset = 0, 0

[State 0, Turn]
type = Turn
trigger1 =  time = 0
;ignorehitpause =
;persistent =

[State 0, VelSet]
type = VelSet
trigger1 = time > 0
x = 0

[State 3400, supercharge]
type = Explod
trigger1 = Time = 50
anim = 3251;3425
ID = 3251;3425
postype = P2
pos = 7,-40
sprpriority = -1
removetime = -2
bindtime = -1
ownpal = 1
scale = 0.5,0.5
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3410, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = S3,19
volume = 100

[State 3420, ChangeState]
type = ChangeState
trigger1 = time >= 60
value = 3430
ctrl = 0


;[State 3420, ChangeState]
;type = ChangeState
;trigger1 = P2dist X <= 75;animTime = 0
;value = 3430
;ctrl = 0


;-----------------------------------------------------------------------
;Ataque de Espada Valiente - espada 2
[Statedef 3430]
type    = S
movetype= A
physics = S
juggle  = 5
anim = 3430;44449
poweradd = 0
ctrl = 0
velset = 0, 0

[State 3430: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 30
framegap 	= 1
length 		= 20
paladd 		= 0, 0, 0
palmul 		= .90, .90, .90
palcontrast 	= 50, 50, 50
trans 		= add


[State 3430, VelSet]
type = VelSet
trigger1 = time > 0
x = 2
y = 0


[State 3430, 2]
type = HitDef
trigger1 = AnimElem = 2 || AnimElem =  4 || AnimElem =  8 || AnimElem =  11
attr = S, NA
animtype  = Light
damage    = 5,2
guardflag = MA
pausetime = 5,8
sparkno	= s7500
sparkxy	= -15 ,-40
guard.sparkno = s7005
hitsound   = s3,18
guardsound = s0, 8
ground.type = Low
ground.slidetime = 10
ground.hittime  = 11
ground.velocity = -5
air.velocity = -1,-3.5

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElem = 2 || AnimElem =  4 || AnimElem =  8 || AnimElem =  11
time = 8
id = -1
pos = 70,0
;ignorehitpause =
;persistent =


[State 3400, supercharge]
type = Explod
trigger1 = Time = 3
anim = 3433
ID = 3433
postype = P1
pos = 30,-20
sprpriority = -1
removetime = -2
bindtime = -1
ownpal = 1
scale = 0.7,0.7
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3400, supercharge]
type = Explod
trigger1 = Time = 3
anim = 3433
ID = 3433
postype = P1
pos = 30,-20
sprpriority = -1
removetime = -2
bindtime = -1
ownpal = 1
scale = 0.7,0.7
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 60, Explod]
type = Explod
trigger1 = time = 11
anim = 3434
ID =  3434
pos = -60,-5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
pausemove =1
scale = 1, 0.6
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1
ignorehitpause = 1

[State 60, Explod]
type = Explod
trigger1 = time = 26
anim = 3435
ID =  3435
pos = 10,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
pausemove =1
scale = 0.8, 0.8
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1

[State 3400, supercharge]
type = Explod
trigger1 = Time = 36
anim = 3433
ID = 3433
postype = P1
pos = 40,-10
sprpriority = -1
removetime = -2
bindtime = -1
ownpal = 1
scale = 0.7,0.7
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1



[State 3430, ChangeState]
type = ChangeState
trigger1 =  AnimTime = 0
value = 3440
ctrl = 0


;-----------------------------------------------------------------------

;Ataque de Espada Valiente - espada 3
[Statedef 3440]
type    = S
movetype= A
physics = S
juggle  = 5
anim = 3431;44449
poweradd = 0
ctrl = 0
velset = 0, 0

[State 3430: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 30
framegap 	= 1
length 		= 20
paladd 		= 0, 0, 0
palmul 		= .90, .90, .90
palcontrast 	= 50, 50, 50
trans 		= add


[State 3430, VelSet]
type = VelSet
trigger1 = time > 0
x = 2
y = 0


[State 3430, 2]
type = HitDef
trigger1 = AnimElem = 2 || AnimElem =  5 || AnimElem =  7 || AnimElem =  9 || AnimElem =  11 || AnimElem = 13 || AnimElem = 15 || AnimElem = 17
attr = S, NA
animtype  = Light
damage    = 5,2
guardflag = MA
pausetime = 5,5
sparkno	= s7500
sparkxy	= -15 ,-40
guard.sparkno = s7005
hitsound   = s3,18
guardsound = s0, 8
ground.type = Low
ground.slidetime = 10
ground.hittime  = 50
ground.velocity = -4
air.velocity = -1,-3.5

[State 1470, width]
type = Width
trigger1 = 1
edge = 70,0

[State 60, Explod]
type = Explod
trigger1 = time = 3
anim = 3434
ID =  3434
pos = -60,-5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
pausemove =1
scale = 1, 0.6
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1
ignorehitpause = 1

[State 60, Explod]
type = Explod
trigger1 = time = 15
anim = 3435
ID =  3435
pos = 10,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
pausemove =1
scale = 0.8, 0.8
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1

[State 1300, Explod]
type = Explod
trigger1 = time = 23
anim =  7600
ID = 7600
pos = 7,-48
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.8,1
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0
removetime = -2

[State 1300, Explod]
type = Explod
trigger1 = time = 31
anim =  7602
ID = 7600
pos = 7,-58
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.8,1
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0
removetime = -2

[State 1300, Explod]
type = Explod
trigger1 = time = 39
anim =  7601
ID = 7601
pos = 7,-52
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.8,1
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0
removetime = -2

[State 1300, Explod]
type = Explod
trigger1 = time = 47
anim =  7600
ID = 7600
pos = 7,-48
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.8,1
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0
removetime = -2

[State 1300, Explod]
type = Explod
trigger1 = time = 55
anim =  7602
ID = 7600
pos = 7,-58
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.8,1
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0
removetime = -2

[State 1300, Explod]
type = Explod
trigger1 = time = 63
anim =  7601
ID = 7601
pos = 7,-52
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.8,1
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 0
removetime = -2



[State 3430, ChangeState]
type = ChangeState
trigger1 =  AnimTime = 0
value = 3441
ctrl = 0
;---------------------------------------------------------------------
; espadazo moriya
[Statedef 3441]
type    = S
movetype= A
physics = S
juggle  = 5
anim = 3441;44449
poweradd = 0
ctrl = 0
velset = 0, 0

[State 3430: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 30
framegap 	= 1
length 		= 20
paladd 		= 0, 0, 0
palmul 		= .90, .90, .90
palcontrast 	= 50, 50, 50
trans 		= add


[State 3430, VelSet]
type = VelSet
trigger1 = time > 0
x = 2
y = 0


[State 3430, 2]
type = HitDef
trigger1 = AnimElem =  5 ;||
attr = S, NA
animtype  = Light
damage    = 5,2
guardflag = MA
pausetime = 5,5
sparkno	= s7500
sparkxy	= -15 ,-40
guard.sparkno = s7005
hitsound   = s3,18
guardsound = s0, 8
ground.type = Low
ground.slidetime = 10
ground.hittime  = 50
ground.velocity = -2, -8.5
air.velocity = -2,-8.5
fall = 1

[State 1470, width]
type = Width
trigger1 = 1
edge = 55,0


[State 1600, Spark CVS]
type = Explod
trigger1 = animelem = 4
anim = 1650
ID = 1650
postype = P1
pos = 5,-65
vel = 0.5,0
facing = 1
sprpriority = 3
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.8,0.8
removeongethit = 1
ontop = 0
supermovetime 	= 999
ignorehitpause  = 1




[State 3430, ChangeState]
type = ChangeState
trigger1 = time = 42
value = 3450
ctrl = 0
;---------------------------------------------------------------------
; Ataque de Espada Valiente - corte final
[Statedef 3450]
type    = A
movetype= A
physics = N
juggle  = 0
sprpriority = 2
anim = 3450
poweradd = 0
ctrl = 0
velset = 0, 0

[State 3450, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30;40
movetime =30; 40
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1


[State 0, PosAdd]
type = PosAdd
trigger1 = time = 60
x = 4
y = 0
;ignorehitpause =
;persistent =


[State 1801:	Helper]
type		= Helper
trigger1	= (time = 40)
helpertype	= Normal
name		= "Ataque de Espada Valiente"
id		= 3455
pos		= -5,-25
postype		= p1
facing		= 1
stateno		= 3455
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 1
size.yscale     = 1


[State 3450, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -200

[State 3450, VarAdd]
type = VarAdd
trigger1 = time >= 15 && Var(12) < 0
v = 12
value = 6

[State 3450, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3450, C疥ara lenta]
type = Pause
trigger1 = time = [30, 45]   ; 40 55
time = 1
movetime = 0



[State 3450:	EnvShake]
type			= EnvShake
trigger1 		= (AnimElem = 1, > 0) && ((GameTime%10) = 0)
time			= 70
freq			= 120
ampl			= -2
phase			= 90

[State 3450, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = 30,-55
sprpriority = 2
removetime = 28
bindtime = -1
ownpal = 1
scale = 0.7,0.7
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3450, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S3,9
volume = 50
channel = 1


[State 3450, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;------------------------------------------------------------------------------
;Ataque de Espada Valiente helper
[Statedef 3455]
movetype	= A
anim		= 3455
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 10

[State 1850:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 0
value = -45 ;(winmugen only)
scale = 0.5 ;(winmugen only)
;ignorehitpause =
;persistent =

[State 0, Trans]
type = Trans
trigger1 =  time >0
trans = add
alpha =
;ignorehitpause =
;persistent =

[State 1500, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,30
volume = 50

[State 1470, width]
type = Width
trigger1 = 1
edge = -200,0




[STate 1850: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 1850:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

;[State 1001:	PlayerPush]
;type			= PlayerPush
;trigger1		= 1
;value			= 0

[State 1850:	Hitdef]
type            = Hitdef
triggerall      = hitcount < 2
trigger1        = animelem = 3|| animelem = 6 || animelem = 9 || animelem = 12 || animelem = 15
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 500,10
pausetime	= 6,8
sparkno		= s1022
sparkxy		= -20,-45
;guard.sparkxy   = 30, 20
guard.sparkno	= s1022
hitsound	= s3,19
guardsound	= 0;s3,5
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -3,-9
guard.velocity	= -3
air.velocity	= -3.5,-9.5
airguard.velocity = -4,-3
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
palfx.time	= 25
palfx.mul	= 50,120,150
palfx.add	= 100,200,250
palfx.sinadd 	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
sprpriority	= 10
fall = 1


[State 1850:	DestroySelf]
type			= DestroySelf
trigger1                = animtime = 0
;============================================================================
;Repukken valiente aire
[Statedef 3100]
type = A
movetype = A
physics = N
;velset = 0,0,0
juggle = 4
ctrl = 0
anim = 3100
poweradd = -2000

[State 0, VelSet]
type = VelSet
trigger1 = time > 0
x = 0
y = 0
;ignorehitpause =
;persistent =


[State 3100, SuperPause]
type = SuperPause
trigger1 = time = 10
time = 35
movetime = 30
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3100, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S3,9
volume = 50
channel = 1


[State 3100, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -200

[State 3100, VarAdd]
type = VarAdd
trigger1 = time >= 5 && Var(12) < 0
v = 12
value = 6

[State 3100, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3100, C疥ara lenta]
type = Pause
trigger1 = time = [45, 60]
time = 1
movetime = 0

[State 3100, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = -18,-138
sprpriority = 2
removetime = 28
bindtime = -1
ownpal = 1
scale = 0.6,0.6
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3100, Explod]
type = Explod
trigger1 = animelem = 3
anim = 3220
ID =  3220
pos = -8,10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
pausemove =1
scale = 0.8, 0.8
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1
ignorehitpause = 1

[State 3100, PlaySnd]
type = PlaySnd
trigger1 = time = 40
trigger2 = time = 45
value = S3,26
volume = 50
channel = 6

[State 3100:		Helper]
type		= Helper
trigger1	= (AnimElem = 3)
helpertype	= Normal
name		= "Repukken Valiente"
id		= 3150
pos		= 70,-45
postype		= p1
facing		= 1
stateno		= 3150
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.6
size.yscale     = 0.6

[State 3100:		Helper]
type		= Helper
trigger1	= (AnimElem = 3)
helpertype	= Normal
name		= "Repukken Valiente"
id		= 3151
pos		= 55,-50
postype		= p1
facing		= 1
stateno		= 3151
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.6
size.yscale     = 0.6



[State 3100, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;Repukken valiente  Projectile
[Statedef 3150]
movetype	= A
anim		= 3250
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 3150:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[STate 3150: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 3150:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA


[State 3151, AngleDraw]
type = AngleDraw
trigger1 = time >= 0
value = 10 ;(winmugen only)
;scale =  (winmugen only)
;ignorehitpause =
;persistent =

[State 3151, Trans]
type = Trans
trigger1 = time >= 0
trans = add


[State 3150:	VelSet]
type = VelSet
trigger1 = (!Time)
x = 9
y = -1




;[State 0: 	AfterImage]
;type 		= AfterImage
;trigger1 	= (!Time)
;time 		= 150
;framegap 	= 1
;length 		= 40
;paladd 		= 0, 0, 0
;palmul 		= .25, .50, .75
;palcontrast 	= 50,100,150
;trans 		= add

[State 3150: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 75
framegap 	= 1
length 		= 20
paladd 		= 0, 0, 0
palmul 		= .90, .90, .95
palcontrast 	= 150,150,165
trans 		= add


[State 3150:	Hitdef]
type            = Hitdef
triggerall      = hitcount < 10
trigger1        = animelem = 1 ||animelem = 2 ||animelem = 3 || animelem = 4 || animelem = 5 ||animelem = 6 || animelem = 7 ||animelem = 8 || animelem = 9 ||animelem = 10 || animelem = 11
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 70,15
pausetime	= 8,15
sparkno		= -1
sparkxy		= -15,8
;guard.sparkxy   = 30, 20
guard.sparkno	= -1
hitsound	= s3,27
guardsound	= s0,8
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -8
guard.velocity	= -4
air.velocity	= -7,-4
airguard.velocity = -4,-3
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
palfx.time	= 25
palfx.mul	= 50,120,150
palfx.add	= 100,200,250
palfx.sinadd 	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
sprpriority = 5

[State 3150, Explod]
type = Explod
triggerall = Numexplod(3251) < 2
trigger1 = movecontact = 1
anim = 3251
ID =  3251
pos = -8,-30
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
pausemove =1
scale = 0.4, 0.5
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1
ignorehitpause = 1

[State 3150, Explod]
type = Explod
triggerall = time > 0
trigger1 = time%1 = 0
anim =  7002+(random%2)
ID = 7002
pos = -60+(random%50),-50+(random%100)
vel = -4+(random%1),0.5+(random%1)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.1,0.1
Ontop = 1
removetime = -2
removeongethit = 0



[State 3150:	DestroySelf]
type			= DestroySelf
trigger1                = time = 51

;-----------------------------------------------------------------------------
;Repukken valiente  Projectile diagonal
[Statedef 3151]
movetype	= A
anim		= 3250
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 3151, AngleDraw]
type = AngleDraw
trigger1 = time >= 0
value = -30 ;(winmugen only)
;scale =  (winmugen only)
;ignorehitpause =
;persistent =

[State 3151, Trans]
type = Trans
trigger1 = time >= 0
trans = add





[State 3151:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[STate 3151: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 3151:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA



[State 3151:	VelSet]
type = VelSet
trigger1 = (!Time)
x = 9
y = 6



;[State 0: 	AfterImage]
;type 		= AfterImage
;trigger1 	= (!Time)
;time 		= 150
;framegap 	= 1
;length 		= 40
;paladd 		= 0, 0, 0
;palmul 		= .25, .50, .75
;palcontrast 	= 50,100,150
;trans 		= add

[State 3151: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 75
framegap 	= 1
length 		= 20
paladd 		= 0, 0, 0
palmul 		= .90, .90, .95
palcontrast 	= 150,150,165
trans 		= add


[State 3151:	Hitdef]
type            = Hitdef
triggerall      = hitcount < 10
trigger1        = animelem = 1 ||animelem = 2 ||animelem = 3 || animelem = 4 || animelem = 5 ||animelem = 6 || animelem = 7 ||animelem = 8 || animelem = 9 ||animelem = 10 || animelem = 11
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 70,15
pausetime	= 8,15
sparkno		= -1
sparkxy		= -15,8
;guard.sparkxy   = 30, 20
guard.sparkno	= -1
hitsound	= s3,27
guardsound	= s0,8
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -8
guard.velocity	= -4
air.velocity	= -7,-4
airguard.velocity = -4,-3
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
palfx.time	= 25
palfx.mul	= 50,120,150
palfx.add	= 100,200,250
palfx.sinadd 	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
sprpriority = 5

[State 3151, Explod]
type = Explod
triggerall = Numexplod(3251) < 2
trigger1 = movecontact = 1
anim = 3251
ID =  3251
pos = -8,-30
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
pausemove =1
scale = 0.4, 0.5
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1
ignorehitpause = 1

[State 3151, Explod]
type = Explod
triggerall = time > 0
trigger1 = time%1 = 0
anim =  7002+(random%2)
ID = 7002
pos = -60+(random%50),-50+(random%100)
vel = -4+(random%1),0.5+(random%1)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.1,0.1
Ontop = 1
removetime = -2
removeongethit = 0


[State 2260, Explod]
type = Explod
trigger1 = pos Y >= 2
anim = 7002  ;1060
ID = 7002 ;1060
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.5,0.5
Ontop = 1
removetime = -2
removeongethit = 1



[State 3151:	DestroySelf]
type			= DestroySelf
trigger1                = time = 51
trigger2                = pos Y >= 3



;=========================================================================
;Repukken Valiente
[Statedef 3200]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 3200
poweradd = -2000

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 10
time = 35
movetime = 30
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S3,9
volume = 50
channel = 1


[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -200

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 5 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, C疥ara lenta]
type = Pause
trigger1 = time = [45, 60]
time = 1
movetime = 0

[State 3450, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = -32,-25
sprpriority = 2
removetime = 28
bindtime = -1
ownpal = 1
scale = 0.6,0.6
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 60, Explod]
type = Explod
trigger1 = animelem = 3
anim = 3220
ID =  3220
pos = -8,10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
pausemove =1
scale = 0.8, 0.8
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40
trigger2 = time = 45
value = S3,26
volume = 50
channel = 6

[State 1703:		Helper]
type		= Helper
trigger1	= (AnimElem = 3)
helpertype	= Normal
name		= "Repukken Valiente"
id		= 3250
pos		= 70,-45
postype		= p1
facing		= 1
stateno		= 3250
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.6
size.yscale     = 0.6

[State 1703:		Helper]
type		= Helper
trigger1	= (AnimElem = 3)
helpertype	= Normal
name		= "Repukken Valiente"
id		= 3251
pos		= 55,-65
postype		= p1
facing		= 1
stateno		= 3251
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.6
size.yscale     = 0.6



[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;Repukken valiente  Projectile
[Statedef 3250]
movetype	= A
anim		= 3250
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 1770:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[STate 1770: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 1770:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA



[State 3051:	VelSet]
type = VelSet
trigger1 = (!Time)
x = 9
y = 0

[State 105: Areia]
type	= Explod
trigger1 = time %4 = 0
anim	= 3252
pos 	= -30,48
postype	= p1
facing 	= 1
vfacing	= 1
vel 	= 0,0
accel 	= 0,0
scale   = 0.4,0.4
ontop	= 0
sprpriority = 1
ignorehitpause = 1
removetime = -2


;[State 0: 	AfterImage]
;type 		= AfterImage
;trigger1 	= (!Time)
;time 		= 150
;framegap 	= 1
;length 		= 40
;paladd 		= 0, 0, 0
;palmul 		= .25, .50, .75
;palcontrast 	= 50,100,150
;trans 		= add

[State 0: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 75
framegap 	= 1
length 		= 20
paladd 		= 0, 0, 0
palmul 		= .90, .90, .95
palcontrast 	= 150,150,165
trans 		= add


[State 1770:	Hitdef]
type            = Hitdef
triggerall      = hitcount < 10
trigger1        = animelem = 1 ||animelem = 2 ||animelem = 3 || animelem = 4 || animelem = 5 ||animelem = 6 || animelem = 7 ||animelem = 8 || animelem = 9 ||animelem = 10 || animelem = 11
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 70,15
pausetime	= 8,15
sparkno		= -1
sparkxy		= -15,8
;guard.sparkxy   = 30, 20
guard.sparkno	= -1
hitsound	= s3,27
guardsound	= s0,8
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -8
guard.velocity	= -4
air.velocity	= -7,-4
airguard.velocity = -4,-3
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
palfx.time	= 25
palfx.mul	= 50,120,150
palfx.add	= 100,200,250
palfx.sinadd 	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
sprpriority = 5

[State 60, Explod]
type = Explod
triggerall = Numexplod(3251) < 2
trigger1 = movecontact = 1
anim = 3251
ID =  3251
pos = -8,-30
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
pausemove =1
scale = 0.4, 0.5
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1
ignorehitpause = 1

[State 3060, Explod]
type = Explod
triggerall = time > 0
trigger1 = time%1 = 0
anim =  7002+(random%2)
ID = 7002
pos = -60+(random%50),-50+(random%100)
vel = -4+(random%1),0.5+(random%1)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.1,0.1
Ontop = 1
removetime = -2
removeongethit = 0



[State 1770:	DestroySelf]
type			= DestroySelf
trigger1                = time = 51

;-----------------------------------------------------------------------------
;Repukken valiente  Projectile diagonal
[Statedef 3251]
movetype	= A
anim		= 3250
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 0
value = 30 ;(winmugen only)
;scale =  (winmugen only)
;ignorehitpause =
;persistent =

[State 0, Trans]
type = Trans
trigger1 = time >= 0
trans = add





[State 1770:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[STate 1770: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 1770:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA



[State 3051:	VelSet]
type = VelSet
trigger1 = (!Time)
x = 9
y = -6



;[State 0: 	AfterImage]
;type 		= AfterImage
;trigger1 	= (!Time)
;time 		= 150
;framegap 	= 1
;length 		= 40
;paladd 		= 0, 0, 0
;palmul 		= .25, .50, .75
;palcontrast 	= 50,100,150
;trans 		= add

[State 0: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 75
framegap 	= 1
length 		= 20
paladd 		= 0, 0, 0
palmul 		= .90, .90, .95
palcontrast 	= 150,150,165
trans 		= add


[State 1770:	Hitdef]
type            = Hitdef
triggerall      = hitcount < 10
trigger1        = animelem = 1 ||animelem = 2 ||animelem = 3 || animelem = 4 || animelem = 5 ||animelem = 6 || animelem = 7 ||animelem = 8 || animelem = 9 ||animelem = 10 || animelem = 11
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 70,15
pausetime	= 8,15
sparkno		= -1
sparkxy		= -15,8
;guard.sparkxy   = 30, 20
guard.sparkno	= -1
hitsound	= s3,27
guardsound	= s0,8
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -8
guard.velocity	= -4
air.velocity	= -7,-4
airguard.velocity = -4,-3
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
palfx.time	= 25
palfx.mul	= 50,120,150
palfx.add	= 100,200,250
palfx.sinadd 	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
sprpriority = 5

[State 60, Explod]
type = Explod
triggerall = Numexplod(3251) < 2
trigger1 = movecontact = 1
anim = 3251
ID =  3251
pos = -8,-30
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove = 1
pausemove =1
scale = 0.4, 0.5
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1
ignorehitpause = 1

[State 3060, Explod]
type = Explod
triggerall = time > 0
trigger1 = time%1 = 0
anim =  7002+(random%2)
ID = 7002
pos = -60+(random%50),-50+(random%100)
vel = -4+(random%1),0.5+(random%1)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.1,0.1
Ontop = 1
removetime = -2
removeongethit = 0



[State 1770:	DestroySelf]
type			= DestroySelf
trigger1                = time = 51

;======================================================================
;-----------------------------------------------------------------------
;Raging Storm
[Statedef 3300]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= -1000
ctrl = 0
anim = 3300
sprpriority = 2

[State 1800, Velset]
type = VelSet
trigger1 = Time = 0
x = 10
y = -9.2

[State 1800, Veladd]
type = VelAdd
trigger1 = Time > 0
y = 0.5

[State 1800, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1, 2

[State 1800, Explod - arena]
type = Explod
trigger1 =  (AnimElem = 1)
anim =  7109
ID =    7109
pos =  -5 ,10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.5,0.5
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0



[State 1800, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 2

[State 0: 	AfterImage]
type 		= AfterImage
trigger1 	= (!Time)
time 		= 75
framegap 	= 1
length 		= 20
paladd 		= 0, 0, 0
palmul 		= .90, .90, .95
palcontrast 	= 150,150,165
trans 		= add


[State 1800, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 4, 4



[State 1800, 4]
type = ChangeState
;triggerall = pos y >= 0
trigger1 = time >= 15
value = 3301
ctrl = 1
;------------------------------------------------------------------------------
;Raging Storm pause
[Statedef 3301]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 3301
poweradd = 0

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 10
time = 35
movetime = 30
anim = -1
sound = -1
pos = 40,-110
darken = 0
unhittable = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S3,9
volume = 50
channel = 1


[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -200

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 5 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, C疥ara lenta]
type = Pause
trigger1 = time = [45, 60]
time = 1
movetime = 0

[State 3450, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = 40,-110
sprpriority = 2
removetime = 28
bindtime = -1
ownpal = 1
scale = 0.6,0.6
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1


[State 1800, Veladd]
type = VelAdd
trigger1 = Time > 30
x = 1
y = 1

[State 1001:	AfterImage]
type		= AfterImage
trigger1	= !Time
time 		= 75
framegap 	= 1
length 		= 20
paladd 		= 0, 0, 0
palmul 		= .90, .90, .95
palcontrast 	= 150,150,165
trans 		= add

[State 1800, 4]
type = ChangeState
triggerall = pos y >= 0
trigger1 = time >= 11
value = 3302
ctrl = 1

;------------------------------------------------------------------------------
;Raging Storm imvo helper
[Statedef 3302]
type = S
movetype = A
physics =S
velset = 0,0
juggle = 4
ctrl = 0
anim = 3302
poweradd = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
;x = 0
y = 0
;ignorehitpause =
;persistent =


[State 700, Explod]
type = Explod
trigger1 = animelem = 1
anim = 2007
ID = 2007
pos = 15,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .9,.9
sprpriority = 0
ownpal = 1
removeongethit	= 1

[State 1801, 1]
type=PlaySnd
trigger1 = AnimElem = 2
value= s3, 4
volume = 50

;[State 1000, PlaySnd]
;type = PlaySnd
;trigger1 = Time = 0
;value = 1,5
;volume = 100

[State 1801:		Helper]
type		= Helper
trigger1	= (time = 0)
helpertype	= Normal
name		= "Raging Storm"
id		= 3350
pos		= 15,5
postype		= p1
facing		= 1
stateno		= 3350
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.4
size.yscale     = 0.4

[State 1801, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 4, 7

[State 1850, Explod - arena]
type = Explod
trigger1 =  (AnimElem = 1)
anim =  1852
ID =    1852
pos =  20, 0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
supermove
pausemove
scale = 0.8,0.8
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1

[State 1852, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20
freq = 250
ampl = -2
phase = 180


[State 1000, 4]
type =  ChangeState
trigger1 = time = 150
value =  3303
ctrl= 1

;------------------------------------------------------------------------------
;Raging Storm Terminacin
[Statedef 3303]
type = S
movetype = A
physics =S
velset = 0,0
juggle = 4
ctrl = 0
anim = 3303
poweradd = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1852

[State 1000, 4]
type =  ChangeState
trigger1 = animtime = 0
value =  0
ctrl= 1

;-------------------------------------------------------------------------
;Raging Storm helper
[Statedef 3350]
movetype	= A
anim		= 3350
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 1
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 10
ignorehitpause  = 1

[State 1850:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[STate 1850: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 1850:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S3,30
volume = 50
channel = 6

[State 1850:	Hitdef]
type            = Hitdef
trigger1        = animelem = 3|| animelem = 6 ;|| animelem = 9 || animelem = 12 || animelem = 15
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 40,10
pausetime	= 6,6
sparkno		= -1;s1022
sparkxy		= -20,-45
;guard.sparkxy   = 30, 20
guard.sparkno	= s1022
hitsound	= s3,28
guardsound	= 0;s3,5
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -1,-4
guard.velocity	= -3
air.velocity	= -1.5,-4
airguard.velocity = -4,-3
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
palfx.time	= 25
palfx.mul	= 50,120,150
palfx.add	= 100,200,250
palfx.sinadd 	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
sprpriority	= 10
fall = 1


[State 3450, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 3352
ID = 3352
pos = 0,0
sprpriority = 2
removetime = 150
bindtime = -1
ownpal = 1
scale = 0.4,0.4
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1


[State 1850, Explod - arena]
type = Explod
trigger1 = Movecontact = 1
anim =  1021+(random%2)
ID =    1021
pos =  20+(random%20), -50+(random%20)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.6,0.6
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1

[State 1850, Explod - arena]
type = Explod
trigger1 = Movecontact = 1
anim =  1026+(random%2)
ID =    1021
pos =  20+(random%20), -50+(random%20)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.6,0.6
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0


[State 1850:	DestroySelf]
type = Changestate
trigger1 = time = 120
trigger2 = parent, stateno != 3302
value = 3351
ignorehitpause = 1

;---------------------------------
;Raging Storm helper - Terminacin
[Statedef 3351]
movetype	= A
anim		= 3351
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 1
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 10

[State 1850:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[State 1850:	DestroySelf]
type = Destroyself
trigger1 = animtime = 0


;============================================================================
;=========================================================================
;Ocarina Valiente
[Statedef 3500]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 3500
poweradd = -2000

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 10
time = 35
movetime = 30
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S3,9
volume = 50
channel = 1


[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -200

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 5 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, C疥ara lenta]
type = Pause
trigger1 = time = [45, 60]
time = 1
movetime = 0

[State 3450, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = 0,-45
sprpriority = 2
removetime = 28
bindtime = -1
ownpal = 1
scale = 0.6,0.6
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 3501
ctrl = 1


;*-----------------------------------------------------------------
;Ocarina Valiente - canto
[Statedef 3501]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 3501
poweradd = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = S15,0
volume = 50
channel = 6


[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 13
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time = [0,66]
v = 13
value = 3

[State 3000, VarAdd]
type = VarAdd
trigger1 = time = [67,166]
v = 13
value = -3

[State 3000, VarAdd]
type = VarAdd
trigger1 = time = [167,266]
v = 13
value = 3

[State 3000, VarAdd]
type = VarAdd
trigger1 = time = [267,366]
v = 13
value = -3

[State 3000, VarAdd]
type = VarAdd
trigger1 = time = [367,466]
v = 13
value = 3

[State 3000, VarAdd]
type = VarAdd
trigger1 = time = [467,566]
v = 13
value = -3

[State 3000, VarAdd]
type = VarAdd
trigger1 = time = [567,666]
v = 13
value = 3

[State 3000, VarAdd]
type = VarAdd
trigger1 = time = [667,766]
v = 13
value = -3

[State 3000, VarAdd]
type = VarAdd
trigger1 = time > 766 && Var(13) < 0
v = 13
value = 3


[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 14
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time = [0,99]
v = 14
value = 2

[State 3000, VarAdd]
type = VarAdd
trigger1 = time = [100,249]
v = 14
value = -2

[State 3000, VarAdd]
type = VarAdd
trigger1 = time = [250,399]
v = 14
value = 2

[State 3000, VarAdd]
type = VarAdd
trigger1 = time = [400,549]
v = 14
value = -2

[State 3000, VarAdd]
type = VarAdd
trigger1 = time = [550,699]
v = 14
value = 2

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 700 && Var(14) > 0
v = 14
value = -2

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 15
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time = [0,199]
v = 15
value = 1


[State 3000, VarAdd]
type = VarAdd
trigger1 = time = [200,499]
v = 15
value = -1


[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 500 && Var(15) < 0
v = 15
value = 1

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(13),Var(14),Var(15)



[State 3001, Explod - efecto]
type = Explod
triggerall = time < 700
trigger1 =  time%75 = 0
anim =  1722
ID =    1722
pos =  8 ,-57
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.7,0.7
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = time%15 = 0
anim = 2051
ID = 2051
pos = 250,-125+(Random%150)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = -5+(Random%2),0
accel = -0.01,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.4,0.4
sprpriority = -2+(random%5)
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1


[State 0, Explod]
type = Explod
trigger1 = time%15 = 5
anim = 2053
ID = 2053
pos = 250,-125+(Random%150)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = -5+(Random%2),0
accel = -0.01,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.7,0.7
sprpriority = -2+(random%5)
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1


[State 0, Explod]
type = Explod
trigger1 = time%15 = 10
anim = 2055
ID = 2055
pos = 250,-125+(Random%150)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = -5+(Random%2),0
accel = -0.01,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.7,0.7
sprpriority = -2+(random%5)
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause = 1

[State 1703:		Helper]
type		= Helper
trigger1	= Time%50 = 0
helpertype	= Normal
name		= "Absorvedor adelante"
id		= 3550
pos		= 0,0
postype		= p1
facing		= 1
stateno		= 3550
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.6
size.yscale     = 0.6

;[State 1703:		Helper]
;type		= Helper
;trigger1	= Time%52 = 7
;helpertype	= Normal
;name		= "Absorvedor Atras"
;id		= 3551
;pos		= 0,0
;postype	= p1
;facing		= 1
;stateno	= 3551
;keyctrl	= 0
;ownpal		= 1
;supermovetime	= 0
;pausemovetime	= 0
;size.xscale     = 0.6
;size.yscale     = 0.6



[State 3450, Super Charge]
type = Explod
triggerall = p2stateno = 3590
triggerall = p2bodydist X > 10
trigger1 = Time%5 = 0
anim = 7200
ID = 7200
postype = P2
pos = 0+(Random%20),-20+(Random%20)
bindtime = 1
vel = 2+(Random%2),0
accel = -0.02,0
sprpriority = 2
removetime = -2
ownpal = 1
scale = 0.2,0.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1


[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 770
value = 3500
;elem = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 800
channel = 6


[State 0, ChangeState]
type = ChangeState
trigger1 = time = 800
value = 3502
ctrl = 0

;*-----------------------------------------------------------------
;Ocarina Valiente - terminacin
[Statedef 3502]
type = S
movetype = A
physics =S
velset = 0,0,0
juggle = 4
ctrl = 0
anim = 3502
poweradd = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 00
value = S15,4
volume = 50
channel = 5

[State 3450, Super Charge]
type = Explod
trigger1 = Time%3 = 0
anim = 7200
ID = 7200
postype = P1
pos = 0+(Random%20),-40+(Random%20)
bindtime = 1
vel = 1-(Random%2),-1
accel = 0,0.01
sprpriority = 2
removetime = -2
ownpal = 1
scale = 0.2,0.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3450, Super Charge]
type = Explod
trigger1 = Time%3 = 0
anim = 7200
ID = 7200
postype = P1
pos = 0+(Random%20),-40+(Random%20)
bindtime = 1
vel = -1+(Random%2),-1
accel = 0,0.01
sprpriority = 2
removetime = -2
ownpal = 1
scale = 0.2,0.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3450, Super Charge]
type = Explod
trigger1 = Time%5 = 0
anim = 7200
ID = 7200
postype = P2
pos = 0+(Random%20),-20+(Random%20)
bindtime = 1
vel = 0,-1
accel = 0,0.01
sprpriority = 2
removetime = -2
ownpal = 1
scale = 0.15,0.15
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1




;-------------------------------------------------------------------------------
;Ocarina Valiente - Absorvedor adelante
[Statedef 3550]
movetype	= A
anim		= 3550
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 3150:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[State 3150:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA


[State 3150:	VelSet]
type = VelSet
trigger1 = (!Time)
x = 3
y = 0

[State 3150:	Hitdef]
type            = Hitdef
triggerall      = hitcount < 10
trigger1        = animelem = 1
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 0,15
pausetime	= 0,0
sparkno		= -1
sparkxy		= -15,8
;guard.sparkxy   = 30, 20
guard.sparkno	= -1
hitsound	= -1
guardsound	= -1
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= 0
guard.velocity	= 3
air.velocity	= 3,4
airguard.velocity = 4,3
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
P2stateno = 3590

[State 3150:	DestroySelf]
type			= DestroySelf
trigger1                = time = 100
trigger2                = parent, stateno != 3501

;-------------------------------------------------------------------------------
;Ocarina Valiente - Absorvedor adelante
[Statedef 3551]
movetype	= A
anim		= 3550
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 3150:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow

[State 3150:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA


[State 3150:	VelSet]
type = VelSet
trigger1 = (!Time)
x = -3
y = 0

[State 3150:	Hitdef]
type            = Hitdef
triggerall      = hitcount < 10
trigger1        = animelem = 1
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 0,15
pausetime	= 0,0
sparkno		= -1
sparkxy		= -15,8
;guard.sparkxy   = 30, 20
guard.sparkno	= -1
hitsound	= -1
guardsound	= -1
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= 0
guard.velocity	= 3
air.velocity	= 3,4
airguard.velocity = 4,3
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
P2stateno = 3590

[State 3150:	DestroySelf]
type			= DestroySelf
trigger1                = time = 100
trigger2                = parent, stateno != 3501


;-----------------------------------------------
;---------------------------------------------------------------------------
; canto de la sirena  - P2
[Statedef 3590]
type    = A
movetype= H
physics = N
ctrl = 0

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = time = 0
value = 3590

[State 0, VelSet]
type = Velset
trigger1 = time >= 0 && time < 90
x = -0.1
y = -0.5

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 19
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 0 && var(19) > -90
v = 19
value = -1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 0
value =  Var(19)

[State 0, VelAdd]
type = VelAdd
trigger1 = time > 100
x = ifelse(p2bodydist x > 0, 0.1, -0.1)
y = ifelse(p2bodydist y < 0, 0.1, 0)

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
fv = 20
value = 1

[State 3000, VarAdd]
type = VarAdd
;triggerall = var(20) > 0
trigger1 = time >= 100
fv = 20
value = -0.02

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 100
;value =  (winmugen only)
scale = fvar(20), fvar(20)


[State 0, ChangeAnim2]
type = ChangeAnim2
triggerall = time >= 100
trigger1 = p2bodydist x < 10 ;|| p2bodydist x > -10
value = 3591
elem = 1

[State 0, VelSet]
type = VelSet
triggerall = time >= 100
trigger1 = p2bodydist x < 10; || p2bodydist x > -10
x = 0
y = 0

[State 0, PowerAdd]
type = PowerAdd
triggerall = time >= 100
trigger1 = p2bodydist x < 10
value = -10

[State 0, ChangeState]
type = ChangeState
trigger1 = p2stateno != 3501
value = 3591
ctrl = 0

;-----------------------
; canto de la sirena  - P2
[Statedef 3591]
type    = A
movetype= H
physics = N
ctrl = 0

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = time = 0
value = 3591

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = p2bodydist x-1
y = p2bodydist y-10


[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -4
y = -1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 0
value = -200
kill = 1



[State 5300, 1] ;Use continue animation if available
type = selfstate
trigger1 = time = 5
value = 5050
ctrl = 1



;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------





