
;-----------------------------------------------------------------------------------------------------------------------------------------------
;Lateral Kick A - 1°
[Statedef 1000]
type = A
movetype= A
physics = S
anim = 1000
;velset = 0,0
ctrl = 0
poweradd = 50
juggle = 4
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 440, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
hitflag = MAFD
guardflag = M
animtype = medium
air.animtype = medium
priority = 5, Hit
damage = 28
pausetime = 12,12
guard.pausetime	= 6,8
sparkno	= -1
guard.sparkno	= -1
sparkxy	= var(52):= 4, var(53):= -56
hitsound = S1, 7
guardsound = S0, 9
ground.type=High
ground.slidetime=13
ground.hittime =14
ground.velocity=-2,-4.5
air.velocity=-2,-4.5
fall=1
fall.recovertime=80
envshake.time   = 10
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90

[State 440, 1]
type = veladd
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
x = 4

[State 440, 1]
type = veladd
trigger1 = animelem = 2
y = -2.2

[State 440, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = S2, 7

[State 100, 1]
type = Explod
trigger1 = !time
Anim = 9100
pos = 0,-(floor(pos y))
Id = 9100
sprpriority = 3
;removeongethit = 1
removetime = -2
scale=.5,.5
;bindtime = -1
Postype = p1
SuperMove = 1
ownpal = 1

[State 440, 1]
type = AfterImage
trigger1 = time = 4
time = 16
length = 5
palcontrast = 255+(var(25)=3)*50,255+(var(25)=3)*50,255-(var(25)=3)*100
paladd = -25+(var(25)=3)*15,-25+(var(25)=3)*15,-10-(var(25)=3)*15
palmul = .65+(var(25)=3)*.1,.65+(var(25)=3)*.1,.75-(var(25)=3)*.1
timegap = 2
framegap = 1
trans = add

[State 440, End]
type            = ChangeState
trigger1        = (!AnimTime)
value           = 50
ctrl            = 0


;------------------------------------------------------------------------------------------------------------------
;Lateral Kick A - 2°
[Statedef 1001]
type = A
movetype= A
physics = S
anim = 1001
;velset = 0,0
ctrl = 0
poweradd = 50
juggle = 4
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 450, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
hitflag = MAF
guardflag = M
animtype = medium
air.animtype =medium
priority = 5, Hit
damage = 28
pausetime = 12,12
guard.pausetime	= 6,8
sparkno	= -1
guard.sparkno	= -1
sparkxy	= var(52):= 14, var(53):= -48
hitsound = S1, 7
guardsound = S0, 9
ground.type=High
ground.slidetime=13
ground.hittime =14
ground.velocity=-2,-6.2
air.velocity=-2,-6.2
fall=1
fall.recovertime=160
envshake.time   = 5
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90

[State 440, 1]
type = veladd
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
x = 4

[State 440, 1]
type = veladd
trigger1 = animelem = 2
y = -2.2

[State 440, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = S2, 7


[State 450, 1]
type = AfterImage
trigger1 = time = 4
time = 16
length = 5
palcontrast = 255+(var(25)=3)*50,255+(var(25)=3)*50,255-(var(25)=3)*100
paladd = -25+(var(25)=3)*15,-25+(var(25)=3)*15,-10-(var(25)=3)*15
palmul = .65+(var(25)=3)*.1,.65+(var(25)=3)*.1,.75-(var(25)=3)*.1
timegap = 2
framegap = 1
trans = add


[State 450, End]
type            = ChangeState
trigger1        = (!AnimTime)
value           = 50
ctrl            = 0

;-------------------------------------------------------------------------------------------------------
;Lateral Kick A - 3°
[Statedef 1002]
type = A
movetype= A
physics = S
anim = 1002
;velset = 0,0
ctrl = 0
poweradd = 50
juggle = 4
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 440, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
hitflag = MAFD
guardflag = M
animtype = medium
priority = 5, Hit
damage = 28
pausetime = 12,12
guard.pausetime	= 12,12
sparkno	= -1
guard.sparkno	= -1
sparkxy	= var(52):= 36, var(53):= -74
hitsound = S1, 7
guardsound = S0, 9
ground.type = High
ground.slidetime = 13
ground.hittime = 14
ground.velocity = -2,-4.5
air.velocity = -2,-4.5
fall = 1
fall.recovertime = 80
envshake.time   = 10
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90

[State 440, 1]
type = veladd
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
x = 6

[State 440, 1]
type = veladd
trigger1 = animelem = 2
y = -2.2

[State 0, VelSet]
type = VelSet
trigger1 = movehit
x = 2
y = -2

[State 440, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = S2, 7

[State 100, 1]
type = Explod
trigger1 = !time
Anim = 9100
pos = 0,-(floor(pos y))
Id = 9100
sprpriority = 3
;removeongethit = 1
removetime = -2
scale=.5,.5
;bindtime = -1
Postype = p1
SuperMove = 1
ownpal = 1

[State 440, 1]
type = AfterImage
trigger1 = time = 4
time = 16
length = 5
palcontrast = 255+(var(25)=3)*50,255+(var(25)=3)*50,255-(var(25)=3)*100
paladd = -25+(var(25)=3)*15,-25+(var(25)=3)*15,-10-(var(25)=3)*15
palmul = .65+(var(25)=3)*.1,.65+(var(25)=3)*.1,.75-(var(25)=3)*.1
timegap = 2
framegap = 1
trans = add


[State 440, End]
type            = ChangeState
trigger1        = (!AnimTime)
value           = 50
ctrl            = 1



;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\Dancing kick B\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\

;Lateral Kick B - 1°
[Statedef 1010]
type = A
movetype= A
physics = S
anim = 1010
;velset = 0,0
ctrl = 0
poweradd = 50
juggle = 4
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 460, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
hitflag = MAFD
guardflag = M
animtype = heavy
air.animtype = Back
priority = 5, Hit
damage = 38
pausetime = 14,16
guard.pausetime	= 8,10
sparkno	= -1
guard.sparkno	= -1
sparkxy	=var(52):= 36, var(53):= -84
hitsound = S1, 7
guardsound = S0, 9
ground.type=High
ground.slidetime=13
ground.hittime =14
ground.velocity=-2,-6.5
air.velocity=-2,-6.5
fall=1
fall.recovertime=80
envshake.time   = 5
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90

[State 460, 1]
type = veladd
trigger1 = animelem = 1
x = 2

[State 460, 1]
type = veladd
trigger1 = animelem = 2
x = 2

[State 460, 1]
type = veladd
trigger1 = animelem = 3
x = 2


[State 460, 1]
type = veladd
trigger1 = animelem = 2
y = -2.2

[State 460, 1]
type = PlaySnd
trigger1 = animelem = 2
value = S2, 5

[State 100, 1]
type = Explod
trigger1 = !time
Anim = 9100
pos = 0,-(floor(pos y))
Id = 9100
sprpriority = 3
;removeongethit = 1
removetime = -2
scale=.5,.5
;bindtime = -1
Postype = p1
SuperMove = 1
ownpal = 1

[State 460, 1]
type = AfterImage
trigger1 = time = 4
time = 16
length = 5
palcontrast = 255+(var(25)=3)*50,255+(var(25)=3)*50,255-(var(25)=3)*100
paladd = -25+(var(25)=3)*15,-25+(var(25)=3)*15,-10-(var(25)=3)*15
palmul = .65+(var(25)=3)*.1,.65+(var(25)=3)*.1,.75-(var(25)=3)*.1
timegap = 2
framegap = 1
trans = add


[State 460, End]
type            = ChangeState
trigger1        = (!AnimTime)
value           = 50
ctrl            = 0

;---------------------------------------------------------------------------------------------------------------------------

;Lateral Kick B - 2°
[Statedef 1011]
type = A
movetype= A
physics = S
anim = 1011
;velset = 0,0
ctrl = 0
poweradd = 50
juggle = 4
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 470, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
hitflag = MAFD
guardflag = M
animtype = heavy
air.animtype = Back
priority = 5, Hit
damage = 38
pausetime = 14,16
guard.pausetime	= 10,12
sparkno	=-1
guard.sparkno	= -1
sparkxy	= var(52):= 36, var(53):= -82
hitsound = S1, 7
guardsound = S0, 9
ground.type=High
ground.slidetime=13
ground.hittime =14
ground.velocity=-2,-5.7
air.velocity=-2,-5.7
fall=1
fall.recovertime=160
envshake.time   = 5
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90

[State 470, 1]
type = veladd
trigger1 = animelem = 1
x = 2

[State 470, 1]
type = veladd
trigger1 = animelem = 2
x = 2

[State 470, 1]
type = veladd
trigger1 = animelem = 3
x = 2


[State 470, 1]
type = veladd
trigger1 = animelem = 2
y = -2.0

[State 470, 1]
type = PlaySnd
trigger1 = animelem = 2
value = S2, 5

[State 470, 1]
type = AfterImage
trigger1 = time = 4
time = 18
length = 5
palcontrast = 255+(var(25)=3)*50,255+(var(25)=3)*50,255-(var(25)=3)*100
paladd = -25+(var(25)=3)*15,-25+(var(25)=3)*15,-10-(var(25)=3)*15
palmul = .65+(var(25)=3)*.1,.65+(var(25)=3)*.1,.75-(var(25)=3)*.1
timegap = 2
framegap = 1
trans = add


[State 470, End]
type            = ChangeState
trigger1        = (!AnimTime)
value           = 50
ctrl            = 1

;---------------------------------------------------------------------------------------------------------------------------
;Lateral Kick B - 3°
[Statedef 1012]
type = A
movetype= A
physics = S
anim = 1012
;velset = 0,0
ctrl = 0
poweradd = 50
juggle = 2
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 480, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
hitflag = MAFD
guardflag = M
animtype = heavy
air.animtype = Back
priority = 5, Hit
damage = 38
pausetime = 14,16
guard.pausetime	= 10,12
sparkno	= -1
guard.sparkno	= -1
sparkxy	= var(52):= 36, var(53):= -84
hitsound = S1, 7
guardsound = S0, 9
ground.type=High
ground.slidetime=13
ground.hittime =14
ground.velocity=-2,-9.0
air.velocity=-2,-9.0
fall=1
fall.recovertime=180
envshake.time   = 5
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90

[State 480, 1]
type = veladd
trigger1 = animelem = 1
x = 2

[State 480, 1]
type = veladd
trigger1 = animelem = 2
x = 2

[State 480, 1]
type = veladd
trigger1 = animelem = 3
x = 2

[State 480, 1]
type = veladd
trigger1 = animelem = 2
y = -2.0

[State 480, 1]
type = PlaySnd
trigger1 = animelem = 2
value = S2, 5


[State 480, 1]
type = AfterImage
trigger1 = time = 4
time = 17
length = 5
palcontrast = 255+(var(25)=3)*50,255+(var(25)=3)*50,255-(var(25)=3)*100
paladd = -25+(var(25)=3)*15,-25+(var(25)=3)*15,-10-(var(25)=3)*15
palmul = .65+(var(25)=3)*.1,.65+(var(25)=3)*.1,.75-(var(25)=3)*.1
timegap = 2
framegap = 1
trans = add


[State 480, End]
type            = ChangeState
trigger1        = (!AnimTime)
value           = 50
ctrl            = 1

;---------------------------------------------------------------------------------------------------------------------
;Lateral Kick EX - Patadas
[Statedef 1020]
type = A
movetype= A
physics = S
anim = 1020
;velset = 0,0
ctrl = 0
poweradd = -500
juggle = 4
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 20, sfx ex]
type = PlaySnd
trigger1 = time = 0
value = S15, 3

[State 20, AfterImage]
type = AfterImage
trigger1 = !Time
time = 2
timegap = 1
framegap = 1
length = 5
palbright = 30,30,0
palcontrast = 128,128,128
paladd = -16,-16,-16
palmul = 1.1,1,.5
trans = add
ignorehitpause = 1

[State 20, AfterImageTime]
type = AfterImageTime
trigger1 = MoveType = A
time = 2

[State 20, PalFx]
type = PalFx
trigger1 = MoveType = A
time = 1
add = 30,30,0
mul = 300 ,300 , 200
ignorehitpause = 1

[State 440, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
hitflag = MAF
guardflag = M
animtype = heavy
air.animtype = Back
priority = 5, Hit
damage = 18,4
pausetime = 1,1
guard.pausetime	= 12,12
sparkno	= -1
guard.sparkno	= -1
sparkxy	= var(52):= 4, var(53):= -56
hitsound = S1, 7
guardsound = S0, 9
ground.type=High
ground.slidetime=13
ground.hittime =14
ground.velocity=-2,-4.5
air.velocity=-2,-4.5
snap = 15,0
p2facing = 1
fall=1
fall.recovertime=80
envshake.time   = 10
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90

[State 450, 1]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
hitflag = MAF
guardflag = M
animtype = heavy
air.animtype = Back
priority = 5, Hit
damage = 18,4
pausetime = 1,1
guard.pausetime	= 12,12
sparkno	= -1
guard.sparkno	= -1
sparkxy	= var(52):= 14, var(53):= -48
hitsound = S1, 7
guardsound = S0, 9
ground.type=High
ground.slidetime=13
ground.hittime =14
ground.velocity=-2,-6.2
air.velocity=-2,-6.2
snap = 15,0
p2facing = 1
fall=1
fall.recovertime=160
envshake.time   = 5
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90

[State 460, 1]
type = HitDef
trigger1 = AnimElem = 9
attr = S, NA
hitflag = MAF
guardflag = M
animtype = heavy
air.animtype = Back
priority = 5, Hit
damage = 28,5
pausetime = 1,1
guard.pausetime	= 14,16
sparkno	= -1
guard.sparkno	= -1
sparkxy	=var(52):= 36, var(53):= -84
hitsound = S1, 7
guardsound = S0, 9
ground.type=High
ground.slidetime=13
ground.hittime =14
ground.velocity=-2,-6.5
air.velocity=-2,-6.5
snap = 25,-25
p2facing = 1
fall = 1
fall.recovertime=80
envshake.time   = 5
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90

[State 470, 1]
type = HitDef
trigger1 = AnimElem = 14
attr = S, NA
hitflag = MAF
guardflag = M
animtype = heavy
air.animtype = Back
priority = 5, Hit
damage = 28,5
pausetime = 1,1
guard.pausetime	= 14,16
sparkno	=-1
guard.sparkno	= -1
sparkxy	= var(52):= 36, var(53):= -82
hitsound = S1, 7
guardsound = S0, 9
ground.type=High
ground.slidetime=13
ground.hittime =14
ground.velocity=-2,-5.7
air.velocity=-2,-5.7
snap = 25,-25
p2facing = 1
fall=1
fall.recovertime=160
envshake.time   = 5
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90

[State 460, 1]
type = HitDef
trigger1 = AnimElem = 19
attr = S, NA
hitflag = MAF
guardflag = M
animtype = heavy
air.animtype = Back
priority = 5, Hit
damage = 28,5
pausetime = 1,1
guard.pausetime	= 14,16
sparkno	= -1
guard.sparkno	= -1
sparkxy	=var(52):= 36, var(53):= -84
hitsound = S1, 7
guardsound = S0, 9
ground.type=High
ground.slidetime=13
ground.hittime =14
ground.velocity=-2,-6.5
air.velocity=-2,-6.5
snap = 25,-25
p2facing = 1
fall = 1
fall.recovertime=80
envshake.time   = 5
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90

[State 470, 1]
type = HitDef
trigger1 = AnimElem = 24
attr = S, NA
hitflag = MAF
guardflag = M
animtype = heavy
air.animtype = Back
priority = 5, Hit
damage = 28,5
pausetime = 10,7
guard.pausetime	= 14,16
sparkno	=-1
guard.sparkno	= -1
sparkxy	= var(52):= 36, var(53):= -82
hitsound = S1, 7
guardsound = S0, 9
ground.type=High
ground.slidetime=13
ground.hittime =14
ground.velocity=-2,-5.7
air.velocity=-2,-5.7
snap = 25,-25
p2facing = 1
fall=1
ID = 1020
fall.recover = 0
envshake.time   = 5
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 6, < 0
x = 2
y = -2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 6, > 0
x = 3
y = -3

[State 465, 1]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 5
trigger3 = animelem = 9
trigger4 = animelem = 14
trigger5 = animelem = 19
trigger6 = animelem = 24
value = S2, 5

[State 100, 1]
type = Explod
trigger1 = !time
Anim = 9100
pos = 0,-(floor(pos y))
Id = 9100
sprpriority = 3
;removeongethit = 1
removetime = -2
scale=.5,.5
;bindtime = -1
Postype = p1
SuperMove = 1
ownpal = 1

[State 105, dash]
type = Explod
triggerall = animelem = 6, >= 0
trigger1 = time%2 = 0
anim = 6007
id = 6007
pos = 0,-42
random = 20,30
sprpriority = 0+random%4
vel = -1-random%2,1+random%2
scale = 0.5,0.5
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animelem = 24, > 2
trigger1 = numtarget(1020)
value = 1021

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0 
value = 50
ctrl = 0

;---------------------------------------------------------------------------------------------------------------------
;Lateral Kick EX - Golpe Final
[Statedef 1021]
type = A
movetype = A
physics = N
anim = 1021
velset = 2,-1
ctrl = 0
juggle = 4
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 20, AfterImageTime]
type = AfterImageTime
trigger1 = MoveType = A
time = 2

[State 20, PalFx]
type = PalFx
trigger1 = MoveType = A
time = 1
add = 30,30,0
mul = 300 ,300 , 200
ignorehitpause = 1

[State 0, teleport]
type = PlaySnd
trigger1 = animelem = 1
value = S0,0

[State 0, Turn]
type = Turn
trigger1 = time = 1
trigger1 = p2bodydist x < 0

[State 0, teleport]
type = PosAdd
trigger1 = time = 0
x = p2bodydist x + 100
y = p2bodydist y - 10

[State 0, fx corte]
type = Explod
trigger1 = animelem = 4
anim = 7302
ID = 7302
pos = 10,-50
bindtime = -1
supermovetime
pausemovetime
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 470, 1]
type = HitDef
trigger1 = AnimElem = 7
attr = S, SA
hitflag = MAF
guardflag = M
animtype = heavy
air.animtype = Up
priority = 5, Hit
damage = 23
pausetime = 14,16
guard.pausetime = 14,16
sparkno = -1
guard.sparkno = -1
sparkxy = var(52):= 31, var(53):= -3
hitsound = S240, 0
guardsound = S0, 9
ground.type = low
ground.slidetime = 13
ground.hittime = 14
ground.velocity = -4,12
air.velocity = -4,12
fall = 1
fall.recovertime = 160
envshake.time = 5
envshake.freq = 140
envshake.ampl = -3
envshake.phase = 90

[State 0, camara lenta]
type = Pause
triggerall = animelem = 8, < 0
trigger1 = !winko
trigger1 = movehit
trigger1 = timemod = 1,0
time = 1
movetime = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = animelem = 7, > 0
value = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 7, > 0
physics = A         

;-------------------------------------------------------------------
; Dancing Kick A
[Statedef 1100]
type = A
movetype= A
physics = S
anim = 1100
;velset = 0,0
ctrl = 0
poweradd = 50
juggle = 2
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 720, 1]
type = veladd
trigger1 = animelem = 1
x = 2

[State 720, 1]
type = veladd
trigger1 = animelem = 2
x = 2

[State 720, 1]
type = veladd
trigger1 = animelem = 3
x = 2

[State 720, 1]
type = veladd
trigger1 = animelem = 4
x = 2

[State 720, 1]
type = veladd
trigger1 = animelem = 5
x = 2

[State 720, 1]
type = veladd
trigger1 = animelem = 6
x = 2

[State 720, 1]
type = veladd
trigger1 = animelem = 7
x = 2

[State 720, 1]
type = veladd
trigger1 = animelem = 8
x = 2

[State 720, 1]
type = veladd
trigger1 = animelem = 9
x = 2


[State 720, 1]
type = veladd
trigger1 = animelem = 1
y = -0.4

[State 720, 1]
type = veladd
trigger1 = animelem = 6
y = -0.4


[State 100, ]
type = Explod
trigger1 = time=0
anim = 9915
ID = 9915
pos = 0,-(floor(pos y))
postype = p1
facing = -1
bindtime = 1
;vel = 2,0
;scale=.5,.5
removetime = -2
sprpriority = 10
ownpal = 1


[State 720, 1]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
hitflag	= MAFD
animtype        = light
guardflag = MA
priority = 5, Hit
damage		= 44
pausetime = 10,16
guard.pausetime	= 10,16
numhits = 1   
sparkno = -1
guard.sparkno	= -1
sparkxy	 = var(52):=66, var(53):= -36
hitsound = S2, 0 
guardsound = S0, 9   
ground.type = High
air.type = Low
ground.slidetime = 10
ground.hittime	= 10
air.hittime = 10
yaccel = 0.45
ground.velocity	= -4.5
guard.velocity	= -4.5
air.velocity	= -4.5,-4.7
airguard.velocity	= -4.5,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
id			= 720
getpower		= 0
givepower		= 20
envshake.time   = 10
envshake.freq   = 140
envshake.ampl   = -2
envshake.phase  = 90


[State 720, 1]
type = HitDef
trigger1 = AnimElem = 8
attr = S, NA
hitflag	= MAFDP
animtype        = medium
guardflag = MA
priority = 5, Hit
damage		= 44
pausetime = 10,16
guard.pausetime	= 10,16
numhits = 1   
sparkno = -1
guard.sparkno	= -1
sparkxy	 =  var(52):=60, var(53):= -46
hitsound = S2, 0 
guardsound = S0, 9   
ground.type = High
air.type = Low
ground.slidetime = 10
ground.hittime	= 10
air.hittime = 10
yaccel = 0.45
ground.velocity	= -4.5
guard.velocity	= -4.5
air.velocity	= -4.5,-4.7
airguard.velocity	= -4.5,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
id			= 720
getpower		= 0
givepower		= 20
envshake.time   = 10
envshake.freq   = 140
envshake.ampl   = -2
envshake.phase  = 90


[State 720, 1]
type = PlaySnd
trigger1 = animelem = 3
value = S2, 5
channel = 0

[State 720, 1]
type = PlaySnd
trigger1 = animelem = 6
value = S2, 5
channel = 1

[State 720, 1]
type = AfterImage
trigger1 = time = 4
time = 30
length = 5
palcontrast = 255+(var(25)=3)*50,255+(var(25)=3)*50,255-(var(25)=3)*100
paladd = -25+(var(25)=3)*15,-25+(var(25)=3)*15,-10-(var(25)=3)*15
palmul = .65+(var(25)=3)*.1,.65+(var(25)=3)*.1,.75-(var(25)=3)*.1
timegap = 2
framegap = 1
trans = add


[State 720, End]
type            = ChangeState
trigger1        = (!AnimTime)
value           = 50
ctrl            = 1

;----------------------------------------------------------------------------------------------------------------------
; Dancing Kick B
[Statedef 1110]
type = A
movetype= A
physics = S
anim = 1110
;velset = 0,0
ctrl = 0
poweradd = 50
juggle = 2
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 730, 1]
type = veladd
trigger1 = animelem = 1
x = 2

[State 730, 1]
type = veladd
trigger1 = animelem = 2
x = 2

[State 730, 1]
type = veladd
trigger1 = animelem = 3
x = 2

[State 730, 1]
type = veladd
trigger1 = animelem = 4
x = 2

[State 730, 1]
type = veladd
trigger1 = animelem = 5
x = 2

[State 730, 1]
type = veladd
trigger1 = animelem = 6
x = 2

[State 730, 1]
type = veladd
trigger1 = animelem = 7
x = 2

[State 730, 1]
type = veladd
trigger1 = animelem = 8
x = 2

[State 730, 1]
type = veladd
trigger1 = animelem = 9
x = 2

[State 730, 1]
type = veladd
trigger1 = animelem = 10
x = 2

[State 730, 1]
type = veladd
trigger1 = animelem = 11
x = 2

[State 730, 1]
type = veladd
trigger1 = animelem = 12
x = 2

[State 730, 1]
type = veladd
trigger1 = animelem = 13
x = 2

[State 730, 1]
type = veladd
trigger1 = animelem = 14
x = 2

[State 730, 1]
type = veladd
trigger1 = animelem = 15
x = 2


[State 730, 1]
type = veladd
trigger1 = animelem = 1
y = -0.4

[State 730, 1]
type = veladd
trigger1 = animelem = 6
y = -0.4


[State 100, ]
type = Explod
trigger1 = time=0
anim = 9915
ID = 9915
pos = 0,-(floor(pos y))
postype = p1
facing = -1
bindtime = 1
;vel = 2,0
;scale=.5,.5
removetime = -2
sprpriority = 10
ownpal = 1


[State 730, 1]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
hitflag	= MAFDP
animtype        = light
guardflag = MA
priority = 5, Hit
damage		= 44
pausetime = 10,16
guard.pausetime	= 10,16
numhits = 1   
sparkno = -1
guard.sparkno	= -1
sparkxy	 = var(52):=66, var(53):= -36
hitsound = S2, 0 
guardsound = S0, 9   
ground.type = High
air.type = Low
ground.slidetime = 10
ground.hittime	= 10
air.hittime = 10
yaccel = 0.45
ground.velocity	= -4.5
guard.velocity	= -4.5
air.velocity	= -4.5,-4.7
airguard.velocity	= -4.5,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
id			= 730
getpower		= 0
givepower		= 20
envshake.time   = 12
envshake.freq   = 140
envshake.ampl   = -2
envshake.phase  = 90


[State 730, 1]
type = HitDef
trigger1 = AnimElem = 8
attr = S, NA
hitflag	= MAFDP
animtype        = medium
guardflag = MA
priority = 5, Hit
damage		= 44
pausetime = 10,16
guard.pausetime	= 10,16
numhits = 1   
sparkno = -1
guard.sparkno	= -1
sparkxy	 =  var(52):=60, var(53):= -46
hitsound = S2, 0 
guardsound = S0, 9   
ground.type = High
air.type = Low
ground.slidetime = 10
ground.hittime	= 10
air.hittime = 10
yaccel = 0.45
ground.velocity	= -4.5
guard.velocity	= -4.5
air.velocity	= -4.5,-4.7
airguard.velocity	= -4.5,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
id			= 730
getpower		= 0
givepower		= 20
envshake.time   = 12
envshake.freq   = 140
envshake.ampl   = -2
envshake.phase  = 90


[State 730, 1]
type = HitDef
trigger1 = AnimElem = 13
attr = S, NA
hitflag	= MAFDP
animtype        = heavy
air.animtype    = heavy
guardflag = MA
priority = 5, Hit
damage		= 44
pausetime = 10,16
guard.pausetime	= 10,16
numhits = 1   
sparkno = -1
guard.sparkno	= -1
sparkxy	 =  var(52):=66, var(53):= -36
hitsound = S2, 0 
guardsound = S0, 9   
ground.type = High
air.type = Low
ground.slidetime = 10
ground.hittime	= 10
air.hittime = 10
yaccel = 0.45
ground.velocity	= -4.5
guard.velocity	= -4.5
air.velocity	= -4.5,-4.7
airguard.velocity	= -4.5,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
fall = 1
airfall= 1
id			= 730
getpower		= 0
givepower		= 20
envshake.time   = 12
envshake.freq   = 140
envshake.ampl   = -2
envshake.phase  = 90

[State 720, 1]
type = PlaySnd
trigger1 = animelem = 3
value = S2, 5
channel = 0

[State 720, 1]
type = PlaySnd
trigger1 = animelem = 6
value = S2, 5
channel = 1

[State 730, 1]
type = PlaySnd
trigger1 = animelem = 11
value = S2, 5
channel = 2

[State 730, 1]
type = AfterImage
trigger1 = time = 4
time = 47
length = 5
palcontrast = 255+(var(25)=3)*50,255+(var(25)=3)*50,255-(var(25)=3)*100
paladd = -25+(var(25)=3)*15,-25+(var(25)=3)*15,-10-(var(25)=3)*15
palmul = .65+(var(25)=3)*.1,.65+(var(25)=3)*.1,.75-(var(25)=3)*.1
timegap = 2
framegap = 1
trans = add

[State 730, End]
type            = ChangeState
trigger1        = (!AnimTime)
value           = 50
ctrl            = 1

;--------------------------------------------------------------------------------------------
;Dancing Kick EX
[Statedef 1120]
type = A
movetype= A
physics = S
anim = 1120
;velset = 0,0
ctrl = 0
poweradd = -500
juggle = 2
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 20, sfx ex]
type = PlaySnd
trigger1 = time = 0
value = S15, 3

[State 20, AfterImage]
type = AfterImage
trigger1 = !Time
time = 2
timegap = 1
framegap = 1
length = 5
palbright = 30,30,0
palcontrast = 128,128,128
paladd = -16,-16,-16
palmul = 1.1,1,.5
trans = add
ignorehitpause = 1

[State 20, AfterImageTime]
type = AfterImageTime
trigger1 = MoveType = A
time = 2

[State 20, PalFx]
type = PalFx
trigger1 = MoveType = A
time = 1
add = 30,30,0
mul = 300 ,300 , 200
ignorehitpause = 1

[State 790, 1]
type = veladd
trigger1 = animelem = 1
x = 1.5

[State 790, 1]
type = veladd
trigger1 = animelem = 2
x = 1.5

[State 790, 1]
type = veladd
trigger1 = animelem = 3
x = 1.5

[State 790, 1]
type = veladd
trigger1 = animelem = 4
x = 1.5

[State 790, 1]
type = veladd
trigger1 = animelem = 5
x = 1.5

[State 790, 1]
type = veladd
trigger1 = animelem = 6
x = 1.5

[State 730, 1]
type = veladd
trigger1 = animelem = 7
x = 1.5

[State 790, 1]
type = veladd
trigger1 = animelem = 8
x = 1.5

[State 790, 1]
type = veladd
trigger1 = animelem = 9
x = 1.5

[State 790, 1]
type = veladd
trigger1 = animelem = 10
x = 1.5

[State 790, 1]
type = veladd
trigger1 = animelem = 11
x = 1.5

[State 790, 1]
type = veladd
trigger1 = animelem = 12
x = 1.5

[State 790, 1]
type = veladd
trigger1 = animelem = 13
x = 1.5

[State 790, 1]
type = veladd
trigger1 = animelem = 14
x = 1.5

[State 790, 1]
type = veladd
trigger1 = animelem = 15
x = 1.5

[State 790, 1]
type = veladd
trigger1 = animelem = 16
x = 1.5

[State 790, 1]
type = veladd
trigger1 = animelem = 17
x = 1.5

[State 790, 1]
type = veladd
trigger1 = animelem = 1
y = -0.4

[State 790, 1]
type = veladd
trigger1 = animelem = 6
y = -0.4

[State 790, 1]
type = veladd
trigger1 = animelem = 14
y = -0.2

[State 790, ]
type = Explod
trigger1 = time=0
anim = 9915
ID = 9915
pos = 0,-(floor(pos y))
postype = p1
facing = -1
bindtime = 1
;vel = 2,0
;scale=.5,.5
removetime = -2
sprpriority = 10
ownpal = 1

[State 790, 1]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
hitflag	= MAFDP
animtype        = heavy
air.animtype    = heavy
guardflag = MA
priority = 5, Hit
damage		= 44
pausetime = 10,16
guard.pausetime	= 10,16
numhits = 1   
sparkno = -1
guard.sparkno	= -1
sparkxy	 = var(52):=66, var(53):= -36
hitsound = S2, 0 
guardsound = S0, 9   
ground.type = High
air.type = Low
ground.slidetime = 10
ground.hittime	= 10
air.hittime = 10
yaccel = 0.45
ground.velocity	= -5.5
guard.velocity	= -4.5
air.velocity	= -5.5,-4.7
airguard.velocity	= -4.5,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
id			= 790
fall = 1
air.fall= 1
getpower		= 0
givepower		= 20
envshake.time   = 12
envshake.freq   = 140
envshake.ampl   = -6
envshake.phase  = 90

[State 790, 1]
type = HitDef
trigger1 = AnimElem = 8
attr = S, NA
hitflag	= MAFDP
animtype        = heavy
air.animtype    = heavy
guardflag = MA
priority = 5, Hit
damage		= 44
pausetime = 10,16
guard.pausetime	= 10,16
numhits = 1  
sparkno = -1
guard.sparkno	= -1
sparkxy	 =  var(52):=60, var(53):= -46
hitsound = S2, 0 
guardsound = S0, 9   
ground.type = High
air.type = Low
ground.slidetime = 10
ground.hittime	= 10
air.hittime = 10
yaccel = 0.45
ground.velocity	= -5.5
guard.velocity	= -4.5
air.velocity	= -5.5,-4.7
airguard.velocity	= -4.5,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
id			= 730
fall = 1
air.fall= 1
getpower		= 0
givepower		= 20
envshake.time   = 12
envshake.freq   = 140
envshake.ampl   = -6
envshake.phase  = 90

[State 790, 1]
type = HitDef
trigger1 = AnimElem = 13
attr = S, NA
hitflag	= MAFDP
animtype        = heavy
air.animtype    = heavy
guardflag = MA
priority = 5, Hit
damage		= 44
pausetime = 10,16
guard.pausetime	= 10,16
numhits = 1   
sparkno = -1
guard.sparkno	= -1
sparkxy	 = var(52):=66, var(53):= -36
hitsound = S2, 0 
guardsound = S0, 9   
ground.type = High
air.type = Low
ground.slidetime = 10
ground.hittime	= 10
air.hittime = 10
yaccel = 0.45
ground.velocity	= -5.5
guard.velocity	= -4.5
air.velocity	= -5.5,-4.7
airguard.velocity	= -4.5,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
fall = 1
airfall= 1
id			= 730
getpower		= 0
givepower		= 20
envshake.time   = 12
envshake.freq   = 140
envshake.ampl   = -6
envshake.phase  = 90

[State 790, 1]
type			= HitDef
trigger1 = AnimElem = 16
attr			= S, NA
hitflag		= MAFDP
guardflag		= MA
animtype		= Hard
priority		= 7, Hit
damage		= 44
pausetime		= 1,4
guard.pausetime	= 10,16
sparkno 		= -1
guard.sparkno	= -1
sparkxy	 =  var(52):=60, var(53):= -46
hitsound = S2, 0 
guardsound = S0, 9 
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 26
ground.hittime	= 26
air.hittime		= 26
yaccel		= 0.35
ground.velocity	= -25,-3
guard.velocity	= -8
air.velocity	= -25,-3
airguard.velocity	= -25,-3
ground.cornerpush.veloff = 0
fall			= 1
fall.recover	= 0
id			= 730
p2stateno = 95000
getpower		= 0
givepower		= 20
envshake.time   = 12
envshake.freq   = 140
envshake.ampl   = -6
envshake.phase  = 90


[State 790, 1]
type = PlaySnd
trigger1 = animelem = 3
value = S2, 5
channel = 4

[State 790, 1]
type = PlaySnd
trigger1 = animelem = 6
value = S2, 5
channel = 1

[State 790, 1]
type = PlaySnd
trigger1 = animelem = 11
value = S2, 5
channel = 2

[State 790, 1]
type = PlaySnd
trigger1 = animelem = 15
value = S2, 5
channel = 3

[State 790, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value =  50
ctrl= 1

;-------------------------------------------------------------------
; Guard Kick A - Defesa
[Statedef 1200]
type = S
movetype = A
physics = S
anim = 1200
velset = 0,0
ctrl = 0
poweradd = 50
juggle = 2
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 0, defensa]
type = ReversalDef
trigger1 = animelem = 3, > 0
reversal.attr = SA,NA,SA
pausetime = 6, 6
hitsound = S0, 9 
sparkno = S8013
sparkxy = 20,0

[State 0, ataque]
type = ChangeState
trigger1 = animtime = 0
trigger2 = time >= 10
trigger2 = command != "holda"
value = 1201
ctrl = 0

;-------------------------------------------------------------------
; Guard Kick A - Ataque
[Statedef 1201]
type = S
movetype = A
physics = S
anim = 1201
velset = 6,0
ctrl = 0
juggle = 2
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = time = 0
trigger1 = p2bodydist x < -5

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 33
palbright = 30,30,30
palcontrast = 120,120,120
paladd = 32,32,32
palmul = .64,.64,.64
length = 5
timegap = 1
framegap = 1
trans = add1

[State 0, polvo]
type = Explod
trigger1 = animelem = 1
anim = 9100
ID = 9100
pos = 10,0
scale = 0.2,0.2
sprpriority = 2
ownpal = 1

[State 0, rafaga]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
trigger4 = animelem = 8
value = S2,5

[State 0, patada centro]
type = HitDef
trigger1 = animelem = 2
attr = S,NA        
hitflag = MAF      
guardflag = MA         
animtype = medium
air.animtype = light
priority = 4,Hit
damage = 28,0
sparkno = -1
guard.sparkno = -1
sparkxy = var(52):=68,var(53):=-50
hitsound = S3,0
guardsound = S0,9
ground.type = low   
ground.slidetime
ground.hittime = 12
air.hittime = 12
ground.velocity = 0,0
air.velocity = 0,-2
guard.velocity = 0
airguard.velocity = 0,0
p1getp2facing = 0
fall = 0
envshake.time = 10
envshake.freq = 90
envshake.ampl = -2
envshake.phase = 60

[State 0, patada baja]
type = HitDef
trigger1 = animelem = 4
attr = S,NA        
hitflag = MAF      
guardflag = MA         
animtype = medium
air.animtype = medium
priority = 4,Hit
damage = 28,0
sparkno = -1
guard.sparkno = -1
sparkxy = var(52):=58,var(53):=-22
hitsound = S3,0
guardsound = S0,9
ground.type = high  
ground.slidetime
ground.hittime = 12
air.hittime = 12
ground.velocity = 0,0
air.velocity = 0,-2
guard.velocity = 0
airguard.velocity = 0,0
p1getp2facing = 0
fall = 0
envshake.time = 10
envshake.freq = 90
envshake.ampl = -2
envshake.phase = 60

[State 0, patada alta]
type = HitDef
trigger1 = animelem = 6
attr = S,NA        
hitflag = MAF      
guardflag = MA         
animtype = medium
air.animtype = medium
priority = 4,Hit
damage = 28,0
sparkno = -1
guard.sparkno = -1
sparkxy =  var(52):=58,var(53):=-70
hitsound = S3,0
guardsound = S0,9
ground.type = high  
ground.slidetime
ground.hittime = 12
air.hittime = 12
ground.velocity = 0,0
air.velocity = 0,-2
guard.velocity = 0
airguard.velocity = 0,0
p1getp2facing = 0
fall = 0
envshake.time = 10
envshake.freq = 90
envshake.ampl = -2
envshake.phase = 60

[State 0, patada final]
type = HitDef
trigger1 = animelem = 8
attr = S,NA        
hitflag = MAF      
guardflag = MA         
animtype = medium
air.animtype = medium
priority = 4,Hit
damage = 36,0
sparkno = -1
guard.sparkno = -1
sparkxy = var(52):=68,var(53):=-50
hitsound = S3,0
guardsound = S0,9
ground.type = trip  
ground.slidetime
ground.hittime = 12
air.hittime = 12
ground.velocity = -6,-4
air.velocity = -6,-4
guard.velocity = -4
airguard.velocity =  -4, -2
p1getp2facing = 0
fall = 0
envshake.time = 10
envshake.freq = 60
envshake.ampl = -2
envshake.phase = 30

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------
; Guard Kick B - Defensa
[Statedef 1210]
type = S
movetype = A
physics = S
anim = 1210
velset = 0,0
ctrl = 0
poweradd = 50
juggle = 2
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 0, defensa]
type = ReversalDef
trigger1 = animelem = 3, > 0
reversal.attr = SA,NA,SA
pausetime = 6, 6
hitsound = S0, 9 
sparkno = S8013
sparkxy = 20,0

[State 0, ataque]
type = ChangeState
trigger1 = animtime = 0
trigger2 = time >= 16
trigger2 = command != "holdb"
value = 1211
ctrl = 0

;-------------------------------------------------------------------
; Guard Kick B - Ataque
[Statedef 1211]
type = S
movetype = A
physics = S
anim = 1211
velset = 3,0
ctrl = 0
juggle = 2
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = time = 0
trigger1 = p2bodydist x < -5

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 42
palbright = 30,30,30
palcontrast = 120,120,120
paladd = 32,32,32
palmul = .64,.64,.64
length = 5
timegap = 1
framegap = 1
trans = add1

[State 0, polvo]
type = Explod
trigger1 = animelem = 1
trigger2 = animelem = 3
trigger3 = animelem = 5
trigger4 = animelem = 7
anim = 9100
ID = 9100
pos = 10,0
random = 5,5
scale = 0.2,0.2
sprpriority = 2
ownpal = 1

[State 0, impulcion]
type = VelAdd
trigger1 = animelem = 3
trigger2 = animelem = 5
trigger3 = animelem = 7
x = 3

[State 0, rafaga]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
trigger4 = animelem = 8
value = S2,5

[State 0, patada centro]
type = HitDef
trigger1 = animelem = 2
attr = S,NA        
hitflag = MAF      
guardflag = MA         
animtype = medium
air.animtype = light
priority = 4,Hit
pausetime = 1,1
damage = 27,0
sparkno = -1
guard.sparkno = -1
sparkxy = var(52):=68,var(53):=-50
hitsound = S3,0
guardsound = S0,9
ground.type = low   
ground.slidetime
ground.hittime = 12
air.hittime = 12
ground.velocity = 0,0
air.velocity = 0,-2
guard.velocity = 0
airguard.velocity = 0,0
p1getp2facing = 0
fall = 0
envshake.time = 10
envshake.freq = 90
envshake.ampl = -2
envshake.phase = 60

[State 0, patada baja]
type = HitDef
trigger1 = animelem = 4
attr = S,NA        
hitflag = MAF      
guardflag = MA         
animtype = medium
air.animtype = medium
priority = 4,Hit
pausetime = 1,1
damage = 27,0
sparkno = -1
guard.sparkno = -1
sparkxy = var(52):=58,var(53):=-22
hitsound = S3,0
guardsound = S0,9
ground.type = high  
ground.slidetime
ground.hittime = 12
air.hittime = 12
ground.velocity = 0,0
air.velocity = 0,-2
guard.velocity = 0
airguard.velocity = 0,0
p1getp2facing = 0
fall = 0
envshake.time = 10
envshake.freq = 90
envshake.ampl = -2
envshake.phase = 60

[State 0, patada alta]
type = HitDef
trigger1 = animelem = 6
attr = S,NA        
hitflag = MAF      
guardflag = MA         
animtype = medium
air.animtype = medium
priority = 4,Hit
pausetime = 1,1
damage = 27,0
sparkno = -1
guard.sparkno = -1
sparkxy = var(52):=68,var(53):=-50
hitsound = S3,0
guardsound = S0,9
ground.type = high  
ground.slidetime
ground.hittime = 12
air.hittime = 12
ground.velocity = 0,0
air.velocity = 0,-2
guard.velocity = 0
airguard.velocity = 0,0
p1getp2facing = 0
fall = 0
envshake.time = 10
envshake.freq = 90
envshake.ampl = -2
envshake.phase = 60

[State 0, patada final]
type = HitDef
trigger1 = animelem = 8
attr = S,NA        
hitflag = MAF      
guardflag = MA         
animtype = medium
air.animtype = medium
priority = 4,Hit
pausetime = 1,1
damage = 29,0
sparkno = -1
guard.sparkno = -1
sparkxy = var(52):=58,var(53):=-70
hitsound = S3,0
guardsound = S0,9
ground.type = trip  
ground.slidetime
ground.hittime = 12
air.hittime = 12
ground.velocity = -1,-10
air.velocity = -1,-10
guard.velocity = -4
airguard.velocity =  -4, -12
p1getp2facing = 0
fall = 1
envshake.time = 10
envshake.freq = 60
envshake.ampl = -2
envshake.phase = 30

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------
; Guard Kick EX - Defesa
[Statedef 1220]
type = S
movetype = A
physics = S
anim = 1220
velset = 0,0
ctrl = 0
poweradd = -500
juggle = 2
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 20, sfx ex]
type = PlaySnd
trigger1 = time = 0
value = S15, 3

[State 0, Turn]
type = Turn
trigger1 = time = 0
trigger1 = p2bodydist x < -5

[State 20, AfterImage]
type = AfterImage
trigger1 = !Time
time = 2
timegap = 1
framegap = 1
length = 5
palbright = 30,30,0
palcontrast = 128,128,128
paladd = -16,-16,-16
palmul = 1.1,1,.5
trans = add
ignorehitpause = 1

[State 20, AfterImageTime]
type = AfterImageTime
trigger1 = MoveType = A
time = 2

[State 20, PalFx]
type = PalFx
trigger1 = MoveType = A
time = 1
add = 30,30,0
mul = 300 ,300 , 200
ignorehitpause = 1

[State 0, defensa]
type = ReversalDef
trigger1 = animelem = 3, > 0
reversal.attr = SCA,NA,SA
pausetime = 6, 6
hitsound = S0, 9 
sparkno = S8013
sparkxy = 20,0

[State 0, ataque]
type = ChangeState
trigger1 = animtime = 0
trigger2 = time >= 8
trigger2 = command != "holda" || command != "holdb"
value = 1221
ctrl = 0

;-------------------------------------------------------------------
; Guard Kick Ex - Ataque
[Statedef 1221]
type = S
movetype = A
physics = S
anim = 1221
velset = 3,0
ctrl = 0
juggle = 2
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 20, sfx ex]
type = PlaySnd
trigger1 = time = 0
value = S15, 3

[State 20, AfterImage]
type = AfterImage
trigger1 = !Time
time = 2
timegap = 1
framegap = 1
length = 5
palbright = 30,30,0
palcontrast = 128,128,128
paladd = -16,-16,-16
palmul = 1.1,1,.5
trans = add
ignorehitpause = 1

[State 20, AfterImageTime]
type = AfterImageTime
trigger1 = MoveType = A
time = 2

[State 20, PalFx]
type = PalFx
trigger1 = MoveType = A
time = 1
add = 30,30,0
mul = 300 ,300 , 200
ignorehitpause = 1

[State 0, polvo]
type = Explod
trigger1 = animelem = 1
trigger2 = animelem = 3
trigger3 = animelem = 5
trigger4 = animelem = 7
anim = 9100
ID = 9100
pos = 10,0
random = 5,5
scale = 0.3,0.3
sprpriority = 2
ownpal = 1

[State 0, impulcion]
type = VelAdd
trigger1 = animelem = 3
trigger2 = animelem = 5
trigger3 = animelem = 7
x = 7

[State 0, rafaga]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
trigger3 = animelem = 5
trigger4 = animelem = 7
value = S0,4

[State 0, rafaga]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
trigger4 = animelem = 8
value = S2,5

[State 0, ja]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
trigger4 = animelem = 8
value = S1,1

[State 0, patada centro]
type = HitDef
trigger1 = animelem = 2
attr = S,NA        
hitflag = MAF      
guardflag = MA         
animtype = medium
priority = 4,Hit
pausetime = 1,1
damage = 35,9
sparkno = -1
guard.sparkno = -1
sparkxy = var(52):=68,var(53):=-50
hitsound = S1,7
guardsound = S0,9
ground.type = low   
ground.slidetime
ground.hittime = 12
air.hittime = 12
ground.velocity = 0,0
air.velocity = 0,-2
guard.velocity = 0
airguard.velocity = 0,0
p1getp2facing = 0
fall = 0
envshake.time = 10
envshake.freq = 90
envshake.ampl = -2
envshake.phase = 60

[State 0, patada baja]
type = HitDef
trigger1 = animelem = 4
attr = S,NA        
hitflag = MAF      
guardflag = MA         
animtype = medium
air.animtype = medium
priority = 4,Hit
pausetime = 1,1
damage = 35,9
sparkno = -1
guard.sparkno = -1
sparkxy = var(52):=58,var(53):=-22
hitsound = S1,7
guardsound = S0,9
ground.type = high  
ground.slidetime
ground.hittime = 12
air.hittime = 12
ground.velocity = 0,0
air.velocity = 0,-2
guard.velocity = 0
airguard.velocity = 0,0
p1getp2facing = 0
fall = 0
envshake.time = 10
envshake.freq = 90
envshake.ampl = -2
envshake.phase = 60

[State 0, patada alta]
type = HitDef
trigger1 = animelem = 6
attr = S,NA        
hitflag = MAF      
guardflag = MA         
animtype = medium
air.animtype = medium
priority = 4,Hit
pausetime = 1,1
damage = 35,9
sparkno = -1
guard.sparkno = -1
sparkxy = var(52):=68,var(53):=-50
hitsound = S1,7
guardsound = S0,9
ground.type = high  
ground.slidetime
ground.hittime = 12
air.hittime = 12
ground.velocity = 0,0
air.velocity = 0,-2
guard.velocity = 0
airguard.velocity = 0,0
p1getp2facing = 0
fall = 0
envshake.time = 10
envshake.freq = 90
envshake.ampl = -2
envshake.phase = 60

[State 0, patada final]
type = HitDef
trigger1 = animelem = 8
attr = S,NA        
hitflag = MAF      
guardflag = MA         
animtype = hard
air.animtype = hard
priority = 4,Hit
pausetime = 10,110
damage = 35,9
sparkno = -1
guard.sparkno = -1
sparkxy = var(52):=58,var(53):=-70
hitsound = S1,7
guardsound = S0,9
ground.type = trip  
ground.slidetime
ground.hittime = 12
air.hittime = 12
ground.velocity = -1,-10
air.velocity = -1,-10
guard.velocity = -4
airguard.velocity =  -4, -12
p1getp2facing = 0
fall = 1
envshake.time = 10
envshake.freq = 60
envshake.ampl = -2
envshake.phase = 30

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = p2movetype = H
trigger1 = movehit 
trigger1 = animelem = 9
value = 1222

;-------------------------------------------------------------------
; Guard Kick Ex - Ataque Final
[Statedef 1222]
type = S
movetype = A
physics = S
anim = 1222
velset = 3,0
ctrl = 0
juggle = 2
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 20, sfx ex]
type = PlaySnd
trigger1 = time = 0
value = S15, 3

[State 20, AfterImage]
type = AfterImage
trigger1 = !Time
time = 2
timegap = 1
framegap = 1
length = 5
palbright = 30,30,0
palcontrast = 128,128,128
paladd = -16,-16,-16
palmul = 1.1,1,.5
trans = add
ignorehitpause = 1

[State 20, AfterImageTime]
type = AfterImageTime
trigger1 = MoveType = A
time = 2

[State 20, PalFx]
type = PalFx
trigger1 = MoveType = A
time = 1
add = 30,30,0
mul = 300 ,300 , 200
ignorehitpause = 1

[State 0, polvo]
type = Explod
trigger1 = animelem = 2
anim = 9100
ID = 9100
pos = 10,0
random = 5,5
scale = 0.3,0.3
sprpriority = 2
ownpal = 1

[State 0, impulcion]
type = VelAdd
trigger1 = animelem = 2, > 0
trigger1 = animelem = 2, < 3
x = 1.5
y = -6

[State 0, aire]
type = StateTypeSet
trigger1 = animelem = 2, > 0
statetype = A         
physics = A         

[State 0, traspasable]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, rafaga]
type = PlaySnd
trigger1 = animelem = 2
value = S0,4

[State 0, rafaga]
type = PlaySnd
trigger1 = animelem = 2
value = S2,5

[State 0, jaa!]
type = PlaySnd
trigger1 = animelem = 2
value = S13,1

[State 0, rodillazo]
type = HitDef
trigger1 = animelem = 2
attr = S,NA        
hitflag = MAF      
guardflag = MA         
animtype = hard
air.animtype = hard
priority = 4,Hit
pausetime = 1,1
damage = 44,9
sparkno = -1
guard.sparkno = -1
sparkxy = var(52):=68,var(53):=-50
hitsound = S14,9
guardsound = S0,9
ground.type = high 
ground.slidetime
ground.hittime = 12
air.hittime = 12
ground.velocity = -1,-7
air.velocity = -1,-7
guard.velocity = 0
airguard.velocity = 0,0
p1getp2facing = 0
fall = 1
envshake.time = 30
envshake.freq = 90
envshake.ampl = -2
envshake.phase = 60

[State 0, camara lenta]
type = Pause
trigger1 = !winko
trigger1 = movehit
trigger1 = timemod = 1,0
time = 1
movetime = 0

[State 0, control]
type = CtrlSet
trigger1 = movehit 
trigger1 = animelem = 2, > 0
value = 1

[State 0, fin]
type = ChangeState
trigger1 = animtime = 0
value = 50

;-------------------------------------------------------------------
; Slide Attack A - 1° Ataque
[Statedef 1300]
type = S
movetype = A
physics = S
anim = 1300
velset = 0,0
ctrl = 0
;poweradd = 50
juggle = 2
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 10
y = 0

[State 0, effect]
type = PlaySnd
trigger1 = animelem = 3
value = S2,1

[State 0, polvo]
type = Explod
trigger1 = animelem = 3
anim = 7523
ID = 7523
pos = 0,0
facing = 1
vfacing = 1
bindtime = 1
scale = 0.25,0.25
sprpriority = 2
ownpal = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 2
palbright = 30,30,30
palcontrast = 120,120,120
paladd = 32,32,32
palmul = .64,.64,.64
length = 5
timegap = 5
framegap = 1
trans = add1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 4
attr = S,NA        
hitflag = MAF        ;
guardflag = MA       
animtype = medium  
air.animtype = medium  
pausetime = 5,5
damage = 40
sparkno = -1
guard.sparkno = -1
sparkxy = var(52):= 30, var(53):= -55
hitsound = S3,0
guardsound = S0,9
ground.type = High    
ground.slidetime = 40
ground.hittime = 20
air.hittime = 20
ground.velocity = -2,0
air.velocity = -2,-1
envshake.time = 20
envshake.freq = 40
envshake.ampl = -3
envshake.phase = 60

[State 0, fin]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------
; Slide Attack A - 2° Ataque
[Statedef 1301]
type = S
movetype = A
physics = S
anim = 1301
velset = 0,0
ctrl = 0
;poweradd = 50
juggle = 2
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 10
y = 0

[State 0, effect]
type = PlaySnd
trigger1 = animelem = 2
value = S2,1

[State 0, polvo]
type = Explod
trigger1 = animelem = 2
anim = 7523
ID = 7523
pos = 0,0
facing = 1
vfacing = 1
bindtime = 1
scale = 0.25,0.25
sprpriority = 2
ownpal = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 2
palbright = 30,30,30
palcontrast = 120,120,120
paladd = 32,32,32
palmul = .64,.64,.64
length = 5
timegap = 5
framegap = 1
trans = add1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 3
attr = S,NA        
hitflag = MAF        
guardflag = MA       
animtype = medium  
air.animtype = medium  
pausetime = 10,10
damage = 40
sparkno = -1
guard.sparkno = -1
sparkxy = var(52):= 42, var(53):= -54
hitsound = S3,0
guardsound = S0,9
ground.type = High    
ground.slidetime = 40
ground.hittime = 20
air.hittime = 20
ground.velocity = -2,0
air.velocity = -2,-1
envshake.time = 20
envshake.freq = 40
envshake.ampl = -3
envshake.phase = 60

[State 0, fin]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------
; Slide Attack A - 3° Ataque
[Statedef 1302]
type = S
movetype = A
physics = S
anim = 1302
velset = 0,0
ctrl = 0
;poweradd = 50
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 10
y = 0

[State 0, effect]
type = PlaySnd
trigger1 = animelem = 1
value = S2,1

[State 0, polvo]
type = Explod
trigger1 = animelem = 1
anim = 7523
ID = 7523
pos = 0,0
facing = 1
vfacing = 1
bindtime = 1
scale = 0.25,0.25
sprpriority = 2
ownpal = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 2
palbright = 30,30,30
palcontrast = 120,120,120
paladd = 32,32,32
palmul = .64,.64,.64
length = 5
timegap = 5
framegap = 1
trans = add1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2

[State 0, corte explod]
type = Explod
trigger1 = animelem = 2
anim = 7301
ID = 7301
pos = 50,-75
facing = -1
scale = .3,.3
sprpriority = 5
ownpal = 1

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 2
attr = S,NA        
hitflag = MAF        
guardflag = MA       
animtype = medium  
air.animtype = medium 
pausetime = 10,10 
damage = 55
sparkno = -1
guard.sparkno = -1
sparkxy = var(52):= 42, var(53):= -50
hitsound = S240,0
guardsound = S0,9
ground.type = High    
ground.slidetime = 40
ground.hittime = 20
air.hittime = 20
air.velocity = -3,10
ground.velocity = -3,10
fall = 1
;fall.xvelocity = -1
;fall.yvelocity = -7.5
fall.recover = 0
;down.bounce = 1
p2facing = 1
envshake.time = 20
envshake.freq = 40
envshake.ampl = -3
envshake.phase = 60
p2stateno = 821
ID = 820

[State 0, waveground]
type = Explod
trigger1 = numtarget(820)
trigger1 = target(820), stateno = 821
trigger1 = target(820), time = 0
anim = 9400
ID = 9400
pos = 0,(target(820),floor(-pos y))+10
postype = p2
scale = 0.5,0.5
sprpriority = -5
ownpal = 1

[State 0, crater]
type = Explod
trigger1 = numtarget(820)
trigger1 = target(820), stateno = 821
trigger1 = target(820), time = 0
anim = 7530
ID = 7530
pos = 0,(target(820),floor(-pos y))+10
postype = p2
random = 30,0
facing = ifelse(random<499,1,-1)
scale = .5,.5
sprpriority = -5
ownpal = 1

[State 0, polvo]
type = Explod
trigger1 = numtarget(820)
trigger1 = target(820), stateno = 821
trigger1 = target(820), time = 0
anim = 7523
ID = 7523
pos = 0,(target(820),floor(-pos y))+10
postype = p2
facing = -1
scale = .8,.5
sprpriority = 4
ownpal = 1

[State 0, desprendimiento de rocas]
type = Explod
trigger1 = numtarget(820)
trigger1 = target(820), stateno = 821
trigger1 = target(820), time < 3
anim = 9170+random%3
ID = 9170
pos = 0,(target(820),floor(-pos y))+10
postype = p2
facing = ifelse(random<499,1,-1)
vel = 0,-0.1*(random%4)
accel = 0,-0.05*(random%5)
random = 30,0
supermovetime
pausemovetime
scale = ifelse(random<499,0.3,0.5), ifelse(random<499,0.3,0.5)
sprpriority = -5+random%10
ownpal = 1

[State 0, temblor]
type = PlaySnd
trigger1 = numtarget(820)
trigger1 = target(820), stateno = 821
trigger1 = target(820), time = 0
value = S12,0

[State 0, choque contra el suelo]
type = PlaySnd
trigger1 = numtarget(820)
trigger1 = target(820), stateno = 821
trigger1 = target(820), time = 0
value = S0,6

[State 0, fin]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------
; Slide Attack A - Alternativo Patada Laucher
[Statedef 1303]
type = S
movetype = A
physics = S
anim = 1303
velset = 0,0
ctrl = 0
;poweradd = 50
juggle = 2
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 10
y = 0

[State 0, effect]
type = PlaySnd
trigger1 = animelem = 1
value = S2,1

[State 0, polvo]
type = Explod
trigger1 = animelem = 1
anim = 7523
ID = 7523
pos = 0,0
facing = 1
vfacing = 1
bindtime = 1
scale = 0.25,0.25
sprpriority = 2
ownpal = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 2
palbright = 30,30,30
palcontrast = 120,120,120
paladd = 32,32,32
palmul = .64,.64,.64
length = 5
timegap = 5
framegap = 1
trans = add1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 2
attr = S,NA        
hitflag = MAF        
guardflag = MA       
animtype = hard  
air.animtype = hard 
pausetime = 10,10
damage = 28
sparkno = -1
guard.sparkno = -1
sparkxy = var(52):= 24, var(53):= -85
hitsound = S240,0
guardsound = S0,9
ground.type = High    
ground.slidetime = 40
ground.hittime = 20
air.hittime = 20
ground.velocity = -1,-10
fall = 1
fall.recover = 0
down.bounce = 1
envshake.time = 20
envshake.freq = 40
envshake.ampl = -3
envshake.phase = 60

[State 0, fin]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------
; Slide Attack A - Alternarivo Patada Push
[Statedef 1304]
type = S
movetype = A
physics = S
anim = 1304
velset = 0,0
ctrl = 0
;poweradd = 50
juggle = 2
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 10
y = 0

[State 0, effect]
type = PlaySnd
trigger1 = animelem = 1
value = S2,1

[State 0, polvo]
type = Explod
trigger1 = animelem = 1
anim = 7523
ID = 7523
pos = 0,0
facing = 1
vfacing = 1
bindtime = 1
scale = 0.25,0.25
sprpriority = 2
ownpal = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 2
palbright = 30,30,30
palcontrast = 120,120,120
paladd = 32,32,32
palmul = .64,.64,.64
length = 5
timegap = 5
framegap = 1
trans = add1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 2
attr = S,NA        
hitflag = MAF        
guardflag = MA       
animtype = hard
air.animtype = hard  
pausetime = 10,10
damage = 48
sparkno = -1
guard.sparkno = -1
sparkxy = var(52):= 42, var(53):= -42
hitsound = S240,0
guardsound = S0,9
ground.type = High    
ground.slidetime = 40
ground.hittime = 20
air.hittime = 20
ground.velocity = -18,-4
air.velocity = -18,-4
p2stateno = 95000
fall = 1
fall.recover = 0
down.bounce = 1
envshake.time = 20
envshake.freq = 40
envshake.ampl = -3
envshake.phase = 60

[State 0, fin]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------
; Slide Attack B - doble puño
[Statedef 1310]
type = S
movetype = A
physics = S
anim = 1310
velset = 0,0
ctrl = 0
;poweradd = 50
juggle = 2
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 10
y = 0

[State 0, effect]
type = PlaySnd
trigger1 = animelem = 1
value = S2,1

[State 0, polvo]
type = Explod
trigger1 = animelem = 1
anim = 7523
ID = 7523
pos = 0,0
facing = 1
vfacing = 1
bindtime = 1
scale = 0.25,0.25
sprpriority = 2
ownpal = 1

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 2
attr = S,NA        
hitflag = MAF        
guardflag = MA       
animtype = hard
air.animtype = hard  
pausetime = 10,10
damage = 60
sparkno = -1
guard.sparkno = -1
sparkxy = var(52):= 40, var(53):= -54
hitsound = S240,0
guardsound = S0,9
ground.type = High    
ground.slidetime = 40
ground.hittime = 20
air.hittime = 20
ground.velocity = -14,-4
air.velocity = -14,-4
fall = 1
fall.recover = 0
down.bounce = 1
envshake.time = 20
envshake.freq = 40
envshake.ampl = -3
envshake.phase = 60

[State 0, ScreenBound]
type = ScreenBound
trigger1 = movehit
value = 0

[State 0, fin]
type = ChangeState
trigger1 = animtime = 0
value = 941

;-----------------------------------------------------------------------------------------------------------------------------------------------
;Cutting Kick A - 1°
[Statedef 1400]
type = A
movetype = A
physics = N
anim = 1400
;velset = 0,0
ctrl = 0
juggle = 4
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 2
palbright = 60,60,60
palcontrast = 120,120,120
paladd = 32,32,64
palmul = .64,.64,.64
length = 10
timegap = 1
framegap = 1
trans = add
ignorehitpause = 1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2
ignorehitpause = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = timemod = 2,0
time = 3
add = 0,0,128
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 128
ignorehitpause = 1

[State 0, VelMul]
type = VelMul
trigger1 =  time = 0
x = 0.075
y = 0.065

[State 0, VelSet]
type = null;VelSet
trigger1 = animelem = 3, < 0
x = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 10
y = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0,4
channel = 3

[State 550:	HitDef]
type		= HitDef
trigger1		= animElem = 3
attr		= A, SA
hitflag		= MAF
guardflag		= HA
animtype		= medium
priority		= 5, Hit
damage		= 73
pausetime		= 10,12
guard.pausetime	= 10,12
sparkno		= -1
ground.hittime  = 0
guard.sparkno	= -1
sparkxy		= var(52):=46, var(53):=0
hitsound		= S2,0
guardsound		= S0,9
ground.type = low
ground.slidetime = 3
ground.velocity = -1,-4
air.velocity = -1,-2
hitsound = S3,1
guardsound = S1,0
id			= 550
getpower		= 0
givepower		= 20
fall = 1
;down.bounce = 1
p1stateno = 1401
envshake.time   = 12
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 3
physics = A 
ignorehitpause = 1

;-----------------------------------------------------------------------------------------------------------------------------------------------
;Cutting Kick A - 2° ataque
[Statedef 1401]
type = A
movetype = A
physics = N
anim = 1401
velset = -5,-7
ctrl = 0
juggle = 4
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2
ignorehitpause = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = timemod = 2,0
time = 3
add = 0,0,128
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 128
ignorehitpause = 1

[State 0, VelMul]
type = VelMul
trigger1 =  animelem = 2
x = 0.075
y = 0.065

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 10
y = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0,4
channel = 3

[State 550:	HitDef]
type		= HitDef
trigger1		= animElem = 3
attr		= A, SA
hitflag		= MAF
guardflag		= HA
animtype		= hard
priority		= 5, Hit
damage		= 73
pausetime		= 10,12
guard.pausetime	= 10,12
sparkno		= -1
guard.sparkno	= -1
sparkxy		= var(52):=46, var(53):=0
hitsound		= S240,0
guardsound		= S0,9
ground.type = low
ground.slidetime = 3
ground.hittime  = 0
ground.velocity = -1,20
air.velocity = -4,20
hitsound = S3,1
guardsound = S1,0
id			= 550
getpower		= 0
givepower		= 20
fall = 1
fall.xvelocity = -4.0
fall.yvelocity = -4.5
;down.bounce = 1
envshake.time   = 12
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90
p1stateno = 1402

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 3
physics = A 
ignorehitpause = 1

;-----------------------------------------------------------------------------------------------------------------------------------------------
;Cutting Kick A - Rebote
[Statedef 1402]
type = A
movetype = I
physics = A
anim = 1402
velset = -2,-5
ctrl = 0
juggle = 4
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animelem = 3
value = 50
ctrl = 1

;-----------------------------------------------------------------------------------------------------------------------------------------------
;Cutting Kick EX - 1° ataque
[Statedef 1420]
type = A
movetype = A
physics = N
anim = 1420
;velset = 0,0
ctrl = 0
juggle = 4
facep2 = 0
poweradd = -500
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 20, sfx ex]
type = PlaySnd
trigger1 = time = 0
value = S15, 3

[State 20, AfterImage]
type = AfterImage
trigger1 = !Time
time = 2
timegap = 1
framegap = 1
length = 5
palbright = 30,30,0
palcontrast = 128,128,128
paladd = -16,-16,-16
palmul = 1.1,1,.5
trans = add
ignorehitpause = 1

[State 20, AfterImageTime]
type = AfterImageTime
trigger1 = MoveType = A
time = 2

[State 20, PalFx]
type = PalFx
trigger1 = MoveType = A
time = 1
add = 30,30,0
mul = 300 ,300 , 200
ignorehitpause = 1

[State 0, VelMul]
type = VelMul
trigger1 =  time = 0
x = 0.075
y = 0.065

[State 0, VelSet]
type = null;VelSet
trigger1 = animelem = 3, < 0
x = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 10
y = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0,4
channel = 3

[State 550:	HitDef]
type		= HitDef
trigger1		= animElem = 3
attr		= A, SA
hitflag		= MAF
guardflag		= HA
animtype		= hard
priority		= 5, Hit
damage		= 46
pausetime		= 10,12
guard.pausetime	= 10,12
sparkno		= -1
guard.sparkno	= -1
sparkxy		= var(52):=46, var(53):=0
hitsound		= S2,0
guardsound		= S0,9
ground.type = low
ground.slidetime = 3
ground.hittime  = 0
ground.velocity = -1,-4
air.velocity = -1,-2
hitsound = S3,1
guardsound = S1,0
id			= 1420
getpower		= 0
givepower		= 20
fall = 1
;down.bounce = 1
envshake.time   = 12
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90
p1stateno = 1421

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 3
physics = A 
ignorehitpause = 1

;-----------------------------------------------------------------------------------------------------------------------------------------------
;Cutting Kick EX - 2° ataque
[Statedef 1421]
type = A
movetype = A
physics = N
anim = 1421
velset = 0,0
ctrl = 0
juggle = 4
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0

[State 20, AfterImage]
type = AfterImage
trigger1 = !Time
time = 2
timegap = 1
framegap = 1
length = 5
palbright = 30,30,0
palcontrast = 128,128,128
paladd = -16,-16,-16
palmul = 1.1,1,.5
trans = add
ignorehitpause = 1

[State 20, AfterImageTime]
type = AfterImageTime
trigger1 = MoveType = A
time = 2

[State 20, PalFx]
type = PalFx
trigger1 = MoveType = A
time = 1
add = 30,30,0
mul = 300 ,300 , 200
ignorehitpause = 1

[State 0, teleport]
type = PosAdd
trigger1 = animelem = 2
x = p2bodydist x + 120
y = p2bodydist y - 90

[State 0, teleport]
type = PlaySnd
trigger1 = animelem = 2
value = S0,0

[State 0, VelSet]
type = VelSet
trigger1 = movehit = 1
x = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 30
y = 20

[State 0, Turn]
type = Turn
triggerall = p2bodydist x < 0
trigger1 = animelem = 2
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0,4
channel = 3

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 550:	HitDef]
type		= HitDef
trigger1		= animElem = 3
attr		= A, SA
hitflag		= MAF
guardflag		= HA
animtype		= hard
priority		= 5, Hit
damage		= 46
pausetime		= 10,12
guard.pausetime	= 10,12
sparkno		= -1
guard.sparkno	= -1
sparkxy		= var(52):=46, var(53):=0
hitsound		= S240,0
guardsound		= S0,9
ground.type = low
ground.slidetime = 3
ground.hittime  = 0
ground.velocity = 1,-1
air.velocity = 1,-1
hitsound = S3,1
guardsound = S1,0
id			= 1421
getpower		= 0
givepower		= 20
fall = 1
;down.bounce = 1
envshake.time   = 12
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90
p1stateno = 1422

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 3
physics = A 
ignorehitpause = 1

;-----------------------------------------------------------------------------------------------------------------------------------------------
;Cutting Kick EX - 3° ataque
[Statedef 1422]
type = A
movetype = A
physics = N
anim = 1422
velset = 0,0
ctrl = 0
juggle = 4
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0

[State 20, AfterImage]
type = AfterImage
trigger1 = !Time
time = 2
timegap = 1
framegap = 1
length = 5
palbright = 30,30,0
palcontrast = 128,128,128
paladd = -16,-16,-16
palmul = 1.1,1,.5
trans = add
ignorehitpause = 1

[State 20, AfterImageTime]
type = AfterImageTime
trigger1 = MoveType = A
time = 2

[State 20, PalFx]
type = PalFx
trigger1 = MoveType = A
time = 1
add = 30,30,0
mul = 300 ,300 , 200
ignorehitpause = 1

[State 0, teleport]
type = PosAdd
trigger1 = animelem = 2
x = p2bodydist x + 120
y = p2bodydist y - 90

[State 0, teleport]
type = PlaySnd
trigger1 = animelem = 2
value = S0,0

[State 0, VelSet]
type = VelSet
trigger1 = movehit = 1
x = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 30
y = 20

[State 0, Turn]
type = Turn
triggerall = p2bodydist x < 0
trigger1 = animelem = 2
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0,4
channel = 3

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 550:	HitDef]
type		= HitDef
trigger1		= animElem = 3
attr		= A, SA
hitflag		= MAF
guardflag		= HA
animtype		= hard
priority		= 5, Hit
damage		= 46
pausetime		= 10,12
guard.pausetime	= 10,12
sparkno		= -1
guard.sparkno	= -1
sparkxy		= var(52):=46, var(53):=0
hitsound		= S240,0
guardsound		= S0,9
ground.type = low
ground.slidetime = 3
ground.hittime  = 0
ground.velocity = 1,-1
air.velocity = 1,-1
hitsound = S3,1
guardsound = S1,0
id			= 1422
getpower		= 0
givepower		= 20
fall = 1
;down.bounce = 1
envshake.time   = 12
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90
p1stateno = 1423

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 3
physics = A 
ignorehitpause = 1

;-----------------------------------------------------------------------------------------------------------------------------------------------
;Cutting Kick EX - Ataque final
[Statedef 1423]
type = A
movetype = A
physics = N
anim = 1423
velset = 0,0
ctrl = 0
juggle = 4
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2
ignorehitpause = 1

[State 20, PalFx]
type = PalFx
trigger1 = MoveType = A
time = 1
add = 30,30,0
mul = 300 ,300 , 200
ignorehitpause = 1

[State 0, teleport]
type = PosAdd
trigger1 = animelem = 2
x = p2bodydist x + 120
y = p2bodydist y - 90

[State 0, Turn]
type = Turn
trigger1 = animelem = 2
trigger1 = p2bodydist x < 0
ignorehitpause = 1

[State 0, teleport]
type = PlaySnd
trigger1 = animelem = 2
value = S0,0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3, > 0
x = 30
y = 30
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0,4
channel = 3

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 550:	HitDef]
type		= HitDef
trigger1		= animElem = 3
attr		= A, SA
hitflag		= MAF
guardflag		= HA
animtype		= hard
priority		= 5, Hit
damage		= 46
pausetime		= 10,10
guard.pausetime	= 10,10
sparkno		= -1
guard.sparkno	= -1
sparkxy		= var(52):=46, var(53):=0
hitsound		= S240,0
guardsound		= S0,9
ground.type = low
ground.slidetime = 3
ground.hittime  = 0
ground.velocity = -1,20
air.velocity = -4,20
hitsound = S3,1
guardsound = S1,0
id			= 1423
getpower		= 0
givepower		= 20
fall = 1
fall.xvelocity = -2.0
fall.yvelocity = -8.5
;down.bounce = 1
envshake.time   = 12
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90
;p1stateno = 1424
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 3
physics = A 
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = movehit && animelem = 3, > 0 && numtarget(1423) > 0
value = 1424
ignorehitpause = 1

;-----------------------------------------------------------------------------------------------------------------------------------------------
;Cutting Kick EX - Finalizacion
[Statedef 1424]
type = A
movetype = I
physics = N
anim = anim
ctrl = 0
juggle = 4
facep2 = 0
;hitdefpersist = 0
;movehitpersist = 0
;hitcountpersist = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim != 1424
trigger1 = pos y > 0
value = 1424

[State 0, VelSet]
type = VelSet
trigger1 = pos y > 0
trigger2 = anim = 1424
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y > 0
trigger2 = anim = 1424
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 1424
statetype = S
physics = S

[State 0, alright]
type = PlaySnd
trigger1 = anim = 1424
trigger1 = animelem = 3
value = S15,4
channel = 0

;--------------------------------------------------------------------------------------------------
;Fireball
[Statedef 2000]
type = S
movetype = A
physics = S
velset = 0,0
juggle = 4
ctrl = 0
anim = 2000+random%2
poweradd = -150

[State 0, reset]
type = VarSet
trigger1 = animelem = 2
v = 33  
value = 0

[State 2000, Helper]
type = Helper
trigger1 = animelem = 2
name = "fireball"
pos = 30+ifelse(anim=2000,12,0),-62
postype = p1
facing = 1
stateno = 2010
id = 2010
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[State 2000, effect]
type = Explod
trigger1 = animelem = 2
anim = 9550
pos = 30+ifelse(anim=2000,12,0),-62
facing = 1
bindtime = -1
scale = .5,.5
removetime = -2
sprpriority = 4
ownpal = 1

[State 2000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S11, 6
channel = 3

[State 2000, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------------------------------------------------------------
;Fireball 2
[Statedef 2001]
type = S
movetype = A
physics =S
velset = 0,0
juggle = 4
ctrl = 0
anim = ifelse(anim=2000,2001,2000)
poweradd = -150

[State 0, contar]
type = VarAdd
trigger1 = animelem = 1
v = 33   
value = 1 

[State 2001, Helper]
type = Helper
trigger1 = animelem = 2
name = "fireball"
pos = 30+ifelse(anim=2000,12,0),-62
postype = p1
facing = 1
stateno = 2010
;id = 2010
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[State 2000, effect]
type = Explod
trigger1 = animelem = 2
anim = 9550
pos = 30+ifelse(anim=2000,12,0),-62
facing = 1
bindtime = -1
scale = .5,.5
removetime = -2
sprpriority = 4
ownpal = 1

[State 2000, fireball]
type = PlaySnd
trigger1 = animelem = 2
value = S11, 6
channel = 3

[State 2000, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
;Fireball - Projectil
[Statedef 2010]
type = A
movetype = A
physics = N
velset = 0,0
sprpriority = 2
juggle = 6
ctrl = 0
anim = 9500

[State 2000, spark]
type = Helper
trigger1 = movecontact = 1 && numtarget
trigger1 = !(target,hitshakeover)
name = "Hit Spark"
ID = 7000
stateno = 7002
pos = ifelse(p2dist x < 0, 0, ifElse(p2dist x < 15, ceil(p2dist x), 15)),ceil(p2dist y-40)
postype = p1   ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 65535
pausemovetime = 65535
sprpriority = 5
ignorehitpause = 1
size.yscale = .5
size.xscale = .5
persistent = 0

[State 0, ]
type = VelAdd
trigger1 = time >= 0
x = 0.6

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 1
range = -1,1

[State 0, ]
type = VelSet
trigger1 = time = 4
trigger1 = var(1) = -1
y = -0.75

[State 0, ]
type = VelSet
trigger1 = time = 4
trigger1 = var(1) = 1
y = 0.75

[State 8000, particuas]
type = Explod
trigger1 = random < 333
trigger1 = gametime
trigger1 = numexplod(8001)<8
bindtime = 1
anim = 8001
ID = 8001
vel = vel x*.05,vel y*.1
random = 4,10;0,0
supermovetime = -1
pausemovetime = -1
scale = .5,.5
sprpriority = -5+random%10
vel = vel x*.05,vel y*.1
random = 4,10;0,0

[State 7020, ModifyExplod]
type = ModifyExplod
trigger1 = NumExplod(8000)
ID = 8001
trans = addalpha
alpha = 256-16*Time,256

[State 9500:	HitDef]
type		= HitDef
trigger1		= 1
attr		= S, NP
hitflag		= MAF
guardflag		= MA
animtype		= Hard
priority		= 7, Hit
damage		= 40,5
pausetime		= 1,4
guard.pausetime	= 1,4
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound		= S0,5
guardsound	= S0,9
ground.type	= High
air.type		= high
ground.slidetime	= 25
ground.hittime	= 25
air.hittime	= 25
ground.velocity	= -3
guard.velocity	= -3
air.velocity	= -8,-3.5
airguard.velocity	= -8,-3.5
ground.cornerpush.veloff = 0
down.velocity	= -1,-2
getpower		= 0
givepower		= 0
Palfx.time 	= 5
palfx.add 	= 192,192,256
palfx.sinadd 	= 180,180,200,15
palfx.mul 	= 160,160,256
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent	= 0

[State 9500, 1]
type = AfterImage
trigger1 = time = 0
time = -1
length = 50
palcontrast = 120+(var(25)=3)*50,120+(var(25)=3)*50,220-(var(25)=3)*100
paladd = -25+(var(25)=3)*15,-25+(var(25)=3)*15,-10-(var(25)=3)*15
palmul = .65+(var(25)=3)*.1,.65+(var(25)=3)*.1,.75-(var(25)=3)*.1
timegap = 2
framegap = 1
trans = add

[State 9500, noshadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 0, activar colicion]
type = HitOverride
trigger1 = 1 
attr = SCA,AP
slot = 0
stateno = 2011
time = 1
ignorehitpause = 1

[State 0, golpeado por projectiles]
type = HitBy
trigger1 = 1  
value = SCA,AP
time = 1
ignorehitpause = 1

[State 901, 4]
type =  ChangeState
trigger1 = movecontact = 1
trigger2 = frontedgebodydist < -20
value =  2011
ctrl= 1

;---------------------------------------------------------
;Fireball - Projectil (Explocion)
[Statedef 2011]
type = A
movetype = A
physics = N
velset = 0,0
sprpriority = 2
juggle = 6
ctrl = 0
anim = 9600

[State 9500, 1]
type = AfterImage
trigger1 = time = 0
time = 1

[State 9500, noshadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 9500, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;--------------------------------------------------------------------------------------------------
;Fireball Air 1°
[Statedef 2050]
type = A
movetype = A
physics =N
;velset = 0,0
juggle = 4
ctrl = 0
anim = 2050
poweradd = -150

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 33  
value = 0

[State 2000, Helper]
type = Helper
trigger1 = animelem = 2
name = "fireball"
pos = 37,-43
postype = p1
facing = 1
stateno = 2060
id = 2060
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5
supermovetime = 200
pausemovetime = 200

[State 0, VelMul]
type = VelMul
trigger1 =  time = 0
x = 0.075
y = 0.065

[State 900, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S11, 6
channel = 3

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0 
value = 50
ctrl = 1

;--------------------------------------------------------------------------------------------------
;Fireball Air 1°
[Statedef 2051]
type = A
movetype = A
physics =N
;velset = 0,0
juggle = 4
ctrl = 0
anim = 2051
poweradd = -150

[State 0, VarAdd]
type = VarAdd
trigger1 = animelem = 1
v = 33
value = 1

[State 2000, Helper]
type = Helper
trigger1 = animelem = 1
name = "fireball"
pos = 37,-43
postype = p1
facing = 1
stateno = 2060
id = 2060
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5
supermovetime = 200
pausemovetime = 200

[State 0, VelMul]
type = VelMul
trigger1 =  time = 0
x = 0.075
y = 0.065

[State 900, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S11, 6
channel = 3

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0 
value = 50
ctrl = 1

;---------------------------------------------------------
;Air Fireball - Projectil
[Statedef 2060]
type = A
movetype = A
physics = N
velset = 0,0
sprpriority = 2
juggle = 6
ctrl = 0
anim = 9500

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -45
scale = 1,1
ignorehitpause = 1
;persistent = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 2000, spark]
type = Helper
trigger1 = movecontact = 1 && numtarget
trigger1 = !(target,hitshakeover)
name = "Hit Spark"
ID = 7000
stateno = 7002
pos = ifelse(p2dist x < 0, 0, ifElse(p2dist x < 15, ceil(p2dist x), 15)),ceil(p2dist y-40)
postype = p1   ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 65535
pausemovetime = 65535
sprpriority = 5
ignorehitpause = 1
size.yscale = .5
size.xscale = .5
persistent = 0

[State 0, ]
type = VelAdd
trigger1 = time >= 0
x = 0.6
y = 0.6

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 1
range = -1,1

[State 0, ]
type = Veladd
trigger1 = time = 4
trigger1 = var(1) = -1
x = -0.75

[State 0, ]
type = VelSet
trigger1 = time = 4
trigger1 = var(1) = 1
x = 0.75

[State 8000, particuas]
type = Explod
trigger1 = random < 333
trigger1 = gametime
trigger1 = numexplod(8001)<8
bindtime = 1
anim = 8001
ID = 8001
vel = vel x*.05,vel y*.1
random = 4,10;0,0
supermovetime = -1
pausemovetime = -1
scale = .5,.5
sprpriority = -5+random%10
vel = vel x*.05,vel y*.1
random = 4,10;0,0

[State 7020, ModifyExplod]
type = ModifyExplod
trigger1 = NumExplod(8000)
ID = 8001
trans = addalpha
alpha = 256-16*Time,256

[State 9500:	HitDef]
type		= HitDef
trigger1		= 1
attr		= S, NP
hitflag		= MAF
guardflag		= MA
animtype		= Hard
priority		= 7, Hit
damage		= 40,5
pausetime		= 1,4
guard.pausetime	= 1,4
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound		= S0,5
guardsound	= S0,9
ground.type	= High
air.type		= high
ground.slidetime	= 25
ground.hittime	= 25
air.hittime	= 25
ground.velocity	= -3
guard.velocity	= -3
air.velocity	= -1,1
airguard.velocity	= -2,2
ground.cornerpush.veloff = 0
down.velocity	= -1,-2
getpower		= 0
givepower		= 0
Palfx.time 	= 5
palfx.add 	= 192,192,256
palfx.sinadd 	= 180,180,200,15
palfx.mul 	= 160,160,256
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent	= 0

[State 9500, 1]
type = AfterImage
trigger1 = time = 0
time = -1
length = 50
palcontrast = 120+(var(25)=3)*50,120+(var(25)=3)*50,220-(var(25)=3)*100
paladd = -25+(var(25)=3)*15,-25+(var(25)=3)*15,-10-(var(25)=3)*15
palmul = .65+(var(25)=3)*.1,.65+(var(25)=3)*.1,.75-(var(25)=3)*.1
timegap = 2
framegap = 1
trans = add

[State 9500, noshadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 0, activar colicion]
type = HitOverride
trigger1 = 1 
attr = SCA,AP
slot = 0
stateno = 2011
time = 1
ignorehitpause = 1

[State 0, golpeado por projectiles]
type = HitBy
trigger1 = 1  
value = SCA,AP
time = 1
ignorehitpause = 1

[State 901, 4]
type =  ChangeState
trigger1 = movecontact = 1
trigger2 = frontedgebodydist < -20
trigger3 = pos y > 0
value =  2061

;---------------------------------------------------------
;Fireball - Projectil (Explocion)
[Statedef 2061]
type = A
movetype = A
physics = N
velset = 0,0
sprpriority = 2
juggle = 6
ctrl = 0
anim = 9600

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -45
scale = 1,1
ignorehitpause = 1
;persistent = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 9500, 1]
type = AfterImage
trigger1 = time = 0
time = 1

[State 9500, noshadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 9500, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;--------------------------------------------------------------------------------------------------
;Banshee Blast - Carga
[Statedef 2100]
type = S
movetype = A
physics = S
velset = 0,0
juggle = 4
ctrl = 0
anim = 2100
poweradd = -500
sprpriority = 2

[State 0, hand trast]
type = ModifyExplod
trigger1 = animelem = 3 , <= 15
ID = 2101
trans = addalpha
alpha = 256-(animelemtime(3)*25.6),256

[State 0, hand]
type = Explod
trigger1 = animelem = 3
anim = 2105
ID = 2105
pos = 28,-56
bindtime = -1
removetime = 10
supermovetime = 1
pausemovetime = 1
scale = 0.5,0.5
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 0, trast]
type = ModifyExplod
trigger1 = animelem = 3 , <= 15
ID = 2100
trans = addalpha
alpha = time*16,256

[State 0, trast]
type = ModifyExplod
trigger1 = animelem = 3 , <= 15
ID = 2101
trans = addalpha
alpha = (animelemtime(3)*25.6),256

[State 0, trast]
type = ModifyExplod
trigger1 = animelem = 3 , <= 15
ID = 2102
trans = addalpha
alpha = (animelemtime(2)*25.6),256

[State 0, trast]
type = ModifyExplod
trigger1 = animelem = 3 , <= 15
ID = 2103
trans = addalpha
alpha = (animelemtime(3)*25.6),256

[State 0, trast]
type = ModifyExplod
trigger1 = animelem = 3 , <= 15
ID = 2104
trans = addalpha
alpha = (animelemtime(3)*25.6),256

[State 0, ball]
type = Explod
trigger1 = animelem = 3
anim = 8013
ID = 2100
pos = 31,-61
bindtime = -1
removetime = -1
supermovetime = 1
pausemovetime = 1
scale = 0.1,0.1
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 0, ball]
type = Explod
trigger1 = animelem = 3
anim = 8013
ID = 2101
pos = 32,-60
bindtime = -1
removetime = -1
supermovetime = 1
pausemovetime = 1
scale = 0.1,0.1
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 0, ball]
type = Explod
trigger1 = animelem = 3
anim = 8013
ID = 2102
pos = 32,-58
bindtime = -1
removetime = -1
supermovetime = 1
pausemovetime = 1
scale = 0.1,0.1
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 0, ball]
type = Explod
trigger1 = animelem = 3
anim = 8013
ID = 2103
pos = 32,-56
bindtime = -1
removetime = -1
supermovetime = 1
pausemovetime = 1
scale = 0.1,0.1
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 0, ball]
type = Explod
trigger1 = animelem = 3
anim = 8013
ID = 2104
pos = 32,-54
bindtime = -1
removetime = -1
supermovetime = 1
pausemovetime = 1
scale = 0.1,0.1
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 900, sfx]
type = PlaySnd
trigger1 = animelem = 3
value = S2300, 0

[State 2100, sfx]
type = PlaySnd
trigger1 = animelem = 3
value = S2300, 1
channel = 3

[State 0, reset daño]
type = VarSet
trigger1 = time = 0
v = 8
value = 0

[State 0, acomular daño]
type = VarAdd
trigger1 = animelem = 3, > 5
v = 8
value = 1

[State 2100, lanzar]
type = ChangeState
triggerall = animelem = 3, >= 5
trigger1 = command != "holdz"
trigger2 = animtime = 0
value =  2101
ctrl= 1

;--------------------------------------------------------------------------------------------------
;Banshee Blast - Lanzamiento
[Statedef 2101]
type = S
movetype = A
physics = S
velset = 0,0
juggle = 4
ctrl = 0
anim = 2101

[State 0, Turn]
type = Turn
trigger1 = time = 0
trigger1 = p2bodydist x < -5

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 34
palbright = 30,30,30
palcontrast = 120,120,120
paladd = 32,32,32
palmul = .64,.64,.64
length = 5
timegap = 1
framegap = 1
trans = add1

[State 0, anim 2]
type = ModifyExplod
trigger1 = animelem = 1
ID = 2100
pos = -18,-52
postype = p1
trans = add

[State 0, anim 2]
type = ModifyExplod
trigger1 = animelem = 1
ID = 2101
pos = -18,-53
trans = add

[State 0, anim 2]
type = ModifyExplod
trigger1 = animelem = 1
ID = 2102
pos = -17,-54
trans = add

[State 0, anim 2]
type = ModifyExplod
trigger1 = animelem = 1
ID = 2103
pos = -17,-55
trans = add

[State 0, anim 2]
type = ModifyExplod
trigger1 = animelem = 1
ID = 2104
pos = -16,-56
trans = add

;---------------------
[State 0, anim 2]
type = ModifyExplod
trigger1 = animelem = 2
ID = 2100
pos = -27,-55
trans = add

[State 0, anim 32]
type = ModifyExplod
trigger1 = animelem = 2
ID = 2101
pos = -27,-56
postype = p1
trans = add

[State 0, anim 2]
type = ModifyExplod
trigger1 = animelem = 2
ID = 2102
pos = -27,-57
postype = p1
trans = add

[State 0, anim 2]
type = ModifyExplod
trigger1 = animelem = 2
ID = 2103
pos = -27,-58
postype = p1
trans = add

[State 0, anim 2]
type = ModifyExplod
trigger1 = animelem = 2
ID = 2104
pos = -23,-62
postype = p1
trans = add

;---------------------
[State 0, anim 3]
type = ModifyExplod
trigger1 = animelem = 3
ID = 2100
pos = 10,-70
postype = p1
trans = add

[State 0, anim 3]
type = ModifyExplod
trigger1 = animelem = 3
ID = 2101
pos = 10,-70
postype = p1
trans = add

[State 0, anim 3]
type = ModifyExplod
trigger1 = animelem = 3
ID = 2102
pos = 10,-71
postype = p1
trans = add

[State 0, anim 3]
type = ModifyExplod
trigger1 = animelem = 3
ID = 2103
pos = 10,-71
postype = p1
trans = add

[State 0, anim 3]
type = ModifyExplod
trigger1 = animelem = 3
ID = 2104
pos = 20,-78
postype = p1
trans = add

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 4
id = 2100

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 4
id = 2101

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 4
id = 2102

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 4
id = 2103

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 4
id = 2104

[State 0, sfx]
type = PlaySnd
trigger1 = animelem = 4, >= 1
trigger1 = animelem = 4, <= 5
value = S10,2
channel = 3

[State 2101, Balls]
type = Helper
trigger1 = animelem = 4, >= 1
trigger1 = animelem = 4, <= 5
name = "Banshee Blast Ball"
id = 2110+animelemtime(4)
stateno = 2110
pos = 62,-47-animelemtime(4);random%5
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.1
size.yscale = 0.1

[State 0, finalizar]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-----------------------------------------------------------------
;Banshee Blast - Projectil
[Statedef 2110]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 2110

[State 2000, spark]
type = Helper
trigger1 = movecontact = 1 && numtarget
trigger1 = !(target,hitshakeover)
name = "Hit Spark"
ID = 7000
stateno = 7002
pos = ifelse(p2dist x < 0, 0, ifElse(p2dist x < 15, ceil(p2dist x), 15)),ceil(p2dist y-40)
postype = p1   ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 65535
pausemovetime = 65535
sprpriority = 5
ignorehitpause = 1
size.yscale = 0.1
size.xscale = 0.1
persistent = 0

[State 0, fwd]
type = VelAdd
trigger1 = ishelper(2111)
trigger1 = time >= 5
trigger2 = ishelper(2112)
trigger2 = time >= 4
trigger3 = ishelper(2113)
trigger3 = time >= 3
trigger4 = ishelper(2114)
trigger4 = time >= 2
trigger5 = ishelper(2115)
trigger5 = time >= 1
x = 0.4

[State 0, ball 1 up]
type = VelSet
triggerall = ishelper(2111)
trigger1 = time < 2
y = -1

[State 0, ball 1 up falling]
type = VelSet
triggerall = ishelper(2111)
trigger1 = time > 2
trigger1 = vel y < 0
y = 1

[State 0, ball 2 upping]
type = VelSet
triggerall = ishelper(2112)
trigger1 = time < 3
y = -1.5

[State 0, ball 2 falling]
type = VelSet
triggerall = ishelper(2112)
trigger1 = time > 3
trigger1 = vel y < 0
y = 1.5

[State 0, ball 4 downing]
type = VelSet
triggerall = ishelper(2114)
trigger1 = time < 4
y = 1

[State 0, ball 4 up upping]
type = VelSet
triggerall = ishelper(2114)
trigger1 = time > 4
trigger1 = vel y > 0
y = -1

[State 0, ball 5 downing]
type = VelSet
triggerall = ishelper(2115)
trigger1 = time < 5
y = 1.5

[State 0, ball 5 upping]
type = VelSet
triggerall = ishelper(2115)
trigger1 = time > 5
trigger1 = vel y > 0
y = -1.5

[State 0, ParentVarAdd]
type = Null;ParentVarAdd
trigger1 = movehit
v = 33
value = 30

[State 2110, golpe bajo y medio]
type = HitDef
triggerall = time = 0
trigger1 = ishelper(2113)
trigger2 = ishelper(2114)
trigger3 = ishelper(2115)
attr		= S, NP
hitflag		= MAF
guardflag		= MA
animtype		= Hard
priority		= 7, Hit
damage		= 30,5
pausetime		= 1,4
guard.pausetime	= 1,4
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound		= S6,0
guardsound	= S6,0
ground.type	= low
air.type		= low
ground.slidetime	= 40;(parent, var(33))
ground.hittime	= 40;(parent, var(33))
air.hittime	= 40;(parent, var(33))
ground.velocity	= -3
guard.velocity	= -3
air.velocity	= -8,-3.5
airguard.velocity	= -8,-3.5
ground.cornerpush.veloff = 0
down.velocity = -1,-2
getpower = 0
givepower	= -100-(root,var(8)),-50-(root,var(8)/2)
Palfx.time = 5
palfx.add = 192,192,256
palfx.sinadd = 180,180,200,15
palfx.mul = 160,160,256
envshake.time = 12
envshake.freq = 120
envshake.ampl = -4
persistent = 0
ID = 2110

[State 2110,	golpe alto]
type		= HitDef
triggerall = time = 0
trigger1 = ishelper(2111)
trigger2 = ishelper(2112)
attr		= S, NP
hitflag		= MAF
guardflag		= MA
getpower = 0
givepower	= -100-(root,var(8)),-50-(root,var(8)/2)
animtype		= Hard
priority		= 7, Hit
damage		= 30,5
pausetime		= 1,4
guard.pausetime	= 1,4
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound		= S6,0
guardsound	= S6,0
ground.type	= high
air.type		= high
ground.slidetime	= 50+(parent, var(8))
ground.hittime	= 50+(parent, var(8))
air.hittime	= 50+(parent, var(8))
ground.velocity	= -3
guard.velocity	= -3
air.velocity	= -8,-3.5
airguard.velocity	= -8,-3.5
ground.cornerpush.veloff = 0
down.velocity = -1,-2
Palfx.time = 5
palfx.add = 192,192,256
palfx.sinadd = 180,180,200,15
palfx.mul = 160,160,256
envshake.time = 12
envshake.freq = 120
envshake.ampl = -4
persistent = 0 
ID = 2110

[State 20, AfterImage]
type = AfterImage
trigger1 = !Time
time = 2
timegap = 1
framegap = 1
length = 5
palbright = 30,30,0
palcontrast = 128,128,128
paladd = -16,-16,-16
palmul = 1.1,1,.5
trans = add
ignorehitpause = 1

[State 20, AfterImageTime]
type = AfterImageTime
trigger1 = MoveType = A
time = 2

[State 9500, noshadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 0, golpeado por projectiles]
type = HitBy
trigger1 = 1  
value = SCA,AP
time = 1
ignorehitpause = 1

[State 0, activar colicion]
type = HitOverride
trigger1 = 1 
attr = SCA,AP
slot = 0
stateno = 2111
time = 1
ignorehitpause = 1

[State 0, explotar]
type =  ChangeState
trigger1 = movecontact = 1
trigger2 = frontedgebodydist < 0
trigger3 = pos y  >= 0
value =  2111
ctrl= 1

;-----------------------------------------------------------------
;Banshee Blast - Projectil (Explocion)
[Statedef 2111]
type = A
movetype = A
physics = N
velset = 0,0
sprpriority = 2
juggle = 6
ctrl = 0
anim = 8023;8100

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 8023
ID = 8023
facing = ifelse(random<499,1,-1)
vfacing = ifelse(random<499,1,-1)
bindtime = -1
scale = 0.3,0.3
sprpriority = 3
ignorehitpause = 1

[State 0, lock aft img]
type = AfterImage
trigger1 = time = 0
time = 1

[State 9500, noshadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = invisible
ignorehitpause = 1

[State 0, sfx explocion]
type = PlaySnd
trigger1 = time = 0
value = S6,0

[State 9500, end]
type = DestroySelf
trigger1 = animtime = 0


;------------------------------------------------------------------------------
;Cannon Beam - Patada
[Statedef 2200]
type = S
movetype = A
physics = S
anim = 2200
velset = 10,0
ctrl = 0
juggle = 2
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 1
time = 100
palbright = 30,30,30
palcontrast = 120,120,120
paladd = 32,32,32
palmul = .64,.64,.64
length = 5
timegap = 1
framegap = 1
trans = add1

[State 100, polvo]
type = Explod
trigger1 = time = 1
anim = 9915
ID = 9915
pos = -10,-(floor(pos y))
postype = p1
facing = -1
bindtime = 1
;vel = 2,0
;scale=.5,.5
removetime = -2
sprpriority = 10
ownpal = 1

[State 0, remolino]
type = Explod
trigger1 = time = 1
anim = 9419
ID = 9419 
pos = 0,-40
facing = ifelse(random < 499,-1,1)
vel = 0,-0.1
accel = 0,-0.05*(random%6)
random = 0,40
scale = 0.6,0.6
sprpriority = 5
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 0, sfx viento]
type = PlaySnd
trigger1 = AnimElem = 3
value = S2,5

[State 0, haaaaa]
type = PlaySnd
trigger1 = AnimElem = 4
value = S14,4
channel = 0

[State 720, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
hitflag	= MAF
animtype        = heavy
air.animtype    = heavy
guardflag = MA
priority = 5, Hit
damage	= 44
pausetime = 20,16
guard.pausetime	= 10,16
numhits = 1   
sparkno = -1
guard.sparkno	= -1
sparkxy	 = var(52):=66, var(53):= -36
hitsound = S240, 0 
guardsound = S0, 9   
ground.type = High
air.type = Low
ground.slidetime = 10
ground.hittime	= 10
air.hittime = 10
ground.velocity	= -10,-6
guard.velocity	= -5.5
air.velocity	= -10,-6
airguard.velocity	= -4.5,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
fall = 1
fall.yvelocity = -0.2
fall.recover = 0
kill = 0
id			= 2200
getpower		= 0
givepower		= 20
envshake.time   = 10
envshake.freq   = 140
envshake.ampl   = -2
envshake.phase  = 90

[State 0, camara lenta]
type = Pause
triggerall = animelem = 5, > 0
trigger1 = !winko
trigger1 = movehit
trigger1 = timemod = 1,0
time = 5
movetime = 0

[State 0, sig]
type = ChangeState
trigger1 = time = 0
trigger1 = p2bodydist x != [-30,30]
trigger2 = animtime = 0
trigger2 = numtarget(2200) > 0
value = 2201

[State 0, fin]
type = ChangeState
trigger1 = animtime = 0
trigger1 = numtarget(2200) = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------------
;Cannon Beam - Lanzamiento
[Statedef 2201]
type = S
movetype= A
physics = S
anim = 2201
velset = 0,0
poweradd = -500
ctrl = 0
juggle = 2
facep2 = 0
hitdefpersist = 1
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 0, adelantar anim]
type = ChangeAnim
triggerall = time = 0
trigger1 = numtarget(2200) > 0
value = anim
elem = 2

[State 0, Turn]
type = Turn
trigger1 = p2dist X < 0 && Time = 0

[State 0, zxc]
type = Explod
trigger1 = animelem = 2
anim = 9903
ID = 9903
pos = 36,-64
scale = 0.1,0.1
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 0, zxc]
type = Explod
trigger1 = animelem = 2
anim = 9903
ID = 9903
pos = 36,-64
vfacing = -1
scale = 0.1,0.1
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 0, projectil]
type = Helper
trigger1 = AnimElem = 2
name = "Cannon Beam"
ID = 2210
stateno = 2210
pos = 34,-64
postype = p1
facing = 1
ownpal = 1
size.yscale = 0.5

[State 2200, fin]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------------
;Cannon Beam - Projectil
[Statedef 2210]
type = S
movetype = A
physics = N
juggle = 0
ctrl = 0
anim = 2210
sprpriority = 4

[State 0, sfx]
type = PlaySnd
trigger1 = time = 0
value = S1,4
channel = 3

[State 0, flash]
type = EnvColor
trigger1 = time = 0
under = 1

[State 0, hitby]
type = hitby
trigger1 = 1
value = SCA,NP,SP,HP
time = 1
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 34,-64

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimELem = 2
value = 3001,1
volume = 100
channel = 2

[State 0, HitDef]
type = HitDef
trigger1 = Timemod = 3,1
attr = SCA, NP
hitflag = MAF
guardflag = MA
animtype = light
air.animtype = light
priority = 4,Hit
damage = 9,2
pausetime = 0,0
sparkno = -1
hitsound = -1,-1
guardsound = -1,-1;S0,9
guard.sparkno = -1
guardsound = s2,0
ground.type = High
ground.slidetime = 5
guard.slidetime = 3
ground.hittime = 20
air.hittime = 20
yaccel = 0.5
ground.velocity = -4,0
air.velocity = -7,0
air.juggle = 5
air.fall = 1
numhits = 1
palfx.time = 4
palfx.add = 120,120,0
envshake.time = 10
envshake.freq = 80
envshake.ampl = -2
sprpriority = 4
ID = 2210

[State 0, spark]
type = Explod
trigger1 = movecontact
;trigger1 = numtarget(2210) 
trigger1 = numexplod(2211) < 10
anim = 2211
ID = 2211
pos = -5,-64;(target(2210),pos x
postype = p2
facing = ifelse(random<499,1,-1)
vfacing = ifelse(random<499,1,-1)
bindtime = 9
random = 5,5
removetime = -2
scale = 0.5,0.5
sprpriority = 5
ownpal = 1
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = p2movetype = A
id = 2211

[State 0, electric]
type = Explod
trigger1 = random < 300
anim = 9426
ID = 9426
vfacing = ifelse(random<499,1,-1)
vel = 4+random%20,0
random = 0,2
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = random < 300
anim = 8013
ID = 8013
facing = ifelse(random<499,1,-1)
vfacing = ifelse(random<499,1,-1)
vel = 4+random%6,-4+random%8
random = 0,0
removetime = -2
scale = 0.1,0.1
sprpriority = 2
ownpal = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = parent, stateno != [2200,2201]

;------------------------------------------------------------------------------
;Mini Galic-Ho - Carga
[Statedef 2300]
type = A
movetype = A
physics = N
anim = 2300
ctrl = 0
juggle = 2
facep2 = 0
poweradd = -500
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 0, VelMul]
type = VelMul
trigger1 =  time = 0
x = 0.075
y = 0.065

[State 0, antibug]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 0, antibug]
type = VelSet
trigger1 = pos y > 0
y = 0

[State 900, sfx]
type = PlaySnd
trigger1 = animelem = 3
value = S2300, 2

[State 0, charge]
type = Explod
trigger1 = animelem = 3
anim = 8201
ID = 8201
pos = -10,-68
bindtime = -1
removetime = -2
scale = 0.4,0.4
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 0, ball]
type = Explod
trigger1 = animelem = 4
anim = 2320
ID = 2320
pos = -10,-68
bindtime = -1
removetime = -1
scale = 0.25,0.25
sprpriority = 3
ownpal = 1
removeongethit = 1
trans = addalpha
alpha = 128,256

[State 0, Explod]
type = Explod
trigger1 = animelem = 4 > 0
anim = 2302
ID = 2302
pos = 0,0
bindtime = 1
random = 4,4
removetime = 2
scale = 1,1
sprpriority = -5
ownpal = 0
removeongethit = 1
trans = add

[State 0, iluminacion]
type = Explod
trigger1 = animelem = 4
anim = 9920
ID =  9920
pos = -10,-68
bindtime = -1
random = 2,2
removetime = -1
scale = 0.1,0.1
sprpriority = -5
ownpal = 0
removeongethit = 1
ignorehitpause = 1
trans = addalpha
alpha = 64, 256

[State 0, escudo]
type = Helper
trigger1 = animelem = 1
name = "Galic Ho escudo"
ID = 2311
stateno = 2311
pos = 0,-46
ownpal = 1
supermovetime 
pausemovetime
size.xscale = 1
size.yscale = 1

[State 0, violet]
type = PalFX
trigger1 = animelem = 4, >= 0 && timemod = 4,0
trigger2 = animelem = 4
time = 4
add = 128,0,256
mul = 192,192,192
sinadd = 32,0,32,2
invertall = 0
color = 128

[State 0, lanzar]
type = ChangeState
triggerall = animelem = 4, > 10
trigger1 = animtime = 0
trigger2 = command != "holdz"
value = 2301

;------------------------------------------------------------------------------
;Mini Galic-Ho - Lazamiento
[Statedef 2301]
type = A
movetype = A
physics = N
anim = 2301
ctrl = 0
juggle = 2
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 900, sfx]
type = PlaySnd
trigger1 = animelem = 1
value = S10, 6

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 2320

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 8201

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 9920

[State 0, Explod]
type = Explod
trigger1 = animelem = 1 < 44
anim = 2303
ID = 2303
pos = 0,0
bindtime = 1
random = 4,4
removetime = 2
scale = 1,1
sprpriority = -5
ownpal = 0
removeongethit = 1
trans = add

[State 0, violet]
type = PalFX
trigger1 = animelem = 1 < 44
trigger1 = timemod = 4,0
trigger2 = animelem = 1
time = 4
add = 128,0,256
mul = 192,192,192
sinadd = 32,0,32,2
invertall = 0
color = 128

[State 0, Projectil]
type = Helper
trigger1 = animelem = 1
name = "Galic Ho"
ID = 2310
stateno = 2310
pos = 16,-50
ownpal = 1
supermovetime 
pausemovetime
size.xscale = 0.25
size.yscale = 0.25

[State 0, antibug]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 0, antibug]
type = VelSet
trigger1 = pos y > 0
y = 0

[State 0, fin]
type = StateTypeSet
trigger1 = animelem = 3
movetype = I       
physics = A        

[State 0, CtrlSet]
type = CtrlSet
trigger1 = animelem = 3
value = 1

;---------------------------------------------------------
;Mini Galic-Ho - Projectil
[Statedef 2310]
type = A
movetype = A
physics = N
velset = 0,0
sprpriority = 4
juggle = 6
ctrl = 0
anim = 2321

[State 0, SprPriority]
type = SprPriority
trigger1 = 1 
value = 5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -130
scale = 1,1
ignorehitpause = 1
;persistent = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, BindToParent]
type = BindToParent
trigger1 = 1 
time = 1
pos = 16,-50
ignorehitpause = 1

[State 2000, spark]
type = null;Helper
trigger1 = movecontact = 1 && numtarget
trigger1 = !(target,hitshakeover)
name = "Hit Spark"
ID = 8000
stateno = ifelse(moveguarded, 7998, 8000)
pos = ifelse(p2dist x < 0, 0, ifElse(p2dist x < 15, ceil(p2dist x), 15)),ceil(p2dist y-40)
postype = p1   ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 65535
pausemovetime = 65535
sprpriority = 5
ignorehitpause = 1
size.yscale = 1
size.xscale = 1
persistent = 0

[State 9500:	HitDef]
type		= HitDef
trigger1		= timemod = 1,0
attr		= A, NP
hitflag		= MAF
guardflag		= MA
animtype		= Hard
priority		= 7, Hit
damage		= 3,1
pausetime		= 1,1
guard.pausetime	= 1,1
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound		= -1,-1
guardsound	= -1,-1
ground.type	= High
air.type		= high
ground.slidetime	= 25
ground.hittime	= 20
air.hittime	= 20
ground.velocity	= -3
guard.velocity	= -3
air.velocity	= -0.5,-0.5
airguard.velocity	= -0.5,-0.5
ground.cornerpush.veloff = 0
down.velocity	= -1,-2
sprpriority = 5
ID = 2310
givepower		= -5
Palfx.time 	= 15
palfx.add 	= 192,0,256
palfx.sinadd 	= 32,0,32,10
palfx.mul 	= 192,192,192
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4

[State 0, spark]
type = Explod
trigger1 = numtarget(2310) > 0 && target(2310), movetype = H && movehit
anim = 8024
ID = 8024
pos = 0,-45
postype = p2
facing = ifelse(random<499,1,-1)
vfacing = ifelse(random<499,1,-1)
random = 10,45
removetime = -2
supermovetime = -1
pausemovetime = -1
scale = 0.5,0.5
sprpriority = 4
ownpal = 1
;ignorehitpause = 1

[State 9500, 1]
type = AfterImage
trigger1 = time = 0
time = -1
length = 50
palcontrast = 120+(var(25)=3)*50,120+(var(25)=3)*50,220-(var(25)=3)*100
paladd = -25+(var(25)=3)*15,-25+(var(25)=3)*15,-10-(var(25)=3)*15
palmul = .65+(var(25)=3)*.1,.65+(var(25)=3)*.1,.75-(var(25)=3)*.1
timegap = 2
framegap = 1
trans = add

[State 9500, noshadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
trigger2 = parent, stateno != [2300,2301]

;---------------------------------------------------------
;Mini Galic Ho - Escudo
[Statedef 2311]
type = A
movetype = A
physics = N
velset = 0,0
sprpriority = 4
ctrl = 0
anim = 2322

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 0,-46

[State 9500:	HitDef]
type		= HitDef
trigger1		= timemod = 1,0
attr		= A, NP
hitflag		= MAF
guardflag		= -1
animtype		= Hard
priority		= 7, Hit
damage		= 1,0
pausetime		= 1,4
guard.pausetime	= 1,4
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound		= -1,-1
guardsound	= -1,-1
ground.type	= High
air.type		= high
ground.slidetime	= 25
ground.hittime	= 25
air.hittime	= 25
ground.velocity	= -1,-5
guard.velocity	= -3
air.velocity	= -1,-5
airguard.velocity	= 2,2
ground.cornerpush.veloff = 0
down.velocity	= -1,-2
sprpriority = 5
getpower		= 0
givepower		= 0
Palfx.time 	= 5
palfx.add 	= 192,0,256
palfx.sinadd 	= 32,0,32,10
palfx.mul 	= 192,192,192
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
trigger2 = parent, stateno != [2300,2301]
