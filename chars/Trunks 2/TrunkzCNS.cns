; Trunkz's constants and state file.

[Data]
life = 1200
attack = 110
defence = 110
power = 3000
fall.defence_up = 50
liedown.time = 60
airjuggle = 18
sparkno = 2
guard.sparkno = 40
KO.echo = 1
KO.volume = 0
volume = 0
IntPersistIndex = 1

[Size]
xscale = 1           ;Horizontal scaling factor.
yscale = 1           ;Vertical scaling factor.
ground.back = 17     ;Player width (back, ground)
ground.front = 11    ;Player width (front, ground)
air.back = 12        ;Player width (back, air)
air.front = 12       ;Player width (front, air)
height = 65	     ;Height of player (for opponent to jump over)
attack.dist = 160    ;Default attack distance
proj.attack.dist = 90;Default attack distance for projectiles
proj.doscale = 0     ;Set to 1 to scale projectiles too   
head.pos = -7, -61   ;Approximate position of head
mid.pos = -5, -40    ;Approximate position of midsection
shadowoffset = 0     ;Number of pixels to vertically offset the shadow
draw.offset = 0,0    ;Player drawing offset in pixels (x, y)

[Velocity]
walk.fwd  = 2.4           ;Walk forward
walk.back = -2.2          ;Walk backward
run.fwd  = 5.4, 0         ;Run forward (x, y)
run.back = -5.4,-3.3      ;Hop backward (x, y)
jump.neu = 0,-8.0         ;Neutral jumping velocity (x, y)
jump.back = -2.5          ;Jump back Speed (x, y)
jump.fwd = 2.55           ;Jump forward Speed (x, y)
runjump.back = -4,-6.1    ;Running jump speeds (opt)
runjump.fwd = 4,-6.1      ;.
airjump.neu = 0,-6.1      ;.
airjump.back = -2.55      ;Air jump speeds (opt)
airjump.fwd = 2.5         ;.

[Movement]
airjump.num = 0       ;Number of air jumps allowed (opt)
airjump.height = 35   ;Minimum distance from ground before you can air jump (opt)
yaccel = .44          ;Vertical acceleration
stand.friction = .85  ;Friction coefficient when standing
crouch.friction = .82 ;Friction coefficient when crouching

;---------------------------------------------------------------------------
; Format:
; [Statedef STATENO]
; type = ?            S/C/A/L  stand/crouch/air/liedown
; movetype = ?        I/A/H    idle/attack/gethit
; physics = ?         S/C/A/N  stand/crouch/air/none
; juggle = ?          air juggle points move requires
;
; [State STATENO, ?]  ? - any number you choose
; type = ?
; ...                 3 dots, Always add to a new line of programming...
;-=XXX=-              Sexually Explicit Strife Comment...Don't leave home w/o one! ^_^

;---------------------------------------------------------------------------
; Lose by Time Over
;-=Time's Up? Haha!=-
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, PlaySND]
type = PlaySnd
trigger1 = Time = 1
value = 171, 0
volume = 255

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
;-=Strife Says: Don't worry about this...you'll never win anyway =p...=-
; Win state decider
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
triggerall = Life >= 750
trigger1 = Time = 0
value = 181

[State 180, 2]
type = ChangeState
triggerall = Life >= 500
triggerall = Life < 750
trigger1 = Time = 0
value = 182

[State 180, 3]
type = ChangeState
triggerall = Life >= 250
triggerall = Life < 500
trigger1 = Time = 0
value = 183

[State 180, 4]
type = ChangeState
triggerall = Life < 250
trigger1 = Time = 0
value = 184
;---------------------------------------------------------------------------
; Win pose 1 - Life >= 750 - RAWR!
[Statedef 181]
type = S
ctrl = 0
velset = 0,0
anim = IfElse(Var(1)=0,181,3181)

[State 181, Revert]
type = ChangeState
triggerall = Power < 1000 && var(1) = 1
trigger1 = Time = 0
value = 4001

[State 181, PlaySND]
type = PlaySnd
trigger1 = Time = 42
value = 182, 0

[State 181, PlaySND]
type = PlaySnd
trigger1 = Time = 4
trigger2 = Time = 24
value = 200, 0

[State 181, PlaySND]
type = PlaySnd
trigger1 = Time = 41
value = 202, 0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win pose 2 - Life >= 500 - YEAH!!!!
[Statedef 182]
type = S
ctrl = 0
velset = 0,0
anim = IfElse(Var(1)=0,182,3182)

[State 182, Revert]
type = ChangeState
triggerall = Power < 1000 && var(1) = 1
trigger1 = Time = 0
value = 4001

[State 182, PlaySND]
type = PlaySnd
trigger1 = Time = 3
trigger2 = Time = 17
value = 200, 0

[State 182, PlaySND]
type = PlaySnd
trigger1 = Time = 31
value = 201, 0

[State 182, PlaySND]
type = PlaySnd
trigger1 = Time = 69
trigger2 = time = 103
value = 300, 0

[State 182, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win pose 3 - Life >= 250 - "I knew I'd win.."
[Statedef 183]
type = S
ctrl = 0
velset = 0,0
anim = IfElse(Var(1)=0,183,3183)

[State 183, Revert]
type = ChangeState
triggerall = Power < 1000 && var(1) = 1
trigger1 = Time = 0
value = 4001

[State 183, PlaySND]
type = PlaySnd
trigger1 = Time = 3
value = 180, 0

[State 183, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win pose 4 - Life < 250 - Tired
[Statedef 184]
type = S
ctrl = 0
velset = 0,0
anim = IfElse(Var(1)=0,5300,8300)

[State 184, Revert]
type = ChangeState
triggerall = Power < 1000 && var(1) = 1
trigger1 = Time = 0
value = 4001

[State 184, 1]
type = PlaySnd
trigger1 = Time = 1
value = 5300, 0

[State 184, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Stand Intro
[Statedef 191]
type = S
ctrl = 0
velset = 0,0
anim = 190

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

;-----------------
[State 191, SetSSj]
type = VarSet
trigger1 = Time = 0
v = 1
value = 1

[State 191, SetSSjPower]
type = VarSet
trigger1 = Time = 0
v = 32
value = 1

[State 191, Soundselect]
type = VarSet
triggerall = Time = 1
trigger1 = (p2name = "17") 
trigger2 = (p2name = "18")
trigger3 = (p2name = "Cell")
trigger4 = (p2name = "Android 17 by HyperionX")
trigger1 = (p2name = "Android 20")
trigger5 = (p2name = "[Dizzy]'s Android 18")
trigger6 = (p2name = "Android No. 18 by Orestes")
trigger7 = (p2name = "Insect Cell")
trigger8 = (p2name = "[Necromancer's] Cell")
v = 35
value = 1

[State 191, Voice]
type = PlaySnd
triggerall = var(35) = 0
trigger1 = Time = 35
value = 199, 0
volume = 255

[State 191, Voice]
type = PlaySnd
triggerall = var(35) = 1
trigger1 = Time = 35
value = 191, 0
volume = 255
;-----------------
[State 191, 4] ;Change to Transformation intro
type = ChangeState
trigger1 = AnimTime = 0
value = 192
;---------------------------------------------------------------------------
; Intro 2 SSj Transform and Cheap Power Boost
[Statedef 192]
type = S
ctrl = 0
velset = 0,0
movetype = I
physics = S
sprpriority = 2
anim = 192

[State 192, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 192, EnvShake]
type = EnvShake
triggerall = var(1) = 1
trigger1 = animelem = 3
time = 12
ampl = -3

[State 192, AllPalFX]
type = AllPalFX
trigger1 = animelem = 3
time = 3
add = 255,255,255

[State 192, PlaySND]
type = PlaySnd
trigger1 = animelem = 3
value = 1702, 0

[State 192, Whirlwind]
type = Explod
trigger1 = animelem = 3
Anim = 15510
Pos = 6, 0
Id = 15500
sprpriority = 4
removeongethit = 1
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal =1
scale = 0.6,0.6

[State 192, SSjBlueRing]
type = Explod
triggerall = pos y = 0
trigger1 = animelem = 3
Anim = 9070
Pos = 6, 0
Id = 9070
sprpriority = -3
removeongethit = 1
removetime = 13
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
scale = 0.7,0.7

[State 192, Dust1]
type = Explod
triggerall = pos y = 0
trigger1 = animelem = 3
Anim = 15000
Pos = -32, 0
Id = 15000
sprpriority = -1
removeongethit = 0
Postype = p1
velocity = -1, 0
;Bindtime = -1
SuperMove = 1
ownpal = 1

[State 192, Dust2]
type = Explod
triggerall = pos y = 0
trigger1 = animelem = 3
Anim = 15001
Pos = 32, 0
Id = 15001
sprpriority = -1
removeongethit = 0
Postype = p1
velocity = 1, 0
;Bindtime = -1
SuperMove = 1
ownpal = 1

[State 192, TransSND]
type = PlaySnd
trigger1 = animelem = 3
value = 4000,0
volume = 255

[State 192, Poweradd]
type = PowerAdd
trigger1 = time = [23,63]
value = 50

[State 192, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
;---------------------------------------------------------------------------
; Intro 3 Pt1- Drop In
[Statedef 193]
type = A
ctrl = 0
velset = 0,0
movetype = I
physics = N
sprpriority = 2
anim = 193

[State 193, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 193, Posset]
type = Posset
trigger1 = Time = 0
y = -400

[State 193, PlaySND.Fall]
type = PlaySnd
trigger1 = Time = 1
value = 3000, 0

[State 1740, Gravity]
type = VelAdd
trigger1 = 1 && pos y <= 0
y = 0.44

[State 193, Posset]
type = Posset
trigger1 = time > 0 && pos y > 0
y = 0

[State 193, ScreenBounderies]
type = ScreenBound
Trigger1 = 1
value = 0
movecamera = 0,0

[State 193, End]
type = ChangeState
trigger1 = pos y = 0
value = 194
;---------------------------------------------------------------------------
; Intro 3 Pt1- Drop In
[Statedef 194]
type = S
ctrl = 0
velset = 0,0
movetype = I
physics = S
sprpriority = 2
anim = 194

[State 193, LandSND]
type = PlaySnd
trigger1 = Time = 0
value = 40, 1

[State 193, Voice]
type = PlaySnd
trigger1 = Time = 0
value = 115, 0

[State 194, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 194, PlaySND]
type = PlaySnd
trigger1 = animelem = 6
value = 1702, 0

[State 194, Whirlwind]
type = Explod
trigger1 = animelem = 6
Anim = ifelse(var(1)=0,15500,15510)
Pos = -3, 0
Id = 15500
sprpriority = 4
removeongethit = 1
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal =1
scale = 0.5,0.5

[State 194, SSjBlueRing]
type = Explod
triggerall = pos y = 0
trigger1 = animelem = 6
Anim = 9070
Pos = -3, 0
Id = 9070
sprpriority = -3
removeongethit = 1
removetime = 13
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
scale = 0.7,0.7

[State 194, Dust1]
type = Explod
triggerall = pos y = 0
trigger1 = animelem = 6
trigger2 = time = 0
Anim = 15000
Pos = -40, 0
Id = 15000
sprpriority = -1
removeongethit = 0
Postype = p1
velocity = -1, 0
;Bindtime = -1
SuperMove = 1
ownpal = 1

[State 194, Dust2]
type = Explod
triggerall = pos y = 0
trigger1 = animelem = 6
trigger2 = time = 0
Anim = 15001
Pos = 40, 0
Id = 15001
sprpriority = -1
removeongethit = 0
Postype = p1
velocity = 1, 0
;Bindtime = -1
SuperMove = 1
ownpal = 1

[State 194, PlaySND]
type = PlaySnd
trigger1 = animelem = 15
value = 197, 0
volume = 255

[State 194, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 195]
type = S
ctrl = 0
velset = 0,0
movetype = I
physics = S
sprpriority = 2
anim = IfElse(Var(1)=0,195,3195)

[State 195, CtrlSet]
type = CtrlSet
trigger1 = Time >= 60
value = 1

[State 195, LifeAdd]
type = LifeAdd
trigger1 = TimeMod = 4,0
value = 1

[State 195, PowerAdd]
type = PowerAdd
trigger1 = Time >= 0 
value = 1

[State 195, PlaySND]
type = PlaySnd
trigger1 = Time = 0
value = 195, 0

[State 195, PlaySND]
type = PlaySnd
trigger1 = Time = 19
trigger2 = time = 53
value = 300, 0

[State 195, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Stand Light Punch
; CNS difficulty: easy
[Statedef 200]
type    = S 
movetype= A 
physics = S 
juggle  = 1 
velset = 0,0
ctrl = 0 
poweradd = 15
sprpriority = 2
anim = IfElse(Var(1)=0,200,3200)

[State 200, VelSet]
type = Velset
trigger1 = prevstateno = 100 && animelem = 1
x = 3
y = 0

[State 200, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 200, Voice]
type = PlaySnd
trigger1 = Time = 1 && random >= 700
value = 101, 0

[State 200, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Light
damage    = Floor(25*(IfElse(Var(1)=0,1,1.25)))
guardflag = MA
pausetime = 7,8
sparkno = S9001
sparkxy = -9,-56
hitsound   = S300,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1.5
air.velocity = -1.5,-1

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Stand Weak Punch Close(Elbow)
[Statedef 205]
type    = S 
movetype= A 
physics = S 
juggle  = 0 
velset = 0,0
ctrl = 0 
poweradd = 15
sprpriority = 2
anim = IfElse(Var(1)=0,205,3205)

[State 200, VelSet]
type = Velset
trigger1 = prevstateno = 100 && animelem = 1
x = 3
y = 0

[State 205, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 205, Voice]
type = PlaySnd
trigger1 = Time = 1 && random >= 700
value = 101, 0

[State 205, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Light
damage    = Floor(20*(IfElse(Var(1)=0,1,1.25)))
guardflag = MA
pausetime = 8,8
sparkno = S9002
sparkxy = -6,-55
hitsound   = S302,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1.5
air.velocity = -1.5,-1

[State 205, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Standing medium punch
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 20
ctrl = 0
velset = 1,0
sprpriority = -1
anim = IfElse(Var(1)=0,210,3210)

[State 210, VelSet]
type = Velset
trigger1 = prevstateno = 100 && animelem = 1
x = 3
y = 0

[State 210, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 201, 0

[State 210, Voice]
type = PlaySnd
trigger1 = Time = 1 && random >= 700
value = 102, 0

[State 210, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = Floor(30*(IfElse(Var(1)=0,1,1.25)))
guardflag = MA
pausetime = 8,10
sparkno = S9002
sparkxy = -7,-68
hitsound   = S300,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1.8
air.velocity = -2,-2

[State 210, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Standing strong punch
[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 25
ctrl = 0
velset = 1,0
sprpriority = -1
anim = IfElse(Var(1)=0,220,3220)

[State 220, VelSet]
type = Velset
trigger1 = prevstateno = 100 && animelem = 1
x = 3
y = 0

[State 220, VelSet]
type = Velset
trigger1 = animelem = 2
x = 2
y = 0

[State 220, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 202, 0

[State 220, Voice]
type = PlaySnd
trigger1 = Time = 1 && random >= 700
value = 105, 0

[State 220, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Hard
damage    = Floor(40*(IfElse(Var(1)=0,1,1.25)))
guardflag = MA
pausetime = 9,12
sparkno = S9003
sparkxy = -13,-56
hitsound   = S301,0
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 17
ground.velocity = -13.3
air.velocity = -8.0,-2
air.fall = 1
envshake.time = 5
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 220, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Standing light kick
; CNS difficulty: easy
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 23
ctrl = 0
velset = 0,0
sprpriority = 2
anim = IfElse(Var(1)=0,230,3230)

[State 230, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 202, 0

[State 230, Voice]
type = PlaySnd
trigger1 = Time = 1 && random >= 700
value = 103, 0

[State 230, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Light
damage    = Floor(27*(IfElse(Var(1)=0,1,1.25)))
guardflag = MA
pausetime = 9,12
sparkno = S9002
sparkxy = -14,-57
hitsound   = S303,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -1.8
air.velocity = -2.0,-2

[State 230, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Close light kick(Knee)
; CNS difficulty: easy
[Statedef 235]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 20
ctrl = 0
velset = 0,0
sprpriority = 2
anim = IfElse(Var(1)=0,235,3235)

[State 235, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 200, 0

[State 235, Voice]
type = PlaySnd
trigger1 = Time = 1 && random >= 800
value = 101, 0

[State 235, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Light
damage    = Floor(22*(IfElse(Var(1)=0,1,1.25)))
guardflag = MA
pausetime = 9,12
sparkno = S9001
sparkxy = -1,-38
hitsound   = S302,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -1.0
air.velocity = -1.0,-2

[State 235, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Standing medium kick
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 2
poweradd= 28
ctrl = 0
velset = 1,0
sprpriority = 2
anim = IfElse(Var(1)=0,240,3240)

[State 240, VelSet]
type = Velset
trigger1 = animelem = 2
x = 2
y = 0

[State 240, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 204, 0

[State 240, Voice]
type = PlaySnd
trigger1 = Time = 1 && random >= 700
value = 104, 0

[State 240, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Hard
damage    = Floor(40*(IfElse(Var(1)=0,1,1.25)))
guardflag = MA
pausetime = 10,12
sparkno = S9002
sparkxy = -11,-63
hitsound   = S304,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2.3
air.velocity = -4.2,-3.2

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Standing strong kick
; CNS difficulty: easy
[Statedef 250]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 33
ctrl = 0
velset = 1,0
sprpriority = 2
anim = IfElse(Var(1)=0,250,3250)

[State 250, VelSet]
type = Velset
triggerall = prevstateno != [100,101]
trigger1 = animelem = 2
trigger2 = animelem = 3
x = 4.5*IfElse(Var(1)=0,1,1.2)
y = 0

[State 200, VelSet]
type = Velset
triggerall = prevstateno = [100,101]
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
x = 5*IfElse(Var(1)=0,1,1.2)
y = 0

[State 250, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 205, 0

[State 250, Voice]
type = PlaySnd
trigger1 = Time = 1 && random >= 700
value = 113, 0

[State 250, Dust1]
type = Explod
triggerall = pos y = 0
trigger1 = time = 0
Anim = 15000
Pos = -30, 0
Id = 15000
sprpriority = -1
removeongethit = 0
Postype = p1
;Bindtime = -1
SuperMove = 1

[State 250, HitDef]
type = HitDef
trigger1 = animelem = 2
attr = S, NA
animtype  = Hard
damage    = Floor(10*(IfElse(Var(1)=0,1,1.25)))
guardflag = MA
pausetime = 6,10
sparkno = S9001
sparkxy = -7,-45
hitsound   = S300,0
guardsound = 6,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 10
ground.velocity = -1
air.velocity = -1

[State 250, HitDef]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
animtype  = Hard
damage    = Floor(45*(IfElse(Var(1)=0,1,1.25)))
guardflag = MA
pausetime = 12,12
sparkno = S9003
sparkxy = -7,-62
hitsound   = S304,0
guardsound = 6,0
ground.type = High
ground.slidetime = 17
ground.hittime  = 19
ground.velocity = -6,-4
air.velocity = -6,-4
fall = 1
air.fall = 1
fall.recover = 0
envshake.time = 5
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 250, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Launcher Uppercut
[Statedef 260]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 40
ctrl = 0
velset = 1,0
sprpriority = 2
anim = IfElse(Var(1)=0,260,3260)

[State 260, VelSet]
type = Velset
trigger1 = animelem = 2
x = 1.0
y = 0

[State 260, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 205, 0

[State 260, Voice]
type = PlaySnd
trigger1 = Time = 1 && random >= 500
value = 106, 0

[State 260, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Up
damage    = Floor(40*(IfElse(Var(1)=0,1,1.25)))
guardflag = MA
pausetime = 10,12
sparkno = S9003
sparkxy = -7,-80
hitsound   = S304,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -0.75,-10.2*IfElse(Var(1)=0,1,1.1)
air.velocity = -6.75,-6.9*IfElse(Var(1)=0,1,1.1)
fall = 1
fall.recover = 0
envshake.time = 5
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 260, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Shououken Launch
[Statedef 270]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 40
ctrl = 0
velset = 2,0
sprpriority = 2
anim = IfElse(Var(1)=0,270,3270)

[State 270, VelSet]
type = Velset
trigger1 = animelem = 1
trigger2 = animelem = 2
x = 2.0
y = 0

[State 270, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 205, 0

[State 270, Voice]
type = PlaySnd
trigger1 = Time = 1 && random >= 500
value = 106, 0

[State 270, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Up
damage    = Floor(40*(IfElse(Var(1)=0,1,1.25)))
guardflag = MA
pausetime = 10,12
sparkno = S9003
sparkxy = -7,-80
hitsound   = S304,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -0.75,-10.2*IfElse(Var(1)=0,1,1.1)
air.velocity = -6.75,-6.9*IfElse(Var(1)=0,1,1.1)
fall = 1
fall.recover = 0

[State 270, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Advance Guard
[Statedef 330]
type    = S 
movetype= A 
physics = S 
juggle  = 0 
velset = 0,0
ctrl = 0 
poweradd = -200
sprpriority = 2
anim = IfElse(Var(1)=0,330,3330)

[State 330, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 202, 0

[State 330, Voice]
type = PlaySnd
trigger1 = Time = 1 && random >= 700
value = 114, 0

[State 330, Spark]
type = Explod
trigger1 = time = 1
Anim = 10900
Pos = 30, -49
Id = 10900
sprpriority = 3
removeongethit = 0
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal =1
scale = 0.8,0.8

[State 2202, Advance.Helper]
type = Helper
trigger1 = Time = 0
name = "Advance"
stateno = 12700
postype = p1
pos = -30, 0
keyctrl = 0
ownpal = 1
id = 12700

[State 330, HitOverride]
type = Hitoverride
trigger1 = 1
attr = S, NA
stateno = 130
value = 202, 0

[State 330, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 330, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Crouching light punch
; CNS difficulty: easy
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 1
poweradd= 15
ctrl = 0
sprpriority = 2
anim = IfElse(Var(1)=0,400,3400)

[State 400, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 400, Voice]
type = PlaySnd
trigger1 = Time = 1 && random >= 700
value = 101, 0

[State 400, CtrlSet]
type = CtrlSet
trigger1 = Time >= 10
value = 1

[State 400, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = Floor(19*(IfElse(Var(1)=0,1,1.25)))
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 10,11
sparkno = S9001
sparkxy = -6,-37
hitsound   = S300,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 12
ground.velocity = -4
air.velocity = -1.5,-3

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11

;---------------------------------------------------------------------------
;Crouching light kick
; CNS difficulty: easy
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 3
poweradd= 23
ctrl = 0
sprpriority = 2
anim = IfElse(Var(1)=0,430,3430)

[State 430, 1]
type = PlaySnd
trigger1 = Time = 1
value = 202, 0

[State 430, Voice]
type = PlaySnd
trigger1 = Time = 1 && random >= 700
value = 102, 0

[State 430, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = Floor(36*(IfElse(Var(1)=0,1,1.25)))
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkno = S9002
sparkxy = -10,-5
hitsound   = S303,0
guardsound = 6,0
ground.type = Trip
ground.slidetime = 6
ground.hittime  = 12
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20

[State 430, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Jump Light Punch
; CNS difficulty: easy
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 18
ctrl = 0
sprpriority = 2
anim = IfElse(Var(1)=0,600,3600)

[State 600, VarSet]
type = Varset
triggerall = prevstateno != 630
trigger1 = Time = 0
v = 23
value = 0

[State 600, Varadd]
type = Varadd
triggerall = prevstateno = 630
trigger1 = Time = 0
v = 23
value = 1

[State 600, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 201, 0

[State 600, Voice]
type = PlaySnd
trigger1 = Time = 1 && random >= 700
value = 101, 0

[State 600, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
animtype = medium
damage    = Floor(35*(IfElse(Var(1)=0,1,1.25)))-Var(23)*5
guardflag = HA
priority = 3
pausetime = 7,8
sparkno = S9001
sparkxy = -6,-20
hitsound   = S300,0
guardsound = 6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -2,-2

[State 600, 3]
type = CtrlSet
trigger1 = Time = 17
value = 1
;---------------------------------------------------------------------------
;Jump Light Kick
; CNS difficulty: easy
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 23
ctrl = 0
sprpriority = 2
anim = IfElse(Var(1)=0,630,3630)

[State 600, VarSet]
type = Varset
triggerall = prevstateno != 600
trigger1 = Time = 0
v = 23
value = 0

[State 600, Varadd]
type = Varadd
triggerall = prevstateno = 600
trigger1 = Time = 0
v = 23
value = 1

[State 630, 1]
type = PlaySnd
trigger1 = Time = 1
value = 204, 0

[State 630, Voice]
type = PlaySnd
trigger1 = Time = 1  && random >= 700
value = 105, 0

[State 630, 2]
type = HitDef
trigger1 = Time = 0
animtype = Hard
attr = A, NA
damage = Floor(45*(IfElse(Var(1)=0,1,1.25)))-Var(23)*6
guardflag = HA
priority = 3
pausetime = 8,12
sparkno = S9002
sparkxy = 0,0
hitsound   = S303,0
guardsound = 6,0
ground.type = High
ground.slidetime = 14
ground.hittime  = 16
ground.velocity = -6
air.velocity = -3,4
air.fall = 1
fall.recover = 0

;---------------------------------------------------------------------------
;Basic Throw
[Statedef 800]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = IfElse(Var(1)=0,800,3800)
sprpriority = 1

[State 800, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
getpower = 0
priority = 2, miss
sparkno = -1
snap = 32,0,0,1
p1stateno = 810
p2stateno = 95100

[State 800, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------
; Throw successful
[Statedef 810]
type = S
movetype = A
physics = S
velset = 0,0
anim = IfElse(Var(1)=0,810,3810)
sprpriority = 1
poweradd = 50

[State 810, Spark]
type = Explod
trigger1 = time = 0
Anim = 10110
Pos = 5, -45
Id = 10110
sprpriority = 4
removeongethit = 0
Postype = p1
;Bindtime = -1
SuperMove = 1
ownpal =1

[State 810, Invincibility]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 810, PlaySND]
type = PlaySnd
trigger1 = AnimElem = 4
value = 203,0

[State 810, Voice]
type = PlaySnd
trigger1 = AnimElem = 4
value = 8,0

[State 810, Push]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 810, Damage]
type = TargetLifeAdd
trigger1 = animtime = 0
value = -30

[State 810, TBind1]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 10,0

[State 810, TBind2]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
pos = 2,-3

[State 810, TBind3]
type = TargetBind
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
pos = -6,-6

[State 810, TState]
type = TargetState
trigger1 = AnimElem = 4
value = 95101

[State 810, Turn]
type = Turn
trigger1 = AnimElem = 5

[State 810, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Knee Basher
[Statedef 900]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = IfElse(Var(1)=0,900,3900)
sprpriority = 1

[State 910, VarSet]
type = VarSet
trigger1 = Time = 0
v = 11
value = 0

[State 900, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
numhits = 0
getpower = 0
priority = 2, miss
sparkno = -1
p1stateno = 910
p2stateno = 5000

[State 900, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------
; Grab Knee
[Statedef 910]
type = S
movetype = A
physics = S
velset = 0,0
anim = IfElse(Var(1)=0,910,3910)
sprpriority = 1
poweradd = 10

[State 910, VarAdd]
type = VarAdd
trigger1 = Time = 0
v = 11
value = 1

[State 910, Spark]
type = Explod
trigger1 = time = 0
Anim = 10110
Pos = 5, -45
Id = 10110
sprpriority = 4
removeongethit = 0
Postype = p1
;Bindtime = -1
SuperMove = 1
ownpal =1

[State 910, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 200, 0

[State 910, Voice]
type = PlaySnd
trigger1 = Time = 0 ;&& random >= 800
value = 101, 0

[State 910, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, ST
animtype  = Light
damage    = Floor(15*(IfElse(Var(1)=0,1,1.1)))
getpower = 0
guardflag = MA
pausetime = 8,12
sparkno = S9001
sparkxy = -1,-38
hitsound   = S303,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = 0
air.velocity = 0
kill = 0

[State 910, Invincibility]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 910, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 910, TBind1]
type = TargetBind
trigger1 = 1
pos = 12,0

[State 910, TState]
type = TargetState
trigger1 = 1
value = 5000

[State 910, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 911
ctrl = 0
;-------------------------------------------------------------------------
; Grab Hold
[Statedef 911]
type = S
movetype = A
physics = S
velset = 0,0
anim = IfElse(Var(1)=0,911,3911)
sprpriority = 1

[State 911, Invincibility]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 911, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 911, TBind1]
type = TargetBind
trigger1 = 1
pos = 12,0

[State 911, TState]
type = TargetState
trigger1 = 1
value = 5000

[State 911, State]
type = ChangeState
triggerall = IfElse(Var(1)=0,(var(11) <= 1),(var(11) <= 2))
trigger1 = AnimTime = 0
value = 910
ctrl = 0

[State 911, State]
type = ChangeState
triggerall = IfElse(Var(1)=0,(var(11) >= 2),(var(11) >= 3))
trigger1 = AnimTime = 0
value = 912
ctrl = 0

;---------------------------------------------------------------------------
; Grab Kick Away
[Statedef 912]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 1,0
sprpriority = 2
anim = IfElse(Var(1)=0,912,3912)
poweradd = 25

[State 912, VelSet]
type = Velset
trigger1 = animelem = 1
trigger2 = animelem = 2
x = 1.5
y = 0

[State 912, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 205, 0

[State 912, Voice]
type = PlaySnd
trigger1 = Time = 1 && random >= 500
value = 113, 0

[State 912, Dust1]
type = Explod
trigger1 = time = 0
Anim = 15000
Pos = -30, 0
Id = 15000
sprpriority = -1
removeongethit = 0
Postype = p1
;Bindtime = -1
SuperMove = 1

[State 912, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, ST
animtype  = Hard
damage    = Floor(50*(IfElse(Var(1)=0,1,1.1)))
getpower = 20
guardflag = MA
pausetime = 12,12
sparkno = S9003
sparkxy = -7,-62
hitsound   = S304,0
guardsound = 6,0
ground.type = High
ground.slidetime = 17
ground.hittime  = 19
ground.velocity = -8,-4
fall = 1
fall.recover = 0

[State 912, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Fireball
;-=And again it doesn't resemble fire...=-
[Statedef 1000]
type    = S
movetype= A
physics = S
poweradd= -30
ctrl = 0
velset = 0
anim = IfElse(Var(1)=0,1000,4000)

[State 1000, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1000, Voice-Yah!]
type = PlaySnd
trigger1 = AnimElem = 2
value = 105,0

[State 1000, LaunchSND]
type = PlaySnd
trigger1 = time = 14
value = 400,0

[State 1000, SparkleB.PosVarX]
type = VarRandom
trigger1 = Time >= 9 && Time <= 12
v = 14
range = 30,35

[State 1000, SparkleB.PosVarY]
type = VarRandom
trigger1 = Time >= 9 && Time <= 12
v = 15
range = -56,-60

[State 1000, SparkleB.Helper]
type = Helper
trigger1 = Time >= 9 && Time <= 12
name = "SparkleB"
stateno = 11121
postype = p1
pos = var(14), var(15)
keyctrl = 0
ownpal = 1
id = 11121
size.xscale = IfElse(Random <= 499,0.2,0.3)
size.yscale = IfElse(Random <= 499,0.2,0.3)

[State 1000, Projectile]
type = Projectile
trigger1 = animelem = 2
ProjAnim = 9015         
ProjHitAnim = 13000  
ProjRemAnim = 13000   
projid = 9015
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 25, -59       
velocity = 10.5, 0   
remvelocity = .7, 0  
accel = -0.02, 0     
attr = S, SP
damage    = Floor(20*(IfElse(Var(1)=0,1,1.25))),5
animtype  = Medium
getpower  = 0
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = -1
sparkxy = 0, 0
hitsound   = S900,4
guardsound = S900,4
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 1000, End]
type = ChangeState
trigger1 = AnimTime = 0 && power > 0
value = 0
ctrl = 1

[State 1000, Tired]
type = ChangeState
trigger1 = AnimTime = 0 && power = 0
value = 5300
ctrl = 1
;---------------------------------------------------------------------------
;2x Ki Launch
;-=YARRRRRR!=-
[Statedef 1010]
type    = S
movetype= A
physics = S
poweradd= -60
ctrl = 0
velset = 0
anim = IfElse(Var(1)=0,1010,4010)

[State 1010, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1010, Voice-Yah!]
type = PlaySnd
trigger1 = AnimElem = 2
value = 105,0

[State 1010, LaunchSND]
type = PlaySnd
trigger1 = AnimElem = 2
value = 400,0

[State 1010, SparkleB.PosVarX]
type = VarRandom
trigger1 = Time >= 12 && Time <= 16
v = 14
range = 22,30

[State 1010, SparkleB.PosVarY]
type = VarRandom
trigger1 = Time >= 12 && Time <= 16
v = 15
range = -30,-66

[State 1010, SparkleB.Helper]
type = Helper
trigger1 = Time >= 12 && Time <= 16
name = "SparkleB"
stateno = 11121
postype = p1
pos = var(14), var(15)
keyctrl = 0
ownpal = 1
id = 11121
size.xscale = IfElse(Random <= 499,0.2,0.3)
size.yscale = IfElse(Random <= 499,0.2,0.3)

[State 1010, Projectile]
type = Projectile
trigger1 = AnimElem = 2
ProjAnim = 9015         
ProjHitAnim = 13000  
ProjRemAnim = 13000   
projid = 9015
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
projscale = 0.9, 0.8
offset = 30, -65       
velocity = 10, 1   
remvelocity = .7, 0  
accel = -0.02, -0.05     
attr = S, SP
damage    = Floor(20*(IfElse(Var(1)=0,1,1.25))),5
animtype  = Medium
getpower  = 0
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = -1
sparkxy = 0, 0
hitsound   = S900,4
guardsound = S900,4
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 1010, Projectile]
type = Projectile
trigger1 = AnimElem = 2
ProjAnim = 9015         
ProjHitAnim = 13001 
ProjRemAnim = 13001
projid = 9016  
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
projscale = 0.9, 0.8
offset = 35, -40       
velocity = 8.5, -1   
remvelocity = .7, 0  
accel = -0.02, 0.05     
attr = S, SP
damage    = Floor(20*(IfElse(Var(1)=0,1,1.25))),5
animtype  = Medium
getpower  = 0
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = -1
sparkxy = 0, 0
hitsound   = S900,4
guardsound = S900,4
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 1010, End]
type = ChangeState
trigger1 = AnimTime = 0 && power > 0
value = 0
ctrl = 1

[State 1010, Tired]
type = ChangeState
trigger1 = AnimTime = 0 && power = 0
value = 5300
ctrl = 1
;---------------------------------------------------------------------------
;3x Ki Launch
;-=(Battle Cry)=-
[Statedef 1020]
type    = S
movetype= A
physics = S
poweradd= -90
ctrl = 0
velset = 0
anim = IfElse(Var(1)=0,1020,4020)

[State 1020, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1020, Voice-Yah!]
type = PlaySnd
trigger1 = AnimElem = 2
value = 105,0

[State 1020, LaunchSND]
type = PlaySnd
trigger1 = AnimElem = 2
value = 400,0

[State 1020, SparkleB.PosVarX]
type = VarRandom
trigger1 = Time >= 16 && Time <= 20
v = 14
range = 22,30

[State 1010, SparkleB.PosVarY]
type = VarRandom
trigger1 = Time >= 16 && Time <= 20
v = 15
range = -30,-66

[State 1010, SparkleB.Helper]
type = Helper
trigger1 = Time >= 16 && Time <= 20
name = "SparkleB"
stateno = 11121
postype = p1
pos = var(14), var(15)
keyctrl = 0
ownpal = 1
id = 11121
size.xscale = IfElse(Random <= 499,0.2,0.3)
size.yscale = IfElse(Random <= 499,0.2,0.3)

[State 1020, Projectile]
type = Projectile
trigger1 = AnimElem = 2
ProjAnim = 9015         
ProjHitAnim = 13000  
ProjRemAnim = 13000  
projid = 9015
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
projscale = 0.9, 0.8
offset = 30, -65       
velocity = 8.5, 1   
remvelocity = .7, 0  
accel = -0.02, -0.05     
attr = S, SP
damage    = Floor(20*(IfElse(Var(1)=0,1,1.25))),5
animtype  = Medium
getpower  = 0
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = -1
sparkxy = 0, 0
hitsound   = S900,4
guardsound = S900,4
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 1020, Projectile]
type = Projectile
trigger1 = AnimElem = 2
ProjAnim = 9015         
ProjHitAnim = 13001  
ProjRemAnim = 13001
projid = 9016  
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
projscale = 0.9, 0.8
offset = 35, -46       
velocity = 10, 0   
remvelocity = .7, 0  
accel = -0.02, 0     
attr = S, SP
damage    = Floor(20*(IfElse(Var(1)=0,1,1.25))),5
animtype  = Medium
getpower  = 0
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = -1
sparkxy = 0, 0
hitsound   = S900,4
guardsound = S900,4
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 1020, Projectile]
type = Projectile
trigger1 = AnimElem = 2
ProjAnim = 9015         
ProjHitAnim = 13000  
ProjRemAnim = 13000   
projid = 9017
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
projscale = 0.9, 0.8
offset = 40, -30       
velocity = 9, -1
remvelocity = .7, 0  
accel = -0.02, 0.05
attr = S, SP
damage    = Floor(20*(IfElse(Var(1)=0,1,1.25))),5
animtype  = Medium
getpower  = 0
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = -1
sparkxy = 0, 0
hitsound   = S900,4
guardsound = S900,4
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 3

[State 1020, End]
type = ChangeState
trigger1 = AnimTime = 0 && power > 0
value = 0
ctrl = 1

[State 1020, Tired]
type = ChangeState
trigger1 = AnimTime = 0 && power = 0
value = 5300
ctrl = 1
;---------------------------------------------------------------------------
;Ground Spark Weak
[Statedef 1050]
type    = S
movetype= A
physics = S
poweradd= -60
ctrl = 0
velset = 0
anim = IfElse(Var(1)=0,1050,4050)

[State 1050, PlaySND]
type = PlaySnd
trigger1 = time = 0
value = 1050,0

[State 1050, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1050, Ball]
type = Explod
trigger1 = time = 1
Anim = 12301
Pos = -25, -89
Id = 12301
sprpriority = 2
removeongethit = 1
removetime = IfElse(Var(1)=0,12,11)
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
scale = 0.4,0.4

[State 1050, Voice-Yah!]
type = PlaySnd
trigger1 = AnimElem = 2
value = 109,0

[State 1050, LaunchSND]
type = PlaySnd
trigger1 = AnimElem = 2
value = 2250,0

[State 1050, GroundSpark.Helper]
type = Helper
trigger1 = AnimElem = 2
name = "GroundSpark"
stateno = 12300
postype = p1
pos = 25, -42
keyctrl = 0
ownpal = 1
id = 12300

[State 1050, End]
type = ChangeState
trigger1 = AnimTime = 0 && power > 0
value = 0
ctrl = 1

[State 1050, Tired]
type = ChangeState
trigger1 = AnimTime = 0 && power = 0
value = 5300
ctrl = 1
;---------------------------------------------------------------------------
;Ground Spark Medium
[Statedef 1060]
type    = S
movetype= A
physics = S
poweradd= -95
ctrl = 0
velset = 0
anim = IfElse(Var(1)=0,1060,4060)

[State 1050, PlaySND]
type = PlaySnd
trigger1 = time = 0
value = 1050,0

[State 1060, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1060, Ball]
type = Explod
trigger1 = time = 1
Anim = 12301
Pos = -26, -90
Id = 12301
sprpriority = 2
removeongethit = 1
removetime = IfElse(Var(1)=0,16,15)
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
scale = 0.45,0.45

[State 1060, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 109,0

[State 1060, LaunchSND]
type = PlaySnd
trigger1 = AnimElem = 2
value = 2250,0

[State 1060, GroundSpark.Helper]
type = Helper
trigger1 = AnimElem = 2
name = "GroundSparkM"
stateno = 12330
postype = p1
pos = 23, -40
keyctrl = 0
ownpal = 1
id = 12330

[State 1060, End]
type = ChangeState
trigger1 = AnimTime = 0 && power > 0
value = 0
ctrl = 1

[State 1060, Tired]
type = ChangeState
trigger1 = AnimTime = 0 && power = 0
value = 5300
ctrl = 1
;---------------------------------------------------------------------------
;Ground Spark Strong
[Statedef 1070]
type    = S
movetype= A
physics = S
poweradd= -130
ctrl = 0
velset = 0
anim = IfElse(Var(1)=0,1070,4070)

[State 1050, PlaySND]
type = PlaySnd
trigger1 = time = 0
value = 1050,0

[State 1070, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1070, Ball]
type = Explod
trigger1 = time = 1
Anim = 12301
Pos = -26, -91
Id = 12301
sprpriority = 2
removeongethit = 1
removetime = IfElse(Var(1)=0,20,19)
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
scale = 0.5,0.5

[State 1070, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 109,0

[State 1070, LaunchSND]
type = PlaySnd
trigger1 = AnimElem = 2
value = 2250,0

[State 1070, GroundSpark.Helper]
type = Helper
trigger1 = AnimElem = 2
name = "GroundSparkS"
stateno = 12360
postype = p1
pos = 21, -38
keyctrl = 0
ownpal = 1
id = 12360

[State 1070, End]
type = ChangeState
trigger1 = AnimTime = 0 && power > 0
value = 0
ctrl = 1

[State 1070, Tired]
type = ChangeState
trigger1 = AnimTime = 0 && power = 0
value = 5300
ctrl = 1
;---------------------------------------------------------------------------
; Shououken Weak Start
[Statedef 1100]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 40
ctrl = 0
velset = 0,0
sprpriority = 1
anim = IfElse(Var(1)=0,1100,4100)

[State 1100, Sound]
type = PlaySnd
trigger1 = Time = 4
value = 205, 0

[State 1100, Sound]
type = PlaySnd
trigger1 = Time = 6
value = 100, 0

[State 1100, VelSet1]
type = Velset
trigger1 = time > 6
x = 6+IfElse(Var(1)=0,0,1)
y = 0

[state 1100, PalFX]
type = PalFX
trigger1 = time = 4
time = 4
add = 120,120,200

[State 1100, Shououken.Helper]
type = Helper
trigger1 = time = 4
name = "Shououken"
stateno = 12100
postype = p1
pos = -7, 10
keyctrl = 0
ownpal = 1
id = 12100
size.xscale = 0.6
size.yscale = 0.6

[State 1100, SparkleB.PosVarX]
type = VarRandom
trigger1 = Time >= 6 && Time <= 14
v = 14
range = -2,12

[State 1100, SparkleB.PosVarY]
type = VarRandom
trigger1 = Time >= 6 && Time <= 14
v = 15
range = 0,-78

[State 1100, SparkleB.Helper]
type = Helper
trigger1 = Time >= 6 && Time <= 14
name = "SparkleB"
stateno = 11120
postype = p1
pos = Var(14), Var(15)
keyctrl = 0
ownpal = 1
id = 11120
size.xscale = IfElse(Random <= 499,0.2,0.3)
size.yscale = IfElse(Random <= 499,0.2,0.3)

[State 1100, Dust1]
type = Explod
triggerall = pos y >= 0
trigger1 = time = 6
Anim = 15100
Pos = -30, 0
Id = 15100
sprpriority = -1
removeongethit = 0
Postype = p1
velocity = -1, 0
;Bindtime = -1
SuperMove = 1
ownpal = 1

[State 1100, VarSet]
type = VarSet
trigger1 = time = 0
v = 12
value = 0

[State 1100, HitDef]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Hard
damage    = Floor(20*(IfElse(Var(1)=0,1,1.25))),5
getpower = 0
guardflag = MA
pausetime = 4,4
sparkno = S10010
sparkxy = 0,0
hitsound   = S303,0
guardsound = 6,0
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = IfElse(Var(1)=0,-6,-4)
air.velocity = IfElse(Var(1)=0,-6,-4),-4

[State 1100, VarAdd]
type = VarAdd
trigger1 = movehit = 1
v = 12
value = 1

[State 1100, Next]
type = ChangeState
trigger1 = movehit
value = 1101
ctrl = 0

[State 1100, BounceBack]
type = ChangeState
trigger1 = moveguarded
value = 1103
ctrl = 0

[State 1100, End]
type = ChangeState
trigger1 = time = 18
value = 1102
ctrl = 0
;---------------------------------------------------------------------------
; Shououken Weak
[Statedef 1101]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
sprpriority = 1
anim = IfElse(Var(1)=0,1101,4101)

[State 1101, VelSet1]
type = Velset
trigger1 = time > 4
x = 6+IfElse(Var(1)=0,0,1)
y = 0

[State 1101, VarAdd]
type = VarAdd
trigger1 = movecontact = 1
v = 12
value = 1

[State 1101, HitDef]
type = HitDef
trigger1 = Var(12) < 4
attr = S, SA
animtype  = Hard
damage    = Floor(10*(IfElse(Var(1)=0,1,1.25))),2
getpower = 0
guardflag = MA
pausetime = 4,4
sparkno = S10010
sparkxy = 0,0
hitsound   = S303,0
guardsound = 6,0
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = IfElse(Var(1)=0,-6,-4)
air.velocity = IfElse(Var(1)=0,-6,-4),-4
fall.recover = 0

[State 1101, End]
type = ChangeState
trigger1 = Time = 14
value = IfElse(Var(1)=0,1102,270)
ctrl = 0
;---------------------------------------------------------------------------
; Shououken Weak End
[Statedef 1102]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 6,0
sprpriority = 2
anim = IfElse(Var(1)=0,1102,4102)

[State 1102, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Shououken Bounce Back
[Statedef 1103]
type    = A     
movetype= A     
physics = A     
juggle  = 0     
ctrl = 0  
velset = 0,0
anim = IfElse(Var(1)=0,1103,4103)

[State 1103, SOund]
type = PlaySnd
trigger1 = Time = 0
value = 40, 0

[State 1103, 0]
type = VelAdd
trigger1 = AnimElem = 1
y = -6.0
x = -2

[State 1103, 0]
type = VelMul
trigger1 = 1
x = 0.95

[State 1302, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 0
;---------------------------------------------------------------------------
; Shououken Medium Start
[Statedef 1110]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 50
ctrl = 0
velset = 0,0
sprpriority = 1
anim = IfElse(Var(1)=0,1110,4110)

[State 1110, Sound]
type = PlaySnd
trigger1 = Time = 6
value = 205, 0

[State 1110, Sound]
type = PlaySnd
trigger1 = Time = 9
value = 100, 0

[State 1110, VelSet1]
type = Velset
trigger1 = time > 9
x = 6+IfElse(Var(1)=0,0,1)
y = 0

[state 1100, PalFX]
type = PalFX
trigger1 = time = 7
time = 4
add = 120,120,200

[State 1110, Shououken.Helper]
type = Helper
trigger1 = time = 7
name = "ShououkenM"
stateno = 12110
postype = p1
pos = -14, 16
keyctrl = 0
ownpal = 1
id = 12110
size.xscale = 0.65
size.yscale = 0.65

[State 1110, SparkleB.PosVarX]
type = VarRandom
trigger1 = Time >= 9 && Time <= 18
v = 14
range = -4,12

[State 1110, SparkleB.PosVarY]
type = VarRandom
trigger1 = Time >= 9 && Time <= 18
v = 15
range = 4,-86

[State 1110, SparkleB.Helper]
type = Helper
trigger1 = Time >= 9 && Time <= 18
name = "SparkleB"
stateno = 11120
postype = p1
pos = Var(14), Var(15)
keyctrl = 0
ownpal = 1
id = 11120
size.xscale = IfElse(Random <= 499,0.2,0.3)
size.yscale = IfElse(Random <= 499,0.2,0.3)

[State 1110, Dust1]
type = Explod
triggerall = pos y >= 0
trigger1 = time = 9
Anim = 15100
Pos = -30, 0
Id = 15100
sprpriority = -1
removeongethit = 0
Postype = p1
velocity = -1, 0
;Bindtime = -1
SuperMove = 1
ownpal = 1

[State 1110, VarSet]
type = VarSet
trigger1 = time = 0
v = 12
value = 0

[State 1110, HitDef]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Hard
damage    = Floor(24*(IfElse(Var(1)=0,1,1.25))),6
getpower = 0
guardflag = MA
pausetime = 4,4
sparkno = S10010
sparkxy = 0,0
hitsound   = S303,0
guardsound = 6,0
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = IfElse(Var(1)=0,-6,-4)
air.velocity = IfElse(Var(1)=0,-6,-4),-4
fall.recover = 0

[State 1110, VarAdd]
type = VarAdd
trigger1 = movehit = 1
v = 12
value = 1

[State 1110, Next]
type = ChangeState
trigger1 = movehit
value = 1111
ctrl = 0

[State 1110, BounceBack]
type = ChangeState
trigger1 = moveguarded
value = 1103
ctrl = 0

[State 1110, End]
type = ChangeState
trigger1 = time = 26
value = 1102
ctrl = 0
;---------------------------------------------------------------------------
; Shououken Medium
[Statedef 1111]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
sprpriority = 1
anim = IfElse(Var(1)=0,1101,4101)

[State 1111, VelSet1]
type = Velset
trigger1 = time > 4
x = 6+IfElse(Var(1)=0,0,1)
y = 0

[State 1111, VarAdd]
type = VarAdd
trigger1 = movecontact = 1
v = 12
value = 1

[State 1111, HitDef]
type = HitDef
trigger1 = Var(12) < 4
attr = S, SA
animtype  = Hard
damage    = Floor(12*(IfElse(Var(1)=0,1,1.25))),3
getpower = 0
guardflag = MA
pausetime = 4,4
sparkno = S10010
sparkxy = 0,0
hitsound   = S303,0
guardsound = 6,0
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = IfElse(Var(1)=0,-6,-4)
air.velocity = IfElse(Var(1)=0,-6,-4),-4
fall = 1
air.fall.recover = 0

[State 1111, End]
type = ChangeState
trigger1 = Time = 14
value = IfElse(Var(1)=0,1102,270)
ctrl = 0
;---------------------------------------------------------------------------
; Shououken Strong Start
[Statedef 1120]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 60
ctrl = 0
velset = 0,0
sprpriority = 1
anim = IfElse(Var(1)=0,1120,4120)

[State 1120, Sound]
type = PlaySnd
trigger1 = Time = 9
value = 205, 0

[State 1120, Sound]
type = PlaySnd
trigger1 = Time = 12
value = 100, 0

[State 1120, VelSet1]
type = Velset
trigger1 = time > 12
x = 6+IfElse(Var(1)=0,0,1)
y = 0

[state 1120, PalFX]
type = PalFX
trigger1 = time = 10
time = 4
add = 120,120,200

[State 1120, Shououken.Helper]
type = Helper
trigger1 = time = 10
name = "ShououkenS"
stateno = 12120
postype = p1
pos = -25, 17
keyctrl = 0
ownpal = 1
id = 12120
size.xscale = 0.7
size.yscale = 0.7

[State 1120, SparkleB.PosVarX]
type = VarRandom
trigger1 = Time >= 12 && Time <= 22
v = 14
range = -5,12

[State 1120, SparkleB.PosVarY]
type = VarRandom
trigger1 = Time >= 12 && Time <= 22
v = 15
range = 6,-92

[State 1120, SparkleB.Helper]
type = Helper
trigger1 = Time >= 12 && Time <= 22
name = "SparkleB"
stateno = 11120
postype = p1
pos = Var(14), Var(15)
keyctrl = 0
ownpal = 1
id = 11120
size.xscale = IfElse(Random <= 499,0.2,0.3)
size.yscale = IfElse(Random <= 499,0.2,0.3)

[State 1120, Dust1]
type = Explod
triggerall = pos y >= 0
trigger1 = time = 12
Anim = 15100
Pos = -30, 0
Id = 15100
sprpriority = -1
removeongethit = 0
Postype = p1
velocity = -1, 0
;Bindtime = -1
SuperMove = 1
ownpal = 1

[State 1120, VarSet]
type = VarSet
trigger1 = time = 0
v = 12
value = 0

[State 1120, HitDef]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Hard
damage    = Floor(28*(IfElse(Var(1)=0,1,1.25))),7
getpower = 0
guardflag = MA
pausetime = 4,4
sparkno = S10010
sparkxy = 0,0
hitsound   = S303,0
guardsound = 6,0
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = IfElse(Var(1)=0,-6,-4)
air.velocity = IfElse(Var(1)=0,-6,-4),-4

[State 1120, VarAdd]
type = VarAdd
trigger1 = movehit = 1
v = 12
value = 1

[State 1120, Next]
type = ChangeState
trigger1 = movehit
value = 1121
ctrl = 0

[State 1120, BounceBack]
type = ChangeState
trigger1 = moveguarded
value = 1103
ctrl = 0

[State 1120, End]
type = ChangeState
trigger1 = time = 34
value = 1102
ctrl = 0
;---------------------------------------------------------------------------
; Shououken Strong
[Statedef 1121]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
sprpriority = 1
anim = IfElse(Var(1)=0,1101,4101)

[State 1121, VelSet1]
type = Velset
trigger1 = time > 4
x = 6+IfElse(Var(1)=0,0,1)
y = 0

[State 1121, VarAdd]
type = VarAdd
trigger1 = movecontact = 1
v = 12
value = 1

[State 1121, HitDef]
type = HitDef
trigger1 = Var(12) < 4
attr = S, SA
animtype  = Hard
damage    = Floor(14*(IfElse(Var(1)=0,1,1.25))),4
getpower = 0
guardflag = MA
pausetime = 4,4
sparkno = S10010
sparkxy = 0,0
hitsound   = S303,0
guardsound = 6,0
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = IfElse(Var(1)=0,-6,-4)
air.velocity = IfElse(Var(1)=0,-6,-4),-4
fall.recover = 0

[State 1121, End]
type = ChangeState
trigger1 = Time = 14
value = IfElse(Var(1)=0,1102,270)
ctrl = 0

;---------------------------------------------------------------------------
; Air Shououken Weak Start
[Statedef 1150]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 40
ctrl = 0
velset = 0,0
sprpriority = 1
anim = IfElse(Var(1)=0,1100,4100)

[State 1150, StopFall]
type = Velset
trigger1 = time >= 0
y = 0

[State 1150, Sound]
type = PlaySnd
trigger1 = Time = 4
value = 205, 0

[State 1150, Sound]
type = PlaySnd
trigger1 = Time = 6
value = 100, 0

[State 1150, VelSet1]
type = Velset
trigger1 = time > 6
x = 6+IfElse(Var(1)=0,0,1)
y = 0

[state 1150, PalFX]
type = PalFX
trigger1 = time = 4
time = 4
add = 120,120,200

[State 1150, Shououken.Helper]
type = Helper
trigger1 = time = 4
name = "Shououken"
stateno = 12100
postype = p1
pos = -7, 10
keyctrl = 0
ownpal = 1
id = 12100
size.xscale = 0.6
size.yscale = 0.6

[State 1150, SparkleB.PosVarX]
type = VarRandom
trigger1 = Time >= 6 && Time <= 14
v = 14
range = -2,12

[State 1150, SparkleB.PosVarY]
type = VarRandom
trigger1 = Time >= 6 && Time <= 14
v = 15
range = 0,-78

[State 1150, SparkleB.Helper]
type = Helper
trigger1 = Time >= 6 && Time <= 14
name = "SparkleB"
stateno = 11120
postype = p1
pos = Var(14), Var(15)
keyctrl = 0
ownpal = 1
id = 11120
size.xscale = IfElse(Random <= 499,0.2,0.3)
size.yscale = IfElse(Random <= 499,0.2,0.3)

[State 1150, VarSet]
type = VarSet
trigger1 = time = 0
v = 12
value = 0

[State 1150, HitDef]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Hard
damage    = Floor(20*(IfElse(Var(1)=0,1,1.25))),5
getpower = 0
guardflag = MA
pausetime = 4,4
sparkno = S10010
sparkxy = 0,0
hitsound   = S303,0
guardsound = 6,0
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = IfElse(Var(1)=0,-6,-3)
air.velocity = IfElse(Var(1)=0,-6,-3),0

[State 1150, VarAdd]
type = VarAdd
trigger1 = movehit = 1
v = 12
value = 1

[State 1150, Next]
type = ChangeState
trigger1 = movehit
value = 1151
ctrl = 0

[State 1150, BounceBack]
type = ChangeState
trigger1 = moveguarded
value = 1153
ctrl = 0

[State 1150, End]
type = ChangeState
trigger1 = time = 18
value = 1152
ctrl = 0
;---------------------------------------------------------------------------
; Air Shououken Weak
[Statedef 1151]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
sprpriority = 1
anim = IfElse(Var(1)=0,1101,4101)

[State 1151, VelSet1]
type = Velset
trigger1 = time > 4
x = 6+IfElse(Var(1)=0,0,1)
y = 0

[State 1151, VarAdd]
type = VarAdd
trigger1 = movecontact = 1
v = 12
value = 1

[State 1151, HitDef]
type = HitDef
trigger1 = Var(12) < 4
attr = S, SA
animtype  = Hard
damage    = Floor(10*(IfElse(Var(1)=0,1,1.25))),2
getpower = 0
guardflag = MA
pausetime = 4,4
sparkno = S10010
sparkxy = 0,0
hitsound   = S303,0
guardsound = 6,0
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = IfElse(Var(1)=0,-6,-3)
air.velocity = IfElse(Var(1)=0,-6,-3),0

[State 1151, End]
type = ChangeState
trigger1 = Time = 14
value = IfElse(Var(1)=0,1152,1300)
ctrl = 0
;---------------------------------------------------------------------------
; Air Shououken Weak End
[Statedef 1152]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
velset = 6,0
sprpriority = 2
anim = IfElse(Var(1)=0,1102,4102)

[State 1152, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;Air Shououken Bounce Back
[Statedef 1153]
type    = A     
movetype= A     
physics = A     
juggle  = 0     
ctrl = 0  
velset = 0,0
anim = IfElse(Var(1)=0,1103,4103)

[State 1153, SOund]
type = PlaySnd
trigger1 = Time = 0
value = 40, 0

[State 1153, 0]
type = VelAdd
trigger1 = AnimElem = 1
y = -6.0
x = -2

[State 1153, 0]
type = VelMul
trigger1 = 1
x = 0.95

[State 1352, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 0
;---------------------------------------------------------------------------
; Shououken Medium Start
[Statedef 1160]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 50
ctrl = 0
velset = 0,0
sprpriority = 1
anim = IfElse(Var(1)=0,1110,4110)

[State 1150, StopFall]
type = Velset
trigger1 = time >= 0
y = 0

[State 1160, Sound]
type = PlaySnd
trigger1 = Time = 6
value = 205, 0

[State 1160, Sound]
type = PlaySnd
trigger1 = Time = 9
value = 100, 0

[State 1160, VelSet1]
type = Velset
trigger1 = time > 9
x = 6+IfElse(Var(1)=0,0,1)
y = 0

[state 1160, PalFX]
type = PalFX
trigger1 = time = 7
time = 4
add = 120,120,200

[State 1160, Shououken.Helper]
type = Helper
trigger1 = time = 7
name = "ShououkenM"
stateno = 12110
postype = p1
pos = -14, 16
keyctrl = 0
ownpal = 1
id = 12110
size.xscale = 0.65
size.yscale = 0.65

[State 1160, SparkleB.PosVarX]
type = VarRandom
trigger1 = Time >= 9 && Time <= 18
v = 14
range = -4,12

[State 1160, SparkleB.PosVarY]
type = VarRandom
trigger1 = Time >= 9 && Time <= 18
v = 15
range = 4,-86

[State 1160, SparkleB.Helper]
type = Helper
trigger1 = Time >= 9 && Time <= 18
name = "SparkleB"
stateno = 11120
postype = p1
pos = Var(14), Var(15)
keyctrl = 0
ownpal = 1
id = 11120
size.xscale = IfElse(Random <= 499,0.2,0.3)
size.yscale = IfElse(Random <= 499,0.2,0.3)

[State 1160, VarSet]
type = VarSet
trigger1 = time = 0
v = 12
value = 0

[State 1160, HitDef]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Hard
damage    = Floor(24*(IfElse(Var(1)=0,1,1.25))),6
getpower = 0
guardflag = MA
pausetime = 4,4
sparkno = S10010
sparkxy = 0,0
hitsound   = S303,0
guardsound = 6,0
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = IfElse(Var(1)=0,-6,-3)
air.velocity = IfElse(Var(1)=0,-6,-3),0

[State 1160, VarAdd]
type = VarAdd
trigger1 = movehit = 1
v = 12
value = 1

[State 1160, Next]
type = ChangeState
trigger1 = movehit
value = 1161
ctrl = 0

[State 1160, BounceBack]
type = ChangeState
trigger1 = moveguarded
value = 1153
ctrl = 0

[State 1160, End]
type = ChangeState
trigger1 = time = 26
value = 1152
ctrl = 0
;---------------------------------------------------------------------------
; Shououken Medium
[Statedef 1161]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
sprpriority = 1
anim = IfElse(Var(1)=0,1101,4101)

[State 1161, VelSet1]
type = Velset
trigger1 = time > 4
x = 6+IfElse(Var(1)=0,0,1)
y = 0

[State 1161, VarAdd]
type = VarAdd
trigger1 = movecontact = 1
v = 12
value = 1

[State 1161, HitDef]
type = HitDef
trigger1 = Var(12) < 4
attr = S, SA
animtype  = Hard
damage    = Floor(12*(IfElse(Var(1)=0,1,1.25))),3
getpower = 0
guardflag = MA
pausetime = 4,4
sparkno = S10010
sparkxy = 0,0
hitsound   = S303,0
guardsound = 6,0
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = IfElse(Var(1)=0,-6,-3)
air.velocity = IfElse(Var(1)=0,-6,-3),0
fall.recover = 0

[State 1161, End]
type = ChangeState
trigger1 = Time = 14
value = IfElse(Var(1)=0,1152,1300)
ctrl = 0
;---------------------------------------------------------------------------
; Air Shououken Strong Start
[Statedef 1170]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 60
ctrl = 0
velset = 0,0
sprpriority = 1
anim = IfElse(Var(1)=0,1120,4120)

[State 1170, StopFall]
type = Velset
trigger1 = time >= 0
y = 0

[State 1170, Sound]
type = PlaySnd
trigger1 = Time = 9
value = 205, 0

[State 1170, Sound]
type = PlaySnd
trigger1 = Time = 12
value = 100, 0

[State 1170, VelSet1]
type = Velset
trigger1 = time > 12
x = 6+IfElse(Var(1)=0,0,1)
y = 0

[state 1170, PalFX]
type = PalFX
trigger1 = time = 10
time = 4
add = 120,120,200

[State 1170, Shououken.Helper]
type = Helper
trigger1 = time = 10
name = "ShououkenS"
stateno = 12120
postype = p1
pos = -25, 17
keyctrl = 0
ownpal = 1
id = 12120
size.xscale = 0.7
size.yscale = 0.7

[State 1170, SparkleB.PosVarX]
type = VarRandom
trigger1 = Time >= 12 && Time <= 22
v = 14
range = -5,12

[State 1170, SparkleB.PosVarY]
type = VarRandom
trigger1 = Time >= 12 && Time <= 22
v = 15
range = 6,-92

[State 1170, SparkleB.Helper]
type = Helper
trigger1 = Time >= 12 && Time <= 22
name = "SparkleB"
stateno = 11120
postype = p1
pos = Var(14), Var(15)
keyctrl = 0
ownpal = 1
id = 11120
size.xscale = IfElse(Random <= 499,0.2,0.3)
size.yscale = IfElse(Random <= 499,0.2,0.3)

[State 1170, VarSet]
type = VarSet
trigger1 = time = 0
v = 12
value = 0

[State 1170, HitDef]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Hard
damage    = Floor(28*(IfElse(Var(1)=0,1,1.25))),7
getpower = 0
guardflag = MA
pausetime = 4,4
sparkno = S10010
sparkxy = 0,0
hitsound   = S303,0
guardsound = 6,0
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = IfElse(Var(1)=0,-6,-3)
air.velocity = IfElse(Var(1)=0,-6,-3),0

[State 1170, VarAdd]
type = VarAdd
trigger1 = movehit = 1
v = 12
value = 1

[State 1170, Next]
type = ChangeState
trigger1 = movehit
value = 1171
ctrl = 0

[State 1170, BounceBack]
type = ChangeState
trigger1 = moveguarded
value = 1153
ctrl = 0

[State 1170, End]
type = ChangeState
trigger1 = time = 34
value = 1152
ctrl = 0
;---------------------------------------------------------------------------
; Shououken Strong
[Statedef 1171]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
sprpriority = 1
anim = IfElse(Var(1)=0,1101,4101)

[State 1171, VelSet1]
type = Velset
trigger1 = time > 4
x = 6+IfElse(Var(1)=0,0,1)
y = 0

[State 1171, VarAdd]
type = VarAdd
trigger1 = movecontact = 1
v = 12
value = 1

[State 1171, HitDef]
type = HitDef
trigger1 = Var(12) < 4
attr = S, SA
animtype  = Hard
damage    = Floor(14*(IfElse(Var(1)=0,1,1.25))),4
getpower = 0
guardflag = MA
pausetime = 4,4
sparkno = S10010
sparkxy = 0,0
hitsound   = S303,0
guardsound = 6,0
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = IfElse(Var(1)=0,-6,-3)
air.velocity = IfElse(Var(1)=0,-6,-3),0
fall.recover = 0

[State 1171, End]
type = ChangeState
trigger1 = Time = 14
value = IfElse(Var(1)=0,1152,1300)
ctrl = 0
;---------------------------------------------------------------------------
; Sliding-Weak
[Statedef 1200]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 40
ctrl = 0
velset = 0,0
sprpriority = 2
anim = IfElse(Var(1)=0,1200,4200)

[State 1200, AfterImage]
type = AfterImage
trigger1 = time = 5
time = 10
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,256,256
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 1200, VelSet1]
type = Velset
trigger1 = time = [6,10]
x = 6.95+IfElse(Var(1)=0,0,1)
y = 0

[State 1200, VelSet2]
type = Velset
trigger1 = time = [11,14]
x = 4.70+IfElse(Var(1)=0,0,1)
y = 0

[State 1200, VelSet3]
type = Velset
trigger1 = time = [15,19]
x = 3.45+IfElse(Var(1)=0,0,1)
y = 0

[State 1200, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 204, 0

[State 1200, Voice]
type = PlaySnd
trigger1 = Time = 1 && random >= 700
value = 5, 0

[State 1200, Dust1]
type = Explod
triggerall = pos y = 0
trigger1 = time = 0
Anim = 15000
Pos = -5, 0
Id = 15000
sprpriority = -1
removeongethit = 0
Postype = p1
;Bindtime = -1
SuperMove = 1

[State 1200, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = Hard
damage    = Floor(50*(IfElse(Var(1)=0,1,1.25)))
getpower = 0
guardflag = MA
pausetime = 10,12
sparkno = S10010
sparkxy = -16,-10
hitsound   = S303,0
guardsound = 6,0
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,-4
air.velocity = -4,-4

[State 1200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Sliding-Medium
[Statedef 1210]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 50
ctrl = 0
velset = 0,0
sprpriority = 2
anim = IfElse(Var(1)=0,1210,4210)

[State 1210, AfterImage]
type = AfterImage
trigger1 = time = 7
time = 12
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,256,256
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 1210, VelSet1]
type = Velset
trigger1 = time = [6,10]
x = 7.45+IfElse(Var(1)=0,0,1)
y = 0

[State 1210, VelSet2]
type = Velset
trigger1 = time = [11,14]
x = 5.20+IfElse(Var(1)=0,0,1)
y = 0

[State 1210, VelSet3]
type = Velset
trigger1 = time = [15,19]
x = 3.95+IfElse(Var(1)=0,0,1)
y = 0

[State 1210, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 204, 0

[State 1210, Voice]
type = PlaySnd
trigger1 = Time = 1 && random >= 700
value = 5, 0

[State 1210, Dust1]
type = Explod
triggerall = pos y = 0
trigger1 = time = 0
Anim = 15000
Pos = -5, 0
Id = 15000
sprpriority = -1
removeongethit = 0
Postype = p1
;Bindtime = -1
SuperMove = 1

[State 1210, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = Hard
damage    = Floor(60*(IfElse(Var(1)=0,1,1.25)))
getpower = 0
guardflag = MA
pausetime = 10,12
sparkno = S10020
sparkxy = -16,-10
hitsound   = S304,0
guardsound = 6,0
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,-4
air.velocity = -5,-4

[State 1210, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Sliding-Strong
[Statedef 1220]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 60
ctrl = 0
velset = 0,0
sprpriority = 2
anim = IfElse(Var(1)=0,1220,4220)

[State 1220, AfterImage]
type = AfterImage
trigger1 = time = 7
time = 12
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,256,256
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 1220, VelSet1]
type = Velset
trigger1 = time = [6,10]
x = 7.95+IfElse(Var(1)=0,0,1)
y = 0

[State 1220, VelSet2]
type = Velset
trigger1 = time = [11,14]
x = 5.70+IfElse(Var(1)=0,0,1)
y = 0

[State 1220, VelSet3]
type = Velset
trigger1 = time = [15,19]
x = 4.45+IfElse(Var(1)=0,0,1)
y = 0

[State 1220, Sound]
type = PlaySnd
trigger1 = Time = 2
value = 204, 0

[State 1220, Voice]
type = PlaySnd
trigger1 = Time = 1 && random >= 700
value = 5, 0

[State 1220, Dust1]
type = Explod
triggerall = pos y = 0
trigger1 = time = 0
Anim = 15000
Pos = -5, 0
Id = 15000
sprpriority = -1
removeongethit = 0
Postype = p1
;Bindtime = -1
SuperMove = 1

[State 1220, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = Hard
damage    = Floor(70*(IfElse(Var(1)=0,1,1.25)))
getpower = 0
guardflag = MA
pausetime = 10,12
sparkno = S10020
sparkxy = -16,-10
hitsound   = S304,0
guardsound = 6,0
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,-4
air.velocity = -5,-4
envshake.time = 5
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 1220, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Briefs Dynamite
[Statedef 1250]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 50
ctrl = 0
velset = 0,0
sprpriority = 1
anim = IfElse(Var(1)=0,1250,4250)

[State 1250, Sound]
type = PlaySnd
trigger1 = Time = 7
value = 900, 3

[State 1250, Voice]
type = PlaySnd
trigger1 = Time = 7
value = 110, 0

[state 1200, PalFX]
type = PalFX
trigger1 = time = 7
time = 18
add = 120,120,200

[State 2203, Whirlwind]
type = Explod
triggerall = var(1) = 1
trigger1 = time = 0
Anim = 15510
Pos = 4, 0
Id = 15510
sprpriority = 4
removeongethit = 1
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal =1
scale = 0.6,0.6

[State 1250, MainExplosion]
type = Explod
trigger1 = time = 7
Anim = 12000
Pos = -1, 0
Id = 12000
sprpriority = 2
removeongethit = 0
Postype = p1
;Bindtime = -1
SuperMove = 1
ownpal = 1
scale = 0.8,0.8

[State 1250, Dust1]
type = Explod
triggerall = pos y = 0
trigger1 = time = 6
Anim = 15000
Pos = -60, 0
Id = 15000
sprpriority = -1
removeongethit = 0
Postype = p1
velocity = -1, 0
;Bindtime = -1
SuperMove = 1
ownpal = 1

[State 1250, Dust2]
type = Explod
triggerall = pos y = 0
trigger1 = time = 6
Anim = 15001
Pos = 60, 0
Id = 15001
sprpriority = -1
removeongethit = 0
Postype = p1
velocity = 1, 0
;Bindtime = -1
SuperMove = 1
ownpal = 1

[State 1250, Mini-Explods.Helper]
type = Helper
trigger1 = time = 0
name = "Mini-Explosions"
stateno = 13000
postype = p1
pos = -1, 0
keyctrl = 0
ownpal = 0
id = 13000

[State 1250, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = Hard
damage    = Floor(65*(IfElse(Var(1)=0,1,1.25))),17
getpower = 0
guardflag = MA
pausetime = 10,12
sparkno = -1
sparkxy = 0,0
hitsound   = -1
guardsound = 6,0
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -7,-5
air.velocity = -6,-5
fall = 1
air.fall.recover = 0
envshake.time = 5
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 1250, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Sonic Kick Start
[Statedef 1300]
type    = A     
movetype= A     
physics = A     
juggle  = 0     
velset = 0,0
ctrl = 0  
sprpriority = 2
anim = IfElse(Var(1)=0,1300,4300)

[State 1300, Pull]
type = VelSet
trigger1 = 1
y = 0
x = 0

[State 1300, 6]
type = ChangeState
trigger1 = animtime = 0
value = 1301

;---------------------------------------------------------------------------
;Sonic Kick End
[Statedef 1301]
type    = A     
movetype= A     
physics = A     
juggle  = 0     
velset = 0,0
ctrl = 0  
poweradd = 60
sprpriority = 2
anim = IfElse(Var(1)=0,1301,4301)

[State 1301, SparkleB.PosVarX]
type = VarRandom
trigger1 = Time >= 1 && Time <= 7
v = 14
range = 32,39

[State 1301, SparkleB.PosVarY]
type = VarRandom
trigger1 = Time >= 1 && Time <= 7
v = 15
range = -19,-26

[State 1301, SparkleB.Helper]
type = Helper
trigger1 = Time >= 1 && Time <= 7
name = "SparkleB"
stateno = 11122
postype = p1
pos = Var(14), Var(15)
keyctrl = 0
ownpal = 1
id = 11130
size.xscale = IfElse(Random <= 499,0.2,0.3)
size.yscale = IfElse(Random <= 499,0.2,0.3)

[State 1301, BlueFlame]
type = Explod
trigger1 = time = 1
Anim = 12200
Pos = 37, -19
Id = 12200
sprpriority = 3
removeongethit = 0
removetime = -1
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1

[State 1301, RemoveExplod]
type = RemoveExplod
trigger1 = movecontact
ID = 12200

[State 1301, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 205, 0

[State 1301, AfterImage]
type = AfterImage
trigger1 = time = 4
time = 10
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,256,256
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 1301, Pull]
type = VelSet
trigger1 = time >= 2
y = 11*IfElse(Var(1)=0,1,1.2)
x = 7*IfElse(Var(1)=0,1,1.1)

[State 1301, 1]
type = HitDef
trigger1 = time = 0
attr = A, SA
damage    = Floor(60*(IfElse(Var(1)=0,1,1.25))),12
hitflag = MAFD
guardflag = MA
pausetime = 10,12
sparkno = S9003
sparkxy = -29,-23
hitsound   = S304,0
guardsound = 6,0
animtype = Back
ground.type = High
ground.slidetime = 12
ground.hittime  = 23
ground.velocity = -5,5   
air.velocity = -5,5
fall = 1
fall.recover = 0
envshake.time = 5
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 1301, 6]
type = ChangeState
trigger1 = movecontact
value = 1302


[State 1301, 6]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 1301, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y = 0
value = 52

;---------------------------------------------------------------------------
; Power-Dive Kick 3
;-=You got F'ed in the A!=-
[Statedef 1302]
type    = A     
movetype= A     
physics = A     
juggle  = 0     
ctrl = 0  
velset = 0,0
sprpriority = 2
anim = IfElse(Var(1)=0,1302,4302)

[State 1302, 0] ;Gravity
type = VelAdd
trigger1 = AnimElem = 1
y = -5
x = -3

[State 1302, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 0
;---------------------------------------------------------------------------
;Teleport Elbow Bash - Teleport part
[Statedef 1550]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
facep2 = 1
poweradd = -200
anim = 1550

[State 1550, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1550, NotHitBy]
type = NotHitBy
Trigger1 = Time = 0
value = SCA
time = 1

[State 1560, Turn]
type = null;Turn
Trigger1 = time = 1

[State 1550, Teleport1]
type = PosAdd
Trigger1 = time = 1
x = (p2bodydist X)+40
y = (p2bodydist Y)
;------------------------------------------------
[State 1550, AfterImageStill1]
type = Explod
triggerall = prevstateno = [1500,1520]
Trigger1 = time = 0
anim = 1555+Var(24)
removetime = 25
velocity = 0
offset = 0
trans = add

[State 1550, AfterImageLeft1]
type = Explod
triggerall = prevstateno = [1500,1520]
Trigger1 = time = 0
anim = 1555+Var(24)
removetime = 25
velocity = -1.5
offset = 0
trans = add

[State 1550, AfterImageRight1]
type = Explod
triggerall = prevstateno = [1500,1520]
Trigger1 = time = 0
anim = 1555+Var(24)
removetime = 25
velocity = 1.5
offset = 0
trans = add


[State 1550, AfterImageStill2]
type = Explod
triggerall = (prevstateno = [240,250]) || prevstateno = 1561
Trigger1 = time = 0
anim = 1565
removetime = 25
velocity = 0
offset = 0
trans = add

[State 1550, AfterImageLeft2]
type = Explod
triggerall = (prevstateno = [240,250]) || prevstateno = 1561
Trigger1 = time = 0
anim = 1565
removetime = 25
velocity = -1.5
offset = 0
trans = add

[State 1550, AfterImageRight2]
type = Explod
triggerall = (prevstateno = [240,250]) || prevstateno = 1561
Trigger1 = time = 0
anim = 1565
removetime = 25
velocity = 1.5
offset = 0
trans = add
;----------------------------------------------

[State 1550, PlaySND]
type = PlaySnd
Trigger1 = time = 0
value = 2200,1

[State 1550, Next]
type = ChangeState
Trigger1 = time = 1
value = 1551
ctrl = 1

[State 1550, ScreenBounderies]
type = null;ScreenBound
Trigger1 = Time = 0
Trigger2 = Time >= 10
Trigger3 = AnimElem = 2
Trigger4 = AnimElem = 3
Trigger5 = AnimElem = 4
Trigger6 = AnimTime = 0
value = 0
movecamera = 1,1
;---------------------------------------------------------------------------
; Teleport Elbow Bash-Reappear/Hit
[Statedef 1551]
type    = A 
movetype= A
physics = A 
juggle  = 0 
velset = 0,0 
ctrl = 0   
poweradd = 0                   
sprpriority = -2                 
anim = 1551

[State 1551, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1551, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 1551, FlightDetection]
type = VarSet
trigger1 = prevstateno = 3100
v = 21
value = 1

[State 1551, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 205, 0

[State 1551, Voice]
type = PlaySnd
trigger1 = Time = 1 && random >= 700
value = 102, 0

[State 1551, HitDef]
type = HitDef
trigger1 = Time = 0
attr = A, ST
damage = 30
guardflag = HA
pausetime = 16,16
sparkno = S9003
sparkxy = -23,-5
hitsound   = S304,0
guardsound = 6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 16
ground.velocity = -4,14
air.velocity = -4,14
fall = 1
fall.recover = 0
;fall.xvelocity = 0
;fall.yvelocity = -8
down.bounce = 1
envshake.time = 16
envshake.freq = 140
envshake.ampl = -4
envshake.phase = 90

[State 1551, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 1552
ctrl = 1
;---------------------------------------------------------------------------
; Teleport Elbow Bash-Fall
[Statedef 1552]
type    = A 
movetype= I
physics = A 
juggle  = 0 
velset = 0,0 
ctrl = 0   
poweradd = 0                   
sprpriority = 2                 
;anim = 1552

[State 1552, VelSet]
type = VelSet
trigger1 = pos y > 0
x = 0
y = 0

[State 1551, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1552

[State 1552, FlightDetection]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 1552, End]
type = ChangeState
trigger1 = pos y = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Teleport Kick Up - Teleport part
[Statedef 1560]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
facep2 = 1
poweradd = -200
anim = 1550

[State 1560, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1560, NotHitBy]
type = NotHitBy
Trigger1 = Time = 0
value = SCA
time = 1

[State 1560, Teleport]
type = PosAdd
Trigger1 = time = 1
x = (p2bodydist X)+150
y = (p2bodydist Y)-5

[State 1560, Turn]
type = Turn
Trigger1 = time = 1

;------------------------------------------------
[State 1560, AfterImageStill1]
type = Explod
triggerall = prevstateno = [1500,1520]
Trigger1 = time = 0
anim = 1555+Var(24)
removetime = 25
velocity = 0
offset = 0
trans = add

[State 1560, AfterImageLeft1]
type = Explod
triggerall = prevstateno = [1500,1520]
Trigger1 = time = 0
anim = 1555+Var(24)
removetime = 25
velocity = -1.5
offset = 0
trans = add

[State 1560, AfterImageRight1]
type = Explod
triggerall = prevstateno = [1500,1520]
Trigger1 = time = 0
anim = 1555+Var(24)
removetime = 25
velocity = 1.5
offset = 0
trans = add


[State 1560, AfterImageStill2]
type = Explod
triggerall = prevstateno = [240,250]
Trigger1 = time = 0
anim = 1565
removetime = 25
velocity = 0
offset = 0
trans = add

[State 1560, AfterImageLeft2]
type = Explod
triggerall = prevstateno = [240,250]
Trigger1 = time = 0
anim = 1565
removetime = 25
velocity = -1.5
offset = 0
trans = add

[State 1560, AfterImageRight2]
type = Explod
triggerall = prevstateno = [240,250]
Trigger1 = time = 0
anim = 1565
removetime = 25
velocity = 1.5
offset = 0
trans = add
;-------------------------------------------------

[State 1560, PlaySND]
type = PlaySnd
Trigger1 = time = 0
value = 2900,0

[State 1560, Next]
type = ChangeState
Trigger1 = time = 1
value = 1561
ctrl = 1

[State 1560, ScreenBounderies]
type = null;ScreenBound
Trigger1 = Time = 0
Trigger2 = Time >= 10
Trigger3 = AnimElem = 2
Trigger4 = AnimElem = 3
Trigger5 = AnimElem = 4
Trigger6 = AnimTime = 0
value = 0
movecamera = 1,1
;---------------------------------------------------------------------------
; Kick Up-Reappear/Hit
[Statedef 1561]
type    = A 
movetype= A
physics = A 
juggle  = 0 
velset = 0,0 
ctrl = 0   
poweradd = 0                   
sprpriority = 2                 
;anim = 1561

[State 1560, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1561, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 1561, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1561

[State 1561, FlightDetection]
type = VarSet
trigger1 = prevstateno = 3100
v = 21
value = 1

[State 1561, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 1561, HitDef]
type = HitDef
trigger1 = Time = 0
attr = A, ST
damage = 30
guardflag = HA
pausetime = 16,16
sparkno = S11020
sparkxy = -23,-5
hitsound   = S306,0
guardsound = 6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 16
ground.velocity = -2,-10
air.velocity = -2,-10
fall = 1
fall.recover = 0
envshake.time = 16
envshake.freq = 140
envshake.ampl = -4
envshake.phase = 90

[State 1561, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 1562
ctrl = 1
;---------------------------------------------------------------------------
; Teleport Kick Up-Fall
[Statedef 1562]
type    = A 
movetype= I
physics = A 
juggle  = 0 
velset = 0,0 
ctrl = 0   
poweradd = 0                   
sprpriority = 2                 
;anim = 1562

[State 1562, VelSet]
type = VelSet
trigger1 = pos y > 0
x = 0
y = 0

[State 1562, Animation]
type = ChangeAnim
triggerall = prevstateno != 4100
trigger1 = time = 0
value = 1562

[State 1562, FlightDetection]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 1562, End]
type = ChangeState
trigger1 = pos y = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------
; Charge Power Start
[Statedef 1700]
type = S
physics = S
velset = 0,0
ctrl = 0
anim = IfElse(Var(1)=0,1700,4700)

[State 1700, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1700, Limit]
type = ChangeState
trigger1 = Power >= 3000
value = 0
ctrl = 1

[State 1700, Next]
type = ChangeState
trigger1 = AnimTime = 0
value = 1701
ctrl = 1
;-------------------------------------------------------------------------
; Charge Power Charging
[Statedef 1701]
type = S
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = IfElse(Var(1)=0,1701,4701)

[State 192, EnvShake]
type = EnvShake
triggerall = var(1) = 1
trigger1 = timemod = 4,0
time = 4
ampl = -2

[State 1701, Whirlwind]
type = Explod
trigger1 = time = 0
Anim = ifelse(var(1) = 1, 15510,15500)
Pos = 0, 0
Id = 15500
sprpriority = 4
removeongethit = 0
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal =1
scale = 0.6,0.6

[State 1250, Dust1]
type = Explod
triggerall = pos y = 0 
trigger1 = time = 0 && var(1) = 0
trigger2 = timemod = 9,0 && var(1) = 1
Anim = 15000
Pos = -40, 0
Id = 15000
sprpriority = -1
removeongethit = 0
Postype = p1
velocity = -1, 0
;Bindtime = -1
SuperMove = 1
ownpal = 1

[State 1250, Dust2]
type = Explod
triggerall = pos y = 0
trigger1 = time = 0 && var(1) = 0
trigger2 = timemod = 9,0 && var(1) = 1
Anim = 15001
Pos = 40, 0
Id = 15001
sprpriority = -1
removeongethit = 0
Postype = p1
velocity = 1, 0
;Bindtime = -1
SuperMove = 1
ownpal = 1

[State 1701, VarSet1]
type = VarSet
Triggerall = Pos Y < 0
Trigger1 = Var(2) = 2
Trigger1 = Vel Y >= 2.4
Trigger2 = Time = 0
v = 2
value = 1

[State 1701, VarSet2]
type = VarSet
Trigger1 = Pos Y < 0
Trigger1 = Var(2) = 1
Trigger1 = Vel Y <= -2.4
v = 2
value = 2

[State 1701, FloatUp]
type = VelAdd
Trigger1 = Pos Y < 0
Trigger1 = Var(2) = 1
y = -0.1

[State 1701, FloatDown]
type = VelAdd
Trigger1 = Pos Y < 0
Trigger1 = Var(2) = 2
y = 0.1

[State 1701, Stop.Charge]
type = VarSet
Triggerall = Pos Y < 0
trigger1 = (command != "hold_a") && (command != "hold_b")
v = 2
value = 0

[State 1701, Voice-(Charge)]
type = PlaySnd
trigger1 = Time = 1
value = 50, 0

[State 1700, PlaySND]
type = PlaySnd
trigger1 = Time = 1
value = 1700, 0

[State 1700, SSjAura]
type = Explod
triggerall = var(1) > 0
trigger1 = timemod = 9,0
Anim = 9065
Pos = 7,4
Id = 9065
sprpriority = 3
removeongethit = 1
removetime = 9
bindtime = -1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.4, 0.6

[State 1700, BlueRing]
type = Explod
triggerall = var(1) > 0
triggerall = pos y = 0
trigger1 = timemod = 13,0
Anim = 9070
Pos = 6, 0
Id = 9070
sprpriority = -3
removeongethit = 1
removetime = 13
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
scale = 0.8,0.8

[State 1701, NormalAura]
type = Explod
triggerall = var(1) = 0
trigger1 = timemod = 9,0
Anim = 9060
Pos = -2,0
Id = 9060
sprpriority = 3
removeongethit = 1
removetime = 9
bindtime = -1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.4, 0.5

[State 1701, NormalBlueRing]
type = Explod
triggerall = var(1) = 0
triggerall = pos y = 0
trigger1 = timemod = 13,0
Anim = 9070
Pos = 0, 0
Id = 9070
sprpriority = -3
removeongethit = 1
removetime = 13
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
scale = 0.8,0.8

[State 2203, PushBack.Helper]
type = Helper
triggerall = var(1) = 1
trigger1 = TimeMod = 7,0
name = "PushBack"
stateno = 12651
postype = p1
pos = -10, 0
keyctrl = 0
ownpal = 1
id = 12651

[State 2203, PushFwd.Helper]
type = Helper
triggerall = var(1) = 1
trigger1 = TimeMod = 7,0
name = "PushStill"
stateno = 12652
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 12652

[State 2203, PushFwd.Helper]
type = Helper
triggerall = var(1) = 1
trigger1 = TimeMod = 7,0
name = "PushFwd"
stateno = 12650
postype = p1
pos = 10, 0
keyctrl = 0
ownpal = 1
id = 12650

[State 1701, AuraSND]
type = PlaySnd
trigger1 = TimeMod = 20,0
value = 1700,1

[state 1701, ColorFX]
type = PalFX
trigger1 = Time > 0
trigger1 = TimeMod = 12,0
time = 2
add = 64,64,64

[State 1701, PowerAdd]
type = PowerAdd
trigger1 = 1
value = IfElse(Var(1)=0,8,4)

[State 1701, LifeAdd]
type = LifeAdd
trigger1 = TimeMod = 20,0
value = 1

[State 1701, RemoveAura]
Type = RemoveExplod
trigger1 = stateno != 1701
ID = 9060

[State 1701, Stop.Next]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = command != "hold_a" && command != "hold_x"
trigger2 = Power >= 3000
value = 1702
ctrl = 0
;-------------------------------------------------------------------------
; Charge Power Over
[Statedef 1702]
type = S
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = IfElse(Var(1)=0,1703,4703)

[State 1702, RemoveAura]
Type = RemoveExplod
trigger1 = AnimElem = 1
ID = 9060

[State 4000, AuraEndSND]
type = PlaySnd
triggerall = power >= 3000
trigger1 = time = 0
value = 1702,0

[State 1702, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Buster Cannon
[Statedef 1800]
type    = S
movetype= A
physics = S
juggle  = 4
PowerAdd = -10
velset = 0,0
ctrl = 0
anim = IfElse(Var(1)=0,1800,4800)

[State 1800, Whirlwind]
type = Explod
triggerall = var(1) = 1
trigger1 = time = 0
Anim = 15510
Pos = 3, 0
Id = 15510
sprpriority = 3
removeongethit = 0
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal =1
scale = 0.5,0.5

[State 1800, Voice]
type = PlaySnd
trigger1 = time = 1
value = 2000,0

[State 1800, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 0
anim = -1
sound = S1800,0
pos = -5,-33
darken = 0
unhittable = 1

[State 1800, Spark1]
type = Explod
trigger1 = time = 0
Anim = 11000
Pos = -26, -73
Id = 11000
sprpriority = 3
removeongethit = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 1,1

[State 1800, Spark2]
type = Explod
trigger1 = time = 0
Anim = 11001
Pos = 28, -73
Id = 11001
sprpriority = 3
removeongethit = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 1,1

[State 1800, Ring]
type = Explod
triggerall = pos y = 0
trigger1 = time = 0
Anim = 9070
Pos = 0, 0
Id = 9070
sprpriority = -3
removeongethit = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.9,0.9

[State 1800, VarSet]
type = Varset
trigger1 = time = 0
v = 13
value = -200

[State 1800, VarAdd]
type = VarAdd
trigger1 = time >= 1 && Var(13) < 0
v = 13
value = 5

[State 1800, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(13),Var(13),Var(13)

[State 1800, PowerAdd]
Type = PowerAdd
Trigger1 = time >= 1
value = -18

[State 1800, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1800, Voice]
type = PlaySnd
trigger1 = time = 0
value = 4,0
volume = 255

[State 1800, Next-Straight]
type = ChangeState
trigger1 = animtime = 0
value = 1801
ctrl = 1
;---------------------------------------------------------------------------
;BUster Cannon Fire
[Statedef 1801]
type    = S
movetype= A
physics = S
velset = 0,0,0
ctrl = 0
anim = IfElse(Var(1)=0,1801,4801)

[State 1801, EnvShake]
type = EnvShake
triggerall = var(1) = 1
trigger1 = Time = 0
time = 22
ampl = -3

[State 1801, PlaySND]
type = PlaySnd
trigger1 = time = 0
value = 1801,0

[State 1801, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1801, Dust]
type = Explod
triggerall = pos y = 0
trigger1 = time = 1
Anim = 15100
Pos = -36, 0
Id = 15100
sprpriority = 2
removeongethit = 0
Postype = p1
;Bindtime = -1
SuperMove = 1

[State 1801, Ring]
type = Explod
trigger1 = time = 1
Anim = 11200
Pos = 11, -53
Id = 11200
sprpriority = 2
removeongethit = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.65, 0.65

[State 1801, BusterCannon.Helper]
type = Helper
trigger1 = Time = 1
name = "BusterCannon"
stateno = 12400
postype = p1
pos = -8, -54
keyctrl = 0
ownpal = 0
id = 12400
removeongethit = 1

[State 1801, Tired]
type = ChangeState
trigger1 = Time = 40 && power = 0
value = 4001
ctrl = 1

[State 1801, End]
type = ChangeState
trigger1 = Time = 40 &&  power > 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Buster Cannon Chain
[Statedef 1805]
type    = S
movetype= A
physics = S
juggle  = 4
PowerAdd = -1000
velset = 0,0
ctrl = 0
anim = IfElse(Var(1)=0,1805,4805)

[State 1805, Spark1]
type = Explod
trigger1 = time = 0
Anim = 11000
Pos = -26, -73
Id = 11000
sprpriority = 3
removeongethit = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 1,1

[State 1805, Spark2]
type = Explod
trigger1 = time = 0
Anim = 11001
Pos = 28, -73
Id = 11001
sprpriority = 3
removeongethit = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 1,1

[State 1805, Ring]
type = Explod
triggerall = pos y = 0
trigger1 = time = 0
Anim = 9070
Pos = 0, 0
Id = 9070
sprpriority = -3
removeongethit = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.9,0.9

[State 1805, Whirlwind]
type = Explod
triggerall = var(1) = 1
trigger1 = time = 0
Anim = 15510
Pos = 3, 0
Id = 15510
sprpriority = 4
removeongethit = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.5,0.5

[State 1805, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 20
anim = -1
sound = S1800,0
pos = -5,-33
darken = 1
unhittable = 1

[State 1805, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1805, Next-Straight]
type = ChangeState
trigger1 = time = 1
value = 1801
ctrl = 1
;---------------------------------------------------------------------------
;Finish Buster
[Statedef 1900]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = IfElse(Var(1)=0,1900,4900)

[State 1900, Voice]
type = PlaySnd
trigger1 = time = 1
value = 2300,1

[State 4000, Whirlwind]
type = Explod
triggerall = var(1) = 1
trigger1 = time = 0
Anim = 15510
Pos = 3, 0
Id = 15510
sprpriority = 3
removeongethit = 0
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal =1
scale = 0.5,0.5

[State 1900, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 0
anim = S11000
sound = S1800,0
pos = -2,-84
unhittable = 1

[State 1900, Ring]
type = Explod
triggerall = pos y = 0
trigger1 = time = 0
Anim = 9070
Pos = 0, 0
Id = 9070
sprpriority = -3
removeongethit = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.9,0.9

[State 1900, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -200

[State 1900, VarAdd]
type = VarAdd
trigger1 = time >= 1 && Var(12) < 0
v = 12
value = 5

[State 1900, BGColorFX]
type = BGPalFX
trigger1 = Time >= 0
time = 1
add = Var(12),Var(12),Var(12)

[State 1900, PowerAdd]
Type = PowerAdd
Trigger1 = time = [1,50]
value = -20

[State 1900, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1900, End]
type = ChangeState
triggerall = var(39) = 1
trigger1 = Time >= 50
value = 1901
ctrl = 1

[State 1900, End]
type = ChangeState
triggerall = var(39) = 0
trigger1 = Time >= 50 && ((command != "hold_x" || command != "hold_y") && (command != "hold_y" || command != "hold_z") && (command != "hold_x" || command != "hold_z"))
value = 1901
ctrl = 1
;---------------------------------------------------------------------------
;Finish Buster
[Statedef 1901]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = IfElse(Var(1)=0,1901,4901)

[State 1901, EnvShake]
type = EnvShake
triggerall = var(1) = 1
trigger1 = Time = 0
time = 22
ampl = -3

[State 1901, Sound]
type = PlaySnd
trigger1 = time = 3
value = 401,0

[State 1901, Dust]
type = Explod
triggerall = pos y = 0
trigger1 = time = 1
Anim = 15100
Pos = -32, 0
Id = 15100
sprpriority = 2
removeongethit = 0
Postype = p1
;Bindtime = -1
SuperMove = 1

[State 1901, FinishBuster.Forward]
type = Helper
trigger1 = Time = 3 && ((command != "holdup" && command != "holddown") || (command = "holdup" && command = "holddown")) && var(39) = 0
trigger2 = time = 3 && (p2bodydist y > -80 && p2bodydist y < 30) && var(39) = 1
name = "FinishBusterFwd"
stateno = 12500
postype = p1
pos = 40, -50
keyctrl = 0
ownpal = 1
id = 12500
size.xscale = 0.9
size.yscale = 0.9

[State 1901, FinishBuster.Up]
type = Helper
trigger1 = Time = 3 && (command = "holdup" && command != "holddown") && var(39) = 0
trigger2 = Time = 3 && (p2bodydist y <= -80) && var(39) = 1
name = "FinishBusterUp"
stateno = 12510
postype = p1
pos = 40, -70
keyctrl = 0
ownpal = 1
id = 12510
size.xscale = 0.9
size.yscale = 0.9

[State 1901, FinishBuster.Down]
type = Helper
trigger1 = Time = 3 && (command = "holddown" && command != "holdup") && var(39) = 0
trigger2 = time = 3 && (p2bodydist y >= 30) && var(39) = 1
name = "FinishBusterDown"
stateno = 12520
postype = p1
pos = 40, -30
keyctrl = 0
ownpal = 1
id = 12520
size.xscale = 0.9
size.yscale = 0.9

[State 1901, Tired]
type = ChangeState
trigger1 = AnimTime = 0 && power = 0
value = 5300
ctrl = 1

[State 1901, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodydist < -1 && BackEdgeBodydist > -30)
movecamera = 0,0
value	= 0

[State 1901, End]
type = ChangeState
trigger1 = Time = 60
value	= IfElse(BackEdgeBodydist >= 0, 0, 100)
ctrl = 1
;---------------------------------------------------------------------------
;Finish Buster Chain
[Statedef 1905]
type    = S
movetype= A
physics = S
poweradd= -1000
ctrl = 0
velset = 0
anim = IfElse(Var(1)=0,1905,4905)

[State 1905, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 20
anim = S11000
sound = S1800,0
pos = -2,-84
unhittable = 1
darken = 1

[State 1905, Ring]
type = Explod
triggerall = pos y = 0
trigger1 = time = 0
Anim = 9070
Pos = 0, 0
Id = 9070
sprpriority = -3
removeongethit = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.9,0.9

[State 1905, Whirlwind]
type = Explod
triggerall = var(1) = 1
trigger1 = time = 0
Anim = 15510
Pos = 3, 0
Id = 15510
sprpriority = 4
removeongethit = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.5,0.5

[State 1905, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1905, VarSet]
type = Varset
trigger1 = time = 0
v = 13
value = 0

[State 1905, End]
type = ChangeState
trigger1 = Time >= 1 && ((command != "hold_x" || command != "hold_y") && (command != "hold_y" || command != "hold_z") && (command != "hold_x" || command != "hold_z"))
value = 1901
ctrl = 1
;---------------------------------------------------------------------------
;Burning Attack-Zanzoken Start
;-=Peek-a-boo!=-
[Statedef 2200]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
facep2 = 1
poweradd = 0
anim = 4601

[State 2200, NotHitBy]
type = NotHitBy
Trigger1 = Time = 0
value = SCA
time = 25

[State 2200, AfterImage]
type = AfterImage
Trigger1 = AnimElem = 1
time = 15
trans = add
palfx = 200,200,200

[State 2200, Teleport]
type = Posset
Trigger1 = AnimElem = 2
x = 0
y = -120

[State 2200, Turn]
type = Turn
Trigger1 = P2Dist X < 0

[State 2200, Border1]
type = PosAdd
Trigger1 =  Pos Y <= 1
Trigger1 =  Pos Y >= 100
x = 0
y = -70

[State 2200, GroundBorder]
type = PosSet
triggerall = Pos Y > 0
trigger1 = MoveType = A
trigger2 = MoveType = I
trigger2 = StateNo != 50
y = 0

[State 2200, AfterImageStill]
type = Explod
Trigger1 = AnimElem = 1
anim = 2201
removetime = 30
velocity = 0
offset = 0

[State 2200, AfterImageLeft]
type = Explod
Trigger1 = AnimElem = 1
anim = 2201
removetime = 25
velocity = -1
offset = 0

[State 2200, AfterImageRight]
type = Explod
Trigger1 = AnimElem = 1
anim = 2201
removetime = 25
velocity = 1
offset = 0

[State 2200, Next]
type = ChangeState
Trigger1 = AnimTime = 0
value = 2201
ctrl = 1

[State 2200, ScreenBounderies]
type = ScreenBound
Trigger1 = Time = 0
Trigger2 = Time >= 10
Trigger3 = AnimElem = 2
Trigger4 = AnimElem = 3
Trigger5 = AnimElem = 4
Trigger6 = AnimTime = 0
value = 0
movecamera = 1,1

[State 2200, PlaySND]
type = PlaySnd
Trigger1 = AnimElem = 2
value = 2200,1

;----------------------------------------------------------------------------------------
;Burning Attack-Zanzoken Reapear
[Statedef 2201]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
facep2 = 1
poweradd = 0
anim = 4600

[State 2201, AfterImage]
type = AfterImage
Trigger1 = AnimElem = 1
time = 15
trans = add
palfx = 256,256,256

[State 2201, PlaySND]
type = PlaySnd
Trigger1 = AnimElem = 2
value = 2200,1

[State 2201, End]
type = ChangeState
Trigger1 = AnimTime = 0
value = 2202
ctrl = 1
;----------------------------------------------------------------------------------------
;Burning Attack-Power Up
;-=My arms move faster than yours ever will! Booya!=-
[Statedef 2202]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
facep2 = 1
poweradd = 0
anim = 4602

[State 2202, AfterImage]
type = AfterImage
Trigger1 = timemod = 16,0
time = 16
trans = add
palfx = 256,256,256

[State 2202, AfterImage]
type = null;AfterImage
Trigger1 = AnimElem = 2
Trigger2 = AnimElem = 4
Trigger3 = AnimElem = 6
Trigger4 = AnimElem = 8
Trigger5 = AnimElem = 10
Trigger6 = AnimElem = 12
Trigger7 = AnimElem = 14
Trigger8 = AnimElem = 16
Trigger9 = AnimElem = 18
Trigger10 = AnimElem = 20
Trigger11 = AnimElem = 22
Trigger12 = AnimElem = 24
Trigger13 = AnimElem = 26
time = 8
trans = add
palfx = 256,256,256

[State 2202, PlaySND1]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 6
trigger3 = AnimElem = 10
trigger4 = AnimElem = 14
trigger5 = AnimElem = 18
trigger6 = AnimElem = 22
;trigger7 = AnimElem = 26
value = 2100,1

[State 2202, PlaySND2]
type = PlaySnd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 8
trigger3 = AnimElem = 12
trigger4 = AnimElem = 16
trigger5 = AnimElem = 20
trigger6 = AnimElem = 24
value = 2100,2

[State 2202, PlaySND3]
type = PlaySnd
trigger1 = AnimElem = 26
value = 2100,3

[State 2202, PushBack.Helper]
type = Helper
trigger1 = TimeMod = 7,0
name = "PushBack"
stateno = 12651
postype = p1
pos = -10, 0
keyctrl = 0
ownpal = 1
id = 12651

[State 2202, PushFwd.Helper]
type = Helper
trigger1 = TimeMod = 7,0
name = "PushStill"
stateno = 12652
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 12652

[State 2202, PushFwd.Helper]
type = Helper
trigger1 = TimeMod = 7,0
name = "PushFwd"
stateno = 12650
postype = p1
pos = 10, 0
keyctrl = 0
ownpal = 1
id = 12650

[State 2202, End]
type = ChangeState
Trigger1 = AnimTime = 0
value = 2203
ctrl = 1
;---------------------------------------------------------------------------
;Burning Attack-Energy Blast
;-=Like an atomic bomb...only not atomic...or a bomb...=-
[Statedef 2203]
type    = S
movetype= A
physics = S
poweradd= -3000
ctrl = 0
velset = 0
anim = 4603

[State 2203, Whirlwind]
type = Explod
trigger1 = time = 0
Anim = 15510
Pos = 8, 0
Id = 15510
sprpriority = 4
removeongethit = 1
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal =1
scale = 0.6,0.6

[State 2203, Dust1]
type = Explod
triggerall = time < 180
trigger1 = timemod = 14,0
Anim = 15000
Pos = -30, 120
Id = 15000
sprpriority = 4
removeongethit = 0
Postype = p1
;Bindtime = -1
SuperMove = 1
velocity = -3

[State 2203, Dust2]
type = Explod
triggerall = time < 180
trigger1 = timemod = 14,0
Anim = 15001
Pos = 25, 120
Id = 15001
sprpriority = 4
removeongethit = 0
Postype = p1
;Bindtime = -1
SuperMove = 1
velocity = 3

[State 2203, PlaySND]
type = PlaySnd
trigger1 = Time = 0
value = 1700, 0

[State 2203, SSjAura]
type = Explod
triggerall = time < 180
trigger1 = timemod = 9,0
Anim = 9065
Pos = 7,4
Id = 9065
sprpriority = 3
removeongethit = 1
removetime = 9
bindtime = -1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.4, 0.6

[State 2203, Voice]
type = PlaySnd
trigger1 = time = 0
value = 2100,4

[State 2203, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 2900, BurningAttackBall]
type = Explod
Trigger1 = time = 34
anim = 9030
velocity = 0
postype = p1
pos = 40, -30
sprpriority = 4

[State 2203, LaunchSND]
type = PlaySnd
trigger1 = time = 34
value = 2101,0
volume = 255

[State 2203, BurningAttack.Helper]
type = Helper
trigger1 = Time = 40
name = "BurningAttack"
stateno = 12600
postype = p1
pos = 40, -30
keyctrl = 0
ownpal = 1
id = 12600
size.xscale = 0.8
size.yscale = 0.8

[State 2203, AuraEndSND]
type = PlaySnd
trigger1 = time = 180
value = 1702,0

[State 2203, Revert]
type = VarSet
trigger1 = time = 180
v = 1
value = 0

[State 2203, PushBack.Helper]
type = Helper
triggerall = time < 60
trigger1 = TimeMod = 7,0
name = "PushBack"
stateno = 12651
postype = p1
pos = -10, 0
keyctrl = 0
ownpal = 1
id = 12651

[State 2203, PushFwd.Helper]
type = Helper
triggerall = time < 60
trigger1 = TimeMod = 7,0
name = "PushStill"
stateno = 12652
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 12652

[State 2203, PushFwd.Helper]
type = Helper
triggerall = time < 60
trigger1 = TimeMod = 7,0
name = "PushFwd"
stateno = 12650
postype = p1
pos = 10, 0
keyctrl = 0
ownpal = 1
id = 12650

[State 2203, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 5300
ctrl = 1
;---------------------------------------------------------------------------
;Zanzoken Start
;-=Peek-a-boo!=-
[Statedef 2900]
type    = S
movetype= I
physics = S
velset = 5,0
ctrl = 0
facep2 = 1
poweradd = -50
anim = 1500+IfElse(Var(1)=0,0,3000)

[State 2900, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H || BackEdgeBodydist > -30
movecamera = 0,0
value	= 0

[State 2900, NotHitBy]
type = NotHitBy
Trigger1 = Time = 0
value = SCA
time = 25

[State 2900, TeleportFwd]
type = PosAdd
Trigger1 = AnimElem = 5 || command = "holdfwd" && (command = "holdup" || command = "holddown")
x = 400
y = 0

[State 2900, TeleportFwdUp]
type = PosAdd
Trigger1 = AnimElem = 5
Trigger1 = command = "holdup" || (command = "holdup" && command = "holdfwd")
x = 400
y = -100

[State 2900, TeleportDownFwd]
type = PosAdd
Trigger1 = AnimElem = 5
Trigger1 = command = "holddown" || (command = "holddown" && command = "holdfwd")
x = 400
y = 100

[State 2900, Border1]
type = PosAdd
Trigger1 =  Pos Y <= 1
Trigger1 =  Pos Y >= 100
x = 0
y = -100

[State 2900, GroundBorder]
type = PosSet
triggerall = Pos Y > 0
trigger1 = MoveType = A
trigger2 = MoveType = I
trigger2 = StateNo != 50
y = 0

[State 2900, AfterImageStill]
type = Explod
Trigger1 = AnimElem = 1
anim = 1502+IfElse(Var(1)=0,0,3000)
removetime = 30
velocity = 0
offset = 0

[State 2900, AfterImageLeft]
type = Explod
Trigger1 = AnimElem = 1
anim = 1502+IfElse(Var(1)=0,0,3000)
removetime = 25
velocity = -1.5
offset = 0

[State 2900, AfterImageRight]
type = Explod
Trigger1 = AnimElem = 1
anim = 1502+IfElse(Var(1)=0,0,3000)
removetime = 25
velocity = 1.5
offset = 0

[State 2900, Next]
type = ChangeState
Trigger1 = animtime = 0
value = 2901
ctrl = 1

[State 2900, PlaySND]
type = PlaySnd
Trigger1 = AnimElem = 2
value = 2200,1

;----------------------------------------------------------------------------------------
;Zanzoken Reapear
;-=I see you!=-
[Statedef 2901]
type    = S
movetype= I
physics = S
velset = -5,0
ctrl = 0
facep2 = 1
poweradd = -50
anim = 1501+IfElse(Var(1)=0,0,3000)

[State 2901, VelSet]
type = Velset
Trigger1 = time = 0
y = 0

[State 2901, Turn]
type = Turn
Trigger1 = P2Dist X < 0

[State 2901, AfterImage]
type = AfterImage
Trigger1 = AnimElem = 1
time = 15
trans = add
palfx = 256,256,256

[State 2901, End]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Zanzoken Back Start
[Statedef 2905]
type    = S
movetype= I
physics = S
ctrl = 0
facep2 = 1
poweradd = -50
anim = 1505+IfElse(Var(1)=0,0,3000)

[State 2905, NotHitBy]
type = NotHitBy
Trigger1 = Time = 0
value = SCA
time = 25

[State 2905, VelSet]
type = VelSet
Trigger1 = 1
y = 0

[State 2905, TeleportBack]
type = PosAdd
Trigger1 = AnimElem = 4 && (command != "holdup" && command != "holddown")
x = -200
y = 100

[State 2905, TeleportBackUp]
type = PosAdd
Trigger1 = AnimElem = 4
Trigger1 = command = "holdup" || (command = "holdup" && command = "holdback")
x = -200
y = -100

[State 2905, TeleportBackDown]
type = PosAdd
Trigger1 = AnimElem = 4
Trigger1 = command = "holddown" || (command = "holddown" && command = "holdback")
x = -200
y = 100

[State 2905, Border1]
type = PosAdd
Trigger1 =  Pos Y <= 1
Trigger1 =  Pos Y >= 100
x = 0
y = -100

[State 2905, GroundBorder]
type = PosSet
triggerall = Pos Y > 0
trigger1 = MoveType = A
trigger2 = MoveType = I
trigger2 = StateNo != 50
y = 0

[State 2905, AfterImageStill]
type = Explod
Trigger1 = AnimElem = 1
anim = 1506+IfElse(Var(1)=0,0,3000)
removetime = 30
velocity = 0
offset = 0

[State 2905, AfterImageLeft]
type = Explod
Trigger1 = AnimElem = 1
anim = 1506+IfElse(Var(1)=0,0,3000)
removetime = 25
velocity = -1.5
offset = 0

[State 2905, AfterImageRight]
type = Explod
Trigger1 = AnimElem = 1
anim = 1506+IfElse(Var(1)=0,0,3000)
removetime = 25
velocity = 1.5
offset = 0

[State 2905, Next]
type = ChangeState
Trigger1 = animtime = 0
value = 2906
ctrl = 1

[State 2905, PlaySND]
type = PlaySnd
Trigger1 = AnimElem = 2
value = 2200,1

;----------------------------------------------------------------------------------------
;Zanzoken Back Reapear
[Statedef 2906]
type    = S
movetype= I
physics = S
velset = -5,0
ctrl = 0
facep2 = 1
poweradd = -50
anim = 1501+IfElse(Var(1)=0,0,3000)

[State 2906, AfterImage]
type = AfterImage
Trigger1 = AnimElem = 1
time = 15
trans = add
palfx = 256,256,256

[State 2906, End]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Zanzoken Air Back Start
[Statedef 2907]
type    = S
movetype= I
physics = S
ctrl = 0
facep2 = 1
poweradd = -50
anim = 1505+IfElse(Var(1)=0,0,3000)

[State 2905, NotHitBy]
type = NotHitBy
Trigger1 = Time = 0
value = SCA
time = 25

[State 2905, VelSet]
type = VelSet
Trigger1 = 1
y = 0

[State 2905, TeleportBack]
type = PosAdd
Trigger1 = AnimElem = 4 && (command != "holdup" && command != "holddown")
x = -200
y = 0

[State 2905, TeleportBackUp]
type = PosAdd
Trigger1 = AnimElem = 4
Trigger1 = command = "holdup" || (command = "holdup" && command = "holdback")
x = -200
y = -100

[State 2905, TeleportBackDown]
type = PosAdd
Trigger1 = AnimElem = 4
Trigger1 = command = "holddown" || (command = "holddown" && command = "holdback")
x = -200
y = 100

[State 2905, Border1]
type = PosAdd
Trigger1 =  Pos Y <= 1
Trigger1 =  Pos Y >= 100
x = 0
y = -100

[State 2905, GroundBorder]
type = PosSet
triggerall = Pos Y > 0
trigger1 = MoveType = A
trigger2 = MoveType = I
trigger2 = StateNo != 50
y = 0

[State 2905, AfterImageStill]
type = Explod
Trigger1 = AnimElem = 1
anim = 1506+IfElse(Var(1)=0,0,3000)
removetime = 30
velocity = 0
offset = 0

[State 2905, AfterImageLeft]
type = Explod
Trigger1 = AnimElem = 1
anim = 1506+IfElse(Var(1)=0,0,3000)
removetime = 25
velocity = -1.5
offset = 0

[State 2905, AfterImageRight]
type = Explod
Trigger1 = AnimElem = 1
anim = 1506+IfElse(Var(1)=0,0,3000)
removetime = 25
velocity = 1.5
offset = 0

[State 2905, Next]
type = ChangeState
Trigger1 = animtime = 0
value = 2908
ctrl = 1

[State 2905, PlaySND]
type = PlaySnd
Trigger1 = AnimElem = 2
value = 2200,1

;----------------------------------------------------------------------------------------
;Zanzoken Back Reapear
[Statedef 2908]
type    = S
movetype= I
physics = S
velset = -5,0
ctrl = 0
facep2 = 1
poweradd = -50
anim = 1501+IfElse(Var(1)=0,0,3000)

[State 2906, VelSet]
type = VelSet
trigger1 = time = 0
y = 0

[State 2906, AfterImage]
type = AfterImage
Trigger1 = AnimElem = 1
time = 15
trans = add
palfx = 256,256,256

[State 2906, End]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Fly-Lift off
[Statedef 3000]
type = A
movetype = I
physics = A
juggle  = 1
velset = 0, -8
poweradd= -50
ctrl = 0
anim = IfElse(Var(1)=0,1400,4400)

[State 3000, Super D]
type = AfterImage
trigger1 = Time = 0
trans = add1
TimeGap  = 1
FrameGap = 6
time = 20
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1;.9, .9, .9

[State 3000, PlaySND]
type = PlaySnd
trigger1 = AnimElem = 1
value = 250, 0
volume = 200

[State 3000, Next]
type = ChangeState
trigger1 = AnimTime = 0
value = 3100
ctrl = 1

;---------------------------------------------------------------------------
;Flying State
[Statedef 3100]
type = S
movetype = I
physics = N
ctrl = 0
velset = 0,0
anim = IfElse(Var(1)=0,1450,4450)

[State 3100, FlightVarSet]
type = VarSet
trigger1 = 1
v = 20
value = 1

[State 3100, VelSet]
type = VelSet
trigger1 = (command != "holdfwd" && command != "holdback" && command != "holdup" && command != "holddown"); || (var(39) = 1 && (p2bodydist Y > -20 || p2bodydist Y < 20 || p2bodydist X > 12))
trigger1 = Var(3) = 0
trigger2 = Pos Y < -405
x = 0
y = 0

[State 3100, StillAnim]
type = ChangeAnim
trigger1 = (command != "holdup" && command != "holddown"); || (var(39) = 1 && (p2bodydist Y > -20 || p2bodydist Y < 20 || p2bodydist X > 12))
trigger1 = Anim != 1450+IfElse(Var(1)=0,0,3000)
value = 1450+IfElse(Var(1)=0,0,3000)

[State 3100, VarSet]
type = VarSet
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
trigger1 = var(3) != 2
trigger2 = var(3) = 2
trigger2 = Vel Y >= 1.4
v = 3
value = 1

[State 3100, VarSet]
type = VarSet
trigger1 = Var(3) = 1
trigger1 = Vel Y <= -1.4
trigger2 = P2BodyDist Y > 405
trigger2 = Vel Y < 0
v = 3
value = 2

[State 3100, Up Velocity]
type = VelAdd
trigger1 = Var(3) = 1
y = -0.1

[State 3100, Down Velocity]
type = VelAdd
trigger1 = Var(3) = 2
y = 0.1

[State 3100,Stop Velocity]
type = VelSet
triggerall = Var(3) != 0
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
trigger3 = command = "holdup"
trigger4 = command = "holddown"
y = 0

[State 3100,VarReset]
type = VarSet
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
trigger3 = command = "holdup"
trigger4 = command = "holddown"
v = 3
value = 0

[State 3100, UpBorder]
type = PosSet
trigger1 = Pos Y < -405
y = -405

[State 3100, DownBordera]
type = PosAdd
trigger1 = P2BodyDist Y > 405
trigger1 = Vel Y < 0
y = 1

[State 3100, DownBorderb]
type = VelSet
trigger1 = P2BodyDist Y > 405
trigger1 = Vel Y < 0
y = 0

[State 3100, GoDown1]
type = VelAdd
trigger1 = (command = "holddown") || (var(39) = 1 && p2bodydist Y > -20)
y = 0.2

[State 3100,GoDown2]
type = VelSet
trigger1 = (command = "holddown" && Vel Y < 0) || (var(39) = 1 && p2bodydist Y > -20 && Vel Y < 0)
y = 0

[State 3100, GoDownAnim]
type = ChangeAnim
trigger1 = (Anim != 1454+IfElse(Var(1)=0,0,3000) && command = "holddown") || (var(39) = 1 && p2bodydist Y > -20)
value = 1454+IfElse(Var(1)=0,0,3000)

[State 3100, GoUp1]
type = VelAdd
trigger1 = (command = "holdup") || (var(39) = 1 && p2bodydist Y < 20)
y = -0.2

[State 3100,GoUp2]
type = VelSet
trigger1 = (command = "holdup" && Vel Y > 0) || (var(39) = 1 && p2bodydist Y < 20 && Vel Y > 0)
y = 0

[State 3100, GoUpAnim]
type = ChangeAnim
trigger1 = (Anim != 1453+IfElse(Var(1)=0,0,3000) && command = "holdup") || (var(39) = 1 && p2bodydist Y < 20)
value = 1453+IfElse(Var(1)=0,0,3000)

[State 3100, GoBack1]
type = VelAdd
trigger1 = (command = "holdback")
x = -0.2

[State 3100,GoBack2]
type = VelSet
trigger1 = (command = "holdback" && Vel X > 0)
x = 0

[State 3100, GoBackAnim]
type = ChangeAnim
trigger1 = (Anim != 1452+IfElse(Var(1)=0,0,3000) && command = "holdback")
;trigger2 = Var(30) = 1 && Anim != 1452+IfElse(Var(1)=0,0,3000) && p2bodydist X <= -50
value = 1452+IfElse(Var(1)=0,0,3000)

[State 3100, GoFwd1]
type = VelAdd
trigger1 = (command = "holdfwd") || (var(39) = 1 && p2bodydist X > 12)
x = 0.2

[State 3100,GoFwd2]
type = VelSet
trigger1 = (command = "holdfwd" && Vel X < 0) || (var(39) = 1 && p2bodydist X > 12  && Vel X < 0)
x = 0

[State 3100, GoFwdAnim]
type = ChangeAnim
trigger1 = (Anim != 1451+IfElse(Var(1)=0,0,3000) && command = "holdfwd")  || (var(39) = 1 && p2bodydist X > 12)
value = 1451+IfElse(Var(1)=0,0,3000)

;[State 3100, Guard]
;type = ChangeState
;trigger1 = p2movetype = A && command = "holdback"
;value = 130

[State 3100,Turn]
type = Turn
trigger1 = P2dist X < 0

[State 3100,Land]
type = ChangeState
trigger1 = Pos Y >= 0
value = 50
ctrl = 1

[State 3100,End]
type = ChangeState
trigger1 = Time > 2
trigger1 = command = "fly"
value = 3105
ctrl = 1

[State 3100,WinALose]
type = ChangeState
trigger1 = Win = 1
trigger2 = Lose = 1
value = 3105

;---------------------------------------------------------------------------
[Statedef 3105]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
anim = IfElse(Var(1)=0,1455,4455)

[State -2, UnFly]
type = VarSet
trigger1 = 1
v = 20
value = 0

[State 3105, PlaySND]
type = PlaySnd
trigger1 = time = 1
value = 3000, 0
volume = 255

[State 3105, 3]
type = VelAdd
trigger1 = AnimElem = 1
trigger1 = AnimElem <= 2
x = -0.3

[State 3105, 3]
type = VelSet
trigger1 = AnimElem = 3
x = 0

[State 210, 3]
type = ChangeState
trigger1 = animtime = 1
value = 3106

;---------------------------------------------------------------------------
[Statedef 3106]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0

[State 3106, 3]
type = PosSet
trigger1 = Vel Y = 0
y = 0

[State 3106, Anim]
type = ChangeAnim
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = IfElse(Var(1)=0,1456,4456)

[State 3106, 1]
type = Velset
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
y = 0

[State 3106, 3]
type = ChangeState
trigger1 = animtime = 1
value = 50
ctrl = 1
;---------------------------------------------------------------------------
; Transformation
[Statedef 4000]
type    = S 
movetype= A 
physics = S 
juggle  = 1 
velset = 0,0
ctrl = 0 
sprpriority = 2
anim = 3999

[State 4000, SetSSjTransStateVar]
type = VarSet
trigger1 = Time = 1
v = 34
value = 1

[State 4000, Whirlwind]
type = Explod
trigger1 = time = 20
Anim = 15513
Pos = 8, 0
Id = 15513
sprpriority = 3
removeongethit = 0
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal =1
scale = 1,1;0.5,0.5

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = time < 30
time = 1
add = -(time*2),-(time*2),-(time*2)

[State 4000, BGPalFX]
type = BGPalFX
trigger1 = time = 30
time = 189
add = -(time*2),-(time*2),-(time*2)

[State 4000, PalFX]
type = PalFX
trigger1 = Time > 30
time = 1
add = (time-30)*2,(time-30)*2,(time-30)*2

[State 4000, AuraSND]
type = PlaySnd
trigger1 = time = 30
value = 1700,0

[State 4000, AuraSND]
type = PlaySnd
triggerall = time >= 30
trigger1 = TimeMod = 20,0
value = 1700,1

[State 4000, SSjAura]
type = Explod
triggerall = time >= 30
trigger1 = timemod = 9,0
Anim = 9065
Pos = 7,4
Id = 9065
sprpriority = 3
removeongethit = 1
removetime = 9
bindtime = -1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.4, 0.6

[State 4000, BlueRing]
type = Explod
triggerall = time >= 30
triggerall = pos y = 0
trigger1 = timemod = 13,0
Anim = 9070
Pos = 6, 0
Id = 9070
sprpriority = -3
removeongethit = 1
removetime = 13
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
scale = 0.8,0.8

[State 4000, Dust1]
type = Explod
triggerall = time >= 30
triggerall = pos y = 0
trigger1 = timemod = 14,0
Anim = 15000
Pos = -40, 0
Id = 15000
sprpriority = 4
removeongethit = 0
Postype = p1
;Bindtime = -1
SuperMove = 1
velocity = -3
ownpal = 1

[State 4000, Dust2]
type = Explod
triggerall = time >= 30
triggerall = pos y = 0
trigger1 = timemod = 14,0
Anim = 15001
Pos = 35, 0
Id = 15001
sprpriority = 4
removeongethit = 0
Postype = p1
;Bindtime = -1
SuperMove = 1
velocity = 3
ownpal = 1

[State 4000, EnvShake];This EnvShake was swiped from FlowaGirl's WinKO effect. 
type = EnvShake       ;Why? Because I was lazy.
trigger1 = time = 60
time = 139
freq = 120
ampl = -3
phase = 90

[State 4000, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 4000, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = 1

[State 4000, AllPalFX]
type = AllPalFX
trigger1 = time > 210
time = 1
add = 255-(25*(time-210)),255-(25*(time-210)),255-(25*(time-210))

[State 4000, RemoveExplod]
type = RemoveExplod
trigger1 = time >= 219
ID = 9065

[State 4000, RemoveExplod]
type = RemoveExplod
trigger1 = time >= 219
ID = 9070

[State 4000, PowerDown.Helper]
type = Helper
trigger1 = Time = 219
name = "Handicap"
stateno = 19999
keyctrl = 0
id = 19999

[State 4000, AuraEndSND]
type = PlaySnd
trigger1 = time = 219
value = 1702,0

[State 4000, PushBack.Helper]
type = Helper
trigger1 = TimeMod = 7,0
name = "PushBack"
stateno = 12651
postype = p1
pos = -10, 0
keyctrl = 0
ownpal = 1
id = 12651

[State 4000, PushFwd.Helper]
type = Helper
trigger1 = TimeMod = 7,0
name = "PushStill"
stateno = 12652
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 12652

[State 4000, PushFwd.Helper]
type = Helper
trigger1 = TimeMod = 7,0
name = "PushFwd"
stateno = 12650
postype = p1
pos = 10, 0
keyctrl = 0
ownpal = 1
id = 12650

[State 4000, TransSND]
type = PlaySnd
trigger1 = time = 205
value = 4000,0
volume = 255

[State 4000, End]
type = ChangeState
trigger1 = Time = 220
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Reverse-Transformation
[Statedef 4001]
type    = S 
movetype= A 
physics = S 
juggle  = 1 
velset = 0,0
ctrl = 0 
sprpriority = 2

[State 4001, Whirlwind]
type = Explod
trigger1 = time = 0
Anim = 15510
Pos = -5, 0
Id = 15510
sprpriority = 3
removeongethit = 0
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal =1
scale = 0.5,0.5

[State 4001, AuraEndSND]
type = PlaySnd
trigger1 = time = 0
value = 1702,0

[State 4001, AllPalFX]
type = AllPalFX
trigger1 = time = 0
time = 5
add = 255,255,255

[State 4001, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = 0

[State 4001, Win1]
type = ChangeState
triggerall = prevstateno = 181
trigger1 = time = 0 && alive = 1
value = 181
ctrl = 1

[State 4001, Win2]
type = ChangeState
triggerall = prevstateno = 182
trigger1 = time = 0 && alive = 1
value = 182
ctrl = 1

[State 4001, Win3]
type = ChangeState
triggerall = prevstateno = 183
trigger1 = time = 0 && alive = 1
value = 183
ctrl = 1

[State 4001, Win4]
type = ChangeState
triggerall = prevstateno = 184
trigger1 = time = 0 && alive = 1
value = 184
ctrl = 1

[State 4001, End]
type = ChangeState
triggerall = prevstateno != 5110
trigger1 = time = 5 && alive = 1
value = 5300
ctrl = 1

[State 4001, End]
type = ChangeState
triggerall = prevstateno = 5110
trigger1 = time = 5 && alive = 1
value = 5110
ctrl = 1

[State 4001, End]
type = ChangeState
trigger1 = time = 5 && alive != 1
value = 5150
ctrl = 1
;---------------------------------------------------------------------------
; Quick Transformation
[Statedef 4005]
type    = S 
movetype= A 
physics = S 
juggle  = 1 
velset = 0,0
ctrl = 0 
sprpriority = 2
anim = 4005

[State 4005, Whirlwind]
type = Explod
trigger1 = time = 2
Anim = 15510
Pos = 8, 0
Id = 15510
sprpriority = 3
removeongethit = 0
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal =1
scale = 1,1;0.5,0.5

[State 4005, AuraSND]
type = PlaySnd
trigger1 = time = 12
value = 1700,0

[State 4005, AuraSND]
type = PlaySnd
triggerall = time >= 12
trigger1 = TimeMod = 20,0
value = 1700,1

[State 4005, SSjAura]
type = Explod
trigger1 = time = 12
Anim = 9065
Pos = 7,4
Id = 9065
sprpriority = 3
removeongethit = 1
removetime = 12
bindtime = -1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.4, 0.6

[State 4005, BlueRing]
type = Explod
triggerall = pos y = 0
trigger1 = time = 13
Anim = 9070
Pos = 6, 0
Id = 9070
sprpriority = -3
removeongethit = 1
removetime = 13
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
scale = 0.8,0.8

[State 4005, Dust1]
type = Explod
triggerall = pos y = 0
trigger1 = time = 12
Anim = 15000
Pos = -40, 0
Id = 15000
sprpriority = 4
removeongethit = 0
Postype = p1
;Bindtime = -1
SuperMove = 1
velocity = -3
ownpal = 1

[State 4005, Dust2]
type = Explod
triggerall = pos y = 0
trigger1 = time = 12
Anim = 15001
Pos = 35, 0
Id = 15001
sprpriority = 4
removeongethit = 0
Postype = p1
;Bindtime = -1
SuperMove = 1
velocity = 3
ownpal = 1

[State 4005, EnvShake];This EnvShake was swiped from FlowaGirl's WinKO effect. 
type = EnvShake       ;Why? Because I was lazy.
trigger1 = time = 12
time = 20
freq = 120
ampl = -3
phase = 90

[State 4005, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 4005, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = 1

[State 4005, AllPalFX]
type = AllPalFX
trigger1 = time > 12
time = 1
add = 255-(25*(time-12)),255-(25*(time-12)),255-(25*(time-12))

[State 4005, RemoveExplod]
type = RemoveExplod
trigger1 = time >= 12
ID = 9065

[State 4005, RemoveExplod]
type = RemoveExplod
trigger1 = time >= 12
ID = 9070

[State 4005, PowerDown.Helper]
type = Helper
trigger1 = Time = 12
name = "Handicap"
stateno = 19999
keyctrl = 0
id = 19999

[State 4005, AuraEndSND]
type = PlaySnd
trigger1 = time = 12
value = 1702,0

[State 4005, PushBack.Helper]
type = Helper
trigger1 = Time = 12
name = "PushBack"
stateno = 12651
postype = p1
pos = -10, 0
keyctrl = 0
ownpal = 1
id = 12651

[State 4005, PushFwd.Helper]
type = Helper
trigger1 = Time = 12
name = "PushStill"
stateno = 12652
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 12652

[State 4005, PushFwd.Helper]
type = Helper
trigger1 = Time = 12
name = "PushFwd"
stateno = 12650
postype = p1
pos = 10, 0
keyctrl = 0
ownpal = 1
id = 12650

[State 4005, TransSND]
type = PlaySnd
trigger1 = time = 12
value = 4000,0
volume = 255

[State 4005, End]
type = ChangeState
trigger1 = Time = 24
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Ki Shot Visuals
[StateDef 8100]
type = A
physics = N
movetype = A
velset = 10.5, 0
anim = 9025
ctrl = 0
sprpriority = 2

[State 8100, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 8100, AfterImage]
type = AfterImage
trigger1 = time = 2
time = 18
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,256,256
paladd = 0,0,0
timegap = 2
framegap = 2
trans = Add

[State 8100, DestroySelf]
type = DestroySelf
trigger1 = projcontact(9015) = 1
;---------------------------------------------------------------------------
;Sparkle Effect Helper-Gray-[State 100-102]
[StateDef 11100]
type = A
physics = N
movetype = A
velset = 0, 0
anim = IfElse(Parent,Var(1)=0,11100,11110)
ctrl = 0
sprpriority = 0

[State 11100, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 11100, SparkleG.VelVarX]
type = VarRandom
trigger1 = time = 0
v = 14
range = 1,3

[State 11100, VelAdd.X]
type = VelAdd
trigger1 = 1
x = -0.005

[State 11100, VelSet.X]
type = VelSet
trigger1 = Time = 1
x = Var(14)

[State 11100, VelSet.Y]
type = VelSet
trigger1 = Time = 1
y = Var(15)

[State 11100, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Sparkle Effect Helper-Gray[State 1100-1120]
[StateDef 11101]
type = A
physics = N
movetype = A
velset = 0, 0
anim = IfElse(Parent,Var(1)=0,11100,11110)
ctrl = 0
sprpriority = 0

[State 11101, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 11101, SparkleG.VelVarX]
type = VarRandom
trigger1 = time = 0
v = 14
range = 1,2

[State 11101, SparkleG.VelVarY]
type = VarRandom
trigger1 = Time = 0
v = 15
range = 1,2

[State 11101, VelAdd.X]
type = VelAdd
trigger1 = 1
x = -0.005

[State 11101, VelAdd.Y]
type = VelAdd
trigger1 = 1
y = 0.055

[State 11101, VelSet.X]
type = VelSet
trigger1 = Time = 1
x = Var(14)

[State 11101, VelSet.Y]
type = VelSet
trigger1 = Time = 1
y = Var(15)

[State 11101, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Sparkle Effect Helper-Gray[State 105]
[StateDef 11102]
type = A
physics = N
movetype = A
velset = 0, 0
anim = IfElse(Parent,Var(1)=0,11100,11110)
ctrl = 0
sprpriority = 0

[State 11102, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 11102, SparkleG.VelVarX]
type = VarRandom
trigger1 = time = 0
v = 14
range = -1,-3

[State 11102, VelAdd.X]
type = VelAdd
trigger1 = 1
x = 0.005

[State 11102, VelAdd.Y]
type = VelAdd
trigger1 = 1
Y = 0.03

[State 11102, VelSet.X]
type = VelSet
trigger1 = Time = 1
x = Var(14)

[State 11102, VelSet.Y]
type = VelSet
trigger1 = Time = 1
y = Var(15)

[State 11102, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Sparkle Effect Helper-Gray[State 107]
[StateDef 11103]
type = A
physics = N
movetype = A
velset = 0, 0
anim = IfElse(Parent,Var(1)=0,11100,11110)
ctrl = 0
sprpriority = 0

[State 11103, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 11103, SparkleG.VelVarX]
type = VarRandom
trigger1 = time = 0
v = 14
range = -1,-3

[State 11103, VelAdd.X]
type = VelAdd
trigger1 = 1
x = 0.005

[State 11103, VelSet.X]
type = VelSet
trigger1 = Time = 1
x = Var(14)

[State 11103, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Sparkle Effect Helper-Gray-[State 41]
[StateDef 11104]
type = A
physics = N
movetype = A
velset = 0, 0
anim = IfElse(Parent,Var(1)=0,11100,11110)
ctrl = 0
sprpriority = 0

[State 11104, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 11104, SparkleG.VelVarY]
type = VarRandom
trigger1 = time = 0
v = 14
range = -1,-3

[State 11104, SparkleG.VelVarX]
type = VarRandom
trigger1 = time = 0
v = 15
range = 1,3

[State 11104, VelAdd.XY]
type = VelAdd
trigger1 = 1
y = 0.005
x = ifelse(sysvar(1)=0, 0, ifelse(sysvar(1)=1, -0.005, 0.005))

[State 11104, VelSet.Y]
type = VelSet
triggerall = parent, stateno != 110
trigger1 = Time = 1
y = ifelse(sysvar(1)=0, Var(14), ifelse(sysvar(1)=1, Var(14), Var(14)))

[State 11104, VelSet.Y.Dashup]
type = VelSet
triggerall = parent, stateno = 110
trigger1 = Time = 1
y = Var(14)

[State 11104, VelSet.X]
type = VelSet
trigger1 = Time = 1
X = ifelse(sysvar(1)=0, 0, ifelse(sysvar(1)=1, Var(15), -Var(15)))

[State 11104, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Sparkle Effect Helper-Blue-[State 1100-1120]
[StateDef 11120]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 11120
ctrl = 0
sprpriority = 3

[State 11120, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 11120, SparkleG.VelVarX]
type = VarRandom
trigger1 = time = 0
v = 14
range = 1,3

[State 11120, VelAdd.X]
type = VelAdd
trigger1 = 1
x = -0.005

[State 11120, VelSet.X]
type = VelSet
trigger1 = Time = 1
x = Var(14)

[State 11120, VelSet.Y]
type = VelSet
trigger1 = Time = 1
y = Var(15)

[State 11120, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Sparkle Effect Helper-Blue[State 1000-1020]
[StateDef 11121]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 11120
ctrl = 0
sprpriority = 0

[State 11121, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 11121, Sparkle.SpeedVarX]
type = VarRandom
trigger1 = Time = 0
v = 14
range = 2,6

[State 11121, Sparkle.SpeedVarY]
type = VarRandom
trigger1 = Time = 0
v = 15
range = 1,-1

[State 11121, VelSet]
type = VelSet
trigger1 = Time = 1
x = Var(14)

[State 11121, VelSet]
type = VelSet
trigger1 = Time = 1
Y = Var(15)

[State 11121, VelAdd]
type = VelAdd
trigger1 = 1
x = -0.01

[State 11121, VelAdd]
type = VelAdd
trigger1 = time >= 2
Y = 0.02

[State 11121, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Sparkle Effect Helper-Blue-[State 1300]
[StateDef 11122]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 11120
ctrl = 0
sprpriority = 3

[State 11122, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 11122, SparkleB.VelVarY]
type = VarRandom
trigger1 = time = 0
v = 15
range = 1,4

[State 11121, VelAdd]
type = VelAdd
trigger1 = 1
Y = -0.0075

[State 11122, VelSet.X]
type = VelSet
trigger1 = Time = 1
x = Var(15)*0.5

[State 11122, VelSet.Y]
type = VelSet
trigger1 = Time = 1
y = Var(15)

[State 11122, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Sparkle Effect Helper-Blue-[State 12500]
[StateDef 11123]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 11120
ctrl = 0
sprpriority = 3

[State 11123, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 11123, SparkleG.VelVarX]
type = VarRandom
trigger1 = time = 0
v = 14
range = 2,4

[State 11123, VelAdd.X]
type = VelAdd
trigger1 = 1
x = -0.005

[State 11123, VelSet.X]
type = VelSet
trigger1 = Time = 1
x = Var(14)

[State 11123, VelSet.Y]
type = VelSet
trigger1 = Time = 1
y = 0

[State 11123, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Sparkle Effect Helper-Blue-[State 12510]
[StateDef 11124]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 11120
ctrl = 0
sprpriority = 3

[State 11124, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 11124, SparkleG.VelVarX]
type = VarRandom
trigger1 = time = 0
v = 14
range = 2,4

[State 11124, VelAdd.X]
type = VelAdd
trigger1 = 1
x = -0.005

[State 11124, VelSet.X]
type = VelSet
trigger1 = Time = 1
x = Var(14)

[State 11124, VelSet.Y]
type = VelSet
trigger1 = Time = 1
y = -Var(14)*0.25

[State 11124, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Sparkle Effect Helper-Blue-[State 12520]
[StateDef 11125]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 11120
ctrl = 0
sprpriority = 3

[State 11125, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 11125, SparkleG.VelVarX]
type = VarRandom
trigger1 = time = 0
v = 14
range = 2,4

[State 11125, VelAdd.X]
type = VelAdd
trigger1 = 1
x = -0.005

[State 11125, VelSet.X]
type = VelSet
trigger1 = Time = 1
x = Var(14)

[State 11125, VelSet.Y]
type = VelSet
trigger1 = Time = 1
y = Var(14)*0.25

[State 11125, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Shououken Weak Effect
[StateDef 12100]
type = A
physics = N
movetype = A
velset = 6, 0
anim = 12100
ctrl = 0
sprpriority = 3

[State 12100, Bind]
type = BindToParent
triggerall = Parent, stateno != 1103
trigger1 = Parent, stateNo = 1100 && !movecontact
pos = -7,10
time = 4

[State 12100, Bind]
type = BindToParent
trigger1 = Parent, stateno = 1103
pos = -7,10
time = 0

[State 12100, DestroySelf]
type = DestroySelf
trigger1 = ((Parent, stateNo != [1100, 1101]) && (Parent, stateNo != [1150, 1151])) && animtime = 0
;---------------------------------------------------------------------------
;Shououken Medium Effect
[StateDef 12110]
type = A
physics = N
movetype = A
velset = 6, 0
anim = 12100
ctrl = 0
sprpriority = 3

[State 12110, Bind]
type = BindToParent
triggerall = Parent, stateno != 1103
trigger1 = Parent, stateNo = 1110 && !movecontact
pos = -7,10
time = 4

[State 12110, Bind]
type = BindToParent
trigger1 = Parent, stateno = 1103
pos = -7,10
time = 0

[State 12110, DestroySelf]
type = DestroySelf
trigger1 = ((Parent, stateNo != [1110, 1111]) && (Parent, stateNo != [1160, 1161])) && animtime = 0
;---------------------------------------------------------------------------
;Shououken Strong Effect
[StateDef 12120]
type = A
physics = N
movetype = A
velset = 6, 0
anim = 12100
ctrl = 0
sprpriority = 3

[State 12120, Bind]
type = BindToParent
triggerall = Parent, stateno != 1103
trigger1 = (Parent, stateNo = 1120 || Parent, stateNo = 1170)&& !movecontact
pos = -7,10
time = 4

[State 12120, Bind]
type = BindToParent
trigger1 = Parent, stateno = 1103
pos = -7,10
time = 0

[State 12120, DestroySelf]
type = DestroySelf
trigger1 = ((Parent, stateNo != [1120, 1121]) && (Parent, stateNo != [1170, 1171])) && animtime = 0
;---------------------------------------------------------------------------
;Ground Spark Weak Helper Start: Used in State 1050
[StateDef 12300]
type = A
physics = N
movetype = A
velset = 4+IfElse(Parent,Var(1)=0,0,1), 4
anim = 12300
ctrl = 0
sprpriority = 1

[State 12300, Ball]
type = Explod
trigger1 = time = 0
Anim = 12301
Pos = 1, -2
Id = 12301
sprpriority = 2
removeongethit = 0
removetime = -1
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
scale = 0.4,0.4

[State 12300, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 12300, Explode]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Light
Damage = 0
numhits = 0
guardflag = MA
pausetime = 4,10
sparkno = -1
sparkxy = -5,0
hitsound   = -1
guardsound = -1
getpower = 0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = 0, 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = 0, 0

[State 12300, Gravity]
type = VelAdd
trigger1 = 1
y = 0.44

[State 12300, Ground]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 12300, Next]
type = ChangeState
trigger1 = pos y = 0
value = 12310

[State 12310, Explode]
type = ChangeState
trigger1 = movecontact
value = 12320
;---------------------------------------------------------------------------
;Ground Spark Weak Helper Main: Used in State 1050
[StateDef 12310]
type = A
physics = N
movetype = A
velset = 4+IfElse(Parent,Var(1)=0,0,1), 0
anim = 12310
ctrl = 0
sprpriority = 2

[State 1050, PlaySND]
type = PlaySnd
trigger1 = time = 0
value = 1051,0

[State 12310, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
ID = 12301

[State 12310, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 12310, Explode]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Light
Damage = 0
numhits = 0
guardflag = MA
pausetime = 4,10
sparkno = -1
sparkxy = -5,0
hitsound   = -1
guardsound = -1
getpower = 0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = 0, 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = 0, 0

[State 12310, Next]
type = ChangeState
trigger1 = time = 20 || movecontact
value = 12320
;---------------------------------------------------------------------------
;Ground Spark Weak Helper End: Used in State 1050
[StateDef 12320]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12320
ctrl = 0
sprpriority = 3

[State 12320, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
ID = 12301

[State 12320, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 12320, PLaySound]
type = PlaySND
trigger1 = time = 0
value = 900,3

[State 12320, PopEffect]
type = Explod
trigger1 = time = 0
Anim = 13000
Pos = 0, 0
Id = 13000
sprpriority = 4
removeongethit = 0
Postype = p1
velocity = 0, 0
;Bindtime = -1
SuperMove = 1
ownpal = 1

[State 12320, Explode]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Diagup
Damage = Floor(50*(IfElse(Parent,Var(1)=0,1,1.25))),12
guardflag = MA
pausetime = 1,5
sparkno = -1
sparkxy = -5,0
hitsound   = -1
guardsound = -1
getpower = 0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -6, -5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -6, -5
fall = 1
fall.recover = 0
kill = 1
guard.kill = 1

[State 12320, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Ground Spark Medium Helper Start: Used in State 1060
[StateDef 12330]
type = A
physics = N
movetype = A
velset = 5+IfElse(Parent,Var(1)=0,0,1), 4
anim = 12300
ctrl = 0
sprpriority = 1

[State 12330, Ball]
type = Explod
trigger1 = time = 0
Anim = 12301
Pos = 1, -2
Id = 12301
sprpriority = 2
removeongethit = 0
removetime = -1
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
scale = 0.45,0.45

[State 12330, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 12330, Explode]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Light
Damage = 0
numhits = 0
guardflag = MA
pausetime = 4,10
sparkno = -1
sparkxy = -5,0
hitsound   = -1
guardsound = -1
getpower = 0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = 0, 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = 0, 0

[State 12330, Gravity]
type = VelAdd
trigger1 = 1
y = 0.44

[State 12330, Ground]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 12330, Next]
type = ChangeState
trigger1 = pos y = 0
value = 12340

[State 12330, Explode]
type = ChangeState
trigger1 = movecontact
value = 12350
;---------------------------------------------------------------------------
;Ground Spark Medium Helper Main: Used in State 1060
[StateDef 12340]
type = A
physics = N
movetype = A
velset = 5+IfElse(Parent,Var(1)=0,0,1), 0
anim = 12310
ctrl = 0
sprpriority = 2

[State 1050, PlaySND]
type = PlaySnd
trigger1 = time = 0
value = 1051,0

[State 12340, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
ID = 12301

[State 12340, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 12340, Explode]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Light
Damage = 0
numhits = 0
guardflag = MA
pausetime = 4,10
sparkno = -1
sparkxy = -5,0
hitsound   = -1
guardsound = -1
getpower = 0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = 0, 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = 0, 0

[State 12340, Next]
type = ChangeState
trigger1 = time = 26 || movecontact
value = 12350
;---------------------------------------------------------------------------
;Ground Spark Medium Helper End: Used in State 1060
[StateDef 12350]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12320
ctrl = 0
sprpriority = 3

[State 12350, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
ID = 12301

[State 12350, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 12350, PLaySound]
type = PlaySND
trigger1 = time = 0
value = 900,3

[State 12350, PopEffect]
type = Explod
trigger1 = time = 0
Anim = 13000
Pos = 0, 0
Id = 13000
sprpriority = 4
removeongethit = 0
Postype = p1
velocity = 0, 0
;Bindtime = -1
SuperMove = 1
ownpal = 1

[State 12350, Explode]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Diagup
Damage = Floor(60*(IfElse(Parent,Var(1)=0,1,1.25))),15
guardflag = MA
pausetime = 1,5
sparkno = -1
sparkxy = -5,0
hitsound   = -1
guardsound = -1
getpower = 0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -7, -5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -7, -5
fall = 1
fall.recover = 0
kill = 1
guard.kill = 1

[State 12350, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Ground Spark Strong Helper Start: Used in State 1070
[StateDef 12360]
type = A
physics = N
movetype = A
velset = 6+IfElse(Parent,Var(1)=0,0,1), 4
anim = 12300
ctrl = 0
sprpriority = 1

[State 12360, Ball]
type = Explod
trigger1 = time = 0
Anim = 12301
Pos = 1, -2
Id = 12301
sprpriority = 2
removeongethit = 0
removetime = -1
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
scale = 0.5,0.5

[State 12360, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 12360, Explode]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Light
Damage = 0
numhits = 0
guardflag = MA
pausetime = 4,10
sparkno = -1
sparkxy = -5,0
hitsound   = -1
guardsound = -1
getpower = 0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = 0, 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = 0, 0

[State 12360, Gravity]
type = VelAdd
trigger1 = 1
y = 0.44

[State 12360, Ground]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 12360, Next]
type = ChangeState
trigger1 = pos y = 0
value = 12370

[State 12360, Explode]
type = ChangeState
trigger1 = movecontact
value = 12380
;---------------------------------------------------------------------------
;Ground Spark Strong Helper Main: Used in State 1070
[StateDef 12370]
type = A
physics = N
movetype = A
velset = 6+IfElse(Parent,Var(1)=0,0,1), 0
anim = 12310
ctrl = 0
sprpriority = 2

[State 1050, PlaySND]
type = PlaySnd
trigger1 = time = 0
value = 1051,0

[State 12370, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
ID = 12301

[State 12370, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 12370, Explode]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Light
Damage = 0
numhits = 0
guardflag = MA
pausetime = 4,10
sparkno = -1
sparkxy = -5,0
hitsound   = -1
guardsound = -1
getpower = 0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = 0, 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = 0, 0

[State 12370, Next]
type = ChangeState
trigger1 = time = 32 || movecontact
value = 12380
;---------------------------------------------------------------------------
;Ground Spark Strong Helper End: Used in State 1070
[StateDef 12380]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12320
ctrl = 0
sprpriority = 3

[State 12380, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
ID = 12301

[State 12380, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 12380, PLaySound]
type = PlaySND
trigger1 = time = 0
value = 900,3

[State 12380, PopEffect]
type = Explod
trigger1 = time = 0
Anim = 13000
Pos = 0, 0
Id = 13000
sprpriority = 4
removeongethit = 0
Postype = p1
velocity = 0, 0
;Bindtime = -1
SuperMove = 1
ownpal = 1

[State 12380, Explode]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype  = Diagup;Hard
Damage = Floor(70*(IfElse(Parent,Var(1)=0,1,1.25))),17
guardflag = MA
pausetime = 1,5
sparkno = -1
sparkxy = -5,0
hitsound   = -1
guardsound = -1
getpower = 0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -8, -5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -8, -5
fall = 1
fall.recover = 1
kill = 1
guard.kill = 1

[State 12380, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Buster Cannon Beam : Used in State 1801
[StateDef 12400]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12400
ctrl = 0
sprpriority = 4

[State 12400, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 12400, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 12400, Explosion]
type = HitDef
trigger1 = time >= 0
attr = S, HP
animtype  = Hard
Damage = Floor(9*(IfElse(Parent,Var(1)=0,1,1.25))),2
guardflag = MA
pausetime = 1,1
sparkno = -1
sparkxy = -5,0
hitsound   = -1
guardsound = -1
getpower = 0
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -25, -4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -25, -4
fall = 1
fall.recover = 1
kill = 1
guard.kill = 1

[State 12400, Explosion.Sound1]
type = PlaySND
trigger1 = movehit && numhelper(13100) = 0
value = 900,1

[State 12400, Explosion.Sound2]
type = PlaySND
trigger1 = moveguarded && numhelper(13100) = 0
value = 900,3

[State 12400, Explosion.Helper]
type = Helper
trigger1 = movecontact && numhelper(13100) = 0
name = "Explosion"
stateno = 13100
postype = p2
pos = 0, -30
keyctrl = 0
ownpal = 1
id = 13100

[State 12400, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodydist < -1 && BackEdgeBodydist > -30)
movecamera = 0,0
value	= 0

[State 12400, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Finish Buster Ball: Used in State 1901
[StateDef 12500]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12500
ctrl = 0
sprpriority = 4

[State 12500, Dust]
type = Explod
triggerall = pos Y = -50
trigger1 = timemod = 2,0
Anim = 15000
Pos = -50, 50
Id = 15000
sprpriority = 3
removeongethit = 0
removetime = 14
Postype = p1
;Bindtime = -1
SuperMove = 1

[State 12500, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 30
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 128,128,128
paladd = 0,0,0
timegap = 2
framegap = 2
trans = Add

[State 12500, VelSet.FWD]
type = VelSet
trigger1 = 1
x = 13*IfElse(Parent,Var(1)=0,1,1.25)
y = 0.0

[State 12500, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 12500, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 12500, SparkleB.PosVarX]
type = VarRandom
trigger1 = Time >= 0 && Time <= 9
v = 14
range = -50,-20

[State 12500, SparkleB.PosVarY]
type = VarRandom
trigger1 = Time >= 0 && Time <= 9
v = 15
range = 13,-13

[State 12500, SparkleB.Helper]
type = Helper
trigger1 = Time >= 0 && Time <= 9
name = "SparkleB"
stateno = 11123
postype = p1
pos = Var(14), Var(15)
keyctrl = 0
ownpal = 1
id = 11123
size.xscale = IfElse(Random <= 499,0.2,0.3)
size.yscale = IfElse(Random <= 499,0.2,0.3)

[State 12500, Explosion]
type = HitDef
trigger1 = time = 0
attr = S, HP
animtype  = Hard
Damage = Floor(200*(IfElse(Parent,Var(1)=0,1,1.25))),50
guardflag = MA
pausetime = 4,4
sparkno = -1
sparkxy = -5,0
hitsound   = S900,1
guardsound = S900,3
getpower = 0
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -35, -4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -35, -4
fall = 1
fall.recover = 1

[State 12500, Explosion.Helper]
type = Helper
trigger1 = movecontact
name = "Explode"
stateno = 13100
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 13100
size.xscale = 1
size.yscale = 1

[State 12500, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodydist < -1 && BackEdgeBodydist > -30)
movecamera = 0,0
value	= 0

[State 12500, Next]
type = DestroySelf
trigger1 = Movecontact

[State 12500, DestroySelf]
type = DestroySelf
trigger1 = time = 50
;---------------------------------------------------------------------------
;Finish Buster Ball: Used in State 1901
[StateDef 12510]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12510
ctrl = 0
sprpriority = 4

[State 12510, Dust]
type = Explod
triggerall = pos Y = -50
trigger1 = timemod = 2,0
Anim = 15000
Pos = -50, 50
Id = 15000
sprpriority = 3
removeongethit = 0
removetime = 14
Postype = p1
;Bindtime = -1
SuperMove = 1

[State 12510, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 30
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 128,128,128
paladd = 0,0,0
timegap = 2
framegap = 2
trans = Add

[State 12510, VelSet]
type = VelSet
trigger1 = 1
x = 13*IfElse(Parent,Var(1)=0,1,1.25)
y = -3.0*IfElse(Parent,Var(1)=0,1,1.25)

[State 12510, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 12510, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 12510, SparkleB.PosVarX]
type = VarRandom
trigger1 = Time >= 0 && Time <= 9
v = 14
range = -45,-25

[State 12510, SparkleB.PosVarY]
type = VarRandom
trigger1 = Time >= 0 && Time <= 9
v = 15
range = 20,-5

[State 12510, SparkleB.Helper]
type = Helper
trigger1 = Time >= 0 && Time <= 9
name = "SparkleB"
stateno = 11124
postype = p1
pos = Var(14), Var(15)
keyctrl = 0
ownpal = 1
id = 11124
size.xscale = IfElse(Random <= 499,0.2,0.3)
size.yscale = IfElse(Random <= 499,0.2,0.3)

[State 12510, Explosion]
type = HitDef
trigger1 = time = 0
attr = S, HP
animtype  = Hard
Damage = Floor(200*(IfElse(Parent,Var(1)=0,1,1.25))),50
guardflag = MA
pausetime = 4,4
sparkno = -1
sparkxy = -5,0
hitsound   = S900,1
guardsound = S900,3
getpower = 0
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -25, -8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -25, -8
fall = 1
fall.recover = 1

[State 12510, Explosion.Helper]
type = Helper
trigger1 = movecontact
name = "Explode"
stateno = 13100
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 13100
size.xscale = 1
size.yscale = 1

[State 12510, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodydist < -1 && BackEdgeBodydist > -30)
movecamera = 0,0
value	= 0

[State 12510, Next]
type = DestroySelf
trigger1 = Movecontact

[State 12510, DestroySelf]
type = DestroySelf
trigger1 = time = 50
;---------------------------------------------------------------------------
;Finish Buster Ball: Used in State 1901
[StateDef 12520]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12520
ctrl = 0
sprpriority = 4

[State 12520, Dust]
type = Explod
triggerall = pos Y = -50
trigger1 = timemod = 2,0
Anim = 15000
Pos = -50, 50
Id = 15000
sprpriority = 3
removeongethit = 0
removetime = 14
Postype = p1
;Bindtime = -1
SuperMove = 1

[State 12520, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 30
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 128,128,128
paladd = 0,0,0
timegap = 2
framegap = 2
trans = Add

[State 12520, VelSet.FWD]
type = VelSet
trigger1 = 1
x = 13*IfElse(Parent,Var(1)=0,1,1.25)
y = 3.0*IfElse(Parent,Var(1)=0,1,1.25)

[State 12520, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 12520, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 12510, SparkleB.PosVarX]
type = VarRandom
trigger1 = Time >= 0 && Time <= 9
v = 14
range = -45,-25

[State 12510, SparkleB.PosVarY]
type = VarRandom
trigger1 = Time >= 0 && Time <= 9
v = 15
range = 0,-25

[State 12510, SparkleB.Helper]
type = Helper
trigger1 = Time >= 0 && Time <= 9
name = "SparkleB"
stateno = 11125
postype = p1
pos = Var(14), Var(15)
keyctrl = 0
ownpal = 1
id = 11125
size.xscale = IfElse(Random <= 499,0.2,0.3)
size.yscale = IfElse(Random <= 499,0.2,0.3)

[State 12520, Explosion]
type = HitDef
trigger1 = time = 0
attr = S, HP
animtype  = Hard
Damage = Floor(200*(IfElse(Parent,Var(1)=0,1,1.25))),50
guardflag = MA
pausetime = 4,4
sparkno = -1
sparkxy = -5,0
hitsound   = S900,1
guardsound = S900,3
getpower = 0
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -40, 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -40, 0
fall = 1
fall.recover = 1

[State 12520, Explosion.Helper]
type = Helper
trigger1 = movecontact
name = "Explode"
stateno = 13100
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 13100
size.xscale = 1
size.yscale = 1

[State 12520, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodydist < -1 && BackEdgeBodydist > -30)
movecamera = 0,0
value	= 0

[State 12520, Next]
type = DestroySelf
trigger1 = Movecontact

[State 12520, DestroySelf]
type = DestroySelf
trigger1 = time = 50
;---------------------------------------------------------------------------
;Burning Attack
[StateDef 12600]
type = A
physics = N
movetype = A
velset = 4, 4
anim = 9031
ctrl = 0
sprpriority = 1

[State 12600, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 12500, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 30
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 128,128,128
paladd = 0,0,0
timegap = 2
framegap = 2
trans = Add

[State 12600, Explode]
type = HitDef
trigger1 = time = 0
attr = S, HP
animtype  = Hard
Damage = 0
numhits = 0
guardflag = MA
pausetime = 4,10
sparkno = -1
sparkxy = -5,0
hitsound   = -1
guardsound = -1
getpower = 0
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = 0, 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = 0, 0

[State 12600, Ground]
type = VelSet
trigger1 = pos y > 0
x = 0
y = 0

[State 12600, Ground]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 12600, Next]
type = ChangeState
trigger1 = pos y = 0
value = 12601

[State 12600, Explode]
type = ChangeState
trigger1 = movecontact
value = 12601
;---------------------------------------------------------------------------
;Burning Attack
[StateDef 12601]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12600
ctrl = 0
sprpriority = 1

[State 12601, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 12601, Explode]
type = HitDef
trigger1 = time = 0
attr = S, HP
animtype  = Up
Damage = 400 - Floor((Abs(p2bodydist X) + Abs(p2bodydist Y))*0.75)
numhits = 0
hitflaf = MAFD
guardflag = N
pausetime = 0,160
sparkno = -1
sparkxy = -5,0
hitsound   = -1
guardsound = -1
getpower = 0
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -5, -10
air.velocity = -2.5, -6
fall = 1
fall.recover = 0

[State 12601, ExplosionEffect.Helper]
type = Helper
trigger1 = movecontact && numhelper(12602) = 0
name = "KaFukinBoom!"
stateno = 12602
postype = back
pos = 160, 0
keyctrl = 0
ownpal = 1
id = 12602

[State 12601, Ground]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 12601, Next]
type = DestroySelf
trigger1 = Animtime = 0
;---------------------------------------------------------------------------
;Burning Attack
[StateDef 12602]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 9999
ctrl = 0
sprpriority = 1

[State 12602, EnvShake];This EnvShake was swiped from FlowaGirl's WinKO effect. 
type = EnvShake        ;Why? Because I was lazy.
trigger1 = time = 0
time = 140
freq = 120
ampl = -3
phase = 90

[State 12600, No Shadow]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 12602, AllPalFX]
type = AllPalFX
trigger1 = time = [10,137]
time = 1
add = (time-10)*3,(time-10)*3,(time-10)*3

[State 12602, AllPalFX]
type = AllPalFX
trigger1 = time = [138,179]
time = 1
add = 255,255,255

[State 4000, AllPalFX]
type = AllPalFX
trigger1 = time = [180,200]
time = 1
add = 255-(12*(time-180)),255-(12*(time-180)),255-(12*(time-180))

[State 12602, Explosion.Sound1]
type = PlaySND
trigger1 = time = 0
trigger2 = time = 50
value = 900,1
pan = 0
freqmul = 0.8

[State 12602, Explosion.Sound2]
type = PlaySND
trigger1 = time = 10
trigger2 = time = 60
value = 900,1
pan = 50
freqmul = 1.1

[State 12602, Explosion.Sound2]
type = PlaySND
trigger1 = time = 20
trigger2 = time = 70
value = 900,1
pan = -50
freqmul = 0.9

[State 12602, Explosion.Sound3]
type = PlaySND
trigger1 = time = 30
trigger2 = time = 80
value = 900,1
pan = 100
freqmul = 1

[State 12602, Explosion.Sound4]
type = PlaySND
trigger1 = time = 40
trigger2 = time = 90
value = 900,1
pan = -100
freqmul = 1.2

[State 12602, Center0-Mid.Explosion]
type = Explod
trigger1 = time = 0
Anim = 13105
Pos = 0, -90
Id = 13105
sprpriority = 9999
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1

[State 12602,Forward1-Low.Explosion]
type = Explod
trigger1 = time = 5
Anim = 13105
Pos = 40, -50
Id = 13105
sprpriority = 9999
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1

[State 12602,Back1-High.Explosion]
type = Explod
trigger1 = time = 10
Anim = 13105
Pos = -40, -130
Id = 13105
sprpriority = 9999
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1

[State 12602,Forward1-High.Explosion]
type = Explod
trigger1 = time = 15
Anim = 13105
Pos = 40, -130
Id = 13105
sprpriority = 9999
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1

[State 12602,Back1-Low.Explosion]
type = Explod
trigger1 = time = 20
Anim = 13105
Pos = -40, -50
Id = 13105
sprpriority = 9999
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1

[State 12602, Forward2-Mid.Explosion]
type = Explod
trigger1 = time = 25
Anim = 13105
Pos = 80, -90
Id = 13105
sprpriority = 9999
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1

[State 12602, Back2-Mid.Explosion]
type = Explod
trigger1 = time = 30
Anim = 13105
Pos = -80, -90
Id = 13105
sprpriority = 9999
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1

[State 12602,Forward3-Low.Explosion]
type = Explod
trigger1 = time = 35
Anim = 13105
Pos = 120, -50
Id = 13105
sprpriority = 9999
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1

[State 12602,Back3-High.Explosion]
type = Explod
trigger1 = time = 40
Anim = 13105
Pos = -120, -130
Id = 13105
sprpriority = 9999
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1

[State 12602,Forward3-High.Explosion]
type = Explod
trigger1 = time = 45
Anim = 13105
Pos = 120, -130
Id = 13105
sprpriority = 9999
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1

[State 12602, Forward2-Mid.Explosion]
type = Explod
trigger1 = time = 50
Anim = 13105
Pos = 160, -90
Id = 13105
sprpriority = 9999
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1

[State 12602, Back2-Mid.Explosion]
type = Explod
trigger1 = time = 55
Anim = 13105
Pos = -160, -90
Id = 13105
sprpriority = 9999
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1

[State 12602,Back3-Low.Explosion]
type = Explod
trigger1 = time = 60
Anim = 13105
Pos = -120, -50
Id = 13105
sprpriority = 9999
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1

[State 12602,Forward5-Low.Explosion]
type = Explod
trigger1 = time = 65
Anim = 13105
Pos = 200, -50
Id = 13105
sprpriority = 9999
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1

[State 12602,Back5-High.Explosion]
type = Explod
trigger1 = time = 70
Anim = 13105
Pos = -200, -130
Id = 13105
sprpriority = 9999
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1

[State 12602,Forward5-High.Explosion]
type = Explod
trigger1 = time = 75
Anim = 13105
Pos = 200, -130
Id = 13105
sprpriority = 9999
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1

[State 12602,Back5-Low.Explosion]
type = Explod
trigger1 = time = 80
Anim = 13105
Pos = -200, -50
Id = 13105
sprpriority = 9999
removeongethit = 0
Postype = p1
SuperMove = 1
ownpal = 1

[State 12602, Next]
type = DestroySelf
trigger1 = time = 210
;---------------------------------------------------------------------------
;Burning Attack-Push Forward
[StateDef 12650]
type = A
physics = N
movetype = A
velset = 8, 0
anim = 12650
ctrl = 0

[State 12650, VelAdd]
type = VelAdd
trigger1 = 1
x = -0.25

[State 12650, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 12650, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 12650, End]
type = DestroySelf
trigger1 = time = 12
;---------------------------------------------------------------------------
;Burning Attack-Push Back
[StateDef 12651]
type = A
physics = N
movetype = A
velset = -8, 0
anim = 12650
ctrl = 0

[State 12651, VelAdd]
type = VelAdd
trigger1 = 1
x = 0.3

[State 12651, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 12651, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 12651, End]
type = DestroySelf
trigger1 = time = 12

;---------------------------------------------------------------------------
;Burning Attack-Push Still
[StateDef 12652]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12650
ctrl = 0

[State 12651, BindToParent]
type = BindToParent
trigger1 = 1
time = 1

[State 12651, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 12651, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 12651, End]
type = DestroySelf
trigger1 = time = 7
;---------------------------------------------------------------------------
;Advance Guard-Push Forward
[StateDef 12700]
type = A
physics = N
movetype = A
velset = 20, 0
anim = 12700
ctrl = 0

[State 12700, VelAdd]
type = VelAdd
trigger1 = 1
x = -0.5

[State 12700, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 12700, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 12700, End]
type = DestroySelf
trigger1 = time = 20
;---------------------------------------------------------------------------
;Briefs Dynamite-Small Dispersing Explosion Effect
[StateDef 13000]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 9999
ctrl = 0
sprpriority = 2

[State 13000, PopLeftDown]
type = Explod
trigger1 = time = 9
Anim = 13000
Pos = -10, -23
Id = 13000
sprpriority = 3
removeongethit = 0
Postype = p1
velocity = -2, 2
;Bindtime = -1
SuperMove = 1
ownpal = 1

[State 13000, PopLeft]
type = Explod
trigger1 = time = 9
Anim = 13000
Pos = -20, -33
Id = 13001
sprpriority = 3
removeongethit = 0
Postype = p1
velocity = -2, 0
;Bindtime = -1
SuperMove = 1
ownpal = 1

[State 13000, PopLeftUp]
type = Explod
trigger1 = time = 9
Anim = 13000
Pos = -10, -43
Id = 13002
sprpriority = 3
removeongethit = 0
Postype = p1
velocity = -2, -2
;Bindtime = -1
SuperMove = 1
ownpal = 1

[State 13000, PopUp]
type = Explod
trigger1 = time = 9
Anim = 13002
Pos = 0, -77
Id = 13003
sprpriority = 3
removeongethit = 0
Postype = p1
velocity = 0, -2
;Bindtime = -1
SuperMove = 1
ownpal = 1

[State 13000, PopRightUp]
type = Explod
trigger1 = time = 9
Anim = 13001
Pos = 10, -43
Id = 13004
sprpriority = 3
removeongethit = 0
Postype = p1
velocity = 2, -2
;Bindtime = -1
SuperMove = 1
ownpal = 1

[State 13000, PopRight]
type = Explod
trigger1 = time = 9
Anim = 13001
Pos = 20, -33
Id = 13005
sprpriority = 3
removeongethit = 0
Postype = p1
velocity = 2, 0
;Bindtime = -1
SuperMove = 1
ownpal = 1

[State 13000, PopRightDown]
type = Explod
trigger1 = time = 9
Anim = 13000
Pos = 10, -23
Id = 13006
sprpriority = -1
removeongethit = 0
Postype = p1
velocity = 2, 2
;Bindtime = -1
SuperMove = 1
ownpal = 1

[State 13000, DestroySelf]
type = DestroySelf
trigger1 = time = 30
trigger2 = parent, stateno != 1250
;---------------------------------------------------------------------------
;Buster Cannon Explosion: Used in State 1801
[StateDef 13100]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 13105
ctrl = 0
sprpriority = 4

[State 13100, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Tranformation Handicap(Power loss)
[StateDef 19999]
type = U
physics = U
movetype = U
anim = 9999
ctrl = 0

[State 19999, PowerAdd]
type = PowerAdd
triggerall = roundstate != [0,1]
trigger1 = 1
value = 1

[State 19999, DestroySelf]
type = DestroySelf
trigger1 = Parent, var(1) = 0 ;&& Parent, stateno = 5300
trigger2 = Parent, alive != 1
;---------------------------------------------------------------------
;WinKO Effect by FlowaGirl! FlowaGirl receives all the credit for this code.

[Statedef 9998]
type = S
movetype = I
physics = N
anim = 9999

[State 9998: Pause]
type = Pause
trigger1 = !Time
time = 12
movetime = 12

[State 9998: EnvColor]
type = EnvColor
trigger1 = Time < 12
value = Time*4, Time*4, Time*4
time = 1
under = 1

[State 9998: EnvShake]
type = EnvShake
trigger1 = !Time
time = 12
freq = 120
ampl = -3
phase = 90

[State 9998: AllPalFX]
type = AllPalFX
trigger1 = Time < 50
time = 1
add = 0,0,0
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = Time*5
;===========================================================================
;Player 2 Custom States
;===========================================================================
; Wall Bounce : Used in State 1300
; Part 1 : P2 Fly Back
[Statedef 95000]
type    = A
movetype= H
physics = N
velset = 0,0

[State 95000, P2Anim]
type = ChangeAnim2
trigger1 = Time >= 0
value = 95000

[State 95000, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 95001

;---------------------------------------------------------------------------
; Wall Bounce : Used in State 1300
; Part 2 : P2 Hit Wall
[Statedef 95001]
type    = A
movetype= H
physics = N

[State 95001, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 95001, Gravity]
type = VelAdd
trigger1 = Time >= 0
y = .45

[State 95001, No scroll]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 0,1

[State 95001, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 95002

[State 95001, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;---------------------------------------------------------------------------
; Wall Bounce : Used in State 1300
; Part 3 : P2 Pre-Fall from Wall
[Statedef 95002]
type    = A
movetype= H
physics = N

[State 95002, P2Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 95002

[State 95002, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 95002, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 95002, Spark]
type = Explod
trigger1 = Time = 0
anim = F72
pos = -24, -50
postype = p1
sprpriority = 3

[State 95002, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 95002, Next]
type = ChangeState
trigger1 = AnimTime = 0
value = 95003
;---------------------------------------------------------------------------
; Wall Bounce : Used in State 1300
; Part 4 : P2 Falling from Wall
[Statedef 95003]
type    = A
movetype= H
physics = N

[State 95003, P2Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 95003

[State 95003, VelSet]
type = VelSet
trigger1 = Time = 0
x = 1.6
y = -4

[State 95003, Next]
type = ChangeState
trigger1 = AnimTime = 0
value = 95004

;---------------------------------------------------------------------------
; Wall Bounce : Used in State 1300
; Part 5 : P2 Fall into Ground
[Statedef 95004]
type    = A
movetype= H
physics = N

[State 95004, VelSet]
type = VelSet
trigger1 = Time = 0
x = 1.6
y = -4

[State 95004, VelAdd]
type = VelAdd
trigger1 = Time >= 0
y = .35

[State 95004, ChangeAnim 5050]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 95004, ChangeAnim 5052]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 95004, ChangeAnim 5060]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 95004, ChangeAnim 5062]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 95004, ChangeAnim 5050]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 95004, ChangeAnim 5052]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 95004, ChangeAnim 5060]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 95004, ChangeAnim 5062]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 95004, HitGround]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;---------------------------------------------------------------------------
; Over Shoulder Throw_P2 State (hit by, on ground)
[Statedef 95100]
type    = A
movetype= H ;Get hit
physics = N
velset = 1,0
ctrl = 0
anim = 5011
sprpriority = 2

;BLARGH!
[State 95100, HitBy]
type = HitBy
Trigger1 = Time >= 0
value = SCA
time = 1

;-------------------------------------------------------------------------
; Over Shoulder Throw_P2 State (Thrown)
[Statedef 95101]
type    = A
movetype= H ;Get hit
physics = N
velset = 6.0,-9.5
ctrl = 0
anim = 5050
sprpriority = 2

[State 95101, PosAdd]
type = PosAdd
Trigger1 = Time = 0
x =  2
y = 0

[State 95101, 2] ;Gravity
type = VelAdd
Trigger1 = Time > 0
y = 0.6

[State 95101, Damage]
type = LifeAdd
Trigger1 = Time = 0
value = -50

[State 95101, SelfState] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 10
value = 5100 ;Hit ground
;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------
;
;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------
[StateDef -2]
;---------------------------------------------------------------
;Creator Display
[State -2, DisplayToClipboard]
type = DisplayToClipboard
trigger1 = 1
text = "Trunkz 1.5 by Chrono_Strife and Lonewolf"

;---------------------------------------------------------------------------
;WinKO Effect by FlowaGirl
[State -2, Helper]
type = Helper
trigger1 = (WinKO) && (NumHelper(9998) = 0)
helpertype = Normal
name = "WinKO"
id = 9998
pos = 0,0
postype = p1
facing = 0
stateno = 9998
keyctrl = 0
ownpal = 1
supermovetime = 1000
pausemovetime = 1000
ignorehitpause = 1
;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------
;-=Please remove the following line...=-
[Statedef -3]

;-=If you don't here this sound...Then you haven't landed...DOI!=-
[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = StateNo = 52 ;Jump land
trigger2 = StateNo = 106 ;Run-back land
value = 40, 1

[State -3, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 1301 && NumExplod(12200) > 0
ID = 12200

[State -3, SSj Turn]
type = ChangeAnim
triggerall = var(1) != 0
trigger1 = anim = 5
value = 3005

[State -3, SSj Turn]
type = ChangeAnim
triggerall = var(1) != 0
trigger1 = anim = 0
value = 4000

[State -3, Handicap.Helper]
type = Helper
triggerall = var(1) != 0 && stateno != 4000
trigger1 = numhelper(19999) = 0
name = "Handicap"
stateno = 19999
keyctrl = 0
id = 19999


[State -3, SetSSjPower]
type = PowerSet
triggerall = roundstate = 2 && var(32) = 1
trigger1 = Time = 0
value = 2000

[State -3, SetSSjPowerVar]
type = VarSet
triggerall = roundstate = 2 && var(32) = 1
trigger1 = Time = 0
v = 32
value = 0

[State -3, LowHealthVariable]
type = VarRandom
trigger1 = life < 300 && Var(8) = 0
v = 8
range = 1,5

;------------------------------------------------------------------------------
;AI Stuff
;------------------------------------------------------------------------------
;Basics & Close-Up States
;Throw
[State -3, AI.Throw]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && (p2bodydist y >= -20 && p2bodydist y <= 20) && p2bodydist x < 6
trigger1 = (Var(40) = 1) && stateno = 0 
value = 800;IfElse(Random >= 400, 0, 800)
;Close-Up States
;Knee Bash
[State -3, AI.KneeBash]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && (p2bodydist y >= -20 && p2bodydist y <= 20) && p2bodydist x < 6
trigger1 = (Var(40) = 2) && stateno = 0 
value = 900;IfElse(Random >= 400, 0, 800)

;Weak Punch
[State -3, AI.WPunch]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && (p2bodydist y >= -20 && p2bodydist y <= 20)
trigger1 = ((Var(40) = [3,5]) || Var(40) = [13,15]) && stateno = 0
value = ifelse(p2bodydist x > 5, 200, 205)

;Medium Punch
[State -3, AI.MPunch]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && (p2bodydist y >= -20 && p2bodydist y <= 20)
trigger1 = (Var(40) = 6 || Var(40) = 16) && stateno = 0 
trigger2 = (stateno = 200 || stateno = 230) && movecontact && var(1) = 1 && random <= 50
value = 210

;Strong Punch
[State -3, AI.SPunch]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && (p2bodydist y >= -20 && p2bodydist y <= 20)
trigger1 = (Var(40) = 7 || Var(40) = 17) && stateno = 0
trigger2 = (stateno = 210 || stateno = 240) && movecontact && var(1) = 1 && random <= 50
value = 220

;Weak Kick
[State -3, AI.WKick]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && (p2bodydist y >= -20 && p2bodydist y <= 20)
trigger1 = ((Var(40) = [8,9]) || Var(40) = 18) && stateno = 0
trigger2 = (stateno = 200) && movecontact && var(1) = 1 && random <= 50
value = ifelse(p2bodydist x > 5, 230, 235)

;Medium Kick
[State -3, AI.MKick]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && (p2bodydist y >= -20 && p2bodydist y <= 20)
trigger1 = (Var(40) = 10 || Var(40) = 19) && stateno = 0
trigger2 = (stateno = 230 || stateno = 210) && movecontact && var(1) = 1 && random <= 50
value = 240

;Strong Kick
[State -3, AI.SKick]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && (p2bodydist y >= -20 && p2bodydist y <= 20)
trigger1 = (Var(40) = 11 || Var(40) = 20) && stateno = 0
trigger2 = (stateno = 240 || stateno = 220) && movecontact && var(1) = 1 && random <= 50
value = 250
;------------------------------------------------------------------------------
;Briefs Dynamite
[State -3, AI.Dynamite]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && prevstateno != [1100, 1120]
trigger1 = (Var(40) = 12) && (stateno = 0 || stateno = 3100)
trigger2 = (Var(41) = 1) && (stateno = 0 || stateno = 3100)
trigger3 = ((stateno = [200,250]) || (stateno = [1200,1220]) || (stateno = [1100,1120])) && movecontact && var(1) = 1 && random <= 50
value = 1250

;Burning attack desperation
[State -3, AI.Burning Attack1]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && var(1) = 1 && life = [1,250]
trigger1 = ((Var(42) = [1,25]) && (stateno = 0 || stateno = 3100) && power >= 2750)
trigger2 = ((Var(41) = [1,15]) && (stateno = 0 || stateno = 3100) && power >= 2750) 
trigger3 = ((Var(40) = [1,20]) && (stateno = 0 || stateno = 3100) && power >= 2750) 
value = 2200

;Shououken Weak
[State -3, AI.WeakShououken]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && prevstateno != [1100, 1175]
trigger1 = (Var(42) = 20) && (stateno = 0 || stateno = 3100)
trigger2 = (Var(41) = 2) && (stateno = 0 || stateno = 3100)
trigger3 = (stateno = [200,250]) && movecontact && var(1) = 1 && random <= 50
value = 1100
;Shououken Medium
[State -3, AI.MediumShououken]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && prevstateno != [1100, 1175]
trigger1 = (Var(42) = 21) && (stateno = 0 || stateno = 3100)
trigger2 = (Var(41) = 3) && (stateno = 0 || stateno = 3100)
trigger3 = (stateno = [200,250]) && movecontact && var(1) = 1 && random <= 50
value = 1110
;Shououken Strong
[State -3, AI.StrongShououken]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && prevstateno != [1100, 1175]
trigger1 = (Var(42) = 22) && (stateno = 0 || stateno = 3100)
trigger2 = (Var(41) = 4) && (stateno = 0 || stateno = 3100)
trigger3 = ((stateno = [200,250])) && movecontact && var(1) = 1 && random <= 50
value = 1120

;Air Shououken Weak
[State -3, AI.AWeakShououken]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = A && ctrl = 1 && p2life > 0 && prevstateno != [1100, 1175]
trigger1 = (Var(42) = 20); && (stateno = 0 || stateno = 3100)
trigger2 = (Var(41) = 2); && (stateno = 0 || stateno = 3100)
trigger3 = ((stateno = [600,650])) && movecontact && var(1) = 1 && random <= 50
value = 1150
;Air Shououken Medium
[State -3, AI.AMediumShououken]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = A && ctrl = 1 && p2life > 0 && prevstateno != [1100, 1175]
trigger1 = (Var(42) = 21)
trigger2 = (Var(41) = 3)
trigger3 = ((stateno = [600,650])) && movecontact && var(1) = 1 && random <= 50
value = 1160
;Air Shououken Strong
[State -3, AI.AStrongShououken]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = A && ctrl = 1 && p2life > 0 && prevstateno != [1100, 1175]
trigger1 = (Var(42) = 22)
trigger3 = ((stateno = [600,650])) && movecontact && var(1) = 1 && random <= 50
value = 1170

;Sonic Kick
[State -3, AI.Sonic Kick]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = A && ctrl = 1 && p2life > 0 && prevstateno != 1300
trigger1 = (Var(41) = [5,7]); && (stateno = 0 || stateno = 3100)
trigger2 = ((stateno = [600,650]) || (stateno = [1150,1170])) && movecontact && var(1) = 1 && random <= 50
value = 1300

;Sliding Weak
[State -3, AI.WeakSliding]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && prevstateno != [1200, 1220]
trigger1 = (Var(42) = 24) && (stateno = 0 || stateno = 3100)
trigger2 = (Var(41) = 5) && (stateno = 0 || stateno = 3100)
trigger3 = (stateno = [200,250]) && movecontact && var(1) = 1 && random <= 50
value = 1200
;Sliding Medium
[State -3, AI.MediumSliding]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && prevstateno != [1200, 1220]
trigger1 = (Var(42) = 25) && (stateno = 0 || stateno = 3100)
trigger2 = (Var(41) = 6) && (stateno = 0 || stateno = 3100)
trigger3 = (stateno = [200,250]) && movecontact && var(1) = 1 && random <= 50
value = 1210
;Sliding Strong
[State -3, AI.StrongSliding]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && prevstateno != [1200, 1220]
trigger1 = (Var(42) = 19) && (stateno = 0 || stateno = 3100)
trigger2 = (Var(41) = 7) && (stateno = 0 || stateno = 3100)
trigger3 = (stateno = [200,250]) && movecontact && var(1) = 1 && random <= 50
value = 1220

;Run Fwd
[State -3, AI.RunFwd]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && prevstateno != 100
trigger1 = (Var(42) = [23,24]) && (stateno = 0 || stateno = 3100) && var(1) = 0
trigger1 = (Var(42) = [23,25]) && (stateno = 0 || stateno = 3100) && var(1) != 0
value = 100

;Ki Blast(fireball)
[State -3, AI.WeakFB]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && prevstateno != [1000, 1020]
trigger1 = (Var(42) = 2) && (stateno = 0 || stateno = 3100) && power > 200
value = 1000
;Double Ki Blast
[State -3, AI.MediumFB]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && prevstateno != [1000, 1020]
trigger1 = (Var(42) = 3) && (stateno = 0 || stateno = 3100) && power > 350
value = 1010
;Triple Ki Blast
[State -3, AI.StrongFB]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && prevstateno != [1000, 1020]
trigger1 = (Var(42) = 4) && (stateno = 0 || stateno = 3100) && power > 500
value = 1020

;Ground Spark Weak
[State -3, AI.WeakGS]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && prevstateno != [1050, 1070]
trigger1 = (Var(42) = 5) && (stateno = 0 || stateno = 3100) && power > 200
value = 1050
;Ground Spark Medium
[State -3, AI.MediumGS]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && prevstateno != [1050, 1070]
trigger1 = (Var(42) = 6) && (stateno = 0 || stateno = 3100) && power > 350
value = 1060
;Ground Spark Strong
[State -3, AI.StrongGS]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && prevstateno != [1050, 1070]
trigger1 = (Var(42) = 7) && (stateno = 0 || stateno = 3100) && power > 500
value = 1070

;Transform
[State -3, AI.Transform]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && var(1) = 0
trigger1 = ((Var(42) = [11,23]) && stateno = 0 && power >= 3000)
trigger2 = ((Var(42) = [11,23]) && stateno = 3100 && power >= 3000 && (p2bodydist y >= -50 && p2bodydist y <= 50))
trigger2 = ((Var(41) = [10,15]) && (stateno = 0 || stateno = 3100) && power >= 3000) 
trigger3 = ((Var(40) = [15,20]) && (stateno = 0 || stateno = 3100) && power >= 3000)
value = 4000
;Hyper Ki Beam
[State -3, AI.HKBeam]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = ((Var(42) = 9 || Var(42) = 19) && stateno = 0 && power >= 1000) 
trigger2 = ((Var(42) = 9 || Var(42) = 19) && stateno = 3100 && power >= 1000 && (p2bodydist y >= -50 && p2bodydist y <= 50))
value = 1800
;Hyper Ki Blast
[State -3, AI.HKBlast]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = ((Var(42) = 10 || Var(42) = 20) && stateno = 0 && power >= 1000)
trigger2 = ((Var(42) = 10 || Var(42) = 20) && stateno = 3100 && power >= 1000 && (p2bodydist y >= -100 && p2bodydist y <= 100))
value = 1900
;Burning Attack
[State -3, AI.Burning Attack1]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && var(1) = 1 && life > 250
trigger1 = ((Var(42) = 17) && (stateno = 0 || stateno = 3100) && power = [2750,2999])
trigger2 = ((Var(41) = 15) && (stateno = 0 || stateno = 3100) && power = [2750,2999]) 
trigger3 = ((Var(40) = 20) && (stateno = 0 || stateno = 3100) && power = [2750,2999]) 
value = 2200
;------------------------------------------------------------------------------
[State -3, AI.Fly]
type = ChangeState
triggerall = (var(39) = 1) && Pos Y >= 0 && MoveType != H && ctrl = 1 && p2life > 0 && stateno != [3000,3106]
trigger1 = p2StateType = S && p2MoveType != H && p2BodyDist Y < -99
value = 3000

[State -3, AI.Land]
type = ChangeState
triggerall = (var(39) = 1) && MoveType != H && stateno = 3100
trigger1 = (p2StateType = S && p2stateno = 0) || (p2MoveType = H && p2BodyDist Y > 40)
value = 3105

;------------------------------------------------------------------------------
[State -3,AIGuard]
type = null;ChangeState
triggerall = Var(39)= 1 && statetype = S && ctrl = 1
trigger1 = (stateno = 100 || stateno = 52) && p2movetype = A
value = 130

[State -3,AIGuard]
type = null;ChangeState
triggerall = Var(39)= 1 && statetype = C && ctrl = 1
trigger1 = (stateno = 140 || stateno = 150 || stateno = 151) && p2movetype = A
value = 131

[State -3,AIGuard]
type = null;ChangeState
triggerall = Var(39)= 1 && statetype = A && ctrl = 1
trigger1 = p2movetype = A
value = 132
;----------------------------------------------------------------------------
;Close-Throw State Decider Reset
[State -3, AI.CStateDeciderReset]
type = VarSet
triggerall = (var(39) = 1) && alive = 1 && statetype = S && Var(40) != 0
trigger1 = stateno != 0 && stateno != 100
v= 40
value = 0

;Close-Throw State Decider
[State -3, AI.CStateDecider]
type = VarRandom
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && Var(40) = 0
trigger1 = p2bodydist x < 15 && (stateno = 0 || stateno = 100)
v= 40
range = 1,20

;Mid State Decider Reset
[State -3, AI.MStateDeciderReset]
type = VarSet
triggerall = (var(39) = 1) && alive = 1 && statetype = S && Var(41) != 0
trigger1 = stateno != 0
v= 41
value = 0

;Mid State Decider
[State -3, AI.MStateDecider]
type = VarRandom
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && Var(41) = 0
trigger1 = p2bodydist x >= 15 && p2bodydist x <= 150 && stateno = 0
v= 41
range = 1,15

;Far State Decider Reset
[State -3, AI.FStateDeciderReset]
type = VarSet
triggerall = (var(39) = 1) && alive = 1 && statetype = S && Var(42) != 0
trigger1 = (stateno != 0 || stateno != 41 || stateno != 50 || stateno != 51) || ((Var(42) = [9,25]) && power < 1000)
trigger2 = stateno = 100
v= 42
value = 0

;Far State Decider
[State -3, AI.FStateDecider]
type = VarRandom
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && Var(42) = 0
trigger1 = (p2bodydist x > 150 && stateno = 0)
v= 42
range = 1,25


