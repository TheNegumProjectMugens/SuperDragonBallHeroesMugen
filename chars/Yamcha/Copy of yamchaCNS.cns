; Yamcha's constants and state file.
; There are comments scattered through this file, so you may like to
; take a look if would like to learn more about the cns.
;===================================================================
;If you wish to use my programming(Anything in here aside what I 
;credit to others), then go ahead. You must however credit me, for 
;use of my code. Failure to credit will result in your name being 
;blacklisted and my characters no longer being publicly distributed.
;===================================================================

;-=Strife says: HEY! I didn't know you could modify a character's Life! Imagine that!=-
[Data]
life = 1000
attack = 100
defence = 100
power = 3000
fall.defence_up = 50
liedown.time = 60
airjuggle = 10
sparkno = 2
guard.sparkno = 40
KO.echo = 1
KO.volume = 0
volume = 0
IntPersistIndex = 1

;-=Strife says: Yamcha with shrinking action! =-
[Size]
xscale = 1           ;Horizontal scaling factor.
yscale = 1           ;Vertical scaling factor.
ground.back = 19     ;Player width (back, ground)
ground.front = 10    ;Player width (front, ground)
air.back = 12        ;Player width (back, air)
air.front = 12       ;Player width (front, air)
height = 73	     ;Height of player (for opponent to jump over)
attack.dist = 160    ;Default attack distance
proj.attack.dist = 90;Default attack distance for projectiles
proj.doscale = 0     ;Set to 1 to scale projectiles too   
head.pos = -5, -90   ;Approximate position of head
mid.pos = -5, -60    ;Approximate position of midsection
shadowoffset = 0     ;Number of pixels to vertically offset the shadow
draw.offset = 0,0    ;Player drawing offset in pixels (x, y)

;-=Strife says: Must Go Faster!=-
[Velocity]
walk.fwd  = 2.0           ;Walk forward
walk.back = -1.75         ;Walk backward
run.fwd  = 5.8, 0         ;Run forward (x, y)
run.back = -5.5,-4.0      ;Hop backward (x, y)
jump.neu = 0,-8.8         ;Neutral jumping velocity (x, y)
jump.back = -2.5          ;Jump back Speed (x, y)
jump.fwd = 2.55           ;Jump forward Speed (x, y)
runjump.back = -2.55,-8.1 ;Running jump speeds (opt)
runjump.fwd = 4,-8.1      ;.
airjump.neu = 0,-8.1      ;.
airjump.back = -2.55      ;Air jump speeds (opt)
airjump.fwd = 2.5         ;.

;-=Strife says: Basic movements! FUN FUN FUN!=-
[Movement]
airjump.num = 0       ;Number of air jumps allowed (opt)
airjump.height = 35   ;Minimum distance from ground before you can air jump (opt)
yaccel = .44          ;Vertical acceleration
stand.friction = .85  ;Friction coefficient when standing
crouch.friction = .82 ;Friction coefficient when crouching

;---------------------------------------------------------------------------
; Format:
; [Statedef STATENO]
; type = ?            S/C/A/L  stand/crouch/air/liedown
; movetype = ?        I/A/H    idle/attack/gethit
; physics = ?         S/C/A/N  stand/crouch/air/none
; juggle = ?          air juggle points move requires
;
; [State STATENO, ?]  ? - any number you choose
; type = ?
; ...                 3 dots, Always add to a new line of programming...
;-=XXX=-              Sexually Explicit Strife Comment...Don't leave home w/o one! ^_^

;---------------------------------------------------------------------------
; Lose by Time Over
;-=Time's Up? Haha!=-
[Statedef 170]
type = S
ctrl = 0
anim = 170+ifelse(var(1)=0,0,3000)
velset = 0,0

[State 170, PlaySND]
type = PlaySnd
trigger1 = Time = 1
value = 171, 0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
;-=Strife Says: Don't worry about this...you'll never win anyway =p...=-
; Win state decider
[Statedef 180]
type = S

[State 180, WinVSTien]
type = ChangeState
triggerall = (p2name = "Goten88's Tien")
trigger1 = Time = 0
value = 185 

[State 180, 1]
type = ChangeState
triggerall = (p2name != "Goten88's Tien") && (Life >= 750)
trigger1 = Time = 0
value = Ifelse(random > 500, 181, 186)

[State 180, 2]
type = ChangeState
triggerall = (p2name != "Goten88's Tien") && (Life >= 500 && Life < 750)
trigger1 = Time = 0
value = 182

[State 180, 3]
type = ChangeState
triggerall = (p2name != "Goten88's Tien") && (Life >= 250 && Life < 500)
trigger1 = Time = 0 
value = 183

[State 180, 4]
type = ChangeState
triggerall = (p2name != "Goten88's Tien") && (Life < 250)
trigger1 = Time = 0
value = 184

;---------------------------------------------------------------------------
;-=What's this?=-
; Win pose 1 - Life >= 750 - Thumbs Up
[Statedef 181]
type = S
ctrl = 0
velset = 0,0

[State 181, Normal anim]
type = ChangeAnim
trigger1 = time = 0
value = 181+ifelse(var(1)=0,0,3000)

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win pose 2 - Life >= 500 - Wolf Stance...
[Statedef 182]
type = S
ctrl = 0
velset = 0,0

[State 182, Normal anim]
type = ChangeAnim
trigger1 = time = 0
value = 182+ifelse(var(1)=0,0,3000)

[State 182, PlaySND]
type = PlaySnd
trigger1 = Time = 1
trigger2 = time = 15
value = 200, 0

[State 182, Voice-SeeMyWolfFangFist]
type = PlaySnd
trigger1 = Time = 35
value = 180, 0

[State 182, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win pose 3 - Life >= 250 - Stare...
[Statedef 183]
type = S
ctrl = 0
velset = 0,0

[State 183, Normal anim]
type = ChangeAnim
trigger1 = time = 0
value = 183+ifelse(var(1)=0,0,3000)

[State 183, Voice-YouAin'tBad]
type = PlaySnd
trigger1 = Time = 0
value = 181, 0

[State 183, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win pose 4 - Life < 250 - Huff Puff...Tired
[Statedef 184]
type = S
ctrl = 0
velset = 0,0

[State 186, Puar]
type = Helper
triggerall = random > 500
trigger1 = time = 38
ID = 6193
pos = -380,-59
postype = p1 
stateno = 6193
helpertype = normal 
keyctrl = 0
name = "Puar"
ownpal = 1 

[State 184, Normal anim]
type = ChangeAnim
trigger1 = time = 0
value = 5300+ifelse(var(1)=0,0,3000)

[State 184, 1]
type = PlaySnd
trigger1 = Time = 1
value = 5300, 0

[State 184, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win pose S - Vs Tien - Palm to Victory
[Statedef 185]
type = S
ctrl = 0
velset = 0,0

[State 185, Normal anim]
type = ChangeAnim
trigger1 = time = 0
value = 185+ifelse(var(1)=0,0,3000)

[State 185, 1]
type = PlaySnd
triggerall = Life > 500
trigger1 = Time = 20
value = 183, 0

[State 185, 1]
type = PlaySnd
triggerall = Life <= 500
trigger1 = Time = 20
value = 181, 0

[State 185, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
;-=YEAH, UGH, WHAT!=-
; Win pose 1 - Life >= 750 - Thumbs Up w/ Puar
[Statedef 186]
type = S
ctrl = 0
velset = 0,0

[State 186, Anim]
type = ChangeAnim
trigger1 = time = 0
value = 186+ifelse(var(1)=0,0,3000)

[State 186, Puar]
type = Helper
trigger1 = time = 38
ID = 6191
pos = -360,-59
postype = p1 
stateno = 6191
helpertype = normal 
keyctrl = 0
name = "Puar"
ownpal = 1 

[State 186, Explod]
type = Explod
trigger1 = time = 98
ID = 199 
pos = 1,0
postype = p1 
anim = 199
removeongethit = 1
sprpriority = 5

[State 186, PlaySND]
type = PlaySnd
trigger1 = Time = 42
value = 100, 0

[State 186, Voice-"MMf"]
type = PlaySnd
trigger1 = Time = 98
value = 0, 0

[State 186, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
; Introduction
; CNS difficulty: basic
[Statedef 191]
type = S
ctrl = 0
velset = 0,0
anim = 190+ifelse(var(1)=0,0,3000)

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 190+ifelse(var(1)=0,0,3000)

[State 191, PlaySND01]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
trigger3 = AnimElem = 6
value = 200, 0

[State 191, PlaySND02]
type = PlaySnd
trigger1 = AnimElem = 9
trigger2 = AnimElem = 12
value = 201, 0

[State 191, Voice-I'llFryYou]
type = PlaySnd
trigger1 = time = 1
value = 190, 0

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 4] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Introduction - Normal Intro with Puar
; CNS difficulty: basic
[Statedef 192]
type = S
ctrl = 0
velset = 0,0
anim = 192+ifelse(var(1)=0,0,3000)

[State 192, Puar]
type = Helper
trigger1 = RoundState = 0 && time = 1
ID = 6000 
pos = -30,-77 
postype = p1 
stateno = 6181
helpertype = normal 
keyctrl = 0
name = "Puar"
ownpal = 1 

[State 192, Anim] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 192+ifelse(var(1)=0,0,3000)

[State 192, Voice-"Watch this Puar..."]
type = PlaySnd
triggerall = (p2name != "Goku DB") && (p2name != "Goten88's Tien")
trigger1 = time = 145
value = 191, 0

[State 192, Voice-"Youlooklike..."]
type = PlaySnd
triggerall = p2name = "Goten88's Tien"
trigger1 = time = 145
value = 192, 0

[State 192, Voice-"I'll Fry You!"]
type = PlaySnd
triggerall = p2name = "Goku DB"
trigger1 = time = 145
value = 190, 0

[State 192, AssertSpecial] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 192, End] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------------------------------------------------------
; Introduction - Special Intro vs Toad's Broli with Puar
; CNS difficulty: basic
[Statedef 193]
type = S
ctrl = 0
velset = 0,0
anim = 193+ifelse(var(1)=0,0,3000)

[State 193, Puar]
type = Helper
trigger1 = RoundState = 0 && time = 1
ID = 6000 
pos = -30,-77
postype = p1 
stateno = 6182
helpertype = normal 
keyctrl = 0
name = "Puar"
ownpal = 1 

[State 193, Anim] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 193+ifelse(var(1)=0,0,3000)

[State 193, Voice-YouCanHandleThis]
type = PlaySnd
trigger1 = time = 145
value = 191, 0

[State 193, Voice-Yell]
type = PlaySnd
trigger1 = time = 300
value = 5001, 0
volume = 235

[State 193, AssertSpecial] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 193, End] ;Change to stand state
type = ChangeState
trigger1 = p2stateno = 0
value = 0
;---------------------------------------------------------------------------
; Introduction - Special Intro vs Flowa's/Necro's Broli with Puar
; CNS difficulty: basic
[Statedef 194]
type = S
ctrl = 0
velset = 0,0
anim = 194+ifelse(var(1)=0,0,3000)

[State 194, Puar]
type = Helper
trigger1 = RoundState = 0 && time = 1
ID = 6000 
pos = -30,-77
postype = p1 
stateno = 6183
helpertype = normal 
keyctrl = 0
name = "Puar"
ownpal = 1 

[State 194, Anim] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 194+ifelse(var(1)=0,0,3000)

[State 194, Voice]
type = PlaySnd
trigger1 = time = 185
value = 191, 0
volume = 235

[State 194, Voice]
type = PlaySnd
trigger1 = time = 390
value = 5001, 0

[State 194, AssertSpecial] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 194, End] ;Change to stand state
type = ChangeState
trigger1 = p2stateno = 0
value = 0
;---------------------------------------------------------------------------
; Introduction - Special Intro vs Dizzy's and Kiki's Vegetas and my Yamcha with Puar
; CNS difficulty: basic
[Statedef 196]
type = S
ctrl = 0
velset = 0,0

[State 196, Puar]
type = Helper
trigger1 = RoundState = 0 && time = 1
ID = 6000 
pos = -30,-77
postype = p1 
stateno = 6181
helpertype = normal 
keyctrl = 0
name = "Puar"
ownpal = 1 

[State 196, Anim] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 196+ifelse(var(1)=0,0,3000)

[State 196, Voice-"What!?"]
type = PlaySnd
trigger1 = time = 134
value = 170, 0

[State 196, Tear]
type = Helper
trigger1 = time = 134
ID = 9190 
pos = 0,-73
postype = p1 
stateno = 9190
helpertype = normal 
keyctrl = 0
name = "Tear"
ownpal = 1 

[State 196, AssertSpecial] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 194, End] ;Change to stand state
type = ChangeState
trigger1 = (p2stateno = 0) || (time = 400 && (p2name != "[Dizzy]'s Super Vegeta" || p2name != "Practice Vegeta by Detah"))
value = 0
;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 195]
type = S
ctrl = 0
velset = 0,0
movetype = I
physics = S
sprpriority = 2
anim = 195+ifelse(var(1)=0,0,3000)

[State 195, CtrlSet]
type = CtrlSet
trigger1 = Time >= 99
value = 1

[State 195, LifeAdd]
type = LifeAdd
trigger1 = TimeMod = 4,0
value = 1

[State 195, PowerAdd]
type = PowerAdd
trigger1 = Time >= 0 
value = 1

[State 195, PlaySND]
type = PlaySnd
trigger1 = Time = 1 && var(1)=0
value = 195, 0

[State 195, PlaySND]
type = PlaySnd
trigger1 = Time = 1 && var(1)=1
value = 195, 1

[State 195, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Stand Light Punch
; CNS difficulty: easy
[Statedef 200]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
juggle  = 1                      ;Number of air juggle points move takes
velset = 0,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                         ;Set ctrl (Def: no change)
poweradd = 20                    ;Power to add (Def: 0)
sprpriority = 2                  ;Set layering priority to 2 (in front)
anim = 200+ifelse(var(1)=0,0,3000)

[State 200, VarAdd]
type = VarAdd
trigger1 = movecontact
v = 29
value = 1

[State 200, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Light
Damage = 20
guardflag = MA
pausetime = 8,8
sparkno = S10001
sparkxy = -5,-48
hitsound   = S300,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 8
ground.hittime  = 9
ground.velocity = -1
air.velocity = -1,-2

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 200, Voice-Ka...]
type = PlaySnd
triggerall = random >= 700
trigger1 = Time = 1
value = 250, 0

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing medium punch
; CNS difficulty: easy
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 65
ctrl = 0
velset = 0,0
sprpriority = -1
anim = 210+ifelse(var(1)=0,0,3000)

[State 210, PlaySND]
type = PlaySnd
trigger1 = Time = 2
value = 201, 0

[State 210, Voice-Ha!]
type = PlaySnd
triggerall = random >= 700
trigger1 = Time = 0
value = 101, 0

[State 210, VelAdd]
type = VelAdd
trigger1 = AnimElem = 2
x = 1.2

[State 210, VarAdd]
type = VarAdd
trigger1 = movecontact
v = 29
value = 1

[State 210, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
Damage = 25
guardflag = MA
pausetime = 10,10
sparkno = S10001
sparkxy = -10,-49
hitsound   = S300,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 11
ground.hittime  = 13
ground.velocity = -1
air.velocity = -1,-2

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Standing strong punch
; CNS difficulty: easy
[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 70
ctrl = 0
velset = 0,0
sprpriority = -1
anim = 220+ifelse(var(1)=0,0,3000)

[State 220, PlaySND]
type = PlaySnd
trigger1 = Time = 2
value = 230, 0

[State 220, Voice-Yaa!]
type = PlaySnd
triggerall = random >= 700
trigger1 = Time = 0
value = 106, 0

[State 220, VelSet]
type = VelSet
trigger1 = AnimElem = 3
x = 1

[State 220, VarAdd]
type = VarAdd
trigger1 = movecontact
v = 29
value = 1

[State 220, Hitdef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Hard
Damage = 32
guardflag = HA
pausetime = 14,14
sparkno = S10002
sparkxy = -5,-64
hitsound   = S300,2
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-2

[State 220, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Standing light kick
; CNS difficulty: easy
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 22
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 230+ifelse(var(1)=0,0,3000)

[State 230, 1]
type = PlaySnd
trigger1 = Time = 2
value = 230, 0

[State 230, Voice-Houh!]
type = PlaySnd
triggerall = random >= 700
trigger1 = Time = 2
value = 102, 0

[State 230, VarAdd]
type = VarAdd
trigger1 = movecontact
v = 29
value = 1

[State 230, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
Damage = 26
guardflag = MA
pausetime = 9,9
sparkno = S10001
sparkxy = 0,-35
hitsound   = S301,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -1
air.velocity = -1,-3

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Standing light kick-low
; CNS difficulty: easy
[Statedef 231]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 22
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 231+ifelse(var(1)=0,0,3000)

[State 230, 1]
type = PlaySnd
trigger1 = Time = 2
value = 230, 0

[State 231, Voice-Houh!]
type = PlaySnd
triggerall = random >= 700
trigger1 = Time = 2
value = 102, 0

[State 231, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 16
guardflag = MA
pausetime = 9,9
sparkno = S10001
sparkxy = 0,-20
hitsound   = S301,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -1
air.velocity = -1,-3

[State 231, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Standing light kick-high
; CNS difficulty: easy
[Statedef 232]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 22
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 232+ifelse(var(1)=0,0,3000)

[State 232, 1]
type = PlaySnd
trigger1 = Time = 2
value = 230, 0

[State 232, Voice-Houh!]
type = PlaySnd
triggerall = random >= 700
trigger1 = Time = 2
value = 102, 0

[State 232, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 16
guardflag = MA
pausetime = 9,9
sparkno = S10001
sparkxy = 0,-55
hitsound   = S301,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -1
air.velocity = -1,-3

[State 232, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing medium kick
; CNS difficulty: easy
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 65
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 240+ifelse(var(1)=0,0,3000)

[State 240, 1]
type = PlaySnd
trigger1 = Time = 2
value = 230, 0

[State 240, Voice-Heah..]
type = PlaySnd
triggerall = random >= 700
trigger1 = Time = 2
value = 103, 0

[State 240, VarAdd]
type = VarAdd
trigger1 = movecontact
v = 29
value = 1

[State 240, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
Damage = 36
guardflag = MA
pausetime = 12,12
sparkno = S10002
sparkxy = -12,-67
hitsound   = S301,1
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2.2,-3.2

[State 240, 3]
type = PosAdd
trigger1 = AnimElem = 7
x = 12

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Standing medium LEAP kick
; CNS difficulty: easy
[Statedef 241]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 65
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 241+ifelse(var(1)=0,0,3000)

[State 241, 1]
type = PlaySnd
trigger1 = Time = 2
value = 230, 0

[State 241, Voice-Heah..]
type = PlaySnd
triggerall = random >= 700
trigger1 = Time = 2
value = 103, 0

[State 241, 3]
type = VelSet
trigger1 = time = 3
x = 8.4
y = -2.0

[State 241, 3]
type = VelAdd
trigger1 = time >= 4 && time <= 16
x = 0.5

[State 241, HD1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype  = Medium
damage    = 15
guardflag = MA
pausetime = 7,7
sparkno = S10002
sparkxy = -12,-67
hitsound   = S301,1
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1
air.velocity = -1

[State 241, HD2]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype  = Medium
damage    = 20
guardflag = MA
pausetime = 9,9
sparkno = S10003
sparkxy = -12,-67
hitsound   = S301,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 25
ground.velocity = -9,-3
air.velocity = -8,-4
fall = 1
air.fall = 1
fall.recover = 0

[State 241, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
; Standing strong kick
[Statedef 250]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 75
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 250+ifelse(var(1)=0,0,3000)

[State 250, PlaySND]
type = PlaySnd
trigger1 = AnimElem = 3
value = 231, 0

[State 250, Voice-Hoi,Yeahih...]
type = PlaySnd
triggerall = random >= 700
trigger1 = AnimElem = 1
value = 104, 0

[State 250, VarAdd]
type = VarAdd
trigger1 = movecontact
v = 29
value = 1

[State 250, Hitdef1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype  = Medium
Damage = 25
guardflag = HA
pausetime = 8,8
sparkno = S10003
sparkxy = 15,-80
hitsound   = S300,2
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1, -2.5
air.velocity = -1,-6.5
fall = 1

[State 250, Hitdef2]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype  = Hard
Damage = 25
guardflag = MA
pausetime = 14,14
sparkno = S10002
sparkxy = 5,-35
hitsound   = S301,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 16
ground.hittime  = 18
ground.velocity = -5
air.velocity = -5.5, 3
fall = 1

[State 250, VelAdd]
type = VelAdd
trigger1 = AnimElem = 3
x = 2

[State 250, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Standing High kick
[Statedef 260]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 75
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 260+ifelse(var(1)=0,0,3000)

[State 260, PlaySND]
type = PlaySnd
trigger1 = AnimElem = 3
value = 231, 0

[State 260, Voice-Wuaaa!]
type = PlaySnd
triggerall = random >= 700
trigger1 = AnimElem = 1
value = 110, 0

[State 260, VarAdd]
type = VarAdd
trigger1 = movecontact
v = 29
value = 1

[State 260, VarAdd]
type = VarSet
trigger1 = movecontact
v = 4
value = 1

[State 260, Hitdef1]
type = HitDef
triggerall = Var(4) = 0
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Medium
damage = 45
guardflag = HA
pausetime = 10,10
sparkno = S10003
sparkxy = 15,-80
hitsound   = S301,2
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = 0, -12
air.velocity = 0,-12
fall = 1

[State 260, Hitdef2]
type = HitDef
triggerall = Var(4) = 1
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Medium
damage = 45
guardflag = HA
pausetime = 15,15
sparkno = S10003
sparkxy = 15,-80
hitsound   = S301,2
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5, -8
air.velocity = -5,-8
fall = 1

[State 260, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Advance Guard
[Statedef 330]
type    = S 
movetype= A 
physics = S 
juggle  = 0 
velset = 0,0
ctrl = 0 
poweradd = -200
sprpriority = 2
anim = IfElse(Var(1)=0,330,3330)

[State 330, Swing]
type = PlaySnd
trigger1 = Time = 1
value = 202, 0

[State 330, Voice]
type = PlaySnd
trigger1 = Time = 1 && random >= 700
value = 112, 0

[State 330, Spark]
type = Explod
trigger1 = time = 1
Anim = 10900
Pos = 30, -49
Id = 10900
sprpriority = 3
removeongethit = 0
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal =1
scale = 0.8,0.8

[State 330, Advance.Helper]
type = Helper
trigger1 = Time = 0
name = "Advance"
stateno = 12700
postype = p1
pos = -30, 0
keyctrl = 0
ownpal = 1
id = 12700

[State 330, HitOverride]
type = Hitoverride
trigger1 = 1
attr = S, NA
stateno = 130
value = 202, 0

[State 330, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 330, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Crouching light punch
; CNS difficulty: easy
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 1
poweradd= 15
ctrl = 0
sprpriority = 2
anim = 400+ifelse(var(1)=0,0,3000)

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 400, Voice-Ka...]
type = PlaySnd
triggerall = random >= 700
trigger1 = time = 1
value = 250,0

[State 400, CtrlSet]
type = CtrlSet
trigger1 = Time >= 10
value = 1

[State 400, VarAdd]
type = VarAdd
trigger1 = movecontact
v = 29
value = 1

[State 400, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = 19
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 8,8
sparkno = S10001
sparkxy = -6,-37
hitsound   = S300,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 12
ground.velocity = -4
air.velocity = -1.5,-3

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11

;---------------------------------------------------------------------------
;Crouching Medium punch
; CNS difficulty: easy
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 1
poweradd= 20
ctrl = 0
sprpriority = 2
anim = 410+ifelse(var(1)=0,0,3000)

[State 400, CtrlSet]
type = CtrlSet
trigger1 = Time >= 12
value = 1

[State 410, 1]
type = PlaySnd
trigger1 = Time = 1
value = 201, 0

[State 410, Voice-Ha!]
type = PlaySnd
triggerall = random >= 700
trigger1 = time = 1
value = 101,0

[State 410, VarAdd]
type = VarAdd
trigger1 = movecontact
v = 29
value = 1

[State 410, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 24
priority  = 3
animtype  = Medium
hitflag = MAF
guardflag = L
pausetime = 10,10
sparkno = S10001
sparkxy = -8,-40
hitsound   = S300,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 12
ground.velocity = -4
air.velocity = -1.5,-3

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
;---------------------------------------------------------------------------
;Crouching Strong punch
; CNS difficulty: easy
[Statedef 420]
type    = C
movetype= A
physics = C
juggle  = 1
poweradd= 20
ctrl = 0
sprpriority = 2
anim = 420+ifelse(var(1)=0,0,3000)

[State 420, CtrlSet]
type = CtrlSet
trigger1 = Time >= 12
value = 1

[State 420, 1]
type = PlaySnd
trigger1 = Time = 1
value = 201, 0

[State 420, Voice-Ha!]
type = PlaySnd
triggerall = random >= 700
trigger1 = time = 1
value = 106,0

[State 420, VarAdd]
type = VarAdd
trigger1 = movecontact
v = 29
value = 1

[State 420, HitDef]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 30
priority  = 3
animtype  = Hard
hitflag = MAF
guardflag = L
pausetime = 12,12
sparkno = S10002
sparkxy = -5,-52
hitsound   = S301,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 12
ground.velocity = -4
air.velocity = -1.5,-3

[State 420, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
;---------------------------------------------------------------------------
;Crouching Light Kick
; CNS difficulty: easy
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 1
poweradd= 22
ctrl = 0
sprpriority = 2
anim = 430+ifelse(var(1)=0,0,3000)

[State 430, 1]
type = PlaySnd
trigger1 = Time = 1
value = 230, 0

[State 430, Voice-Houh!]
type = PlaySnd
triggerall = random >= 700
trigger1 = Time = 1
value = 102, 0

[State 430, VarAdd]
type = VarAdd
trigger1 = movecontact
v = 29
value = 1

[State 430, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 30
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 9,9
sparkno = S10003
sparkxy = -10,0
hitsound   = S301,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 6
ground.hittime  = 12
ground.velocity = -5
air.velocity = -2,-3

[State 430, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Crouching Medium Kick
; CNS difficulty: easy
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 1
poweradd= 22
ctrl = 0
sprpriority = 2
anim = 440+ifelse(var(1)=0,0,3000)

[State 440, 1]
type = PlaySnd
trigger1 = Time = 1
value = 230, 0

[State 440, Voice-Houh!]
type = PlaySnd
triggerall = random >= 700
trigger1 = Time = 1
value = 102, 0

[State 440, VarAdd]
type = VarAdd
trigger1 = movecontact
v = 29
value = 1

[State 440, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 35
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 11,11
sparkno = S10002
sparkxy = -10,0
hitsound   = S301,1
guardsound = 6,0
ground.type = Trip
ground.slidetime = 6
ground.hittime  = 12
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20

[State 440, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Crouching Strong kick
; CNS difficulty: easy
[Statedef 450]
type    = C
movetype= A
physics = C
juggle  = 1
poweradd= 22
ctrl = 0
sprpriority = 2
anim = 450+ifelse(var(1)=0,0,3000)

[State 450, 1]
type = PlaySnd
trigger1 = Time = 1
value = 230, 0

[State 450, Voice-Hi!]
type = PlaySnd
triggerall = random >= 700
trigger1 = Time = 1
value = 113, 0

[State 450, VarAdd]
type = VarAdd
trigger1 = movecontact
v = 29
value = 1

[State 450, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 40
animtype  = Hard
hitflag = MAFD
guardflag = L
pausetime = 14,14
sparkno = S10002
sparkxy = -10,0
hitsound   = S301,1
guardsound = 6,0
ground.type = Trip
ground.slidetime = 6
ground.hittime  = 12
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20

[State 450, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Jump Weak Punch
; CNS difficulty: easy
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 11
ctrl = 0
sprpriority = 2
anim = 620+ifelse(var(1)=0,0,3000)

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 600, Voice-Ka!]
type = PlaySnd
triggerall = random >= 700
trigger1 = Time = 1
value = 250, 0

[State 600, VarAdd]
type = VarAdd
trigger1 = movecontact
v = 29
value = 1

[State 600, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 30
guardflag = HA
priority = 3
pausetime = 8,8
sparkno = S10002
sparkxy = -6,-42
hitsound   = S300,0
guardsound = 6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.3,-3

[State 600, 3]
type = CtrlSet
trigger1 = Time = 17
value = 1
;---------------------------------------------------------------------------
;Jump Medium Punch
; CNS difficulty: easy
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 11
ctrl = 0
sprpriority = 2
anim = 610+ifelse(var(1)=0,0,3000)

[State 610, 1]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 610, Voice-Ha!]
type = PlaySnd
triggerall = random >= 700
trigger1 = Time = 1
value = 101, 0

[State 610, VarAdd]
type = VarAdd
trigger1 = movecontact
v = 29
value = 1

[State 610, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 30
guardflag = HA
priority = 3
pausetime = 10,10
sparkno = S10001
sparkxy = -5,-17
hitsound   = S300,1
guardsound = 6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4,2
air.velocity = -1.3,2

[State 610, 3]
type = CtrlSet
trigger1 = Time = 17
value = 1
;---------------------------------------------------------------------------
;Jump Strong Punch
; CNS difficulty: easy
[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 11
ctrl = 0
sprpriority = 2
anim = 600+ifelse(var(1)=0,0,3000)

[State 620, 1]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 620, Voice-Ha!]
type = PlaySnd
triggerall = random >= 700
trigger1 = Time = 1
value = 106, 0

[State 620, VarAdd]
type = VarAdd
trigger1 = movecontact
v = 29
value = 1

[State 620, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 25
guardflag = HA
priority = 3
pausetime = 12,12
sparkno = S10001
sparkxy = -6,-20
hitsound   = S300,2
guardsound = 6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -3,4
air.velocity = -3,4
fall = 1

[State 620, 3]
type = CtrlSet
trigger1 = Time = 17
value = 1
;---------------------------------------------------------------------------
;Jump Light Kick
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 25
ctrl = 0
sprpriority = 2
anim = 630+ifelse(var(1)=0,0,3000)

[State 630, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 230, 0

[State 630, Voice-Houh!]
type = PlaySnd
triggerall = random >= 700
trigger1 = Time = 1
value = 102, 0

[State 630, VarAdd]
type = VarAdd
trigger1 = movecontact
v = 29
value = 1

[State 630, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 40
guardflag = HA
priority = 3
pausetime = 9,9
sparkno = S10002
sparkxy = 0,0
hitsound   = S300,1
guardsound = 6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 16
ground.velocity = -4
air.velocity = -2,-3
;---------------------------------------------------------------------------
;Jump Medium Kick
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 30
ctrl = 0
sprpriority = 2
anim = 640+ifelse(var(1)=0,0,3000)

[State 640, PlaySND]
type = PlaySnd
trigger1 = Time = 1
value = 230, 0

[State 640, Hyeah...]
type = PlaySnd
triggerall = random >= 700
trigger1 = Time = 1
value = 103, 0

[State 640, VarAdd]
type = VarAdd
trigger1 = movecontact
v = 29
value = 1

[State 640, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 50
guardflag = HA
priority = 3
pausetime = 11,11
sparkno = S10002
sparkxy = 0,-30
hitsound   = S301,1
guardsound = 6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 26
ground.velocity = -4
air.velocity = -2,-3
;---------------------------------------------------------------------------
;Jump Strong Kick
; CNS difficulty: easy
[Statedef 650]
type    = A
movetype= A
physics = A
juggle  = 1
poweradd= 20
ctrl = 0
sprpriority = 2
anim = 650+ifelse(var(1)=0,0,3000)

[State 650, 1]
type = PlaySnd
trigger1 = Time = 1
value = 230, 0

[State 650, Voice-Ha!]
type = PlaySnd
triggerall = random >= 700
trigger1 = Time = 1
value = 101, 0

[State 650, VarAdd]
type = VarAdd
trigger1 = movecontact
v = 29
value = 1

[State 650, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 60
guardflag = HA
priority = 3
pausetime = 13,13
sparkno = S10003
sparkxy = 0,0
hitsound   = S301,2
guardsound = 6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 20
ground.velocity = -4,6
air.velocity = -4,6
fall = 1

;---------------------------------------------------------------------------
;Basic Throw
[Statedef 800]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = 800+ifelse(var(1)=0,0,3000)
sprpriority = 1

[State 800, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
priority = 2, miss
sparkno = -1
snap = 32,0,0,1
p1stateno = 810
p2stateno = 820

[State 800, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------
; Throw successful
[Statedef 810]
type = S
movetype = A
physics = S
velset = 0,0
anim = 810+ifelse(var(1)=0,0,3000)
sprpriority = 1

[State 810, Invincibility]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 810, PlaySND]
type = PlaySnd
trigger1 = AnimElem = 4
value = 200,0

[State 810, Voice-Houh!]
type = PlaySnd
triggerall = random >= 500
trigger1 = AnimElem = 4
value = 102,0

[State 810, Push]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 810, Damage]
type = TargetLifeAdd
trigger1 = animtime = 0
value = -20

[State 810, TBind1]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 10,0

[State 810, TBind2]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
pos = 2,-3

[State 810, TBind3]
type = TargetBind
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
pos = -6,-6

[State 810, TState]
type = TargetState
trigger1 = AnimElem = 4
value = 821

[State 810, Turn]
type = Turn
trigger1 = AnimElem = 5

[State 810, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Throw_d (hit by, on ground)
;-=Throw_d, not Throw_e=-
[Statedef 820]
type    = A
movetype= H ;Get hit
physics = N
velset = 1,0
ctrl = 0
anim = 5011
sprpriority = 2

;BLARGH!
[State 820, HitBy]
type = HitBy
Trigger1 = Time >= 0
value = SCA
time = 1

;-------------------------------------------------------------------------
; Player 2 State
;-=Warning: This is not a Player 1 State=-
[Statedef 821]
type    = A
movetype= H ;Get hit
physics = N
velset = 6.5,-11
ctrl = 0
anim = 5050
sprpriority = 2

[State 821, PosAdd]
type = PosAdd
Trigger1 = Time = 0
x =  2
y = 0

[State 821, 2] ;Gravity
type = VelAdd
Trigger1 = Time > 0
y = 0.6

[State 821, Damage]
type = LifeAdd
Trigger1 = Time = 0
value = -60

[State 821, SelfState] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 10
value = 5100 ;Hit ground

;---------------------------------------------------------------------------
;Toss Up
;-=It's a ring toss game.=-
[Statedef 850]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = 850+ifelse(var(1)=0,0,3000)
sprpriority = 1

[State 850, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
priority = 2, miss
sparkno = -1
snap = 32,0,0,1
p1stateno = 851
p2stateno = 852

[State 850, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------
; Toss Up successful
;-=I'm sick of making up these dumb comments=-
[Statedef 851]
type = S
movetype = A
physics = S
velset = 0,0
anim = 851+ifelse(var(1)=0,0,3000)
sprpriority = 1

[State 851, VarSet]
type = VarSet
trigger1 = (command = "x" || command = "y" || command = "z") && (var(35) = 0)
v = 35
value = 1

[State 851, Control]
type = null;CtrlSet
trigger1 = Time >= 25
value = 1

[State 851, Invincibility]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 851, PlaySND]
type = PlaySnd
trigger1 = AnimElem = 4
value = 200,0

[State 851, Voice-Houh!]
type = PlaySnd
trigger1 = AnimElem = 4
value = 102,0
volume = 255

[State 851, Push]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 851, Damage]
type = TargetLifeAdd
trigger1 = animtime = 0
value = -20

[State 851, TBind1]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 10,0

[State 851, TBind2]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
pos = 2,0

[State 851, TBind3]
type = TargetBind
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
pos = -6,0

[State 851, TState]
type = TargetState
trigger1 = AnimElem = 4
value = 853

[State 851, Turn]
type = Turn
trigger1 = AnimElem = 3

[State 851, End]
type = ChangeState
triggerall = Var(35) = 1
trigger1 = Time = [24,30]
value = 860
ctrl = 1

[State 851, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Throw_d (hit by, on ground)
;-=Throw_d, not Throw_e=-
[Statedef 852]
type    = A
movetype= H ;Get hit
physics = N
velset = 1,0
ctrl = 0
anim = 5011
sprpriority = 2

;BLARGH!
[State 852, HitBy]
type = HitBy
Trigger1 = Time >= 0
value = SCA
time = 1

;-------------------------------------------------------------------------
; Player 2 State
;-=Warning: This is not a Player 1 State=-
[Statedef 853]
type    = A
movetype= H ;Get hit
physics = N
velset = 0.5,-16.7
ctrl = 0
anim = 5050
sprpriority = 2

[State 853, PosAdd]
type = PosAdd
Trigger1 = Time = 0
x =  2
y = -45

[State 853, 2] ;Gravity
type = VelAdd
Trigger1 = Time > 0
y = 0.55

[State 853, Damage]
type = LifeAdd
Trigger1 = Time = 0
value = -36

[State 853, SelfState] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 10
value = 5100 ;Hit ground
;---------------------------------------------------------------------------
;Aerial Smash Start(Zanzoken)
[Statedef 860]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
facep2 = 1
poweradd = -25
anim = 860+ifelse(var(1)=0,0,3000)

[State 860, NotHitBy]
type = NotHitBy
Trigger1 = Time = 5
value = SCA
time = 6

[State 860, TeleportUp]
type = PosAdd
Trigger1 = AnimElem = 3
x = -7
y = -285

[State 860, AfterImageStill]
type = Explod
Trigger1 = AnimElem = 1
anim = 862+ifelse(var(1)=0,0,3000)
removetime = 25
velocity = 0
offset = 0

[State 860, AfterImageLeft]
type = Explod
Trigger1 = AnimElem = 1
anim = 862+ifelse(var(1)=0,0,3000)
removetime = 25
velocity = -1.5
offset = 0

[State 860, AfterImageRight]
type = Explod
Trigger1 = AnimElem = 1
anim = 862+ifelse(var(1)=0,0,3000)
removetime = 25
velocity = 1.5
offset = 0

[State 860, Next]
type = ChangeState
Trigger1 = animtime = 0
value = 861
ctrl = 1

[State 2900, ScreenBounderies]
type = ScreenBound
Trigger1 = Time = 0
Trigger2 = Time >= 10
Trigger3 = AnimElem = 2
Trigger4 = AnimElem = 3
Trigger5 = AnimElem = 4
Trigger6 = AnimTime = 0
value = 0
movecamera = 1,1

[State 860, PlaySND]
type = PlaySnd
Trigger1 = AnimElem = 2
value = 2200,1

;---------------------------------------------------------------------------
; Aerial Smash(Reapear and Hit)
[Statedef 861]
type    = S     
movetype= A     
physics = S  
juggle  = 0     
velset = 0,0
ctrl = 0  
anim = 861+ifelse(var(1)=0,0,3000)
poweradd = 55
sprpriority = -2

[State 861, VarSet]
type = VarSet
trigger1 = (time = 0)
v = 36
value = 0

[State 861, VarSet]
type = VarSet
trigger1 = (command = "a" || command = "b" || command = "c") && (var(36) = 0) && (time < 28)
v = 36
value = 1

[State 861, Push]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 861, AfterImage]
type = AfterImage
Trigger1 = AnimElem = 1
time = 15
trans = add
palfx = 256,256,256

[State 861, 1]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 32,8
hitflag = MAFD
guardflag = MA
pausetime = 8,8
sparkno = S10003
sparkxy = -20,-37
hitsound   = S301,2
guardsound = 6,0
animtype = Back
ground.type = High
ground.slidetime = 12
ground.hittime  = 23
ground.velocity = 0,16   
air.velocity = 0,16
fall = 1
fall.recover = 0
fall.xvelocity = -0.35
fall.yvelocity = -8
down.bounce = 1

[State 861, End]
type = ChangeState
trigger1 = animtime = 0
value = 862

[State 861, End]
type = ChangeState
triggerall = Var(36) = 1 && var(39) != 1
trigger1 = movecontact && time >= 28
value = 870

[State 861, End]
type = ChangeState
triggerall = var(39) = 1
trigger1 = movecontact && time >= 28
value = 870
;---------------------------------------------------------------------------
; Aerial Smash End
[Statedef 862]
type    = A
physics = A
anim = 863+ifelse(var(1)=0,0,3000)

[State 862, PLEASE.SIR]
type = Null
trigger1 = 1
;---------------------------------------------------------------------------
; Dragon Rush Kick
[Statedef 870]
type    = S     
movetype= A     
physics = S  
juggle  = 0     
velset = 0,0
ctrl = 0  
anim = 870+ifelse(var(1)=0,0,3000)
poweradd = 55
sprpriority = 2

[State 870, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 870, Sound]
type = PlaySND
trigger1 = time = 13
value = 3200,1;231,0
volume = 255

[State 870, Voice]
type = PlaySND
trigger1 = time = 13
value = 3200,0
volume = 255

[State 870, VelSet]
type = VelSet
trigger1 = time = 14
x = 0
y = 16

[State 870, AfterImage]
type = AfterImage
trigger1 = time = 13
time = 10
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,256,256
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 870, 1]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 32,8
hitflag = MAFD
guardflag = MA
pausetime = 12,6
sparkno = S10003
sparkxy = -15,0
hitsound   = S300,2
guardsound = 6,0
animtype = Hard
ground.type = High
ground.slidetime = 12
ground.hittime  = 23
ground.velocity = 0,16   
air.velocity = 0,16
fall = 1
fall.recover = 0
fall.xvelocity = 0
fall.yvelocity = -4
down.bounce = 1

[State 870, Next]
type = ChangeState
trigger1 = movecontact
value = 871

[State 870, 6]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 870, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y = 0
value = 52
;---------------------------------------------------------------------------
;Dragon Rush Kick Retreat
[Statedef 871]
type    = A     
movetype= A     
physics = A  
juggle  = 0     
velset = 0,0
ctrl = 0  
anim = 871+ifelse(var(1)=0,0,3000)
poweradd = 0
sprpriority = 2

[State 871, VelSet]
type = VelSet
trigger1 = time = 0
x = -2.8
y = -8.5

[State 871, Next]
type = ChangeState
trigger1 = animtime = 0
value = 872
;---------------------------------------------------------------------------
; Dragon Rush Kick End
[Statedef 872]
type    = A
physics = A
anim = 872+ifelse(var(1)=0,0,3000)

[State 872, YES.SIR]
type = Null
trigger1 = 1
;---------------------------------------------------------------------------
; Tiger Jack Hammer (Part 1)
[Statedef 900]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
sprpriority = -1
anim = 900+ifelse(var(1)=0,0,3000)

[State 900, Hitdef]
type = HitDef
trigger1 = Time = 0
numhits = 0
attr = S, NA
animtype  = Hard
damage    = 0
guardflag = MA
pausetime = 3,16
sparkno = -1
sparkxy = 0,0
hitsound   = -1
guardsound = -1
ground.type = Low
ground.slidetime = 4
ground.hittime  = 25
ground.velocity = 2
air.velocity = 2
p1stateno=901

[State 900, Next]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Tiger Jack Hammer (Part 2)
[Statedef 901]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
sprpriority = 1
anim = 901+ifelse(var(1)=0,0,3000)

[State 901, VarSet]
type = VarSet
triggerall = var(39) = 0
trigger1 = time = 0
v = 31
value = 0

[State 901, AI.VarSet]
type = VarSet
triggerall = var(39) = 1
trigger1 = time = 0
v = 31
value = 8

[State 901, Voice-"Seeyah!"]
type = PlaySnd
trigger1 = (AnimElem = 1 && random > 500)
value = 109, 0
volume = 245

[State 901, VarAdd]
type = VarAdd
triggerall = (command = "x" || command = "y" || command = "z")
trigger1 = (Var(31) <= 8 && time > 14)
;trigger1 = (Animelem = 5,6 && Var(31) = 0)
;trigger2 = (Animelem = 7,8 && Var(31) = 1)
;trigger3 = (Animelem = 9,10 && Var(31) = 2) 
;trigger4 = (Animelem = 11,12 && Var(31) = 3)
;trigger5 = (Animelem = 13,14 && Var(31) = 4) 
;trigger6 = (Animelem = 14,16 && Var(31) = 5)
;trigger7 = (Animelem = 17,18 && Var(31) = 6) 
;trigger8 = (Animelem = 19,20 && Var(31) = 7)
v = 31
value = 1

[State 901, PlaySND1]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
value = 230, 0
volume = 100

[State 901, PlaySND2]
type = PlaySnd
trigger1 = AnimElem = 8
trigger2 = AnimElem = 10
trigger3 = AnimElem = 12
trigger4 = AnimElem = 14
trigger5 = AnimElem = 16
trigger6 = AnimElem = 18
trigger7 = AnimElem = 20
value = 201, 0

[State 901, PlaySND3]
type = PlaySnd
trigger1 = AnimElem = 23
value = 231, 0

[State 901, VelAdd]
type = VelAdd
trigger1 = AnimElem = 22
x = 1

[State 901, HitDef1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype  = Medium
damage    = 12,3
getpower  = 5
givepower = 5
guardflag = MA
pausetime = 5,5
sparkno = S10002
sparkxy = -15,-63
hitsound   = S300,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 16
ground.velocity = 0
air.velocity = 0,0
kill = 0
guard.kill = 0

[State 901, HitDef2]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NA
animtype  = Medium
damage    = 12,3
getpower  = 5
givepower = 5
guardflag = MA
pausetime = 5,5
sparkno = S10002
sparkxy = -8,-40
hitsound   = S301,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 16
ground.velocity = 0
air.velocity = 0,0
kill = 0
guard.kill = 0

[State 901, HitDef3]
type = HitDef
trigger1 = AnimElem = 10
trigger2 = AnimElem = 14
trigger3 = AnimElem = 18
attr = S, NA
animtype  = Medium
damage    = 7,2
getpower  = 5
givepower = 5
guardflag = MA
pausetime = 3,4
sparkno = S10001
sparkxy = -5,-48
hitsound   = S300,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 16
ground.velocity = 0
air.velocity = 0,0
kill = 0
guard.kill = 0

[State 901, HitDef4]
type = HitDef
trigger1 = AnimElem = 8
trigger2 = AnimElem = 12
trigger3 = AnimElem = 16
trigger4 = AnimElem = 20
attr = S, NA
animtype  = Medium
damage    = 7,2
getpower  = 5
givepower = 5
guardflag = MA
pausetime = 3,4
sparkno = S10001
sparkxy = -22,-52
hitsound   = S301,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 16
ground.velocity = 0
air.velocity = 0,0
kill = 0
guard.kill = 0

[State 901, HitDef5]
type = HitDef
trigger1 = AnimElem = 23
attr = S, NA
animtype  = Medium
damage    = 37, 9
getpower  = 20
givepower = 15
guardflag = MA
pausetime = 6,6
sparkno = S10003
sparkxy = -8,-42
hitsound   = S300,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 19
ground.hittime  = 22
ground.velocity = -12,-2
air.velocity = -12,-2
fall = 1
air.fall = 1
fall.recover = 0

[State 901, End]
type = ChangeState
trigger1 = (Animelem = 7 && Var(31) = 0) 
trigger2 = (Animelem = 9 && Var(31) = 1)
trigger3 = (Animelem = 11 && Var(31) = 2) 
trigger4 = (Animelem = 13 && Var(31) = 3)
trigger5 = (Animelem = 15 && Var(31) = 4) 
trigger6 = (Animelem = 17 && Var(31) = 5)
trigger7 = (Animelem = 19 && Var(31) = 6) 
trigger8 = (Animelem = 21 && Var(31) = 7)
trigger9 = (AnimTime = 0)
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Weak Fireball 01
;-=And again it doesn't resemble fire...=-
[Statedef 1000]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 1000+ifelse(var(1)=0,0,3000)

[State 1000, PowerSubtract]
Type = PowerAdd
Trigger1 = Time >= 1 
value = -3

[State 1000, VarSet]
Type = VarSet
Trigger1 = Time = 0 
v = 10
value = 0

[State 1000, VarAdd]
Type = VarAdd
Trigger1 = (command = "x" && (var(10) = 0) && time >= 1) || (var(39) = 1 && (var(10) = 0) && time >= 1)
v = 10
value = 1

[State 1000, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1000, Voice-Yah!]
type = PlaySnd
triggerall = random >= 700
trigger1 = AnimElem = 2
value = 105,0

[State 1000, LaunchSND]
type = PlaySnd
trigger1 = time = 3
value = 400,0

[State 1000, SparkleB.PosVarX]
type = VarRandom
trigger1 = Time >= 2 && Time <= 5
v = 11
range = 29,34

[State 1000, SparkleB.PosVarY]
type = VarRandom
trigger1 = Time >= 2 && Time <= 5
v = 12
range = -53,-58

[State 1000, Projectile]
type = Projectile
trigger1 = Time = 5
ProjAnim = 9015         
ProjHitAnim = 13000  
ProjRemAnim = 13000   
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
projid = 9015
offset = 30, -55       
velocity = 10.25, 0   
remvelocity = .7, 0  
accel = -0.02, 0     
attr = S, SP
damage    = 10
animtype  = Light
getpower  = 0
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = -1
sparkxy = 0, 0
hitsound   = S900,5
guardsound = S900,5
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 1
;PalFX
palfx.time = 15
palfx.add = 180,180,256
palfx.sinadd = 150,150,220,15
palfx.mul = 180,180,256

[State 1000, SparkleB.Helper]
type = Helper
trigger1 = Time >= 2 && Time <= 5
name = "SparkleB"
stateno = 9101
postype = p1
pos = var(11), var(12)
keyctrl = 0
ownpal = 0
id = 9101
size.xscale = IfElse(Random <= 499,0.2,0.3)
size.yscale = IfElse(Random <= 499,0.2,0.3)

[State 1000, Tired]
type = ChangeState
trigger1 = AnimTime = 0 && power = 0
value = 5300
ctrl = 1

[State 1000, End]
type = ChangeState
trigger1 = AnimTime = 0 && (var(10) = 0) && power > 0
value = 1003
ctrl = 1

[State 1000, Next]
type = ChangeState
trigger1 = AnimTime = 0 && (var(10) = 1) && power > 0
value = 1001
ctrl = 1
;---------------------------------------------------------------------------
;Weak Fireball 02
;-=And again it doesn't resemble fire...=-
[Statedef 1001]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 1001+ifelse(var(1)=0,0,3000)

[State 1001, PowerSubtract]
Type = PowerAdd
Trigger1 = Time >= 1 
value = -3

[State 1001, VarAdd]
Type = VarAdd
Trigger1 = (command = "x" && (var(10) = 1 || var(10) = 3) && time >= 1) || (var(39) = 1 && (var(10) = 1 || var(10) = 3) && time >= 1)
v = 10
value = 1

[State 1001, VarRandom]
Type = VarRandom
Trigger1 = time = 0
v = 18
range = -1*Var(10), Var(10)

[State 1001, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1001, LaunchSND]
type = PlaySnd
trigger1 = time = 3
value = 400,0

[State 1001, SparkleB.PosVarX]
type = VarRandom
trigger1 = Time >= 2 && Time <= 5
v = 11
range = 32,37

[State 1001, SparkleB.PosVarY]
type = VarRandom
trigger1 = Time >= 2 && Time <= 5
v = 12
range = -53,-58

[State 1001, Projectile]
type = Projectile
trigger1 = Time = 5
ProjAnim = 9015         
ProjHitAnim = 13000  
ProjRemAnim = 13000   
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
projid = 9015
offset = 36, -55       
velocity = 10.25, 0.125*Var(18) 
remvelocity = .7, 0  
accel = -0.02, 0      
attr = S, SP
damage    = 10
animtype  = Light
getpower  = 0
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = -1
sparkxy = 0, 0
hitsound   = S900,5
guardsound = S900,5
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 1
;PalFX
palfx.time = 15
palfx.add = 180,180,256
palfx.sinadd = 150,150,220,15
palfx.mul = 180,180,256

[State 1001, SparkleB.Helper]
type = Helper
trigger1 = Time >= 2 && Time <= 5
name = "SparkleB"
stateno = 9101
postype = p1
pos = var(11), var(12)
keyctrl = 0
ownpal = 0
id = 9101
size.xscale = IfElse(Random <= 499,0.2,0.3)
size.yscale = IfElse(Random <= 499,0.2,0.3)

[State 1001, Tired]
type = ChangeState
trigger1 = AnimTime = 0 && power = 0
value = 5300
ctrl = 1

[State 1001, End]
type = ChangeState
trigger1 = AnimTime = 0 && (var(10) = 1 || var(10) = 3 || var(10) = 5) && power > 0
value = 0
ctrl = 1

[State 1001, End]
type = ChangeState
trigger1 = AnimTime = 0 && (var(10) = 2 || var(10) = 4) && power > 0
value = 1002
ctrl = 1
;---------------------------------------------------------------------------
;Weak Fireball 03
;-=And again it doesn't resemble fire...=-
[Statedef 1002]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 1002+ifelse(var(1)=0,0,3000)

[State 1000, PowerSubtract]
Type = PowerAdd
Trigger1 = Time >= 1 
value = -3

[State 1002, VarAdd]
Type = VarAdd
Trigger1 = (command = "x" && (var(10) = 2 || var(10) = 4) && time >= 1) || (var(39) = 1 && (var(10) = 2 || var(10) = 4) && time >= 1)
v = 10
value = 1

[State 1001, VarRandom]
Type = VarRandom
Trigger1 = time = 0
v = 18
range = -1*Var(10), Var(10)

[State 1002, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1002, LaunchSND]
type = PlaySnd
trigger1 = time = 3
value = 400,0

[State 1002, SparkleB.PosVarX]
type = VarRandom
trigger1 = Time >= 2 && Time <= 5
v = 11
range = 29,34

[State 1002, SparkleB.PosVarY]
type = VarRandom
trigger1 = Time >= 2 && Time <= 5
v = 12
range = -53,-58

[State 1002, Projectile]
type = Projectile
trigger1 = Time = 5
ProjAnim = 9015         
ProjHitAnim = 13000  
ProjRemAnim = 13000   
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
projid = 9015
offset = 30, -55       
velocity = 10.25, 0.125*Var(18)   
remvelocity = .7, 0  
accel = -0.02, 0    
attr = S, SP
damage    = 10
animtype  = Light
getpower  = 0
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = -1
sparkxy = 0, 0
hitsound   = S900,5
guardsound = S900,5
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -3.5      
air.type = Low
air.velocity = -2.5,-5.5
air.juggle = 1
;PalFX
palfx.time = 15
palfx.add = 180,180,256
palfx.sinadd = 150,150,220,15
palfx.mul = 180,180,256

[State 1002, SparkleB.Helper]
type = Helper
trigger1 = Time >= 2 && Time <= 5
name = "SparkleB"
stateno = 9101
postype = p1
pos = var(11), var(12)
keyctrl = 0
ownpal = 0
id = 9101
size.xscale = IfElse(Random <= 499,0.2,0.3)
size.yscale = IfElse(Random <= 499,0.2,0.3)

[State 1002, Tired]
type = ChangeState
trigger1 = AnimTime = 0 && power = 0
value = 5300
ctrl = 1

[State 1002, End]
type = ChangeState
trigger1 = AnimTime = 0 && (var(10) = 2 || var(10) = 4) && power > 0
value = 0
ctrl = 1

[State 1002, End]
type = ChangeState
trigger1 = AnimTime = 0 && (var(10) = 3 || var(10) = 5) && power > 0
value = 1001
ctrl = 1
;---------------------------------------------------------------------------
;Weak Fireball End
;-=In case you forget to tap random buttons...=-
[Statedef 1003]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 1003+ifelse(var(1)=0,0,3000)

[State 1003, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1003, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Medium Fireball 01
;-=And again it doesn't resemble fire...=-
[Statedef 1010]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 1010+ifelse(var(1)=0,0,3000)

[State 1010, PowerSubtract]
Type = PowerAdd
Trigger1 = Time >= 1 
value = -4

[State 1010, VarSet]
Type = VarSet
Trigger1 = Time = 0 
v = 10
value = 0

[State 1010, VarAdd]
Type = VarAdd
Trigger1 = (command = "y" && (var(10) = 0) && time >= 1) || (var(39) = 1 && (var(10) = 0) && time >= 1)
v = 10
value = 1

[State 1010, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1010, Voice-Yah!]
type = PlaySnd
triggerall = random >= 700
trigger1 = AnimElem = 2
value = 105,0

[State 1010, LaunchSND]
type = PlaySnd
trigger1 = time = 4
value = 400,0

[State 1010, SparkleB.PosVarX]
type = VarRandom
trigger1 = Time >= 3 && Time <= 6
v = 11
range = 29,34

[State 1010, SparkleB.PosVarY]
type = VarRandom
trigger1 = Time >= 3 && Time <= 6
v = 12
range = -53,-58

[State 1010, Projectile]
type = Projectile
trigger1 = Time = 5
ProjAnim = 9015         
ProjHitAnim = 13000  
ProjRemAnim = 13000   
ProjScale = 1.0, 1.0
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
projid = 9015
offset = 30, -55       
velocity = 9.5, 0   
remvelocity = .7, 0  
accel = -0.02, 0     
attr = S, SP
damage    = 12
animtype  = Medium
getpower  = 0
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = -1
sparkxy = 0, 0
hitsound   = S900,5
guardsound = S900,5
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -9.5
airguard.velocity = -3.5      
air.type = Low
air.velocity = -5.0,-3.5
air.juggle = 1
;PalFX
palfx.time = 15
palfx.add = 180,180,256
palfx.sinadd = 150,150,220,15
palfx.mul = 180,180,256

[State 1010, SparkleB.Helper]
type = Helper
trigger1 = Time >= 3 && Time <= 6
name = "SparkleB"
stateno = 9101
postype = p1
pos = var(11), var(12)
keyctrl = 0
ownpal = 0
id = 9101
size.xscale = IfElse(Random <= 499,0.2,0.3)
size.yscale = IfElse(Random <= 499,0.2,0.3)

[State 1010, Tired]
type = ChangeState
trigger1 = AnimTime = 0 && power = 0
value = 5300
ctrl = 1

[State 1010, End]
type = ChangeState
trigger1 = AnimTime = 0 && (var(10) = 0) && power > 0
value = 1003
ctrl = 1

[State 1010, Next]
type = ChangeState
trigger1 = AnimTime = 0 && (var(10) = 1) && power > 0
value = 1011
ctrl = 1
;---------------------------------------------------------------------------
;Medium Fireball 02
;-=And again it doesn't resemble fire...=-
[Statedef 1011]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 1011+ifelse(var(1)=0,0,3000)

[State 1011, PowerSubtract]
Type = PowerAdd
Trigger1 = Time >= 1 
value = -4

[State 1011, VarAdd]
Type = VarAdd
Trigger1 = (command = "y" && (var(10) = 1 || var(10) = 3) && time >= 1) || (var(39) = 1 && (var(10) = 1) && time >= 1)
v = 10
value = 1

[State 1011, VarRandom]
Type = VarRandom
Trigger1 = time = 0
v = 18
range = -1*Var(10), Var(10)

[State 1011, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1011, LaunchSND]
type = PlaySnd
trigger1 = time = 4
value = 400,0

[State 1011, SparkleB.PosVarX]
type = VarRandom
trigger1 = Time >= 3 && Time <= 6
v = 11
range = 32,37

[State 1011, SparkleB.PosVarY]
type = VarRandom
trigger1 = Time >= 3 && Time <= 6
v = 12
range = -53,-58

[State 1011, Projectile]
type = Projectile
trigger1 = Time = 5
ProjAnim = 9015         
ProjHitAnim = 13000  
ProjRemAnim = 13000   
ProjScale = 1.0, 1.0
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
projid = 9015
offset = 36, -55       
velocity = 9.5, 0.2*Var(18) 
remvelocity = .7, 0  
accel = -0.02, 0      
attr = S, SP
damage    = 12
animtype  = Medium
getpower  = 0
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = -1
sparkxy = 0, 0
hitsound   = S900,5
guardsound = S900,5
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -9.5
airguard.velocity = -3.5      
air.type = Low
air.velocity = -5,-3.5
air.juggle = 1
;PalFX
palfx.time = 15
palfx.add = 180,180,256
palfx.sinadd = 150,150,220,15
palfx.mul = 180,180,256

[State 1011, SparkleB.Helper]
type = Helper
trigger1 = Time >= 3 && Time <= 6
name = "SparkleB"
stateno = 9101
postype = p1
pos = var(11), var(12)
keyctrl = 0
ownpal = 0
id = 9101
size.xscale = IfElse(Random <= 499,0.2,0.3)
size.yscale = IfElse(Random <= 499,0.2,0.3)

[State 1011, Tired]
type = ChangeState
trigger1 = AnimTime = 0 && power = 0
value = 5300
ctrl = 1

[State 1011, End]
type = ChangeState
trigger1 = AnimTime = 0 && (var(10) = 1 || var(10) = 3 || var(10) = 5) && power > 0
value = 0
ctrl = 1

[State 1011, End]
type = ChangeState
trigger1 = AnimTime = 0 && (var(10) = 2 || var(10) = 4) && power > 0
value = 1012
ctrl = 1
;---------------------------------------------------------------------------
;Medium Fireball 03
;-=And again it doesn't resemble fire...=-
[Statedef 1012]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 1012+ifelse(var(1)=0,0,3000)

[State 1012, PowerSubtract]
Type = PowerAdd
Trigger1 = Time >= 1 
value = -4

[State 1012, VarAdd]
Type = VarAdd
Trigger1 = (command = "y" && (var(10) = 2 || var(10) = 4) && time >= 1) || (var(39) = 1 && (var(10) = 2) && time >= 1)
v = 10
value = 1

[State 1012, VarRandom]
Type = VarRandom
Trigger1 = time = 0
v = 18
range = -1*Var(10), Var(10)

[State 1012, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1012, LaunchSND]
type = PlaySnd
trigger1 = time = 4
value = 400,0

[State 1012, SparkleB.PosVarX]
type = VarRandom
trigger1 = Time >= 3 && Time <= 6
v = 11
range = 29,34

[State 1012, SparkleB.PosVarY]
type = VarRandom
trigger1 = Time >= 3 && Time <= 6
v = 12
range = -53,-58

[State 1012, Projectile]
type = Projectile
trigger1 = Time = 5
ProjAnim = 9015         
ProjHitAnim = 13000  
ProjRemAnim = 13000   
ProjScale = 1.0, 1.0
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
projid = 9015
offset = 30, -55       
velocity = 9.5, 0.2*Var(18)   
remvelocity = .7, 0  
accel = -0.02, 0    
attr = S, SP
damage    = 12
animtype  = Medium
getpower  = 0
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = -1
sparkxy = 0, 0
hitsound   = S900,5
guardsound = S900,5
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -9.5
airguard.velocity = -3.5      
air.type = Low
air.velocity = -5,-3.5
air.juggle = 1
;PalFX
palfx.time = 15
palfx.add = 180,180,256
palfx.sinadd = 150,150,220,15
palfx.mul = 180,180,256

[State 1012, SparkleB.Helper]
type = Helper
trigger1 = Time >= 3 && Time <= 6
name = "SparkleB"
stateno = 9101
postype = p1
pos = var(11), var(12)
keyctrl = 0
ownpal = 0
id = 9101
size.xscale = IfElse(Random <= 499,0.2,0.3)
size.yscale = IfElse(Random <= 499,0.2,0.3)

[State 1012, Tired]
type = ChangeState
trigger1 = AnimTime = 0 && power = 0
value = 5300
ctrl = 1

[State 1012, End]
type = ChangeState
trigger1 = AnimTime = 0 && (var(10) = 2 || var(10) = 4) && power > 0
value = 0
ctrl = 1

[State 1012, End]
type = ChangeState
trigger1 = AnimTime = 0 && (var(10) = 3 || var(10) = 5) && power > 0
value = 1011
ctrl = 1
;---------------------------------------------------------------------------
;Strong Fireball 01
;-=And again it doesn't resemble fire...=-
[Statedef 1020]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 1020+ifelse(var(1)=0,0,3000)

[State 1020, PowerSubtract]
Type = PowerAdd
Trigger1 = Time >= 1 
value = -5

[State 1020, VarSet]
Type = VarSet
Trigger1 = Time = 0 
v = 10
value = 0

[State 1020, VarAdd]
Type = VarAdd
Trigger1 = (command = "z" && (var(10) = 0) && time >= 1) || (var(39) = 1 && (var(10) = 0) && time >= 1)
v = 10
value = 1

[State 1020, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1020, Voice-Yah!]
type = PlaySnd
triggerall = random >= 700
trigger1 = AnimElem = 2
value = 105,0

[State 1020, LaunchSND]
type = PlaySnd
trigger1 = time = 5
value = 400,0

[State 1020, SparkleB.PosVarX]
type = VarRandom
trigger1 = Time >= 4 && Time <= 7
v = 11
range = 29,34

[State 1020, SparkleB.PosVarY]
type = VarRandom
trigger1 = Time >= 4 && Time <= 7
v = 12
range = -53,-58

[State 1020, Projectile]
type = Projectile
trigger1 = Time = 4
ProjAnim = 9015         
ProjHitAnim = 13000  
ProjRemAnim = 13000   
ProjScale = 1.0, 1.0
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
projid = 9015
offset = 30, -55       
velocity = 8.75, 0   
remvelocity = .7, 0  
accel = -0.02, 0     
attr = S, SP
damage    = 14
animtype  = Medium
getpower  = 0
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = -1
sparkxy = 0, 0
hitsound   = S900,5
guardsound = S900,5
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -11
airguard.velocity = -3.5      
air.type = Low
air.velocity = -5,-3.5
air.juggle = 1
;PalFX
palfx.time = 15
palfx.add = 180,180,256
palfx.sinadd = 150,150,220,15
palfx.mul = 180,180,256

[State 1020, SparkleB.Helper]
type = Helper
trigger1 = Time >= 4 && Time <= 7
name = "SparkleB"
stateno = 9101
postype = p1
pos = var(11), var(12)
keyctrl = 0
ownpal = 0
id = 9101
size.xscale = IfElse(Random <= 499,0.2,0.3)
size.yscale = IfElse(Random <= 499,0.2,0.3)

[State 1020, Tired]
type = ChangeState
trigger1 = AnimTime = 0 && power = 0
value = 5300
ctrl = 1

[State 1020, End]
type = ChangeState
trigger1 = AnimTime = 0 && (var(10) = 0) && power > 0
value = 1003
ctrl = 1

[State 1020, Next]
type = ChangeState
trigger1 = AnimTime = 0 && (var(10) = 1) && power > 0
value = 1021
ctrl = 1
;---------------------------------------------------------------------------
;Strong Fireball 02
;-=And again it doesn't resemble fire...=-
[Statedef 1021]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 1021+ifelse(var(1)=0,0,3000)

[State 1021, PowerSubtract]
Type = PowerAdd
Trigger1 = Time >= 1 
value = -5

[State 1021, VarAdd]
Type = VarAdd
Trigger1 = command = "z" && (var(10) = 1 || var(10) = 3) && time >= 1
v = 10
value = 1

[State 1021, VarRandom]
Type = VarRandom
Trigger1 = time = 0
v = 18
range = -1*Var(10), Var(10)

[State 1021, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1021, LaunchSND]
type = PlaySnd
trigger1 = time = 5
value = 400,0

[State 1021, SparkleB.PosVarX]
type = VarRandom
trigger1 = Time >= 4 && Time <= 7
v = 11
range = 32,37

[State 1021, SparkleB.PosVarY]
type = VarRandom
trigger1 = Time >= 4 && Time <= 7
v = 12
range = -53,-58

[State 1021, Projectile]
type = Projectile
trigger1 = Time = 4
ProjAnim = 9015         
ProjHitAnim = 13000  
ProjRemAnim = 13000   
ProjScale = 1.0, 1.0
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
projid = 9015
offset = 36, -55       
velocity = 8.75, 0.3*Var(18) 
remvelocity = .7, 0  
accel = -0.02, 0      
attr = S, SP
damage    = 14
animtype  = Medium
getpower  = 0
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = -1
sparkxy = 0, 0
hitsound   = S900,5
guardsound = S900,5
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -11
airguard.velocity = -3.5      
air.type = Low
air.velocity = -5.5,-3.5
air.juggle = 1
;PalFX
palfx.time = 15
palfx.add = 180,180,256
palfx.sinadd = 150,150,220,15
palfx.mul = 180,180,256

[State 1021, SparkleB.Helper]
type = Helper
trigger1 = Time >= 4 && Time <= 7
name = "SparkleB"
stateno = 9101
postype = p1
pos = var(11), var(12)
keyctrl = 0
ownpal = 0
id = 9101
size.xscale = IfElse(Random <= 499,0.2,0.3)
size.yscale = IfElse(Random <= 499,0.2,0.3)

[State 1021, Tired]
type = ChangeState
trigger1 = AnimTime = 0 && power = 0
value = 5300
ctrl = 1

[State 1021, End]
type = ChangeState
trigger1 = AnimTime = 0 && (var(10) = 1 || var(10) = 3 || var(10) = 5) && power > 0
value = 0
ctrl = 1

[State 1021, End]
type = ChangeState
trigger1 = AnimTime = 0 && (var(10) = 2 || var(10) = 4) && power > 0
value = 1022
ctrl = 1
;---------------------------------------------------------------------------
;Strong Fireball 03
;-=And again it doesn't resemble fire...=-
[Statedef 1022]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 1022+ifelse(var(1)=0,0,3000)

[State 1022, PowerSubtract]
Type = PowerAdd
Trigger1 = Time >= 1 
value = -5

[State 1022, VarAdd]
Type = VarAdd
Trigger1 = command = "z" && (var(10) = 2 || var(10) = 4) && time >= 1
v = 10
value = 1

[State 1022, VarRandom]
Type = VarRandom
Trigger1 = time = 0
v = 18
range = -1*Var(10), Var(10)

[State 1022, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1022, LaunchSND]
type = PlaySnd
trigger1 = time = 5
value = 400,0

[State 1022, SparkleB.PosVarX]
type = VarRandom
trigger1 = Time >= 4 && Time <= 7
v = 11
range = 29,34

[State 1022, SparkleB.PosVarY]
type = VarRandom
trigger1 = Time >= 4 && Time <= 7
v = 12
range = -53,-58

[State 1022, Projectile]
type = Projectile
trigger1 = Time = 4
ProjAnim = 9015         
ProjHitAnim = 13000  
ProjRemAnim = 13000   
ProjScale = 1.0, 1.0
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
projid = 9015
offset = 30, -55       
velocity = 8.75, 0.3*Var(18)   
remvelocity = .7, 0  
accel = -0.02, 0    
attr = S, SP
damage    = 14
animtype  = Medium
getpower  = 0
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = -1
sparkxy = 0, 0
hitsound   = S900,5
guardsound = S900,5
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -11
airguard.velocity = -3.5      
air.type = Low
air.velocity = -5.5,-3.5
air.juggle = 1
;PalFX
palfx.time = 15
palfx.add = 180,180,256
palfx.sinadd = 150,150,220,15
palfx.mul = 180,180,256

[State 1022, SparkleB.Helper]
type = Helper
trigger1 = Time >= 4 && Time <= 7
name = "SparkleB"
stateno = 9101
postype = p1
pos = var(11), var(12)
keyctrl = 0
ownpal = 0
id = 9101
size.xscale = IfElse(Random <= 499,0.2,0.3)
size.yscale = IfElse(Random <= 499,0.2,0.3)

[State 1022, Tired]
type = ChangeState
trigger1 = AnimTime = 0 && power = 0
value = 5300
ctrl = 1

[State 1022, End]
type = ChangeState
trigger1 = AnimTime = 0 && (var(10) = 2 || var(10) = 4) && power > 0
value = 0
ctrl = 1

[State 1022, End]
type = ChangeState
trigger1 = AnimTime = 0 && (var(10) = 3 || var(10) = 5) && power > 0
value = 1021
ctrl = 1
;---------------------------------------------------------------------------
;KameHameHa Blast(Weak)
;-=If you Aimbot or Aimhack this attack can't fail!=-
[Statedef 1050]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 1050+ifelse(var(1)=0,0,3000)

[State 1050, PowerLoss]
type = PowerAdd
trigger1 = time = [1,30]
value = -3

[State 1050, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1050, LaunchSND]
type = PlaySnd
trigger1 = time = 26
value = 400,0

[State 1050, SparkleB.PosVarX]
type = VarRandom
trigger1 = Time >= 20 && Time <= 28
v = 11
range = 13,21

[State 1050, SparkleB.PosVarY]
type = VarRandom
trigger1 = Time >= 20 && Time <= 28
v = 12
range = -47,-58

[State 1050, Ring]
type = Explod
trigger1 = time = 21
Anim = 11200
Pos = 20, -52
Id = 11200
postype = p1
scale = 0.6,0.6
sprpriority = 4
removeongethit = 1

[State 1050, Flame]
type = Explod
trigger1 = time = 20
Anim = 12000
Pos = 12, 0
Id = 12000
postype = p1
scale = 0.8,0.8
sprpriority = 3
removeongethit = 1

[State 1050, Projectile]
type = Projectile
trigger1 = Time = 21
ProjAnim = 12200         
ProjHitAnim = 12210  
ProjRemAnim = 12210   
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
projscale = 1,1
projpriority = 3
offset = 32, -48       
velocity = 6.5, 0   
remvelocity = .7, 0  
accel = -0.02, 0     
attr = S, SP
damage    = 50
animtype  = Hard
getpower  = 0
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = -1
sparkxy = 0, 0
hitsound   = S900,4
guardsound = S900,4
ground.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -6.5      
air.type = Low
air.velocity = -5.5,-3.5
air.juggle = 2
;PalFX
palfx.time = 15
palfx.add = 180,180,256
palfx.sinadd = 150,150,220,15
palfx.mul = 180,180,256

[State 1050, SparkleB.Helper]
type = Helper
trigger1 = Time >= 20 && Time <= 28
name = "SparkleB"
stateno = 9100
postype = p1
pos = var(11), var(12)
keyctrl = 0
ownpal = 0
id = 9100
size.xscale = IfElse(Random <= 499,0.2,0.3)
size.yscale = IfElse(Random <= 499,0.2,0.3)

[State 1050, Tired]
type = ChangeState
trigger1 = AnimTime = 0 && power = 0
value = 5300
ctrl = 1

[State 1050, End]
type = ChangeState
trigger1 = AnimTime = 0 && power > 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;KameHameHa Blast(Medium)
[Statedef 1060]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 1051+ifelse(var(1)=0,0,3000)

[State 1060, PowerLoss]
type = PowerAdd
trigger1 = time = [1,35]
value = -3

[State 1060, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1060, LaunchSND]
type = PlaySnd
trigger1 = time = 27
value = 400,0

[State 1060, SparkleB.PosVarX]
type = VarRandom
trigger1 = Time >= 26 && Time <= 34
v = 11
range = 13,21

[State 1060, SparkleB.PosVarY]
type = VarRandom
trigger1 = Time >= 26 && Time <= 34
v = 12
range = -47,-58

[State 1060, Ring]
type = Explod
trigger1 = time = 27
Anim = 11200
Pos = 20, -52
Id = 11200
postype = p1
scale = 0.6,0.6
sprpriority = 4
removeongethit = 1

[State 1060, Flame]
type = Explod
trigger1 = time = 26
Anim = 12000
Pos = 12, 0
Id = 12000
postype = p1
scale = 0.8,0.8
sprpriority = 3
removeongethit = 1

[State 1060, Projectile]
type = Projectile
trigger1 = Time = 27
ProjAnim = 12200         
ProjHitAnim = 12210  
ProjRemAnim = 12210 
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
projscale = 1,1
projpriority = 3
offset = 32, -48       
velocity = 7.75, 0   
remvelocity = .7, 0  
accel = -0.02, 0     
attr = S, SP
damage    = 55
animtype  = Hard
getpower  = 0
givepower = 30
guardflag = MA
pausetime = 0,13
sparkno = -1
sparkxy = 0, 0
hitsound   = S900,4
guardsound = S900,4
ground.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -7.5      
air.type = Low
air.velocity = -6,-3.5
air.juggle = 2
;PalFX
palfx.time = 15
palfx.add = 180,180,256
palfx.sinadd = 150,150,220,15
palfx.mul = 180,180,256

[State 1060, SparkleB.Helper]
type = Helper
trigger1 = Time >= 26 && Time <= 34
name = "SparkleB"
stateno = 9100
postype = p1
pos = var(11), var(12)
keyctrl = 0
ownpal = 0
id = 9100
size.xscale = IfElse(Random <= 499,0.2,0.3)
size.yscale = IfElse(Random <= 499,0.2,0.3)

[State 1060, Tired]
type = ChangeState
trigger1 = AnimTime = 0 && power = 0
value = 5300
ctrl = 1

[State 1060, End]
type = ChangeState
trigger1 = AnimTime = 0 && power > 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;KameHameHa Blast(Strong)
[Statedef 1070]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 1052+ifelse(var(1)=0,0,3000)

[State 1070, PowerLoss]
type = PowerAdd
trigger1 = time = [1,40]
value = -3

[State 1070, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1070, LaunchSND]
type = PlaySnd
trigger1 = time = 34
value = 400,0

[State 1070, SparkleB.PosVarX]
type = VarRandom
trigger1 = Time >= 33 && Time <= 41
v = 11
range = 13,21

[State 1070, SparkleB.PosVarY]
type = VarRandom
trigger1 = Time >= 33 && Time <= 41
v = 12
range = -47,-58

[State 1070, Ring]
type = Explod
trigger1 = time = 34
Anim = 11200
Pos = 20, -52
Id = 11200
postype = p1
scale = 0.6,0.6
sprpriority = 4
removeongethit = 1

[State 1070, Flame]
type = Explod
trigger1 = time = 33
Anim = 12000
Pos = 12, 0
Id = 12000
postype = p1
scale = 0.8,0.8
sprpriority = 3
removeongethit = 1

[State 1070, Projectile]
type = Projectile
trigger1 = Time = 34
ProjAnim = 12200         
ProjHitAnim = 12210  
ProjRemAnim = 12210   
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
projscale = 1,1
projpriority = 3
offset = 32, -48       
velocity = 9.0, 0   
remvelocity = .7, 0  
accel = -0.02, 0     
attr = S, SP
damage    = 60
animtype  = Hard
getpower  = 0
givepower = 30
guardflag = MA
pausetime = 0,14
sparkno = -1
sparkxy = 0, 0
hitsound   = S900,4
guardsound = S900,4
ground.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
airguard.velocity = -8.5      
air.type = Low
air.velocity = -6.5,-3.5
air.juggle = 2
;PalFX
palfx.time = 15
palfx.add = 180,180,256
palfx.sinadd = 150,150,220,15
palfx.mul = 180,180,256

[State 1070, SparkleB.Helper]
type = Helper
trigger1 = Time >= 33 && Time <= 41
name = "SparkleB"
stateno = 9100
postype = p1
pos = var(11), var(12)
keyctrl = 0
ownpal = 0
id = 9100
size.xscale = IfElse(Random <= 499,0.2,0.3)
size.yscale = IfElse(Random <= 499,0.2,0.3)

[State 1070, Tired]
type = ChangeState
trigger1 = AnimTime = 0 && power = 0
value = 5300
ctrl = 1

[State 1070, End]
type = ChangeState
trigger1 = AnimTime = 0 && power > 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Wolf Slash(Weak) - Start
; CNS difficulty: easy
[Statedef 1100]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1100+ifelse(var(1)=0,0,3000)

[State 1100, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1101
ctrl = 1
;---------------------------------------------------------------------------
; Wolf Slash(Weak) - Attack
; CNS difficulty: easy
[Statedef 1101]
type    = S
movetype= A
physics = S
juggle  = 2
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1101+ifelse(var(1)=0,0,3000)

[State 1101, HitFlame.Helper]
type = Helper
trigger1 = Time = 0
name = "HitFlameWeak"
stateno = 11010
postype = back
pos = 0, 0
keyctrl = 0
ownpal = 0
id = 11010

[State 1101, AfterImage]
type = AfterImage
trigger1 = time = 1
time = 10
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,256,256
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 1101, Dust]
type = Explod
triggerall = pos y = 0
trigger1 = time = 0
Anim = 15101
Pos = 30, 0
Id = 15101
postype = p1
scale = 1,1
sprpriority = 5
removeongethit = 0

[State 1101, ShoRyuKenFlame]
type = Explod
trigger1 = time = 0
Anim = 11000
Pos = 15, -106
Id = 11000
postype = p1
facing = 1
bindtime = -1
scale = 0.8,0.8
sprpriority = 4
removeongethit = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 1101, VarSet]
type = VarSet
triggerall = movecontact = 0
trigger1 = (command = "hold_a" && command = "hold_b") || (command = "hold_b" && command = "hold_c") || (command = "hold_a" && command = "hold_c")
v = 20
value = 1

[State 1101, PlaySND]
type = PlaySnd
trigger1 = Time = 2
value = 231, 0

[State 1101, Voice-Hyia!]
type = PlaySnd
triggerall = random >= 600
trigger1 = Time = 0
value = 107, 0

[State 1101, PosSet]
type = PosAdd
trigger1 = Time = 0
y = 1

[State 1101, VelSet]
type = VelSet
trigger1 = Time >= 1
x = 5.5-(time*0.2)
y = -9+(time*0.44)

[State 1101, VarSet]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 1101, SparkleG.PosVarX]
type = VarRandom
trigger1 = Time >= 4 && Time <= 15
v = 11
range = -15,10

[State 1101, SparkleG.PosVarY]
type = VarRandom
trigger1 = Time >= 4 && Time <= 15
v = 12
range = 0,-60

[State 1101, VarAdd]
type = VarAdd
trigger1 = movecontact
v = 29
value = 1

[State 1101, Hitdef]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
attr = S, NA
animtype  = Hard
damage    = 20
guardflag = MA
pausetime = 1,1
sparkno = S10002
sparkxy = -10,-89
hitsound   = S300,1
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 24
ground.velocity = -0.5,-12
air.velocity = -0.5,-11

[State 1101, Hitdef]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype  = DiagUp
damage    = 20
guardflag = MA
pausetime = 7,7
sparkno = S10003
sparkxy = -10,-89
hitsound   = S301,2
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3.6,-9.5
air.velocity = -3.6,-9.5
fall = 1
fall.recover = 1

[State 1101, SparkleG.Helper]
type = Helper
trigger1 = Time >= 4 && Time <= 15
name = "SparkleG"
stateno = 9111
postype = p1
pos = Var(11), Var(12)
keyctrl = 0
ownpal = 0
id = 9111
size.xscale = IfElse(Random <= 499,0.2,0.3)
size.yscale = IfElse(Random <= 499,0.2,0.3)

[State 1101, ChangeState]
type = null;ChangeState
trigger1 = (movecontact) && Var(20) = 1
value = 1230
ctrl = 1

[State 1101, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 1102
ctrl = 1
;---------------------------------------------------------------------------
; Wolf Slash(Weak) - Fall
; CNS difficulty: easy
[Statedef 1102]
type    = A
physics = A
ctrl = 0
anim = 1102+ifelse(var(1)=0,0,3000)

[State 1101, VelSet]
type = VelSet
trigger1 = vel Y < 0
x = 0

[State 1102, ChangeState]
type = ChangeState
trigger1 = Pos y = 0
value = 1103
ctrl = 1
;---------------------------------------------------------------------------
; Wolf Slash(Weak) - End
; CNS difficulty: easy
[Statedef 1103]
type    = S
physics = S
ctrl = 0
velset = 0,0
anim = 1103+ifelse(var(1)=0,0,3000)

[State 1103, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Wolf Slash(Medium) - Start
; CNS difficulty: easy
[Statedef 1110]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1110+ifelse(var(1)=0,0,3000)

[State 1100, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1111
ctrl = 1
;---------------------------------------------------------------------------
; Wolf Slash(Medium) - Attack
; CNS difficulty: easy
[Statedef 1111]
type    = S
movetype= A
physics = S
juggle  = 2
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1111+ifelse(var(1)=0,0,3000)

[State 1101, HitFlame.Helper]
type = Helper
trigger1 = Time = 0
name = "HitFlameMed"
stateno = 11015
postype = back
pos = 0, 0
keyctrl = 0
ownpal = 0
id = 11015

[State 1111, AfterImage]
type = AfterImage
trigger1 = time = 1
time = 10
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,256,256
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 1111, Dust]
type = Explod
triggerall = pos y = 0
trigger1 = time = 0
Anim = 15101
Pos = 33, 0
Id = 15101
postype = p1
scale = 1,1
sprpriority = 5
removeongethit = 0

[State 1111, ShoRyuKenFlame]
type = Explod
trigger1 = time = 0
Anim = 11001
Pos = 15, -106
Id = 11001
postype = p1
facing = 1
bindtime = -1
scale = 0.8,0.8
sprpriority = 4
removeongethit = 1
supermove = -1
supermovetime = 9999999
pausemovetime = 9999999

[State 1111, VarSet]
type = VarSet
triggerall = movecontact = 0
trigger1 = (command = "hold_a" && command = "hold_b") || (command = "hold_b" && command = "hold_c") || (command = "hold_a" && command = "hold_c")
v = 20
value = 1

[State 1111, PlaySND]
type = PlaySnd
trigger1 = Time = 2
value = 231, 0

[State 1111, Voice-Hyia!]
type = PlaySnd
triggerall = random >= 600
trigger1 = Time = 0
value = 107, 0

[State 1111, PosSet]
type = PosAdd
trigger1 = Time = 0
y = 1

[State 1111, VelSet]
type = VelSet
trigger1 = Time >= 1
x = 6.0-(time*0.2)
y = -11.5+(time*0.44)

[State 1111, VarSet]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 1111, SparkleG.PosVarX]
type = VarRandom
trigger1 = Time >= 4 && Time <= 15
v = 11
range = -15,10

[State 1111, SparkleG.PosVarY]
type = VarRandom
trigger1 = Time >= 4 && Time <= 15
v = 12
range = 0,-60

[State 1111, VarAdd]
type = VarAdd
trigger1 = movecontact
v = 29
value = 1

[State 1111, Hitdef]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
attr = S, NA
animtype  = Hard
damage    = 25
guardflag = MA
pausetime = 1,1
sparkno = S10002
sparkxy = -10,-89
hitsound   = S300,1
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 24
ground.velocity = -0.8,-13
air.velocity = -0.8,-12

[State 1111, Hitdef]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype  = DiagUp
damage    = 25
guardflag = MA
pausetime = 7,7
sparkno = S10003
sparkxy = -10,-89
hitsound   = S301,2
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3.6,-10
air.velocity = -3.6,-10
fall = 1
fall.recover = 1

[State 1111, SparkleG.Helper]
type = Helper
trigger1 = Time >= 4 && Time <= 15
name = "SparkleG"
stateno = 9111
postype = p1
pos = Var(11), Var(12)
keyctrl = 0
ownpal = 0
id = 9111
size.xscale = IfElse(Random <= 499,0.2,0.3)
size.yscale = IfElse(Random <= 499,0.2,0.3)

[State 1111, ChangeState]
type = null;ChangeState
trigger1 = (movecontact) && Var(20) = 1
value = 1230
ctrl = 1

[State 1111, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 1102
ctrl = 1
;---------------------------------------------------------------------------
; Wolf Slash(Strong) - Start
; CNS difficulty: easy
[Statedef 1120]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1120+ifelse(var(1)=0,0,3000)

[State 1120, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1121
ctrl = 1
;---------------------------------------------------------------------------
; Wolf Slash(Strong) - Attack
; CNS difficulty: easy
[Statedef 1121]
type    = S
movetype= A
physics = S
juggle  = 2
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1121+ifelse(var(1)=0,0,3000)

[State 1121, HitFlame.Helper]
type = Helper
trigger1 = Time = 0
name = "HitFlameStr"
stateno = 11020
postype = back
pos = 0, 0
keyctrl = 0
ownpal = 0
id = 11020

[State 1121, AfterImage]
type = AfterImage
trigger1 = time = 1
time = 10
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,256,256
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 1121, Dust]
type = Explod
triggerall = pos y = 0
trigger1 = time = 0
Anim = 15101
Pos = 36, 0
Id = 15101
postype = p1
scale = 1,1
sprpriority = 5
removeongethit = 0

[State 1121, ShoRyuKenFlame]
type = Explod
trigger1 = time = 0
Anim = 11002
Pos = 15, -106
Id = 11002
postype = p1
facing = 1
bindtime = -1
scale = 0.8,0.8
sprpriority = 4
removeongethit = 1
supermove = -1
supermovetime = 9999999
pausemovetime = 9999999

[State 1121, VarSet]
type = VarSet
triggerall = movecontact = 0
trigger1 = (command = "hold_a" && command = "hold_b") || (command = "hold_b" && command = "hold_c") || (command = "hold_a" && command = "hold_c")
v = 20
value = 1

[State 1121, PlaySND]
type = PlaySnd
trigger1 = Time = 2
value = 231, 0

[State 1121, Voice-Hyia!]
type = PlaySnd
triggerall = random >= 600
trigger1 = Time = 0
value = 107, 0

[State 1121, PosSet]
type = PosAdd
trigger1 = Time = 0
y = 1

[State 1121, VelSet]
type = VelSet
trigger1 = Time >= 1
x = 6.5-(time*0.2)
y = -14+(time*0.44)

[State 1121, VarSet]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 1121, SparkleG.PosVarX]
type = VarRandom
trigger1 = Time >= 4 && Time <= 15
v = 11
range = -15,10

[State 1121, SparkleG.PosVarY]
type = VarRandom
trigger1 = Time >= 4 && Time <= 15
v = 12
range = 0,-60

[State 1121, VarAdd]
type = VarAdd
trigger1 = movecontact
v = 29
value = 1

[State 1121, Hitdef]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
attr = S, NA
animtype  = Hard
damage    = 30
guardflag = MA
pausetime = 1,1
sparkno = S10002
sparkxy = -10,-89
hitsound   = S300,1
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 24
ground.velocity = -1.1,-16
air.velocity = -1.1,-15

[State 1121, Hitdef]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype  = DiagUp
damage    = 30
guardflag = MA
pausetime = 7,7
sparkno = S10003
sparkxy = -10,-89
hitsound   = S301,2
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3.6,-11
air.velocity = -3.6,-11
fall = 1
fall.recover = 1

[State 1121, SparkleG.Helper]
type = Helper
trigger1 = Time >= 4 && Time <= 15
name = "SparkleG"
stateno = 9111
postype = p1
pos = Var(11), Var(12)
keyctrl = 0
ownpal = 0
id = 9111
size.xscale = IfElse(Random <= 499,0.2,0.3)
size.yscale = IfElse(Random <= 499,0.2,0.3)

[State 1121, ChangeState]
type = null;ChangeState
trigger1 = (movecontact) && Var(20) = 1
value = 1230
ctrl = 1

[State 1121, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 1102
ctrl = 1
;---------------------------------------------------------------------------
; Wolf Knee Leap(Weak)
; CNS difficulty: easy
[Statedef 1130]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 70
ctrl = 0
velset = 0,0
sprpriority = -1
anim = 1130+ifelse(var(1)=0,0,3000)

[State 1130, PlaySND]
type = PlaySnd
trigger1 = Time = 8
value = 201, 0

[State 1130, Voice-Ha!]
type = PlaySnd
triggerall = random >= 600
trigger1 = Time = 6
value = 112, 0

[State 1130, PosSet-Ground]
type = PosSet
triggerall = pos y = 0
trigger1 = time = 9
y = -1

[State 1130, StateTypeSet]
type = StateTypeSet
trigger1 = time = 9
statetype = A
physics = A

[State 1130, VelSet]
type = VelSet
trigger1 = Time >= 9
x = 6.6
y = -1.8

[State 1130, VelAdd]
type = VelAdd
trigger1 = Time >= 9
x = time*(0.08)

[State 1130, VarAdd]
type = VarAdd
trigger1 = movecontact
v = 29
value = 1

[State 1130, SparkleG.PosVarX]
type = VarRandom
trigger1 = Time >= 9 && Time <= 19
v = 11
range = -10,2

[State 1130, SparkleG.PosVarY]
type = VarRandom
trigger1 = Time >= 9 && Time <= 19
v = 12
range = -8,-68

[State 1130, KickDust]
type = Explod
trigger1 = time = 7
Anim = 8951
Pos = -35, 0
Id = 8951
sprpriority = 2
removeongethit = 0
removetime = 21
Postype = p1
;Bindtime = -1
SuperMove = 1
ownpal = 1

[State 1130, Hitdef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype  = Hard
damage    = 50
guardflag = MA
pausetime = 9,9
sparkno = S10001
sparkxy = -10,-49
hitsound   = S301,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -8,-3
air.velocity = -7,-4
fall = 1
fall.recover = 0

[State 1130, SparkleG.Helper]
type = Helper
trigger1 = Time >= 9 && Time <= 19
name = "SparkleG"
stateno = 9130
postype = p1
pos = Var(11), Var(12)
keyctrl = 0
ownpal = 1
id = 9130
size.xscale = IfElse(Random <= 499,0.2,0.3)
size.yscale = IfElse(Random <= 499,0.2,0.3)

[state 1130, ColorFX]
type = PalFX
trigger1 = (movehit) && (command = "a" || command = "b" || command = "c");var(20) = 1
time = 6
add = 0,0,64

[State 1130, ChangeState]
type = ChangeState
trigger1 = (movehit) && (command = "a" || command = "b" || command = "c");Var(20) = 1
value = 1205
ctrl = 1

[State 1130, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
; Wolf Knee Leap(Medium)
; CNS difficulty: easy
[Statedef 1140]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 80
ctrl = 0
velset = 0,0
sprpriority = -1
anim = 1131+ifelse(var(1)=0,0,3000)

[State 1140, PlaySND]
type = PlaySnd
trigger1 = Time = 11
value = 201, 0

[State 1140, Voice-Ha!]
type = PlaySnd
triggerall = random >= 600
trigger1 = Time = 9
value = 112, 0

[State 1140, PosSet-Ground]
type = PosSet
triggerall = pos y = 0
trigger1 = time = 12
y = -1

[State 1140, StateTypeSet]
type = StateTypeSet
trigger1 = time = 12
statetype = A
physics = A

[State 1140, VelSet]
type = VelSet
trigger1 = Time >= 12
x = 6.9
y = -2.1

[State 1140, VelAdd]
type = VelAdd
trigger1 = Time >= 12
x = time*(0.08)

[State 1140, VarAdd]
type = VarAdd
trigger1 = movecontact
v = 29
value = 1

[State 1140, SparkleG.PosVarX]
type = VarRandom
trigger1 = Time >= 12 && Time <= 22
v = 11
range = -10,2

[State 1140, SparkleG.PosVarY]
type = VarRandom
trigger1 = Time >= 12 && Time <= 22
v = 12
range = -8,-68

[State 1140, KickDust]
type = Explod
trigger1 = time = 7
Anim = 8951
Pos = -35, 0
Id = 8951
sprpriority = 2
removeongethit = 0
removetime = 21
Postype = p1
;Bindtime = -1
SuperMove = 1
ownpal = 1

[State 1140, Hitdef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype  = Hard
damage    = 60
guardflag = MA
pausetime = 9,9
sparkno = S10001
sparkxy = -10,-49
hitsound   = S301,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -8,-3
air.velocity = -7,-4
fall = 1
fall.recover = 0

[State 1140, SparkleG.Helper]
type = Helper
trigger1 = Time >= 12 && Time <= 22
name = "SparkleG"
stateno = 9130
postype = p1
pos = Var(11), Var(12)
keyctrl = 0
ownpal = 1
id = 9130
size.xscale = IfElse(Random <= 499,0.2,0.3)
size.yscale = IfElse(Random <= 499,0.2,0.3)

[state 1140, ColorFX]
type = PalFX
trigger1 = (movehit) && (command = "a" || command = "b" || command = "c");var(20) = 1
time = 6
add = 0,0,64

[State 1140, ChangeState]
type = ChangeState
trigger1 = (movehit) && (command = "a" || command = "b" || command = "c");Var(20) = 1
value = 1205
ctrl = 1

[State 1140, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
; Wolf Knee Leap(Medium)
; CNS difficulty: easy
[Statedef 1150]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 90
ctrl = 0
velset = 0,0
sprpriority = -1
anim = 1132+ifelse(var(1)=0,0,3000)

[State 1150, PlaySND]
type = PlaySnd
trigger1 = Time = 11
value = 201, 0

[State 1150, Voice-Ha!]
type = PlaySnd
triggerall = random >= 600
trigger1 = Time = 9
value = 112, 0

[State 1150, PosSet-Ground]
type = PosSet
triggerall = pos y = 0
trigger1 = time = 15
y = -1

[State 1150, StateTypeSet]
type = StateTypeSet
trigger1 = time = 15
statetype = A
physics = A

[State 1150, VelSet]
type = VelSet
trigger1 = Time >= 15
x = 7.0
y = -2.3

[State 1150, VelAdd]
type = VelAdd
trigger1 = Time >= 15
x = time*(0.08)

[State 1150, VarAdd]
type = VarAdd
trigger1 = movecontact
v = 29
value = 1

[State 1150, SparkleG.PosVarX]
type = VarRandom
trigger1 = Time >= 15 && Time <= 25
v = 11
range = -10,2

[State 1140, SparkleG.PosVarY]
type = VarRandom
trigger1 = Time >= 15 && Time <= 25
v = 12
range = -8,-68

[State 1150, KickDust]
type = Explod
trigger1 = time = 7
Anim = 8951
Pos = -35, 0
Id = 8951
sprpriority = 2
removeongethit = 0
removetime = 21
Postype = p1
;Bindtime = -1
SuperMove = 1
ownpal = 1

[State 1150, Hitdef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype  = Hard
damage    = 70
guardflag = MA
pausetime = 9,9
sparkno = S10001
sparkxy = -10,-49
hitsound   = S301,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -8,-3
air.velocity = -7,-4
fall = 1
fall.recover = 0

[State 1150, SparkleG.Helper]
type = Helper
trigger1 = Time >= 15 && Time <= 25
name = "SparkleG"
stateno = 9130
postype = p1
pos = Var(11), Var(12)
keyctrl = 0
ownpal = 1
id = 9130
size.xscale = IfElse(Random <= 499,0.2,0.3)
size.yscale = IfElse(Random <= 499,0.2,0.3)

[state 1150, ColorFX]
type = PalFX
trigger1 = (movehit) && (command = "a" || command = "b" || command = "c");var(20) = 1
time = 6
add = 0,0,64

[State 1150, ChangeState]
type = ChangeState
trigger1 = (movehit) && (command = "a" || command = "b" || command = "c");Var(20) = 1
value = 1205
ctrl = 1

[State 1150, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;Sonic Kick Start
[Statedef 1200]
type    = A     
movetype= A     
physics = A     
juggle  = 0     
velset = 0,0
ctrl = 0  
sprpriority = 2
anim = IfElse(Var(1)=0,1200,4200)

[State 1200, Pull]
type = VelSet
trigger1 = 1
y = 0
x = 0

[State 1200, 6]
type = ChangeState
trigger1 = animtime = 0
value = 1201

;---------------------------------------------------------------------------
;Sonic Kick End
[Statedef 1201]
type    = A     
movetype= A     
physics = A     
juggle  = 0     
velset = 0,0
ctrl = 0  
poweradd = 60
sprpriority = 2
anim = IfElse(Var(1)=0,1201,4201)

[State 1301, SparkleB.PosVarX]
type = VarRandom
trigger1 = Time >= 1 && Time <= 7
v = 14
range = 32,39

[State 1201, SparkleB.PosVarY]
type = VarRandom
trigger1 = Time >= 1 && Time <= 7
v = 15
range = 0,-7

[State 1201, SparkleB.Helper]
type = Helper
trigger1 = Time >= 1 && Time <= 7
name = "SparkleB"
stateno = 9105
postype = p1
pos = Var(14), Var(15)
keyctrl = 0
ownpal = 1
id = 11130
size.xscale = IfElse(Random <= 499,0.2,0.3)
size.yscale = IfElse(Random <= 499,0.2,0.3)

[State 1201, BlueFlame]
type = Explod
trigger1 = time = 1
Anim = 12400
Pos = 30, -1
Id = 12400
sprpriority = 3
removeongethit = 0
removetime = -1
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1

[State 1201, RemoveExplod]
type = RemoveExplod
trigger1 = movecontact
ID = 12400

[State 1201, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 231, 0

[State 1201, Voice]
type = PlaySnd
trigger1 = Time = 0
value = 2, 0

[State 1201, AfterImage]
type = AfterImage
trigger1 = time = 4
time = 10
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,256,256
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 1201, Pull]
type = VelSet
trigger1 = time >= 2
y = 10*IfElse(Var(1)=0,1,1.2)
x = 10*IfElse(Var(1)=0,1,1.1)

[State 1201, 1]
type = HitDef
trigger1 = time = 0
attr = A, SA
damage    = IfElse(PrevStateNo=1200,70,40),17
hitflag = MAFD
guardflag = MA
pausetime = 10,12
sparkno = S10003
sparkxy = 0,0
hitsound   = S301,2
guardsound = 6,0
animtype = Back
ground.type = High
ground.slidetime = 12
ground.hittime  = 23
ground.velocity = -5,5   
air.velocity = -5,5
fall = 1
fall.recover = 0

[State 1201, 6]
type = ChangeState
trigger1 = movecontact
value = 1202


[State 1201, 6]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 1201, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y = 0
value = 52

;---------------------------------------------------------------------------
; Power-Dive Kick 3
;-=You got F'ed in the A!=-
[Statedef 1202]
type    = A     
movetype= A     
physics = A     
juggle  = 0     
ctrl = 0  
velset = 0,0
sprpriority = 2
anim = IfElse(Var(1)=0,1202,4202)

[State 1202, 0] ;Gravity
type = VelAdd
trigger1 = AnimElem = 1
y = -6
x = -4.4

[State 1202, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 0
;---------------------------------------------------------------------------
; Power-Dive Kick 3
[Statedef 1205]
type    = A     
movetype= A     
physics = A     
juggle  = 0     
ctrl = 0  
velset = 0,0
sprpriority = 2
anim = IfElse(Var(1)=0,1205,4205)

[State 1205, 0] ;Gravity
type = VelAdd
trigger1 = AnimElem = 1
y = -7
x = 7

[State 1205, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 1201
ctrl = 0

;---------------------------------------------------------------------------
;Sliding Tiger Smash
;-=HPSA: High Power Smashing Action=-
[Statedef 1600]
type    = C
movetype= A
physics = C
juggle  = 1
poweradd= 35
ctrl = 0
sprpriority = 2
anim = 270+ifelse(var(1)=0,0,3000)

[State 1600, VelSet]
type = VelSet
trigger1 = Time > 0
x = 4.0

[State 1600, PlaySND]
type = PlaySnd
trigger1 = Time = 1
value = 230, 0

[State 1600, Voice-Houh!]
type = PlaySnd
triggerall = random >= 700
trigger1 = Time = 1
value = 102, 0

[State 1600, VarAdd]
type = VarAdd
trigger1 = movecontact
v = 29
value = 1

[State 1600, HitDef]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 45
animtype  = Hard
hitflag = MAFD
guardflag = MA
pausetime = 12,12
sparkno = S10003
sparkxy = -20,-47
hitsound   = S301,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -12, -3
air.velocity = -11,-2
fall = 1
fall.recover = 0

[State 1600, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Sliding Tiger Kick
;-=HSSA: High Speed Sliding Action=-
[Statedef 1630]
type    = C
movetype= A
physics = C
juggle  = 2
poweradd= 25
ctrl = 0
sprpriority = 2
anim = 1630+ifelse(var(1)=0,0,3000)

[State 1630, VelSet]
type = VelSet
trigger1 = Time > 0
x = 4.0

[State 1630, PlaySND]
type = PlaySnd
trigger1 = Time = 1
value = 230, 0

[State 1630, Voice-Houh!]
type = PlaySnd
triggerall = random >= 700
trigger1 = Time = 1
value = 102, 0

[State 1630, VarAdd]
type = VarAdd
trigger1 = movecontact
v = 29
value = 1

[State 1630, HitDef]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 35
animtype  = Light
hitflag = MAFD
guardflag = LA
pausetime = 12,12
sparkno = S10002
sparkxy = -10,0
hitsound   = S301,1
guardsound = 6,0
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = .8, -8
air.velocity = .8,-8
down.velocity = .8,0
down.hittime = 20

[State 1630, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;-------------------------------------------------------------------------
; Charge Power Start
[Statedef 1700]
type = S
physics = S
velset = 0,0
ctrl = 0

[State 1700, Animation]
type = ChangeAnim
trigger1 = time = 0
value = 1700+ifelse(var(1)=0,0,3000)

[State 1700, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1700, PowerAdd]
type = PowerAdd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
value = 1

[State 1700, Limit]
type = ChangeState
trigger1 = Power >= 4000 && Life >= 1000
value = 0
ctrl = 1

[State 1700, Next]
type = ChangeState
trigger1 = AnimTime = 0
value = 1701
ctrl = 1
;-------------------------------------------------------------------------
; Charge Power Charging
[Statedef 1701]
type = S
movetype= I
physics = N
ctrl = 0
velset = 0,0

[State 1701, Animation]
type = ChangeAnim
trigger1 = time = 0
value = 1701+ifelse(var(1)=0,1,3000)

[State 1701, VarSet1]
type = VarSet
Triggerall = Pos Y < 0
Trigger1 = Var(2) = 2
Trigger1 = Vel Y >= 2.4
Trigger2 = Time = 0
v = 2
value = 1

[State 1701, VarSet2]
type = VarSet
Trigger1 = Pos Y < 0
Trigger1 = Var(2) = 1
Trigger1 = Vel Y <= -2.4
v = 2
value = 2

[State 1701, FloatUp]
type = VelAdd
Trigger1 = Pos Y < 0
Trigger1 = Var(2) = 1
y = -0.3

[State 1701, FloatDown]
type = VelAdd
Trigger1 = Pos Y < 0
Trigger1 = Var(2) = 2
y = 0.3

[State 1701, Stop.Charge]
type = VarSet
Triggerall = Pos Y < 0
trigger1 = (command != "hold_a") && (command != "hold_x")
v = 2
value = 0

[State 1700, Limit]
type = ChangeState
trigger1 = Power >= 4000 && Life >= 1000
value = 0
ctrl = 1

[State 1700, Voice-(Charge)]
type = PlaySnd
trigger1 = Time = 1
value = 50, 0

[State 1700, PlaySND]
type = PlaySnd
trigger1 = Time = 1
value = 1700, 0

[State 1701, ChargeDustLeft]
type = Explod
triggerall = pos Y = 0
trigger1 = time = 0
Anim = 15000
Pos = -40, 0
vel = -1, 0
Id = 15000
sprpriority = 2
removeongethit = 0
removetime = 21
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1

[State 1701, ChargeDustRight]
type = Explod
triggerall = pos Y = 0
trigger1 = time = 0
Anim = 15001
Pos = 35, 0
vel = 1, 0
Id = 15001
sprpriority = 2
removeongethit = 0
removetime = 21
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1

[State 1701, RangThang]
type = Explod
trigger1 = timemod = 13,0 && pos y = 0
Anim = 11210
Pos = -3,0
Id = 11210
sprpriority = -1
removeongethit = 1
removetime = 13
bindtime = 13
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
scale = 0.7,0.7

[State 1701, Aura]
type = Explod
trigger1 = timemod = 9,0
Anim = 9060
Pos = -3,0
Id = 9060
sprpriority = 2
removeongethit = 1
removetime = 9
bindtime = 9
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.7, 0.8

[State 1701, AuraSND]
type = PlaySnd
trigger1 = TimeMod = 23,0
value = 1700,1

[state 1701, ColorFX]
type = PalFX
trigger1 = Time > 0
trigger1 = TimeMod = 8,0
time = 2
add = 64,64,64

[State 1701, PowerAdd]
type = PowerAdd
trigger1 = Time > 0
value = 8

[State 1701, LifeAdd]
type = LifeAdd
trigger1 = TimeMod = 20,0
value = 1

[State 1701, RemoveAura]
Type = RemoveExplod
trigger1 = stateno != 1701
Id = 9060

[State 1701, RemoveRing]
Type = RemoveExplod
trigger1 = stateno != 1701
Id = 11210

[State 1701, Stop.Next]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = (command != "hold_a" && command != "hold_x") || power >= 3000
value = 1702
ctrl = 0
;-------------------------------------------------------------------------
; Charge Power Over
[Statedef 1702]
type = S
movetype= I
physics = N
ctrl = 0
velset = 0,0

[State 1702, Animation]
type = ChangeAnim
trigger1 = time = 0
value = 1703+ifelse(var(1)=0,0,3000)

[State 1702, RemoveAura]
Type = RemoveExplod
trigger1 = AnimElem = 1
ID = 9060

[State 1702, RemoveRing]
Type = RemoveExplod
trigger1 = AnimElem = 1
ID = 11210

[State 1702, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; KameHamaHa(Basically Shinkuu Hadouken)
[Statedef 1800]
type    = S
movetype= A
physics = S
juggle  = 4
PowerAdd = -10
velset = 0,0
ctrl = 0
anim = 1800+ifelse(var(1)=0,0,3000)

[State 1800, Voice]
type = PlaySnd
trigger1 = time = 1
value = 2000,0

[State 1800, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 0
anim = -1
sound = S1800,0
pos = -5,-33
darken = 0
unhittable = 1

[State 1800, Ball]
type = Explod
trigger1 = time = 0
Anim = 12051
Pos = -22, -41
Id = 12051
sprpriority = 3
removeongethit = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.7,0.7

[State 1800, Light]
type = Explod
trigger1 = time = 0
Anim = 12050
Pos = -22, -41
Id = 12050
sprpriority = 3
removeongethit = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 1,1

[State 1800, Ring]
type = Explod
triggerall = pos y = 0
trigger1 = time = 0
Anim = 11210
Pos = -10, 0
Id = 11210
sprpriority = -3
removeongethit = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.75,0.75

[State 1800, VarSet]
type = Varset
trigger1 = time = 0
v = 13
value = -200

[State 1800, VarAdd]
type = VarAdd
trigger1 = time >= 1 && Var(13) < 0
v = 13
value = 5

[State 1800, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(13),Var(13),Var(13)

[State 1800, PowerAdd]
Type = PowerAdd
Trigger1 = time >= 1
value = -18

[State 1800, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1800, Voice]
type = PlaySnd
trigger1 = time = 0
value = 4,0
volume = 255

[State 1850, Next-Up]
type = ChangeState
triggerall = Var(39) != 1
trigger1 = animtime = 0 && command = "holdup" && command != "holddown"
value = 1802
ctrl = 1

[State 1850, Next-Down]
type = ChangeState
triggerall = Var(39) != 1
trigger1 = animtime = 0 && command = "holddown" && command != "holdup"
value = 1803
ctrl = 1

[State 1850, Next-Straight]
type = ChangeState
triggerall = Var(39) != 1
trigger1 = animtime = 0
value = 1801
ctrl = 1

[State 1850, AI.Next-Up]
type = ChangeState
triggerall = Var(39) = 1
trigger1 = animtime = 0 && (p2bodydist y <= -80)
value = 1802
ctrl = 1

[State 1850, AI.Next-Down]
type = ChangeState
triggerall = Var(39) = 1
trigger1 = animtime = 0 && (p2bodydist y >= 30)
value = 1803
ctrl = 1

[State 1850, AI.Next-Straight]
type = ChangeState
triggerall = Var(39) = 1
trigger1 = animtime = 0 && (p2bodydist y > -80 && p2bodydist y < 30)
value = 1801
ctrl = 1
;---------------------------------------------------------------------------
;KameHameHa Fire
[Statedef 1801]
type    = S
movetype= A
physics = S
velset = 0,0,0
ctrl = 0
anim = 1801+ifelse(var(1)=0,0,3000)

[State 1801, PlaySND]
type = PlaySnd
trigger1 = time = 0
value = 1801,0

[State 1801, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1801, Flame]
type = Explod
trigger1 = time = 0
Anim = 12001
Pos = 12, 0
Id = 12001
postype = p1
scale = 0.8,0.8
sprpriority = 3
removeongethit = 1

[State 1801, KameHameHa.Helper]
type = Helper
trigger1 = Time = 1
name = "KameHameHa"
stateno = 12100
postype = p1
pos = 5, -49
keyctrl = 0
ownpal = 0
id = 12100
removeongethit = 1

[State 1801, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodydist < -1 && BackEdgeBodydist > -30)
movecamera = 0,0
value	= 0

[State 1801, End]
type = ChangeState
trigger1 = Time = 40
value	= IfElse(BackEdgeBodydist >= 0, 1804, 100)
ctrl = 1
;---------------------------------------------------------------------------
;KameHameHa Fire Up
[Statedef 1802]
type    = S
movetype= A
physics = S
velset = 0,0,0
ctrl = 0
anim = 1802+ifelse(var(1)=0,0,3000)

[State 1802, PlaySND]
type = PlaySnd
trigger1 = time = 0
value = 1801,0

[State 1802, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1802, Flame]
type = Explod
trigger1 = time = 0
Anim = 12001
Pos = 12, 0
Id = 12001
postype = p1
scale = 0.8,0.8
sprpriority = 3
removeongethit = 1

[State 1802, KameHameHa.Helper]
type = Helper
trigger1 = Time = 1
name = "KameHameHa"
stateno = 12110
postype = p1
pos = 10, -55
keyctrl = 0
ownpal = 0
id = 12110
removeongethit = 1

[State 1802, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodydist < -1 && BackEdgeBodydist > -30)
movecamera = 0,0
value	= 0

[State 1802, End]
type = ChangeState
trigger1 = Time = 40
value	= IfElse(BackEdgeBodydist >= 0, 1804, 100)
ctrl = 1
;---------------------------------------------------------------------------
;KameHameHa Fire Down
[Statedef 1803]
type    = S
movetype= A
physics = S
velset = 0,0,0
ctrl = 0
anim = 1803+ifelse(var(1)=0,0,3000)

[State 1803, PlaySND]
type = PlaySnd
trigger1 = time = 0
value = 1801,0

[State 1803, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1803, Flame]
type = Explod
trigger1 = time = 0
Anim = 12001
Pos = 12, 0
Id = 12001
postype = p1
scale = 0.8,0.8
sprpriority = 3
removeongethit = 1

[State 1803, KameHameHa.Helper]
type = Helper
trigger1 = Time = 1
name = "KameHameHa"
stateno = 12120
postype = p1
pos = 10, -42
keyctrl = 0
ownpal = 0
id = 12120
removeongethit = 1

[State 1803, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodydist < -1 && BackEdgeBodydist > -30)
movecamera = 0,0
value	= 0

[State 1803, End]
type = ChangeState
trigger1 = Time = 40
value	= IfElse(BackEdgeBodydist >= 0, 1804, 100)
ctrl = 1
;---------------------------------------------------------------------------
;KamehameHa End
[Statedef 1804]
type    = S
movetype= A
physics = S
velset = 0,0,0
ctrl = 0
sprpriority = -1

[State 1804, Animation]
type = ChangeAnim
trigger1 = time = 0
value = 1804+ifelse(var(1)=0,0,3000)

[State 1804, End]
type = ChangeState
trigger1 = animtime = 0
value	= 0
ctrl = 1
;---------------------------------------------------------------------------
; KameHameHa Chain
[Statedef 1805]
type    = S
movetype= A
physics = S
juggle  = 4
PowerAdd = -1000
velset = 0,0
ctrl = 0
anim = 1800+ifelse(var(1)=0,0,3000)

[State 1805, Ring]
type = Explod
triggerall = pos y = 0
trigger1 = time = 0
Anim = 11210
Pos = 0, 0
Id = 11210
sprpriority = -3
removeongethit = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.9,0.9

[State 1805, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 20
anim = -1
sound = S1800,0
pos = -5,-33
darken = 1
unhittable = 1

[State 1805, VelSetY]
Type = VelSet
Trigger1 = Time = 0 
y = 0

[State 1805, Next-Up]
type = ChangeState
triggerall = Var(39) != 1
trigger1 = time = 1 && command = "holdup" && command != "holddown"
value = 1802
ctrl = 1

[State 1805, Next-Down]
type = ChangeState
triggerall = Var(39) != 1
trigger1 = time = 1 && command = "holddown" && command != "holdup"
value = 1803
ctrl = 1

[State 1805, Next-Straight]
type = ChangeState
triggerall = Var(39) != 1
trigger1 = time = 1
value = 1801
ctrl = 1

[State 1805, AI.Next-Up]
type = ChangeState
triggerall = Var(39) = 1
trigger1 = time = 1 && (p2bodydist y <= -80)
value = 1802
ctrl = 1

[State 1805, AI.Next-Down]
type = ChangeState
triggerall = Var(39) = 1
trigger1 = time = 1 && (p2bodydist y >= 30)
value = 1803
ctrl = 1

[State 1805, AI.Next-Straight]
type = ChangeState
triggerall = Var(39) = 1
trigger1 = time = 1 && (p2bodydist y > -80 && p2bodydist y < 30)
value = 1801
ctrl = 1
;---------------------------------------------------------------------------
; Aerial KameHamaHa
[Statedef 1850]
type    = A
movetype= A
physics = A
juggle  = 4
PowerAdd = -10
velset = 0,0
ctrl = 0
anim = 1850+ifelse(var(1)=0,0,3000)

[State 1850, Voice]
type = PlaySnd
trigger1 = time = 1
value = 2000,0

[State 1850, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 0
anim = -1
sound = S1800,0
pos = -5,-33
darken = 0
unhittable = 1

[State 1850, Ball]
type = Explod
trigger1 = time = 0
Anim = 12051
Pos = -21, -39
Id = 12051
sprpriority = 3
removeongethit = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.7,0.7

[State 1850, Light]
type = Explod
trigger1 = time = 0
Anim = 12050
Pos = -21, -39
Id = 12050
sprpriority = 3
removeongethit = 1
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 1,1

[State 1850, VarSet]
type = Varset
trigger1 = time = 0
v = 13
value = -200

[State 1850, VarAdd]
type = VarAdd
trigger1 = time >= 1 && Var(13) < 0
v = 13
value = 5

[State 1850, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(13),Var(13),Var(13)

[State 1850, PowerAdd]
Type = PowerAdd
Trigger1 = time >= 1
value = -18

[State 1850, VelSetY]
Type = VelSet
Trigger1 = 1
y = 0

[State 1850, Voice]
type = PlaySnd
trigger1 = time = 0
value = 4,0
volume = 255

[State 1850, Next-Up]
type = ChangeState
triggerall = Var(39) != 1
trigger1 = animtime = 0 && command = "holdup" && command != "holddown"
value = 1852
ctrl = 1

[State 1850, Next-Down]
type = ChangeState
triggerall = Var(39) != 1
trigger1 = animtime = 0 && command = "holddown" && command != "holdup"
value = 1853
ctrl = 1

[State 1850, Next-Straight]
type = ChangeState
triggerall = Var(39) != 1
trigger1 = animtime = 0
value = 1851
ctrl = 1

[State 1850, AI.Next-Up]
type = ChangeState
triggerall = Var(39) = 1
trigger1 = animtime = 0 && (p2bodydist y <= -80)
value = 1852
ctrl = 1

[State 1850, AI.Next-Down]
type = ChangeState
triggerall = Var(39) = 1
trigger1 = animtime = 0 && (p2bodydist y >= 30)
value = 1853
ctrl = 1

[State 1850, AI.Next-Straight]
type = ChangeState
triggerall = Var(39) = 1
trigger1 = animtime = 0 && (p2bodydist y > -80 && p2bodydist y < 30)
value = 1851
ctrl = 1

;---------------------------------------------------------------------------
;Aerial KameHameHa Fire
[Statedef 1851]
type    = A
movetype= A
physics = A
velset = 0,0,0
ctrl = 0
anim = 1851+ifelse(var(1)=0,0,3000)

[State 1851, PlaySND]
type = PlaySnd
trigger1 = time = 0
value = 1801,0

[State 1850, VelSetY]
Type = VelSet
Trigger1 = 1
y = 0

[State 1851, Flame]
type = Explod
trigger1 = time = 0
Anim = 12001
Pos = 12, 0
Id = 12001
postype = p1
scale = 0.8,0.8
sprpriority = 3
removeongethit = 1

[State 1851, KameHameHa.Helper]
type = Helper
trigger1 = Time = 1
name = "KameHameHa"
stateno = 12100
postype = p1
pos = 10, -45
keyctrl = 0
ownpal = 0
id = 12100
removeongethit = 1

[State 1851, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodydist < -1 && BackEdgeBodydist > -30)
movecamera = 0,0
value	= 0

[State 1851, End]
type = ChangeState
trigger1 = Time = 40
value	= IfElse(BackEdgeBodydist >= 0, 1854, 100)
ctrl = 1
;---------------------------------------------------------------------------
;KameHameHa Fire Up
[Statedef 1852]
type    = A
movetype= A
physics = A
velset = 0,0,0
ctrl = 0
anim = 1852+ifelse(var(1)=0,0,3000)

[State 1852, PlaySND]
type = PlaySnd
trigger1 = time = 0
value = 1801,0

[State 1850, VelSetY]
Type = VelSet
Trigger1 = 1
y = 0

[State 1852, Flame]
type = Explod
trigger1 = time = 0
Anim = 12001
Pos = 12, 0
Id = 12001
postype = p1
scale = 0.8,0.8
sprpriority = 3
removeongethit = 1

[State 1852, KameHameHa.Helper]
type = Helper
trigger1 = Time = 1
name = "KameHameHa"
stateno = 12110
postype = p1
pos = 15, -52
keyctrl = 0
ownpal = 0
id = 12110
removeongethit = 1

[State 1852, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodydist < -1 && BackEdgeBodydist > -30)
movecamera = 0,0
value	= 0

[State 1852, End]
type = ChangeState
trigger1 = Time = 40
value	= IfElse(BackEdgeBodydist >= 0, 1854, 100)
ctrl = 1
;---------------------------------------------------------------------------
;Aerial KameHameHa Fire Down
[Statedef 1853]
type    = A
movetype= A
physics = A
velset = 0,0,0
ctrl = 0
anim = 1853+ifelse(var(1)=0,0,3000)

[State 1853, PlaySND]
type = PlaySnd
trigger1 = time = 0
value = 1801,0

[State 1850, VelSetY]
Type = VelSet
Trigger1 = 1
y = 0

[State 1853, Flame]
type = Explod
trigger1 = time = 0
Anim = 12001
Pos = 12, 0
Id = 12001
postype = p1
scale = 0.8,0.8
sprpriority = 3
removeongethit = 1

[State 1853, KameHameHa.Helper]
type = Helper
trigger1 = Time = 1
name = "KameHameHa"
stateno = 12120
postype = p1
pos = 15, -41
keyctrl = 0
ownpal = 0
id = 12120
removeongethit = 1

[State 1853, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodydist < -1 && BackEdgeBodydist > -30)
movecamera = 0,0
value	= 0

[State 1853, End]
type = ChangeState
trigger1 = Time = 40
value	= IfElse(BackEdgeBodydist >= 0, 1854, 100)
ctrl = 1
;---------------------------------------------------------------------------
;Aerial KamehameHa End
[Statedef 1854]
type    = A
movetype= A
physics = A
velset = 0,0,0
ctrl = 0
sprpriority = -1

[State 1854, Animation]
type = ChangeAnim
trigger1 = time = 0
value = 1804+ifelse(var(1)=0,0,3000)

[State 1854, End]
type = ChangeState
trigger1 = animtime = 0
value	= 0
ctrl = 1
;---------------------------------------------------------------------------
; Aerial KameHameHa Chain
[Statedef 1855]
type    = A
movetype= A
physics = A
juggle  = 4
PowerAdd = -1000
velset = 0,0
ctrl = 0
anim = 1850+ifelse(var(1)=0,0,3000)

[State 1855, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 20
anim = -1
sound = S1800,0
pos = -5,-33
darken = 1
unhittable = 1

[State 1855, VelSetY]
Type = VelSet
Trigger1 = 1
y = 0

[State 1855, Next-Up]
type = ChangeState
triggerall = Var(39) != 1
trigger1 = time = 1 && command = "holdup" && command != "holddown"
value = 1852
ctrl = 1

[State 1855, Next-Down]
type = ChangeState
triggerall = Var(39) != 1
trigger1 = time = 1 && command = "holddown" && command != "holdup"
value = 1853
ctrl = 1

[State 1855, Next-Straight]
type = ChangeState
triggerall = Var(39) != 1
trigger1 = time = 1
value = 1851
ctrl = 1

[State 1855, AI.Next-Up]
type = ChangeState
triggerall = Var(39) = 1
trigger1 = time = 1 && (p2bodydist y <= -80)
value = 1852
ctrl = 1

[State 1855, AI.Next-Down]
type = ChangeState
triggerall = Var(39) = 1
trigger1 = time = 1 && (p2bodydist y >= 30)
value = 1853
ctrl = 1

[State 1855, AI.Next-Straight]
type = ChangeState
triggerall = Var(39) = 1
trigger1 = time = 1 && (p2bodydist y > -80 && p2bodydist y < 30)
value = 1851
ctrl = 1
;---------------------------------------------------------------------------
; Wolf Fang Fist Initiate
[Statedef 1900]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0 
sprpriority = 2
anim = 1900+ifelse(var(1)=0,0,3000)
poweradd = -10

[State 1900, VarSet]
type = Varset
trigger1 = time = 0
v = 13
value = -200

[State 1900, VarAdd]
type = VarAdd
trigger1 = time >= 1 && Var(13) < 0
v = 13
value = 5

[State 1900, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(13),Var(13),Var(13)

[State 1900, PowerLoss]
type = PowerAdd
trigger1 = time = [1,22]
value = -45

[State 1900, Ring]
type = Explod
trigger1 = time = 1 && pos y = 0
Anim = 11210
Pos = -9,0
Id = 11210
sprpriority = -1
removeongethit = 1
bindtime = 25
Postype = p1
Bindtime = -1
SuperMove = 1
ownpal = 1
scale = 0.7,0.7

[State 1900, VarSet]
type = VarSet
trigger1 = Time = 0
fv = 22
value = 0.1

[State 1900, VarAdd]
type = VarAdd
trigger1 = Time >= 1
fv = 22
value = (1.1*FVar(22))/15

[State 1900, Pause]
type = null;SuperPause
trigger1 = Time = 0
pos = 0, 0
anim = -1
Time = 65

[State 1900, VarSet]
type = VarSet
trigger1 = Time = 0
fv = 22
value = 0.1

[State 1900, VarAdd]
type = VarAdd
trigger1 = Time >= 1
fv = 22
value = (1.1*FVar(22))/10

[State 1900, WolfFace1]
type = Explod
trigger1 = time = [1,5]
Anim = 11300
Pos = 160, 120
postype = back
velocity = 0, 0
Id = 8990
sprpriority = 5
removeongethit = 1
removetime = 1
SuperMove = 1
scale = FVar(22), FVar(22)

[State 1900, WolfFace2]
type = Explod
trigger1 = time = [6,8]
Anim = 11301
Pos = 160, 120
postype = back
velocity = 0, 0
Id = 8991
sprpriority = 5
removeongethit = 1
removetime = 1
SuperMove = 1
scale = FVar(22), FVar(22)

[State 1900, WolfFace3]
type = Explod
trigger1 = time = [9,11]
Anim = 11302
Pos = 160, 120
postype = back
velocity = 0, 0
Id = 8992
sprpriority = 5
removeongethit = 1
removetime = 1
SuperMove = 1
scale = FVar(22), FVar(22)

[State 1900, WolfFace4]
type = Explod
trigger1 = time = [12,14]
Anim = 11303
Pos = 160, 120
postype = back
velocity = 0, 0
Id = 8993
sprpriority = 5
removeongethit = 1
removetime = 1
SuperMove = 1
scale = FVar(22), FVar(22)

[State 1900, WolfFace5]
type = Explod
trigger1 = time = [15,17]
Anim = 11304
Pos = 160, 120
postype = back
velocity = 0, 0
Id = 8993
sprpriority = 5
removeongethit = 1
removetime = 1
SuperMove = 1
scale = FVar(22), FVar(22)

[State 1900, WolfFace6]
type = Explod
trigger1 = time = [18,20]
Anim = 11305
Pos = 160, 120
postype = back
velocity = 0, 0
Id = 8993
sprpriority = 5
removeongethit = 1
removetime = 1
SuperMove = 1
scale = FVar(22), FVar(22)

[State 1900, WolfFace7]
type = Explod
trigger1 = time = [21,23]
Anim = 11306
Pos = 160, 120
postype = back
velocity = 0, 0
Id = 8993
sprpriority = 5
removeongethit = 1
removetime = 1
SuperMove = 1
scale = FVar(22), FVar(22)

[State 1900, Voice-WolfFangFist]
type = PlaySnd
trigger1 = Time = 0
value = 2300, 1

[State 1900, PlaySND]
type = PlaySnd
trigger1 = Time = 1
value = 2100, 1

[State 1900, Next]
type = ChangeState
trigger1 = Time = 55;trigger1 = AnimTime = 0
value = 1901
ctrl = 1
;---------------------------------------------------------------------------
; Wolf Fang Fist Chain
[Statedef 1915]
type    = S
movetype= A
physics = S
juggle  = 4
PowerAdd = -1000
velset = 0,0
ctrl = 0
anim = 1900+ifelse(var(1)=0,0,3000)

[State 1915, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 20
anim = -1
sound = S2100,0
pos = -5,-33
darken = 1
unhittable = 1

[State 1915, VelSetY]
Type = VelSet
Trigger1 = 1
y = 0

[State 1915, Next]
type = ChangeState
trigger1 = time = 1
value = 1901
ctrl = 1
;---------------------------------------------------------------------------
; Wolf Fang Fist Dash Attack
[Statedef 1901]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0 
sprpriority = 2
anim = 1901+ifelse(var(1)=0,0,3000)

[State 1901, AfterImage]
type = AfterImage
trigger1 = time = 2
time = 10
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,256,256
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 1901, Wolf Shadow]
type = Explod
triggerall = time < 12
trigger1 = timemod = 2,0
Anim = 11310
Pos = 44,-42
Id = 11310
sprpriority = 4
removeongethit = 1
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 1,1

[State 1901, Voice-"Huh!"]
type = PlaySnd
trigger1 = time = 2
value = 2, 0 

[State 1901, VarSet]
type = VarSet
trigger1 = (command = "x" || command = "y" || command = "z") && Var(34) = 0 && (time >= 1)
v = 34
value = 1

[State 1901, SparkleG.PosVarX]
type = VarRandom
trigger1 = Time >= 2 && Time <= 14
v = 11
range = -10,2

[State 1901, SparkleG.PosVarY]
type = VarRandom
trigger1 = Time >= 2 && Time <= 14
v = 12
range = -8,-68

[State 1901, PlaySND1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 100, 0

[State 1901, PlaySND1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 201, 0

[State 1901, VelSet]
type = VelSet
trigger1 = AnimElem = 2
x = 28
y = 0

[State 1901, VelAdd]
type = VelAdd
trigger1 = time >= 8
x = -0.2
y = 0

[State 1901, Dust1]
type = Explod
triggerall = pos y = 0
trigger1 = time = 0
Anim = 15000
Pos = -35, 0
Id = 15000
postype = p1
scale = 1,1
sprpriority = 2
removeongethit = 0

[State 1901, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Light
Damage = 30,7
guardflag = MA
pausetime = 9,9
sparkno = S10001
sparkxy = -18,-48
hitsound   = S301,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1.5
air.velocity = -1.5,-2
kill = 0
guard.kill = 0

[State 1901, BlueSpark]
type = helper
trigger1 = movecontact && NumHelper(8020) < 2
ID = 8020
pos = 33,-49
postype = p1
stateno = 8020
helpertype = normal 
keyctrl = 0
name = "BlueSpark0"
ownpal = 1 

[State 1901, SparkleG.Helper]
type = Helper
trigger1 = Time >= 2 && Time <= 10
name = "SparkleG"
stateno = 9110
postype = p1
pos = Var(11), Var(12)
keyctrl = 0
ownpal = 1
id = 9110
size.xscale = IfElse(Random <= 499,0.2,0.3)
size.yscale = IfElse(Random <= 499,0.2,0.3)

[State 1901, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1901, Next]
type = ChangeState
triggerall = Var(39) != 1
trigger1 = movecontact && Var(34) = 1
value = 1902
ctrl = 1

[State 1901, AI.Next]
type = ChangeState
triggerall = Var(39) = 1
trigger1 = movecontact
value = 1902
ctrl = 1
;---------------------------------------------------------------------------
; Wolf Fang Fist-1-Weak Punch
[Statedef 1902]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0 
sprpriority = 2
anim = 1902+ifelse(var(1)=0,0,3000)

[State 1902, Voice-"Ha!"]
type = PlaySnd
trigger1 = time = 0
value = 101, 0 

[State 1902, VarSet]
type = VarSet
trigger1 = (command = "x" || command = "y" || command = "z") && Var(34) = 1 && (time >= 1)
v = 34
value = 2

[State 1902, VelSet]
type = VelSet
trigger1 = 1
x = 1.5

[State 1902, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Light
Damage = 12,4
guardflag = MA
pausetime = 9,9
sparkno = S10001
sparkxy = -8,-48
hitsound   = S300,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1.5
air.velocity = -1.5
kill = 0
guard.kill = 0

[State 1902, BlueSpark]
type = Helper  
trigger1 = movecontact && NumHelper(8021) < 2
ID = 8021
pos = 24,-48
postype = p1
stateno = 8020
helpertype = normal 
keyctrl = 0
name = "BlueSpark1"
ownpal = 1 

[State 1902, PlaySND]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 1902, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1902, Next]
type = ChangeState
triggerall = Var(39) != 1
trigger1 = movecontact && Var(34) = 2
value = 1903
ctrl = 1

[State 1902, AI.Next]
type = ChangeState
triggerall = Var(39) = 1
trigger1 = movecontact
value = 1903
ctrl = 1
;---------------------------------------------------------------------------
; Wolf Fang Fist-Medium Punch
[Statedef 1903]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0 
sprpriority = 2
anim = 1903+ifelse(var(1)=0,0,3000)

[State 1903, Voice-"Ha!"]
type = PlaySnd
trigger1 = time = 0
value = 101, 0 

[State 1903, VarSet]
type = VarSet
trigger1 = (command = "x" || command = "y" || command = "z") && Var(34) = 2 && (time >= 1)
v = 34
value = 3

[State 1903, VelSet]
type = VelSet
trigger1 = 1
x = 1.5

[State 1903, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Light
Damage = 12,4
guardflag = MA
pausetime = 9,9
sparkno = S10001
sparkxy = -18,-49
hitsound   = S301,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1.5
air.velocity = -1.5
kill = 0
guard.kill = 0

[State 1903, BlueSpark]
type = Helper  
trigger1 = movecontact && NumHelper(8022) < 2
ID = 8022
pos = 33,-49
postype = p1 
stateno = 8020
helpertype = normal 
keyctrl = 0
name = "BlueSpark2"
ownpal = 1 

[State 1903, PlaySND]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 1903, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1903, Next]
type = ChangeState
triggerall = Var(39) != 1
trigger1 = movecontact && Var(34) = 3
value = 1904
ctrl = 1

[State 1903, AI.Next]
type = ChangeState
triggerall = Var(39) = 1
trigger1 = movecontact
value = 1904
ctrl = 1
;---------------------------------------------------------------------------
; Wolf Fang Fist-Strong Punch
[Statedef 1904]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0 
sprpriority = 2
anim = 1904+ifelse(var(1)=0,0,3000)

[State 1904, Voice-"Hea!"]
type = PlaySnd
trigger1 = time = 0
value = 103, 0 

[State 1904, VarSet]
type = VarSet
trigger1 = (command = "x" || command = "y" || command = "z") && Var(34) = 3 && (time >= 1)
v = 34
value = 4

[State 1904, VelSet]
type = VelSet
trigger1 = 1
x = 1.5

[State 1904, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Light
Damage = 12,4
guardflag = MA
pausetime = 9,9
sparkno = S10002
sparkxy = -8,-70
hitsound   = S301,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1.5
air.velocity = -1.5
kill = 0
guard.kill = 0

[State 1904, BlueSpark]
type = Helper  
trigger1 = movecontact && NumHelper(8023) < 2
ID = 8023
pos = 24,-70
postype = p1 
stateno = 8020
helpertype = normal 
keyctrl = 0
name = "BlueSpark3"
ownpal = 1 

[State 1904, PlaySND]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 1904, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1904, Next]
type = ChangeState
triggerall = Var(39) != 1
trigger1 = movecontact && Var(34) = 4
value = 1905
ctrl = 1

[State 1904, AI.Next]
type = ChangeState
triggerall = Var(39) = 1
trigger1 = movecontact
value = 1905
ctrl = 1
;---------------------------------------------------------------------------
; Wolf Fang Fist-2-2x Punch Part 1
[Statedef 1905]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 1.5,0
ctrl = 0 
sprpriority = 2
anim = 1905+ifelse(var(1)=0,0,3000)

[State 1905, Voice-"Ha!"]
type = PlaySnd
trigger1 = time = 0
value = 102, 0 

[State 1905, VarSet]
type = VarSet
trigger1 = (command = "x" || command = "y" || command = "z") && Var(34) = 4 && (time >= 1)
v = 34
value = 5

[State 1905, VelSet]
type = VelSet
trigger1 = 1
x = 1.5

[State 1905, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Light
Damage = 12,4
guardflag = MA
pausetime = 9,9
sparkno = S10001
sparkxy = -8,-64
hitsound   = S300,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1.5
air.velocity = -1.5
kill = 0
guard.kill = 0

[State 1905, BlueSpark]
type = Helper  
trigger1 = movecontact && NumHelper(8024) < 2
ID = 8024
pos = 24,-64
postype = p1 
stateno = 8020
helpertype = normal 
keyctrl = 0
name = "BlueSpark4"
ownpal = 1 

[State 1905, PlaySND]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 1905, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1905, Next]
type = ChangeState
triggerall = Var(39) != 1
trigger1 = movecontact && Var(34) = 5
value = 1906
ctrl = 1

[State 1905, AI.Next]
type = ChangeState
triggerall = Var(39) = 1
trigger1 = movecontact
value = 1906
ctrl = 1
;---------------------------------------------------------------------------
; Wolf Fang Fist-3-2x Punch Part 2
[Statedef 1906]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0 
sprpriority = 2
anim = 1906+ifelse(var(1)=0,0,3000)

[State 1906, Voice-"Waaah!"]
type = PlaySnd
trigger1 = time = 0
value = 110, 0 

[State 1906, VarSet]
type = VarSet
trigger1 = (command = "x" || command = "y" || command = "z") && Var(34) = 5 && (time >= 1)
v = 34
value = 6

[State 1906, VelSet]
type = VelSet
trigger1 = 1
x = 1.5

[State 1906, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Light
Damage = 12,4
guardflag = MA
pausetime = 9,9
sparkno = S10002
sparkxy = -6,-48
hitsound   = S301,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1.5
air.velocity = -1.5
kill = 0
guard.kill = 0

[State 1906, BlueSpark]
type = Helper  
trigger1 = movecontact && NumHelper(8025) < 2
ID = 8025
pos = 22,-48
postype = p1 
stateno = 8020
helpertype = normal 
keyctrl = 0
name = "BlueSpark5"
ownpal = 1 

[State 1906, PlaySND]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 1906, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1906, Next]
type = ChangeState
triggerall = Var(39) != 1
trigger1 = movecontact && Var(34) = 6
value = 1907
ctrl = 1

[State 1906, AI.Next]
type = ChangeState
triggerall = Var(39) = 1
trigger1 = movecontact
value = 1907
ctrl = 1
;---------------------------------------------------------------------------
; Wolf Fang Fist-5-Palm
[Statedef 1907]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0 
sprpriority = 2
anim = 1907+ifelse(var(1)=0,0,3000)

[State 1907, Voice-"Yeaah!"]
type = PlaySnd
trigger1 = time = 0
value = 106, 0 

[State 1907, VarSet]
type = VarSet
trigger1 = (command = "x" || command = "y" || command = "z") && Var(34) = 6 && (time >= 1)
v = 34
value = 7

[State 1907, VelSet]
type = VelSet
trigger1 = 1
x = 1.0

[State 1907, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Light
Damage = 12,4
guardflag = MA
pausetime = 9,9
sparkno = S10003
sparkxy = -10,-54
hitsound   = S300,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1.5
air.velocity = -1.5
kill = 0
guard.kill = 0

[State 1907, BlueSpark]
type = Helper  
trigger1 = movecontact && NumHelper(8026) < 2
ID = 8026
pos = 26,-54
postype = p1 
stateno = 8020
helpertype = normal 
keyctrl = 0
name = "BlueSpark6"
ownpal = 1 

[State 1907, PlaySND]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 1907, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1907, Next]
type = ChangeState
triggerall = Var(39) != 1
trigger1 = movecontact && Var(34) = 7
value = 1908
ctrl = 1

[State 1907, AI.Next]
type = ChangeState
triggerall = Var(39) = 1
trigger1 = movecontact
value = 1908
ctrl = 1
;---------------------------------------------------------------------------
; Wolf Fang Fist-Medium Punch2
[Statedef 1908]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0 
sprpriority = 2
anim = 1903+ifelse(var(1)=0,0,3000)

[State 1908, Voice-"Ha!"]
type = PlaySnd
trigger1 = time = 0
value = 101, 0 

[State 1908, VarSet]
type = VarSet
trigger1 = (command = "x" || command = "y" || command = "z") && Var(34) = 7 && (time >= 1)
v = 34
value = 8

[State 1908, VelSet]
type = VelSet
trigger1 = 1
x = 1.5

[State 1908, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Light
Damage = 12,4
guardflag = MA
pausetime = 9,9
sparkno = S10001
sparkxy = -17,-49
hitsound   = S300,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1.5
air.velocity = -1.5
kill = 0
guard.kill = 0

[State 1908, BlueSpark]
type = Helper  
trigger1 = movecontact && NumHelper(8027) < 2
ID = 8027
pos = 32,-49
postype = p1 
stateno = 8020
helpertype = normal 
keyctrl = 0
name = "BlueSpark7"
ownpal = 1 

[State 1908, PlaySND]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 1908, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1908, Next]
type = ChangeState
triggerall = Var(39) != 1
trigger1 = movecontact && Var(34) = 8
value = 1909
ctrl = 1

[State 1908, AI.Next]
type = ChangeState
triggerall = Var(39) = 1
trigger1 = movecontact
value = 1909
ctrl = 1
;---------------------------------------------------------------------------
; Wolf Fang Fist-Strong Punch
[Statedef 1909]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0 
sprpriority = 2
anim = 1909+ifelse(var(1)=0,0,3000)

[State 1909, Voice-"Heah!"]
type = PlaySnd
trigger1 = time = 0
value = 103, 0 

[State 1909, VarSet]
type = VarSet
trigger1 = (command = "x" || command = "y" || command = "z") && Var(34) = 8 && (time >= 1)
v = 34
value = 9

[State 1909, VelSet]
type = VelSet
trigger1 = 1
x = 1.5

[State 1909, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Light
Damage = 12,4
guardflag = MA
pausetime = 9,9
sparkno = S10002
sparkxy = -8,-70
hitsound   = S301,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1.5
air.velocity = -1.5
kill = 0
guard.kill = 0

[State 1909, BlueSpark]
type = Helper  
trigger1 = movecontact && NumHelper(8028) < 2
ID = 8028
pos = 24,-70
postype = p1 
stateno = 8020
helpertype = normal 
keyctrl = 0
name = "BlueSpark8"
ownpal = 1 

[State 1909, PlaySND]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 1909, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1909, Next]
type = ChangeState
triggerall = Var(39) != 1
trigger1 = movecontact && Var(34) = 9
value = 1910
ctrl = 1

[State 1909, AI.Next]
type = ChangeState
triggerall = Var(39) = 1
trigger1 = movecontact
value = 1910
ctrl = 1
;---------------------------------------------------------------------------
; Wolf Fang Fist-9-Wolf Fang Fist(Double Palm SMash)
[Statedef 1910]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0 
sprpriority = 2
anim = 1910+ifelse(var(1)=0,0,3000)

[State 1907, Voice-"WOOOOH!"]
type = PlaySnd
trigger1 = time = 7
value = 111, 0 

[State 1910, VelSet]
type = VelSet
trigger1 = AnimElem = 1
x = 1

;[State 1910, VelAdd]
;type = VelAdd
;trigger1 = time >= 20
;x = 0.1

[State 1910, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Light
Damage = 80,20
guardflag = MA
pausetime = 12,12
sparkno = S10004
sparkxy = -5,-48
hitsound   = S301,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -18,-4
air.velocity = -18,-4
fall = 1
fall.recover = 0
air.fall = 1
air.fall.recover = 0
kill = 1
guard.kill = 1

[State 1910, PlaySND]
type = PlaySnd
trigger1 = Time = 1
value = 200, 0

[State 1910, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodydist < -1 && BackEdgeBodydist > -30)
movecamera = 0,0
value	= 0

[State 1910, End]
type = ChangeState
trigger1 = animtime = 0
value	= IfElse(BackEdgeBodydist >= 0, 0, 100)
ctrl = 1
;---------------------------------------------------------------------------
;Souki Dan(Yamcha)
[Statedef 2200]
type    = S
movetype= A
physics = S
anim = 2200+ifelse(var(1)=0,0,500)
ctrl = 0
velset = 0,0
sprpriority = 1

[State 2200, Dust1]
type = Explod
triggerall = time > 0
triggerall = pos y = 0
trigger1 = timemod = 14,0
Anim = 15000
Pos = -40, 0
Id = 15000
sprpriority = -2
removeongethit = 0
Postype = p1
;Bindtime = -1
SuperMove = 1
velocity = -3
ownpal = 1

[State 2200, Dust2]
type = Explod
triggerall = time > 0
triggerall = pos y = 0
trigger1 = timemod = 14,0
Anim = 15001
Pos = 35, 0
Id = 15001
sprpriority = -2
removeongethit = 0
Postype = p1
;Bindtime = -1
SuperMove = 1
velocity = 3
ownpal = 1

[State 2200, PushBack.Helper]
type = Helper
trigger1 = TimeMod = 7,0
name = "PushBack"
stateno = 12651
postype = p1
pos = -10, 0
keyctrl = 0
ownpal = 1
id = 12651

[State 2200, PushStill.Helper]
type = Helper
trigger1 = TimeMod = 7,0
name = "PushStill"
stateno = 12652
postype = p1
pos = 0, 0
keyctrl = 0
ownpal = 1
id = 12652

[State 2200, PushFwd.Helper]
type = Helper
trigger1 = TimeMod = 7,0
name = "PushFwd"
stateno = 12650
postype = p1
pos = 10, 0
keyctrl = 0
ownpal = 1
id = 12650

[State 2200, Powerdecrease]
type = POWERADD
trigger1 = time >= 1 && time <= 100
value = -20

[State 2200, Pause]
type = SuperPause
trigger1 = time = 104
pos = 0, -60
anim = -1
time = 40

[State 2200, Flash]
type = Envcolor
trigger1 = time = 105
time = 4
value = 255,255,255

[State 2200, Voice-LetMeShowYou]
type = PlaySnd
trigger1 = Time = 0
value = 3000, 1
volume = 255

[State 2200, Voice-(Charge)]
type = PlaySnd
trigger1 = Time = 104
value = 50, 0
volume = 255

[State 2200, Energy Ball]
type = Explod
trigger1 = time = 104
Anim = 2251
Pos = 16, -50
velocity = 0, -0.5
Id = 2251
sprpriority = 0
removeongethit = 1
removetime = 42
Postype = p1
SuperMove = 1
scale = 0.7, 0.7

[State 2200, Souki Dan];(Helper)
type = Helper  
triggerall = var(39) != 1
trigger1 = time = 105
ID = 2250 
pos = 13,-75 
postype = p1 
stateno = 2250
helpertype = normal 
keyctrl = 1
name = "Soukidan"
ownpal = 1 

[State 2200, Souki Dan];(AI.Helper)
type = Helper  
triggerall = var(39) = 1
trigger1 = time = 105
ID = 2250
pos = 13,-75 
postype = p1 
stateno = 2250
name = "SoukidanAI"
ownpal = 1 
keyctrl = 0

[State 2200, PlaySNd]
type = PlaySnd
trigger1 = Time = 105
value = 2250, 0
volume = 235

[State 2200, End]
type = ChangeState
trigger1 = NumHelper(2250) = 1
value = 2201
ctrl = 1
;---------------------------------------------------------------------------
;Souki Dan(Yamcha)
[Statedef 2201]
type    = S
movetype= A
physics = S
anim = 2201+ifelse(var(1)=0,0,500)
ctrl = 0
velset = 0,0
sprpriority = 1

[State 2201, PlaySND]
type = PlaySnd
trigger1 = time = 0 && prevstateno != 2212
value = 3100,0

[State 2201, Forward]
type = ChangeState
trigger1 = command = "holdfwd"
value = 2210

[State 2201, Back]
type = ChangeState
trigger1 = command = "holdback"
value = 2211

[State 2201, Up]
type = ChangeState
trigger1 = command = "holdup"
value = 2212

[State 2201, Down]
type = ChangeState
trigger1 = command = "holddown"
value = 2213

[State 2201, End]
type = ChangeState
trigger1 = NumHelper(2250) = 0 && time >= 10
trigger2 = (command = "c" && command = "z") && time > 1
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Souki Dan Forward
[Statedef 2210]
type    = S
movetype= A
physics = S
anim = 2202+ifelse(var(1)=0,0,500)
ctrl = 0
velset = 0,0
sprpriority = 1

[State 2210, PlaySND]
type = PlaySnd
trigger1 = time = 0
value = 3100,3

[State 2210, End]
type = ChangeState
trigger1 = NumHelper(2250) = 0
trigger2 = command = "c" && command = "z"
value = 0
ctrl = 1

[State 2210, ChangeStill]
type = ChangeState
trigger1 = command != "holdfwd" && command != "holdback" && command != "holdup" && command != "holddown"
value = 2201

[State 2210, ChangeBack]
type = ChangeState
trigger1 = command != "holdfwd" && command = "holdback"
value = 2211

[State 2210, ChangeUp]
type = ChangeState
trigger1 = command != "holdfwd" && command = "holdup"
value = 2212

[State 2210, ChangeDown]
type = ChangeState
trigger1 = command != "holdfwd" && command = "holddown"
value = 2213
;---------------------------------------------------------------------------
;Souki Dan Backward
[Statedef 2211]
type    = S
movetype= A
physics = S
anim = 2203+ifelse(var(1)=0,0,500)
ctrl = 0
velset = 0,0
sprpriority = 1

[State 2211, PlaySND]
type = PlaySnd
trigger1 = time = 0
value = 3100,2

[State 2211, End]
type = ChangeState
trigger1 = NumHelper(2250) = 0
trigger2 = (command = "c" && command = "z") && time > 1
value = 0
ctrl = 1

[State 2211, ChangeStill]
type = ChangeState
trigger1 = command != "holdfwd" && command != "holdback" && command != "holdup" && command != "holddown"
value = 2201

[State 2211, ChangeFwd]
type = ChangeState
trigger1 = command != "holdback" && command = "holdfwd"
value = 2210

[State 2211, ChangeUp]
type = ChangeState
trigger1 = command != "holdback" && command = "holdup"
value = 2212

[State 2211, ChangeDown]
type = ChangeState
trigger1 = command != "holdback" && command = "holddown"
value = 2213
;---------------------------------------------------------------------------
;Souki Dan Upwards
[Statedef 2212]
type    = S
movetype= A
physics = S
anim = 2204+ifelse(var(1)=0,0,500)
ctrl = 0
velset = 0,0
sprpriority = 1

[State 2212, PlaySND]
type = PlaySnd
trigger1 = time = 0 && prevstateno != 2201
value = 3100,0

[State 2212, End]
type = ChangeState
trigger1 = NumHelper(2250) = 0 && time >= 10
trigger2 = (command = "c" && command = "z") && time > 1
value = 0
ctrl = 1

[State 2212, ChangeStill]
type = ChangeState
trigger1 = command != "holdfwd" && command != "holdback" && command != "holdup" && command != "holddown"
value = 2201

[State 2212, ChangeBack]
type = ChangeState
trigger1 = command = "holdback"
value = 2211

[State 2212, ChangeFwd]
type = ChangeState
trigger1 = command = "holdfwd"
value = 2210

[State 2212, ChangeDown]
type = ChangeState
trigger1 = command != "holdup" && command = "holddown"
value = 2213
;---------------------------------------------------------------------------
;Souki Dan Downward
[Statedef 2213]
type    = S
movetype= A
physics = S
anim = 2205+ifelse(var(1)=0,0,500)
ctrl = 0
velset = 0,0
sprpriority = 1

[State 2213, PlaySND]
type = PlaySnd
trigger1 = time = 0
value = 3100,1

[State 2213, End]
type = ChangeState
trigger1 = NumHelper(2250) = 0 && time >= 10
trigger2 = (command = "c" && command = "z") && time > 1
value = 0
ctrl = 1

[State 2213, ChangeStill]
type = ChangeState
trigger1 = command != "holdfwd" && command != "holdback" && command != "holdup" && command != "holddown"
value = 2201

[State 2213, ChangeBack]
type = ChangeState
trigger1 = command = "holdback"
value = 2211

[State 2213, ChangeUp]
type = ChangeState
trigger1 = command != "holddown" && command = "holdup"
value = 2212

[State 2213, ChangeFwd]
type = ChangeState
trigger1 = command = "holdfwd"
value = 2210
;---------------------------------------------------------------------------
;Souki Dan(Helper)
[Statedef 2250]
type    = S
movetype= A
physics = S
anim = 12300
ctrl = 0
sprpriority = 2

[State 2250, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 99999999
length = 18
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,256,256
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 2250, No Shadow]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 2250, No Time]
type = AssertSpecial
trigger1 = (time >= 0 && Parent, stateno = 2201)
flag = timerfreeze

[State 2250, Turn]
type = null;Turn
trigger1 = movecontact = 0
trigger1 = P2dist X < -30

[State 2250, Still]
type = VelSet
triggerall = Var(39) != 1
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
x = 0
y = 0

[State 2250, GoUp1]
type = VelSet
triggerall = pos Y > -512 && Var(39) != 1
trigger1 = (Parent, stateno = 2212||Parent, stateno = 2210||Parent, stateno = 2211) && command = "holdup"
y = -5

[State 2250, GoUpVelAdd]
type = VelAdd
triggerall = vel Y > -7  && Var(39) != 1
trigger1 = (Parent, stateno = 2212||Parent, stateno = 2210||Parent, stateno = 2211) && command = "holdup"
y = -0.5

[State 2250, GoDown1]
type = VelSet
triggerall = pos Y < 0 && Var(39) != 1
trigger1 = (Parent, stateno = 2213||Parent, stateno = 2210||Parent, stateno = 2211) && command = "holddown"
y = 5

[State 2250, GoDownVelAdd]
type = VelAdd
triggerall = vel Y < 7 && Var(39) != 1
trigger1 = (Parent, stateno = 2213||Parent, stateno = 2210||Parent, stateno = 2211) && command = "holddown"
y = 0.5

[State 2250, GoBack1]
type = VelSet
triggerall = BackEdgeBodyDist > 10 && Var(39) != 1
trigger1 = Parent, stateno = 2211 && command = "holdback"
x = -5.5

[State 2250, GoBackVelAdd]
type = VelAdd
triggerall = vel x > -8 && Var(39) != 1
trigger1 = Parent, stateno = 2211 && command = "holdback"
x = -0.55

[State 2250, GoFwd1]
type = VelSet
triggerall = FrontEdgeBodyDist > 0 && Var(39) != 1
trigger1 = Parent, stateno = 2210 && command = "holdfwd"
x = 5.5

[State 2250, GoFwdVelAdd]
type = VelAdd
triggerall = vel x < 8 && Var(39) != 1
trigger1 = Parent, stateno = 2210 && command = "holdfwd"
x = 0.55
;-----------------------------------------------------------
[State 2250, AI.Still]
type = VelSet
triggerall = Parent, Var(39) = 1
trigger1 = p2bodydist x > -6
trigger1 = p2bodydist x < -8
trigger1 = p2bodydist y > 50
trigger1 = p2bodydist y < 39
x = 0
y = 40

[State 2250, AI.GoUp1]
type = VelSet
triggerall = pos Y > -512 && Parent, Var(39) = 1
trigger1 = p2bodydist y < 39
y = -3

[State 2250, AI.GoUpVelAdd]
type = VelAdd
triggerall = vel Y > -5  && Parent, Var(39) = 1
trigger1 = p2bodydist y < 39
y = -0.5

[State 2250, AI.GoDown1]
type = VelSet
triggerall = pos Y < 0 && Parent, Var(39) = 1
trigger1 = p2bodydist y > 50
y = 3

[State 2250, AI.GoDownVelAdd]
type = VelAdd
triggerall = vel Y < 5 && Parent, Var(39) = 1
trigger1 = p2bodydist y > 50
y = 0.5

[State 2250, AI.GoBack1]
type = VelSet
triggerall = BackEdgeBodyDist > 0 && Parent, Var(39) = 1
trigger1 = p2bodydist x < -8
x = -3.5

[State 2250, AI.GoBackVelAdd]
type = VelAdd
triggerall = vel x > -5.5 && Parent, Var(39) = 1
trigger1 = p2bodydist x < -8
x = -0.55

[State 2250, AI.GoFwd1]
type = VelSet
triggerall = FrontEdgeBodyDist > 0 && Parent, Var(39) = 1
trigger1 = p2bodydist x > -6
x = 3.5

[State 2250, AI.GoFwdVelAdd]
type = VelAdd
triggerall = vel x < 5.5 && Parent, Var(39) = 1
trigger1 = p2bodydist x > -6
x = 0.55
;------------------------------------------------------------
[State 2250, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, HA
animtype  = Medium
damage    = 290, 97
guardflag = MA
pausetime = 1,1
sparkno = -1
sparkxy = 0,0
hitsound   = -1
guardsound = -1
ground.type = Trip
ground.slidetime = 22
ground.hittime  = 11
ground.velocity = -8,-5
air.velocity = -8,-5

[State 2250,Low Border]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 2250,Camera Follow]
type = Screenbound
triggerall = (Parent, stateno = 2201||Parent, stateno = 2210||Parent, stateno = 2211||Parent, stateno = 2212||Parent, stateno = 2213)
trigger1 = 1
movecamera = 4,4

[State 2250, Explode.Contact]
type = Changestate
trigger1 = MoveContact
value = 2251
ctrl = 1

;[State 2250, Explode.Command]
;type = Changestate
;trigger1 = command = "c" && command = "z"
;value = 2251
;ctrl = 1

[State 2250, Explode.GetHit]
type = HitOverride
trigger1 = time = 0
time = -1
attr = SCA, AA, AT, AP
slot = 0
stateno = 2251
;---------------------------------------------------------------------------
;Souki Dan Explosion
[Statedef 2251]
type    = S
movetype= A
physics = S
anim = 13105
sprpriority = 3
ctrl = 0

[State 2251, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
flag2 = timerfreeze

[State 2251, VelSet]
type = VelSet
trigger1 = Time >= 1
x = 0
y = 0

[state 2251,PlaySND]
type = playsnd
trigger1 = time = 1
value = 900,1

[State 2251, Die]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Zanzoken Start
;-=Peek-a-boo!=-
[Statedef 2900]
type    = S
movetype= I
physics = S
velset = 5,0
ctrl = 0
facep2 = 1
poweradd = -50

[State 2900, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H || BackEdgeBodydist > -30
movecamera = 0,0
value	= 0

[State 2900, Animation]
type = ChangeAnim
trigger1 = time = 0
value = 2400+ifelse(var(1)=0,0,500)

[State 2900, NotHitBy]
type = NotHitBy
Trigger1 = Time = 0
value = SCA
time = 25

[State 2900, TeleportFwd]
type = PosAdd
Trigger1 = AnimElem = 5 || command = "holdfwd" && (command = "holdup" || command = "holddown")
x = 400
y = 0

[State 2900, TeleportFwdUp]
type = PosAdd
Trigger1 = AnimElem = 5
Trigger1 = command = "holdup" || (command = "holdup" && command = "holdfwd")
x = 400
y = -100

[State 2900, TeleportDownFwd]
type = PosAdd
Trigger1 = AnimElem = 5
Trigger1 = command = "holddown" || (command = "holddown" && command = "holdfwd")
x = 400
y = 100

[State 2900, Border1]
type = PosAdd
Trigger1 =  Pos Y <= 1
Trigger1 =  Pos Y >= 100
x = 0
y = -100

[State 2900, GroundBorder]
type = PosSet
triggerall = Pos Y > 0
trigger1 = MoveType = A
trigger2 = MoveType = I
trigger2 = StateNo != 50
y = 0

[State 2900, AfterImageStill]
type = Explod
Trigger1 = AnimElem = 1
anim = 2402+ifelse(var(1)=0,0,500)
removetime = 30
velocity = 0
offset = 0

[State 2900, AfterImageLeft]
type = Explod
Trigger1 = AnimElem = 1
anim = 2402+ifelse(var(1)=0,0,500)
removetime = 25
velocity = -1.5
offset = 0

[State 2900, AfterImageRight]
type = Explod
Trigger1 = AnimElem = 1
anim = 2402+ifelse(var(1)=0,0,500)
removetime = 25
velocity = 1.5
offset = 0

[State 2900, Next]
type = ChangeState
Trigger1 = animtime = 0
value = 2901
ctrl = 1

[State 2900, ScreenBounderies]
type = ScreenBound
Trigger1 = Time = 0
Trigger2 = Time >= 10
Trigger3 = AnimElem = 2
Trigger4 = AnimElem = 3
Trigger5 = AnimElem = 4
Trigger6 = AnimTime = 0
value = 0
movecamera = 1,1

[State 2900, PlaySND]
type = PlaySnd
Trigger1 = AnimElem = 2
value = 2200,1

;----------------------------------------------------------------------------------------
;Zanzoken Reapear
;-=I see you!=-
[Statedef 2901]
type    = S
movetype= I
physics = S
velset = -5,0
ctrl = 0
facep2 = 1
poweradd = -50

[State 2900, VelSet]
type = Velset
Trigger1 = time = 0
y = 0

[State 2900, Turn]
type = Turn
Trigger1 = P2Dist X < 0

[State 2901, Normal anim]
type = ChangeAnim
trigger1 = time = 0
value = 2401+ifelse(var(1)=0,0,500)

[State 2901, AfterImage]
type = AfterImage
Trigger1 = AnimElem = 1
time = 15
trans = add
palfx = 256,256,256

[State 2901, End]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Zanzoken Back Start
[Statedef 2905]
type    = S
movetype= I
physics = S
ctrl = 0
facep2 = 1
poweradd = -50

[State 2905, Animation]
type = ChangeAnim
trigger1 = time = 0
value = 2405+ifelse(var(1)=0,0,500)

[State 2905, NotHitBy]
type = NotHitBy
Trigger1 = Time = 0
value = SCA
time = 25

[State 2905, VelSet]
type = VelSet
Trigger1 = 1
y = 0

[State 2905, TeleportBack]
type = PosAdd
Trigger1 = AnimElem = 4 && (command != "holdup" && command != "holddown")
x = -200
y = 100

[State 2905, TeleportBackUp]
type = PosAdd
Trigger1 = AnimElem = 4
Trigger1 = command = "holdup" || (command = "holdup" && command = "holdback")
x = -200
y = -100

[State 2905, TeleportBackDown]
type = PosAdd
Trigger1 = AnimElem = 4
Trigger1 = command = "holddown" || (command = "holddown" && command = "holdback")
x = -200
y = 100

[State 2905, Border1]
type = PosAdd
Trigger1 =  Pos Y <= 1
Trigger1 =  Pos Y >= 100
x = 0
y = -100

[State 2905, GroundBorder]
type = PosSet
triggerall = Pos Y > 0
trigger1 = MoveType = A
trigger2 = MoveType = I
trigger2 = StateNo != 50
y = 0

[State 2905, AfterImageStill]
type = Explod
Trigger1 = AnimElem = 1
anim = 2406+ifelse(var(1)=0,0,500)
removetime = 30
velocity = 0
offset = 0

[State 2905, AfterImageLeft]
type = Explod
Trigger1 = AnimElem = 1
anim = 2406+ifelse(var(1)=0,0,500)
removetime = 25
velocity = -1.5
offset = 0

[State 2905, AfterImageRight]
type = Explod
Trigger1 = AnimElem = 1
anim = 2406+ifelse(var(1)=0,0,500)
removetime = 25
velocity = 1.5
offset = 0

[State 2905, Next]
type = ChangeState
Trigger1 = animtime = 0
value = 2906
ctrl = 1

[State 2905, ScreenBounderies]
type = ScreenBound
Trigger1 = Time = 0
Trigger2 = Time >= 10
Trigger3 = AnimElem = 2
Trigger4 = AnimElem = 3
Trigger5 = AnimElem = 4
Trigger6 = AnimTime = 0
value = 0
movecamera = 1,1

[State 2905, PlaySND]
type = PlaySnd
Trigger1 = AnimElem = 2
value = 2200,1

;----------------------------------------------------------------------------------------
;Zanzoken Back Reapear
[Statedef 2906]
type    = S
movetype= I
physics = S
velset = -5,0
ctrl = 0
facep2 = 1
poweradd = -50

[State 2906, Normal anim]
type = ChangeAnim
trigger1 = time = 0
value = 2401+ifelse(var(1)=0,0,500)

[State 2906, AfterImage]
type = AfterImage
Trigger1 = AnimElem = 1
time = 15
trans = add
palfx = 256,256,256

[State 2906, End]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Zanzoken Air Back Start
[Statedef 2907]
type    = S
movetype= I
physics = S
ctrl = 0
facep2 = 1
poweradd = -50

[State 2905, Animation]
type = ChangeAnim
trigger1 = time = 0
value = 2405+ifelse(var(1)=0,0,500)

[State 2905, NotHitBy]
type = NotHitBy
Trigger1 = Time = 0
value = SCA
time = 25

[State 2905, VelSet]
type = VelSet
Trigger1 = 1
y = 0

[State 2905, TeleportBack]
type = PosAdd
Trigger1 = AnimElem = 4 && (command != "holdup" && command != "holddown")
x = -200
y = 0

[State 2905, TeleportBackUp]
type = PosAdd
Trigger1 = AnimElem = 4
Trigger1 = command = "holdup" || (command = "holdup" && command = "holdback")
x = -200
y = -100

[State 2905, TeleportBackDown]
type = PosAdd
Trigger1 = AnimElem = 4
Trigger1 = command = "holddown" || (command = "holddown" && command = "holdback")
x = -200
y = 100

[State 2905, Border1]
type = PosAdd
Trigger1 =  Pos Y <= 1
Trigger1 =  Pos Y >= 100
x = 0
y = -100

[State 2905, GroundBorder]
type = PosSet
triggerall = Pos Y > 0
trigger1 = MoveType = A
trigger2 = MoveType = I
trigger2 = StateNo != 50
y = 0

[State 2905, AfterImageStill]
type = Explod
Trigger1 = AnimElem = 1
anim = 2406+ifelse(var(1)=0,0,500)
removetime = 30
velocity = 0
offset = 0

[State 2905, AfterImageLeft]
type = Explod
Trigger1 = AnimElem = 1
anim = 2406+ifelse(var(1)=0,0,500)
removetime = 25
velocity = -1.5
offset = 0

[State 2905, AfterImageRight]
type = Explod
Trigger1 = AnimElem = 1
anim = 2406+ifelse(var(1)=0,0,500)
removetime = 25
velocity = 1.5
offset = 0

[State 2905, Next]
type = ChangeState
Trigger1 = animtime = 0
value = 2908
ctrl = 1

[State 2905, ScreenBounderies]
type = ScreenBound
Trigger1 = Time = 0
Trigger2 = Time >= 10
Trigger3 = AnimElem = 2
Trigger4 = AnimElem = 3
Trigger5 = AnimElem = 4
Trigger6 = AnimTime = 0
value = 0
movecamera = 1,1

[State 2905, PlaySND]
type = PlaySnd
Trigger1 = AnimElem = 2
value = 2200,1

;----------------------------------------------------------------------------------------
;Zanzoken Back Reapear
[Statedef 2908]
type    = S
movetype= I
physics = S
velset = -5,0
ctrl = 0
facep2 = 1
poweradd = -50

[State 2906, VelSet]
type = VelSet
trigger1 = time = 0
y = 0

[State 2906, Normal anim]
type = ChangeAnim
trigger1 = time = 0
value = 2401+ifelse(var(1)=0,0,500)

[State 2906, AfterImage]
type = AfterImage
Trigger1 = AnimElem = 1
time = 15
trans = add
palfx = 256,256,256

[State 2906, End]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;-=I little bit of pixie dust...Now just think happy thoughts!=-
; Fly-Lift off
[Statedef 3000]
type = A
movetype = I
physics = A
juggle  = 1
velset = 0, -8
poweradd= -25
ctrl = 0

[State 3000, Normal anim]
type = ChangeAnim
trigger1 = time = 0
value = 2000+ifelse(var(1)=0,0,500)

[State 3000, Super D]
type = AfterImage
trigger1 = Time = 0
trans = add1
TimeGap  = 1
FrameGap = 6
time = 20
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1;.9, .9, .9

[State 3000, PlaySND]
type = PlaySnd
triggerall = random >= 600
trigger1 = AnimElem = 1
value = 250, 0

[State 3000, Next]
type = ChangeState
trigger1 = AnimTime = 0
value = 3100
ctrl = 1

;---------------------------------------------------------------------------
;-=This is what you get after launching the U.S.A. out of a cannon...(Get It!? Flying States!)=-
;Flying States
[Statedef 3100]
type = S
movetype = I
physics = N
ctrl = 0
velset = 0,0

[State 3100, FlightVarSet]
type = VarSet
trigger1 = 1
v = 20
value = 1

[State 3100, Normal anim]
type = ChangeAnim
trigger1 = time = 0
value = 2100+ifelse(var(1)=0,0,500)

[State 3100, VelSet]
type = VelSet
trigger1 = (command != "holdfwd" && command != "holdback" && command != "holdup" && command != "holddown"); || (var(39) = 1 && (p2bodydist Y > -20 || p2bodydist Y < 20 || p2bodydist X > 12))
trigger1 = Var(3) = 0
trigger2 = Pos Y < -405
x = 0
y = 0

[State 3100, StillAnim]
type = ChangeAnim
trigger1 = (command != "holdup" && command != "holddown"); || (var(39) = 1 && (p2bodydist Y > -20 || p2bodydist Y < 20 || p2bodydist X > 12))
trigger1 = Anim != 2100+ifelse(var(1)=0,0,500)
value = 2100+ifelse(var(1)=0,0,500)

[State 3100, VarSet]
type = VarSet
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
trigger1 = var(3) != 2
trigger2 = var(3) = 2
trigger2 = Vel Y >= 1.4
v = 3
value = 1

[State 3100, VarSet]
type = VarSet
trigger1 = Var(3) = 1
trigger1 = Vel Y <= -1.4
trigger2 = P2BodyDist Y > 405
trigger2 = Vel Y < 0
v = 3
value = 2

[State 3100, Up Velocity]
type = VelAdd
trigger1 = Var(3) = 1
y = -0.1

[State 3100, Down Velocity]
type = VelAdd
trigger1 = Var(3) = 2
y = 0.1

[State 3100,Stop Velocity]
type = VelSet
triggerall = Var(3) != 0
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
trigger3 = command = "holdup"
trigger4 = command = "holddown"
y = 0

[State 3100,VarReset]
type = VarSet
trigger1 = command = "holdfwd"
trigger2 = command = "holdback"
trigger3 = command = "holdup"
trigger4 = command = "holddown"
v = 3
value = 0

[State 3100, UpBorder]
type = PosSet
trigger1 = Pos Y < -405
y = -405

[State 3100, DownBordera]
type = PosAdd
trigger1 = P2BodyDist Y > 405
trigger1 = Vel Y < 0
y = 1

[State 3100, DownBorderb]
type = VelSet
trigger1 = P2BodyDist Y > 405
trigger1 = Vel Y < 0
y = 0

[State 3100, GoDown1]
type = VelAdd
trigger1 = (command = "holddown") || (var(39) = 1 && p2bodydist Y > -20)
y = 0.2

[State 3100,GoDown2]
type = VelSet
trigger1 = (command = "holddown" && Vel Y < 0) || (var(39) = 1 && p2bodydist Y > -20 && Vel Y < 0)
y = 0

[State 3100, GoDownAnim]
type = ChangeAnim
trigger1 = (Anim != 2104+ifelse(var(1)=0,0,500) && command = "holddown") || (var(39) = 1 && p2bodydist Y > -20)
value = 2104+ifelse(var(1)=0,0,500)

[State 3100, GoUp1]
type = VelAdd
trigger1 = (command = "holdup") || (var(39) = 1 && p2bodydist Y < 20)
y = -0.2

[State 3100,GoUp2]
type = VelSet
trigger1 = (command = "holdup" && Vel Y > 0) || (var(39) = 1 && p2bodydist Y < 20 && Vel Y > 0)
y = 0

[State 3100, GoUpAnim]
type = ChangeAnim
trigger1 = (Anim != 2103+ifelse(var(1)=0,0,500) && command = "holdup") || (var(39) = 1 && p2bodydist Y < 20)
value = 2103+ifelse(var(1)=0,0,500)

[State 3100, GoBack1]
type = VelAdd
trigger1 = (command = "holdback")
x = -0.2

[State 3100,GoBack2]
type = VelSet
trigger1 = (command = "holdback" && Vel X > 0)
x = 0

[State 3100, GoBackAnim]
type = ChangeAnim
trigger1 = (Anim != 2102+ifelse(var(1)=0,0,500) && command = "holdback")
;trigger2 = Var(30) = 1 && Anim != 2102 && p2bodydist X <= -50
value = 2102+ifelse(var(1)=0,0,500)

[State 3100, GoFwd1]
type = VelAdd
trigger1 = (command = "holdfwd") || (var(39) = 1 && p2bodydist X > 12)
x = 0.2

[State 3100,GoFwd2]
type = VelSet
trigger1 = (command = "holdfwd" && Vel X < 0) || (var(39) = 1 && p2bodydist X > 12  && Vel X < 0)
x = 0

[State 3100, GoFwdAnim]
type = ChangeAnim
trigger1 = (Anim != 2101+ifelse(var(1)=0,0,500) && command = "holdfwd")  || (var(39) = 1 && p2bodydist X > 12)
value = 2101+ifelse(var(1)=0,0,500)

;[State 3100, Guard]
;type = ChangeState
;trigger1 = p2movetype = A && command = "holdback"
;value = 130

[State 3100,Turn]
type = Turn
trigger1 = P2dist X < 0

[State 3100,Land]
type = ChangeState
trigger1 = Pos Y >= 0
value = 50
ctrl = 1

[State 3100,End]
type = ChangeState
trigger1 = Time > 2
trigger1 = command = "fly"
value = 3105
ctrl = 1

[State 2000,WinALose]
type = ChangeState
trigger1 = Win = 1
trigger2 = Lose = 1
value = 3105

;---------------------------------------------------------------------------
;-=What is this?=-
[Statedef 3105]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
anim = 2105+ifelse(var(1)=0,0,500)

[State -2, UnFly]
type = VarSet
trigger1 = 1
v = 20
value = 0

[State 3105, PlaySND]
type = PlaySnd
trigger1 = time = 1
value = 3000, 0

[State 3105, 3]
type = VelAdd
trigger1 = AnimElem = 1
trigger1 = AnimElem <= 2
x = -0.3

[State 3105, 3]
type = VelSet
trigger1 = AnimElem = 3
x = 0

[State 210, 3]
type = ChangeState
trigger1 = animtime = 1
value = 3106

;---------------------------------------------------------------------------
;-=Stop asking questions!=-
[Statedef 3106]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0

[State 3106, 3]
type = PosSet
trigger1 = Vel Y = 0
y = 0

[State 3106, Anim]
type = ChangeAnim
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 2106+ifelse(var(1)=0,0,500)

[State 3106, 1]
type = Velset
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
y = 0

[State 3106, 3]
type = ChangeState
trigger1 = animtime = 1
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;Blue Ki Explosion[State 1900-1910]
[StateDef 8020]
type = S
physics = N
movetype = I
velset = 0, 0
anim = 10020
ctrl = 0
sprpriority = 2

[State 8020, No Shadow]
type = AssertSpecial
trigger1 = time >= 1
flag = noshadow

[State 8020, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Kick KI[State 1200-1202]
[StateDef 8050]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 9050
ctrl = 0
sprpriority = 4

[State 8050, AfterImage]
type = null;AfterImage
trigger1 = time = 0
time = 10
length = 4
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,256,256
paladd = 0,0,0
timegap = 2
framegap = 2
trans = Add

[State 8050, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 8050, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 8050, DestroySelf]
type = DestroySelf
trigger1 = (Parent, stateno != 1201)
;---------------------------------------------------------------------------
;Sparkle Effect Helper 1-Blue[State 1050-1070]
[StateDef 9100]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 11120
ctrl = 0
sprpriority = -1

[State 9100, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 9100, Sparkle.SpeedVarX]
type = VarRandom
trigger1 = Time = 0
v = 13
range = 2,6

[State 9100, VelSet]
type = VelSet
trigger1 = Time = 1
x = Var(13)

[State 9100, VelAdd]
type = VelAdd
trigger1 = 1
x = -0.01

[State 9100, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Sparkle Effect Helper 1-Blue[State 1000-1020]
[StateDef 9101]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 11120
ctrl = 0
sprpriority = -1

[State 9101, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 9101, Sparkle.SpeedVarX]
type = VarRandom
trigger1 = Time = 0
v = 13
range = 2,6

[State 9101, Sparkle.SpeedVarY]
type = VarRandom
trigger1 = Time = 0
v = 14
range = 1,-1

[State 9101, VelSet]
type = VelSet
trigger1 = Time = 1
x = Var(13)

[State 9101, VelSet]
type = VelSet
trigger1 = Time = 1
Y = Var(14)

[State 9101, VelAdd]
type = VelAdd
trigger1 = 1
x = -0.01

[State 9101, VelAdd]
type = VelAdd
trigger1 = time >= 2
Y = 0.02

[State 9101, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Sparkle Effect Helper 1-Blue[State 1801]
[StateDef 9102]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 11120
ctrl = 0
sprpriority = -1

[State 9102, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 9102, Sparkle.SpeedVarX]
type = VarRandom
trigger1 = Time = 0
v = 13
range = 4,8

[State 9102, VelSetX]
type = VelSet
trigger1 = Time = 1
x = Var(13)

[State 9102, VelSetY]
type = VelSet
trigger1 = Time = 1
Y = Var(14)

[State 9102, VelAddX]
type = VelAdd
trigger1 = 1
x = -0.01

[State 9102, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Sparkle Effect Helper 1-Blue[State 1802]
[StateDef 9103]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 11120
ctrl = 0
sprpriority = -1

[State 9102, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 9102, Sparkle.SpeedVarX]
type = VarRandom
trigger1 = Time = 0
v = 13
range = 3,7

[State 9102, Sparkle.SpeedVarY]
type = VarRandom
trigger1 = Time = 0
v = 13
range = -2,-3

[State 9102, VelSetX]
type = VelSet
trigger1 = Time = 1
x = Var(13)

[State 9102, VelSetY]
type = VelSet
trigger1 = Time = 1
Y = Var(14)

[State 9102, VelAddX]
type = VelAdd
trigger1 = 1
x = -0.01

[State 9102, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Sparkle Effect Helper 1-Blue-[State 1240+1250]
[StateDef 9104]
type = A
physics = N
movetype = A
velset = Random/210.0,-Random/180.0
anim = 11120
ctrl = 0
sprpriority = -1

[State 9910, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Sparkle Effect Helper-Blue-[State 1300]
[StateDef 9105]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 11120
ctrl = 0
sprpriority = 3

[State 9105, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 9105, SparkleB.VelVarY]
type = VarRandom
trigger1 = time = 0
v = 15
range = 1,4

[State 9105, VelAdd]
type = VelAdd
trigger1 = 1
Y = -0.0075

[State 9105, VelSet.X]
type = VelSet
trigger1 = Time = 1
x = Var(15)

[State 9105, VelSet.Y]
type = VelSet
trigger1 = Time = 1
y = Var(15)

[State 9105, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Sparkle Effect Helper 2-Gray-[State 100-102]
[StateDef 9110]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 11100
ctrl = 0
sprpriority = -1

[State 9110, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 9101, SparkleG.VelVarX]
type = VarRandom
trigger1 = time = 0
v = 14
range = 1,3

[State 9101, VelAdd.X]
type = VelAdd
trigger1 = 1
x = -0.005

[State 9101, VelSet.X]
type = VelSet
trigger1 = Time = 1
x = Var(14)

[State 9101, VelSet.Y]
type = VelSet
trigger1 = Time = 1
y = Var(15)

[State 9101, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Sparkle Effect Helper 2-Gray[State 1100-1120]
[StateDef 9111]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 11100
ctrl = 0
sprpriority = -1

[State 9111, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 9111, SparkleG.VelVarX]
type = VarRandom
trigger1 = time = 0
v = 14
range = 1,2

[State 9111, SparkleG.VelVarY]
type = VarRandom
trigger1 = Time = 0
v = 15
range = 1,2

[State 9111, VelAdd.X]
type = VelAdd
trigger1 = 1
x = -0.005

[State 9111, VelAdd.Y]
type = VelAdd
trigger1 = 1
y = 0.055

[State 9111, VelSet.X]
type = VelSet
trigger1 = Time = 1
x = 0;Var(14)

[State 9111, VelSet.Y]
type = VelSet
trigger1 = Time = 1
y = Var(15)

[State 9111, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Sparkle Effect Helper 2-Gray[State 105]
[StateDef 9112]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 11100
ctrl = 0
sprpriority = -1

[State 9112, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 9112, SparkleG.VelVarX]
type = VarRandom
trigger1 = time = 0
v = 14
range = -1,-3

[State 9112, VelAdd.X]
type = VelAdd
trigger1 = 1
x = 0.005

[State 9112, VelAdd.Y]
type = VelAdd
trigger1 = 1
Y = 0.03

[State 9112, VelSet.X]
type = VelSet
trigger1 = Time = 1
x = Var(14)

[State 9112, VelSet.Y]
type = VelSet
trigger1 = Time = 1
y = Var(15)

[State 9112, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Sparkle Effect Helper 2-Gray[State 107]
[StateDef 9113]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 11100
ctrl = 0
sprpriority = -1

[State 9113, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 9113, SparkleG.VelVarX]
type = VarRandom
trigger1 = time = 0
v = 14
range = -1,-3

[State 9113, VelAdd.X]
type = VelAdd
trigger1 = 1
x = 0.005

[State 9113, VelSet.X]
type = VelSet
trigger1 = Time = 1
x = Var(14)

[State 9113, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Sparkle Effect Helper-Gray-[State 41]
[StateDef 9114]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 11100
ctrl = 0
sprpriority = 0

[State 9114, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 9114, SparkleG.VelVarY]
type = VarRandom
trigger1 = time = 0
v = 14
range = -1,-3

[State 9114, SparkleG.VelVarX]
type = VarRandom
trigger1 = time = 0
v = 15
range = 1,3

[State 9114, VelAdd.XY]
type = VelAdd
trigger1 = 1
y = 0.005
x = ifelse(sysvar(1)=0, 0, ifelse(sysvar(1)=1, -0.005, 0.005))

[State 9114, VelSet.Y]
type = VelSet
trigger1 = Time = 1
y = ifelse(sysvar(1)=0, Var(14), ifelse(sysvar(1)=1, Var(14)*0.75, Var(14)*0.75))

[State 9114, VelSet.X]
type = VelSet
trigger1 = Time = 1
X = ifelse(sysvar(1)=0, 0, ifelse(sysvar(1)=1, Var(15), -Var(15)))

[State 9114, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Sparkle Effect Helper 3-Yellow[State 1110-1120]
[StateDef 9120]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 11110
ctrl = 0
sprpriority = 2

[State 9120, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 9102, SparkleG.VelVarX]
type = VarRandom
trigger1 = time = 0
v = 16
range = 1,2

[State 9102, SparkleG.VelVarY]
type = VarRandom
trigger1 = Time = 0
v = 17
range = 1,2

[State 9102, VelSet.X]
type = VelSet
trigger1 = Time = 1
x = Var(16)

[State 9102, VelSet.Y]
type = VelSet
trigger1 = Time = 1
y = Var(17)

[State 9102, VelAdd.X]
type = VelAdd
trigger1 = 1
x = -0.005

[State 9102, VelAdd.Y]
type = VelAdd
trigger1 = 1
y = 0.055

[State 9101, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Sparkle Effect Helper 2-Gray-[State 1130-1150]
[StateDef 9130]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 11100
ctrl = 0
sprpriority = -1

[State 9130, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 9130, SparkleG.VelVarX]
type = VarRandom
trigger1 = time = 0
v = 14
range = 1,3

[State 9130, SparkleG.VelVarY]
type = VarRandom
trigger1 = time = 0
v = 15
range = -0,-1

[State 9130, VelAdd.X]
type = VelAdd
trigger1 = 1
x = -0.007

[State 9130, VelAdd.Y]
type = VelAdd
trigger1 = 1
y = -0.005

[State 9130, VelSet.X]
type = VelSet
trigger1 = Time = 1
x = Var(14)

[State 9130, VelSet.Y]
type = VelSet
trigger1 = Time = 1
y = Var(15)

[State 9130, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Tear/Sweat Drop[State 196]
[StateDef 9190]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 9190
ctrl = 0
sprpriority = 4

[State 9190, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 9190, VelSet01]
type = VelSet
trigger1 = time = [0,20]
y = 0

[State 9190, VelSet02]
type = VelSet
trigger1 = time = [21,30]
y = 1

[State 9190, VelSet03]
type = VelSet
trigger1 = time = [31,70]
y = 0

[State 9190, VelSet04]
type = VelSet
trigger1 = time = [71,73]
y = 1

[State 9190, VelSet05]
type = VelSet
trigger1 = time = [74,76]
y = 2

[State 9190, VelSet06]
type = VelSet
trigger1 = time = [77,79]
y = 3

[State 9190, VelSet03]
type = VelSet
trigger1 = time >= 80
y = 4

[State 9190, DestroySelf]
type = DestroySelf
trigger1 = pos y >= 0
;---------------------------------------------------------------------------
;Hole Helper-[State 1240+1250]
[StateDef 9900]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 8900
ctrl = 0
sprpriority = -99

[State 9900, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 9900, DestroySelf]
type = DestroySelf
trigger1 = BackEdgeBodydist < 30 || FrontEdgeBodydist < -30
;---------------------------------------------------------------------------
;Stones/Rocks Helper 1-[State 1240+1250]
[StateDef 9910]
type = A
physics = N
movetype = A
velset = Random/110.0-5,-Random/80.0
anim = 8910
ctrl = 0

[State 9910, VelAdd]
type = VelAdd
trigger1 = 1
y = 0.46

[State 9910, AngleAdd]
type = AngleAdd
trigger1 = 1
value = 4

[State 9910, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 9910, PlaySND]
type = PlaySnd
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 9100,0

[State 9910, DestroySelf]
type = DestroySelf
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
;---------------------------------------------------------------------------
;Stones/Rocks Helper 2-[State 1240+1250]
[StateDef 9911]
type = A
physics = N
movetype = A
velset = Random/100.0-5,-Random/60.0
anim = 8911
ctrl = 0

[State 9911, VelAdd]
type = VelAdd
trigger1 = 1
y = 0.46

[State 9911, AngleAdd]
type = AngleAdd
trigger1 = 1
value = 6

[State 9911, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 9911, PlaySND]
type = PlaySnd
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 9100,0

[State 9911, DestroySelf]
type = DestroySelf
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
;---------------------------------------------------------------------------
;Stones/Rocks Helper 3-[State 1240+1250]
[StateDef 9912]
type = A
physics = N
movetype = A
velset = Random/100.0-5,-Random/60.0
anim = 8912
ctrl = 0

[State 9912, VelAdd]
type = VelAdd
trigger1 = 1
y = 0.46

[State 9912, AngleAdd]
type = AngleAdd
trigger1 = 1
value = 8

[State 9912, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 9912, PlaySND]
type = PlaySnd
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 9100,0

[State 9912, DestroySelf]
type = DestroySelf
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
;---------------------------------------------------------------------------
;Ground Explode Helper 1-[State 1240+1250]
[StateDef 9920]
type = A
physics = N
movetype = A
velset = 0,0
anim = 8020
ctrl = 0

[State 9910, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------
;WinKO Effect by FlowaGirl! FlowaGirl receives all the credit for this code...unless...

[Statedef 9998]
type = S
movetype = I
physics = N
anim = 9999

[State 9998: Pause]
type = Pause
trigger1 = !Time
time = 12
movetime = 12

[State 9998: EnvColor]
type = EnvColor
trigger1 = Time < 12
value = Time*4, Time*4, Time*4
time = 1
under = 1

[State 9998: EnvShake]
type = EnvShake
trigger1 = !Time
time = 12
freq = 120
ampl = -3
phase = 90

[State 9998: AllPalFX]
type = AllPalFX
trigger1 = Time < 50
time = 1
add = 0,0,0
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = Time*5
;---------------------------------------------------------------------------
;ShoRyuken Hit Flame Small
[StateDef 11010]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 9999
ctrl = 0
sprpriority = -1

[State 11010, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 11010, Flame]
type = Explod
trigger1 = (Parent, movehit) && NumExplod(11010) = 0
Anim = 11010
Pos = -16, -35
Id = 11010
postype = p2
scale = 0.8,0.8
sprpriority = -1
bindtime = -1

[State 11010, DestroySelf]
type = DestroySelf
trigger1 = time = 34
trigger2 = time >= 1 && NumHelper(11010) > 1
;---------------------------------------------------------------------------
;ShoRyuken Hit Flame Medium
[StateDef 11015]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 9999
ctrl = 0
sprpriority = -1

[State 11015, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 11015, Flame1]
type = Explod
trigger1 = (Parent, movehit) && NumExplod(11010) = 0
Anim = 11010
Pos = -12, -50
Id = 11010
postype = p2
scale = 0.8,0.8
sprpriority = -1
bindtime = -1

[State 11015, Flame2]
type = Explod
trigger1 = (Parent, movehit) && NumExplod(11011) = 0
Anim = 11011
Pos = -24, -20
Id = 11011
postype = p2
scale = 0.8,0.8
sprpriority = -2
bindtime = -1

[State 11015, DestroySelf]
type = DestroySelf
trigger1 = time = 34
trigger2 = time >= 1 && NumHelper(11010) > 1
;---------------------------------------------------------------------------
;ShoRyuken Hit Flame Strong
[StateDef 11020]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 9999
ctrl = 0
sprpriority = -1

[State 11020, No Shadow]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 11020, Flame1]
type = Explod
trigger1 = (Parent, movehit) && NumExplod(11020) = 0
Anim = 11020
Pos = -13, -27
Id = 11020
postype = p2
scale = 0.8,0.8
sprpriority = -1
bindtime = -1

[State 11020, DestroySelf]
type = DestroySelf
trigger1 = time = 34
trigger2 = time >= 1 && NumHelper(11010) > 1
;---------------------------------------------------------------------------
;KameHameHa Beam : Used in State 1801
[StateDef 12100]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12100
ctrl = 0
sprpriority = 4

[State 12100, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 12100, No Shadow]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 12100, Explosion]
type = HitDef
trigger1 = 1
attr = S, HP
animtype  = Hard
Damage = 12,3
guardflag = MA
pausetime = 1,1
sparkno = -1
sparkxy = -5,0
hitsound   = -1
guardsound = -1
getpower = 0
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -25, -4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -25, -4
fall = 1
fall.recover = 1
kill = 1
guard.kill = 1

[State 12100, Explosion.Sound1]
type = PlaySND
trigger1 = movehit && numhelper(13100) = 0
value = 900,1
volume = 255

[State 12100, Explosion.Sound2]
type = PlaySND
trigger1 = moveguarded && numhelper(13100) = 0
value = 900,3

[State 12100, Explosion.Helper]
type = Helper
trigger1 = movecontact && numhelper(13100) = 0
name = "Explosion"
stateno = 13100
postype = p2
pos = 0, -30
keyctrl = 0
ownpal = 1
id = 13100

[State 12100, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodydist < -1 && BackEdgeBodydist > -30)
movecamera = 0,0
value	= 0

[State 12100, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;KameHameHa Beam Up: Used in State 1802
[StateDef 12110]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12110
ctrl = 0
sprpriority = 4

[State 12110, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 12110, No Shadow]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 12110, Explosion]
type = HitDef
trigger1 = 1
attr = S, HP
animtype  = Hard
Damage = 12,3
guardflag = MA
pausetime = 1,1
sparkno = -1
sparkxy = -5,0
hitsound   = -1
guardsound = -1
getpower = 0
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -15, -10
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -15, -10
fall = 1
fall.recover = 1
kill = 1
guard.kill = 1

[State 12110, Explosion.Sound1]
type = PlaySND
trigger1 = movehit && numhelper(13100) = 0
value = 900,1
volume = 255

[State 12110, Explosion.Sound2]
type = PlaySND
trigger1 = moveguarded && numhelper(13100) = 0
value = 900,3

[State 12110, Explosion.Helper]
type = Helper
trigger1 = movecontact && numhelper(13100) = 0
name = "Explosion"
stateno = 13100
postype = p2
pos = 0, -30
keyctrl = 0
ownpal = 1
id = 13100

[State 12110, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodydist < -1 && BackEdgeBodydist > -30)
movecamera = 0,0
value	= 0

[State 12110, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;KameHameHa Beam Up: Used in State 1803
[StateDef 12120]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12120
ctrl = 0
sprpriority = 4

[State 12120, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 12120, No Shadow]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 12120, Explosion]
type = HitDef
trigger1 = 1
attr = S, HP
animtype  = Hard
Damage = 12,3
guardflag = MA
pausetime = 1,1
sparkno = -1
sparkxy = -5,0
hitsound   = -1
guardsound = -1
getpower = 0
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -15, 10
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -15, 10
fall = 1
fall.recover = 1
kill = 1
guard.kill = 1

[State 12120, Explosion.Sound1]
type = PlaySND
trigger1 = movehit && numhelper(13100) = 0
value = 900,1
volume = 255

[State 12120, Explosion.Sound2]
type = PlaySND
trigger1 = moveguarded && numhelper(13100) = 0
value = 900,3

[State 12120, Explosion.Helper]
type = Helper
trigger1 = movecontact && numhelper(13100) = 0
name = "Explosion"
stateno = 13100
postype = p2
pos = 0, -30
keyctrl = 0
ownpal = 1
id = 13100

[State 12120, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodydist < -1 && BackEdgeBodydist > -30)
movecamera = 0,0
value	= 0

[State 12120, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Burning Attack-Push Forward
[StateDef 12650]
type = A
physics = N
movetype = A
velset = 8, 0
anim = 12650
ctrl = 0

[State 12650, VelAdd]
type = VelAdd
trigger1 = 1
x = -0.25

[State 12650, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 12650, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 12650, End]
type = DestroySelf
trigger1 = time = 12
;---------------------------------------------------------------------------
;Burning Attack-Push Back
[StateDef 12651]
type = A
physics = N
movetype = A
velset = -8, 0
anim = 12650
ctrl = 0

[State 12651, VelAdd]
type = VelAdd
trigger1 = 1
x = 0.3

[State 12651, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 12651, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 12651, End]
type = DestroySelf
trigger1 = time = 12

;---------------------------------------------------------------------------
;Burning Attack-Push Still
[StateDef 12652]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12650
ctrl = 0

[State 12651, BindToParent]
type = BindToParent
trigger1 = 1
time = 1

[State 12651, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 12651, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 12651, End]
type = DestroySelf
trigger1 = time = 7
;---------------------------------------------------------------------------
;Advance Guard-Push Forward
[StateDef 12700]
type = A
physics = N
movetype = A
velset = 20, 0
anim = 12700
ctrl = 0

[State 12700, VelAdd]
type = VelAdd
trigger1 = 1
x = -0.5

[State 12700, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 12700, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 12700, End]
type = DestroySelf
trigger1 = time = 20
;---------------------------------------------------------------------------
;Explosion Helper
[StateDef 13100]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 13105
ctrl = 0
sprpriority = 4

[State 13100, No Shadow]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 13100, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------
;
;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------
[StateDef -2]

;---------------------------------------------------------------
;Creator Display
[State -2, DisplayToClipboard]
type = DisplayToClipboard
triggerall = Var(1) = 0
trigger1 = 1
text = "Yamcha3SB3 by Chrono_Strife"
;----------------------------------------------------------------
;-=WinKO Effect by FlowaGirl! Thanks a bunch!=-
[State -2, Helper]
type = Helper
trigger1 = (WinKO) && (NumHelper(9998) = 0)
helpertype = Normal
name = "WinKO"
id = 9998
pos = 0,0
postype = p1
facing = 0
stateno = 9998
keyctrl = 0
ownpal = 1
supermovetime = 1000
pausemovetime = 1000
ignorehitpause = 1
;---------------------------------------------------------------------------
;[State -2, ReFly]
;type = Changestate
;trigger1 = stateno=0 || (stateno=[10,12]) || stateno=20 || (stateno=[50,51])
;trigger2 = Pos Y < 0 && ctrl && var(20) = 1
;value = 3100

;[State -2, UnFly]
;type = VarSet
;trigger1 = Pos Y >= 0 && = 1
;v = 20
;value = 0
;---------------------------------------------------------------------------
[State -2, No Land]
type = VarSet
trigger1 = prevstateno = 1201 && pos y = 0
value = 1203
;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------
[Statedef -3]

;-=If you don't here this sound...Then you haven't landed...DOI!=-
[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = StateNo = 52 ;Jump land
trigger2 = StateNo = 106 ;Run-back land
value = 40, 1
;---------------------------------------------------------------------------
;Attack Damage Dampener
[State -3, VarSet]
type = VarSet
trigger1 = p2movetype != H
v = 29
value = 0

[State -3, AttackMulSet]
type = AttackMulSet
trigger1 = Var(29) = 0
value = 1

[State -3, AttackMulSet]
type = AttackMulSet
trigger1 = Var(29) >= 1 && Var(29) <= 10
value = 1-(Var(29)*0.04)
;---------------------------------------------------------------------------
;SoukiDan Detection
[State -3, VarSet]
type = VarSet
trigger1 = NumHelper(2250) = 1
v = 27
value = 1

[State -3, VarSet]
type = VarSet
trigger1 = NumHelper(2250) = 0
v = 27
value = 0
;---------------------------------------------------------------------------
;FlyingTiger Detection/Reset
[State -3, VarSet]
type = VarSet
trigger1 = stateno != 1101 || stateno != 1102 || stateno != 1103 || stateno != 1130 || stateno != 1140 || stateno != 1150
v = 21
value = 0
;---------------------------------------------------------------------------
;Launcher Anti-Juggle Reset
[State -3, VarSet]
type = VarSet
trigger1 = (p2movetype != H)
v = 4
value = 0
;---------------------------------------------------------------------------
;Wolf Fang Fist Reset
[State -3, VarSet]
type = VarSet
trigger1 = stateno != [1901, 1910]
v = 34
value = 0
;---------------------------------------------------------------------------
;Aerial Smash Reset
[State -3, VarSet]
type = VarSet
trigger1 = (stateno != 851) && (var(35) = 1)
v = 35
value = 0
;---------------------------------------------------------------------------
[State -3, RemoveExplods]
type = RemoveExplod
trigger1 = stateno != 1201 && NumExplod(12400) != 0
ID = 12400
;---------------------------------------------------------------------------
;Artificial Intelligence
;---------------------------------------------------------------------------
;-=Ack...I hate AI's...=-
;Weak Punch Attack
[State -3, AI.WP]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (Var(40) = 1) && (stateno = 0 || stateno = 3100)
value = IfElse(Random >= 300, 200, 0)
;Weak Punch Chain
[State -3, AI.WPC]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S
trigger1 = stateno = 200 && (movecontact)
value = IfElse(Random >= 500, 230, 210)

;Medium Punch Attack
[State -3, AI.MP]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (Var(40) = 2) && (stateno = 0 || stateno = 3100)
value = IfElse(Random >= 300, 210, 0)
;Medium Punch Chain
[State -3, AI.MPC]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S
trigger1 = stateno = 210  && (movecontact)
value = IfElse(Random >= 500, 220, 240)

;Strong Punch Attack
[State -3, AI.SP]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (Var(40) = 3) && (stateno = 0 || stateno = 3100)
value = IfElse(Random >= 300, 220, 0)
;Strong Punch Chain
[State -3, AI.SPC]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S
trigger1 = stateno = 210  && (movecontact)
value = IfElse(Random >= 500, 250, 260)
;----------------------------------------------------------------------------
;Weak Kick Attack
[State -3, AI.WK1]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (Var(40) = 4)  && (stateno = 0 || stateno = 3100)
value = IfElse(Random >= 300, 230, 0)
;Weak Kick 2 Chain
[State -3, AI.WK2C]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S
trigger1 = stateno = 230 && (movecontact)
value = IfElse(Random >= 500, 231, 240)
;Weak Kick 3 Chain
[State -3, AI.WK3C]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S
trigger1 = stateno = 231 && (movecontact)
value = 232
;Weak Kick 4 Chain(Leap Kick)
[State -3, AI.WK4CLK]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S
trigger1 = stateno = 232 && (movecontact)
value = 241

;Medium Kick Attack
[State -3, AI.MK]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (Var(40) = 5)  && (stateno = 0 || stateno = 3100)
value = IfElse(Random >= 300, 240, 0)
;Medium Chain Chain
[State -3, AI.MKC]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S
trigger1 = stateno = 240 && (movecontact)
value = IfElse(Random >= 500, 220, 250)

;Strong Kick Attack
[State -3, AI.SK]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (Var(40) = 6) && (stateno = 0 || stateno = 3100)
value = IfElse(Random >= 500, 250, 0)
;---------------------------------------------------------------------------
;Weak Jump Punch Attack
[State -3, AI.WJP]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = A && ctrl = 1 && p2life > 0
trigger1 = (Var(42) = 1)  && (stateno = 50 || stateno = 51)
value = 600
[State -3, AI.WJPC]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S
trigger1 = stateno = 600 && (movecontact)
value = IfElse(Random >= 500, 610, 630)

;Medium Jump Punch Attack
[State -3, AI.MJP]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = A && ctrl = 1 && p2life > 0
trigger1 = (Var(42) = 2)  && (stateno = 50 || stateno = 51)
value = 610
[State -3, AI.MJPC]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S
trigger1 = stateno = 610 && (movecontact)
value = IfElse(Random >= 500, 620, 640)

;Strong Jump Punch Attack
[State -3, AI.SJP]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = A && ctrl = 1 && p2life > 0
trigger1 = (Var(42) = 3)  && (stateno = 50 || stateno = 51)
value = 620
[State -3, AI.SJPC]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S
trigger1 = stateno = 620 && (movecontact)
value = 650

;Weak Jump Kick Attack
[State -3, AI.WJK]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = A && ctrl = 1 && p2life > 0
trigger1 = (Var(42) = 4)  && (stateno = 50 || stateno = 51)
value = 630
[State -3, AI.WJKC]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S
trigger1 = stateno = 630 && (movecontact)
value = IfElse(Random >= 500, 620, 640)

;Medium Jump Kick Attack
[State -3, AI.MJK]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = A && ctrl = 1 && p2life > 0
trigger1 = (Var(42) = 5)  && (stateno = 50 || stateno = 51)
value = 640
[State -3, AI.WJKC]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S
trigger1 = stateno = 640 && (movecontact)
value = IfElse(Random >= 500, 630, 650)

;Strong Jump Kick Attack
[State -3, AI.SJK]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = A && ctrl = 1 && p2life > 0
trigger1 = (Var(42) = 6)  && (stateno = 50 || stateno = 51)
value = 650
;---------------------------------------------------------------------------
;Rush Attack
[State -3, AI.RA]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = p2bodydist x < 10 && stateno = 100 
value = IfElse(Random >= 500, 1600, 1630)

;Weak Wolf Knee Leap Attack
[State -3, AI.WWKL]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && prevstateno != 52 && p2life > 0
trigger1 = (p2bodydist x > 30 && p2bodydist x < 40) && stateno = 0 
value = IfElse(Random >= 300, 0, 1130)
;Medium Wolf Knee Leap Attack
[State -3, AI.MWKL]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && prevstateno != 52 && p2life > 0
trigger1 = (p2bodydist x > 40 && p2bodydist x < 55) && stateno = 0 
value = IfElse(Random >= 300, 0, 1140)
;Strong Wolf Knee Leap Attack
[State -3, AI.SWKL]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && prevstateno != 52 && p2life > 0
trigger1 = (p2bodydist x > 55 && p2bodydist x < 75) && stateno = 0 
value = IfElse(Random >= 300, 0, 1150)

;Weak Slash Attack
[State -3, AI.WWS]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (Var(40) = 7) && stateno = 0 
value = IfElse(Random >= 300, 0, 1100)
;Medium Slash Attack
[State -3, AI.MWS]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (Var(40) = 8) && stateno = 0 
value = IfElse(Random >= 300, 0, 1110)
;Strong Slash Attack
[State -3, AI.SWS]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (Var(40) = 9) && stateno = 0 
value = IfElse(Random >= 300, 0, 1120)

;Throw
[State -3, AI.Throw]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (Var(40) = 11) && stateno = 0 
value = IfElse(Random >= 300, 0, 800)
;Jackhammer
[State -3, AI.JackHammer]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (Var(40) = 12) && stateno = 0 
value = IfElse(Random >= 300, 0, 900)
;Toss
[State -3, AI.Toss]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (Var(40) = 13) && stateno = 0 
value = IfElse(Random >= 300, 0, 850)

;Dash Fwd
[State -3, AI.DashFwd]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (Var(41) = 1) && stateno = 0
value = IfElse(Random >= 300, 100, 0)

;Air Dash Fwd
[State -3, AI.AirDashFwd]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = A && ctrl = 1 && p2life > 0
trigger1 = (Var(42) = 2) && stateno = 0
value = IfElse(Random >= 300, 102, 0)

;Weak Ki Blast
[State -3, AI.WeakKi]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && prevstateno != [1000, 1022]
trigger1 = (Var(41) = 2) && (stateno = 0 || stateno = 3100)
value = IfElse(Random >= 150, 1000, 0)
;Medium Ki Blast
[State -3, AI.MediumKi]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && prevstateno != [1000, 1022]
trigger1 = (Var(41) = 3) && (stateno = 0 || stateno = 3100)
value = IfElse(Random >= 150, 1010, 0)
;Strong Ki Blast
[State -3, AI.StrongKi]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && prevstateno != [1000, 1022]
trigger1 = (Var(41) = 4) && (stateno = 0 || stateno = 3100)
value = IfElse(Random >= 150, 1020, 0)

;Weak KHH Blast
[State -3, AI.WeakKHH]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && prevstateno != [1030, 1050]
trigger1 = (Var(41) = 5) && (stateno = 0 || stateno = 3100)
value = IfElse(Random >= 150, 1030, 0)
;Medium KHH Blast
[State -3, AI.MediumKHH]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && prevstateno != [1030, 1050]
trigger1 = (Var(41) = 6) && (stateno = 0 || stateno = 3100)
value = IfElse(Random >= 150, 1040, 0)
;Strong KHH Blast
[State -3, AI.StrongKHH]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0 && prevstateno != [1030, 1050]
trigger1 = (Var(41) = 7) && (stateno = 0 || stateno = 3100)
value = IfElse(Random >= 150, 1050, 0)

;Super Jump Fwd
[State -3, AI.JumpFwd]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (Var(41) = 8) && stateno = 0
value = IfElse(Random >= 300, 41, 0)
;----------------------------------------------------------------------------
;Hyper KamehameHa
[State -3, AI.HKHH]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (Var(41) = 9) && stateno = 0 && power >= 1000
value = IfElse(Random >= 300, 1800, 0)
;Hyper Wolf Fang Fist
[State -3, AI.HWFF]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (Var(41) = 10) && stateno = 0 && power >= 1000
value = IfElse(Random >= 300, 1900, 0)
;Hyper SoukiDan
[State -3, AI.HSDan]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && p2life > 0
trigger1 = (Var(41) = 11) && stateno = 0 && power >= 2000
value = IfElse(Random >= 300, 2200, 0)

;Hyper Aerial KamehameHa
[State -3, AI.HKHH]
type = ChangeState
triggerall = (var(39) = 1) && alive = 1 && statetype = A && ctrl = 1 && p2life > 0
trigger1 = (Var(42) = 1) && ((stateno = [50,51]) || (stateno = 3100)) && power >= 1000
value = 1850
;----------------------------------------------------------------------------
[State -3, AI.Fly]
type = ChangeState
triggerall = (var(39) = 1) && Pos Y >= 0 && MoveType != H && ctrl = 1 && p2life > 0 && stateno != [3000,3106]
trigger1 = p2StateType = S && p2MoveType != H && p2BodyDist Y < 0
value = 3000

[State -3, AI.Land]
type = ChangeState
triggerall = (var(39) = 1) && MoveType != H && stateno = 3100
trigger1 = (p2StateType = S && p2stateno = 0) || (p2MoveType = H && p2BodyDist Y > 40)
value = 3105
;----------------------------------------------------------------------------
;Close State Decider Reset
[State -3, AI.StateDeciderReset]
type = VarSet
triggerall = (var(39) = 1) && alive = 1 && statetype = S && Var(40) != 0
trigger1 = stateno != 0
v= 40
value = 0

;Close-Throw State Decider
[State -3, AI.StateDecider]
type = VarRandom
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && Var(40) = 0
trigger1 = p2bodydist x < 5 && stateno = 0
v= 40
range = 1,13

;Close State Decider
[State -3, AI.StateDecider]
type = VarRandom
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && Var(40) = 0
trigger1 = p2bodydist x < 9 && stateno = 0
v= 40
range = 1,10

;Far State Decider Reset
[State -3, AI.StateDeciderReset]
type = VarSet
triggerall = (var(39) = 1) && alive = 1 && statetype = S && Var(41) != 0
trigger1 = (stateno != 0 || stateno != 41 || stateno != 50 || stateno != 51) || ((Var(41) = 9 || Var(41) = 10) && power < 1000) || (Var(41) = 11 && power < 2000)
v= 41
value = 0

;Far State Decider
[State -3, AI.StateDecider]
type = VarRandom
triggerall = (var(39) = 1) && alive = 1 && statetype = S && ctrl = 1 && Var(41) = 0
trigger1 = (p2bodydist x > 100 && stateno = 0)
v= 41
range = 1,11

;Jump State Decider Reset
[State -3, AI.StateDeciderReset]
type = VarSet
triggerall = (var(39) = 1) && alive = 1 && statetype = A && Var(42) != 0
trigger1 = (stateno != 50 || stateno != 51)
v= 42
value = 0

;Jump State Decider
[State -3, AI.StateDecider]
type = VarRandom
triggerall = (var(39) = 1) && alive = 1 && statetype = A && ctrl = 1 && Var(42) = 0
trigger1 = p2bodydist x < 12 && (stateno = 50 || stateno = 51)
v= 42
range = 1,6

;Jump Far State Decider Reset
[State -3, AI.StateDeciderReset]
type = VarSet
triggerall = (var(39) = 1) && alive = 1 && statetype = A && Var(43) != 0
trigger1 = (stateno != 50 || stateno != 51)
v= 43
value = 0

;Jump Far State Decider
[State -3, AI.StateDecider]
type = VarRandom
triggerall = (var(39) = 1) && alive = 1 && statetype = A && ctrl = 1 && Var(43) = 0
trigger1 = (p2bodydist x > 100 && (stateno = 50 || stateno = 51)) || (Var(42) = 1 && power < 1000)
v= 43
range = 1,3
;------------------------------------------------------------------------------
