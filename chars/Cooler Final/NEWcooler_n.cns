;---------------------------------------------------------------------------
;立ちパンチ
[Statedef 300]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
poweradd = 20
sprpriority = 2
facep2 = 1

[State 181, アニメ変更]
type = Changeanim
triggerall = !ishelper
trigger1 = anim != 301
value = 301
ignorehitpause = 1

[State 300, 1]
type = PlaySnd
trigger1 = AnimElem = 1
Volume = 999999999
value = s1,5
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 300, ]
type = PlaySnd
triggerall = palno != 7
trigger1 = AnimElem = 1
Volume = 999999999
value = s0,17
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 300, ]
type = PlaySnd
triggerall = palno = 7
trigger1 = AnimElem = 1
Volume = 999999999
value = s390,19
supermovetime = 9999999999999
pausemovetime = 9999999999999

;命中時フラッシュ
[State ]
type = EnvColor
trigger1 = MoveHit
value = 255,255,255
time = 5
persistent = 0
ignorehitpause = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 300, 2]
type = HitDef
triggerall = palno != 12
trigger1 = time = 0
attr = S, NA
damage    = 20
animtype = hard
getpower = 20,20
givepower = 20,20
guardflag = M
hitflag = MAF
pausetime = 7,8
numhits = 1
hitsound = s690,13
guardsound = 6,0
sparkno = s9990
sparkxy = -30,-86
ground.type = low
ground.slidetime = 3
ground.hittime  =  9
ground.velocity = -10
airguard.velocity = -20,3
air.velocity =  -1.3,-3
envshake.time = 20
envshake.freq = 120
envshake.ampl = 12

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;---------------------------------------------------------------------------
;立ち強パンチ
[Statedef 750]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
poweradd = 35

[State 181, アニメ変更]
type = Changeanim
triggerall = !ishelper
trigger1 = anim != 750
value = 750
ignorehitpause = 1

;命中時フラッシュ
[State ]
type = EnvColor
trigger1 = MoveHit
value = 255,255,255
time = 5
persistent = 0
ignorehitpause = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 200 , 1]
type = HitDef
triggerall = palno != 12
trigger1 = time = 0
attr = S, NA
damage    = 40,10
animtype = hard
getpower = 35,35
givepower = 35,35
guardflag = M
hitflag = MAF
pausetime = 17,18
numhits = 1
hitsound = s690,13
guardsound = 6,0
sparkno = s9991
sparkxy = -30,-91
ground.type = High
ground.slidetime = 3
ground.hittime  =  13
ground.velocity = -3
airguard.velocity = -1.9
air.velocity = -1.3,-3
fall = 1
fall.recover = 1
envshake.time = 30
envshake.freq = 120
envshake.ampl = 14

[State 200 , 2]
type = PlaySnd
trigger1 = animelemtime(1) = 1
Volume = 999999999
value = s1, 6
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 200 , 1]
type = PlaySnd
triggerall = palno != 7
trigger1 = animelemtime(1) = 1
Volume = 999999999
value = s0, 18
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 300, ]
type = PlaySnd
triggerall = palno = 7
trigger1 = AnimElem = 1
Volume = 999999999
value = s390,20
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;---------------------------------------------------------------------------
;しゃがみパンチ
[Statedef 400]
type = S
movetype = A
physics = S
juggle = 10
poweradd = 20
velset = 0
ctrl = 0
facep2 = 1

[State 181, アニメ変更]
type = Changeanim
triggerall = !ishelper
trigger1 = anim != 400
value = 400
ignorehitpause = 1

[State 400, 1]
type = PlaySnd
trigger1 = AnimElem = 1
Volume = 999999999
value = s1,5
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 400, 1]
type = PlaySnd
triggerall = palno != 7
trigger1 = AnimElem = 1
Volume = 999999999
value = s0,17
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 300, ]
type = PlaySnd
triggerall = palno = 7
trigger1 = AnimElem = 1
Volume = 999999999
value = s390,19
supermovetime = 9999999999999
pausemovetime = 9999999999999

;命中時フラッシュ
[State ]
type = EnvColor
trigger1 = MoveHit
value = 255,255,255
time = 5
persistent = 0
ignorehitpause = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 400, 2]
type = HitDef
triggerall = palno != 12
trigger1 = time = 0
attr = C, NA
damage    = 20
animtype = hard
getpower = 20,20
givepower = 20,20
guardflag = L
hitflag = MAF
pausetime = 7,8
numhits = 1
sparkno = s9990
sparkxy = -30,-46
hitsound = s690,13
guardsound = 6,0
ground.type = Low
ground.slidetime = 6
ground.hittime  =  15
ground.velocity = -10
airguard.velocity = -15,3
air.velocity = -1.3,-3
envshake.time = 20
envshake.freq = 120
envshake.ampl = 12

[State 400, 3]
type = ChangeState
triggerall = palno != 12
trigger1 = AnimTime = 0
value = 11
ctrl = 1

[State 400, 3]
type = ChangeState
triggerall = palno = 12
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;---------------------------------------------------------------------------
;しゃがみ強キック
[Statedef 920]
type    = C
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
poweradd = 35

[State 181, アニメ変更]
type = Changeanim
triggerall = !ishelper
trigger1 = anim != 920
value = 920
ignorehitpause = 1

;命中時フラッシュ
[State ]
type = EnvColor
trigger1 = MoveHit
value = 255,255,255
time = 5
persistent = 0
ignorehitpause = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 200 , 1]
type = HitDef
triggerall = palno != 12
trigger1 = time = 0
attr = C, NA
damage    = 40,10
animtype = Hard
getpower = 35,35
givepower = 35,35
guardflag = M
hitflag = MAF
pausetime = 17,18
numhits = 1
hitsound = s690,13
guardsound = 6,0
sparkno = S9991
sparkxy = -30,-22
ground.type = High
ground.slidetime = 13
ground.hittime  =  13
ground.velocity = -1,-8
airguard.velocity = -1,-8
air.velocity = -1.3,-8
fall = 1
fall.recover = 1
envshake.time = 30
envshake.freq = 120
envshake.ampl = 14

[State 200 , 2]
type = PlaySnd
trigger1 = animelemtime(1) = 1
Volume = 999999999
value = s1, 6
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 200 , 1]
type = PlaySnd
triggerall = palno != 7
trigger1 = animelemtime(1) = 1
Volume = 999999999
value = s0, 18
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 300, ]
type = PlaySnd
triggerall = palno = 7
trigger1 = AnimElem = 1
Volume = 999999999
value = s390,20
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 200 , 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;---------------------------------------------------------------------------
;ジャンプ・弱攻撃
[Statedef 500]
type    = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
poweradd = 20

[State 181, アニメ変更]
type = Changeanim
triggerall = !ishelper
trigger1 = anim != 500
value = 500
ignorehitpause = 1

;命中時フラッシュ
[State ]
type = EnvColor
trigger1 = MoveHit
value = 255,255,255
time = 5
persistent = 0
ignorehitpause = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 230 , 1]
type = HitDef
triggerall = palno != 12
trigger1 = time = 0
attr = A, NA
damage    = 20
animtype = hard
getpower = 20,20
givepower = 20,20
guardflag = HA
hitflag = MAF
pausetime = 7,8
numhits = 1
sparkno = s9990
sparkxy = -30,-58
hitsound = s690,13
guardsound = 6,0
ground.type = High
ground.slidetime = 3
ground.hittime  =  15
ground.velocity = -3
airguard.velocity = -1.9
air.velocity = -1.3,-3
envshake.time = 20
envshake.freq = 120
envshake.ampl = 12

[State 230 , 2]
type = PlaySnd
trigger1 = animelemtime(1) = 1
Volume = 999999999
value = s1, 5
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 200 , 1]
type = PlaySnd
triggerall = palno != 7
trigger1 = animelemtime(1) = 1
Volume = 999999999
value = s0, 17
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 300, ]
type = PlaySnd
triggerall = palno = 7
trigger1 = AnimElem = 1
Volume = 999999999
value = s390,19
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 230 , 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;---------------------------------------------------------------------------
;  ジャンプ・強攻撃
[Statedef 700]
type    = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
poweradd = 35

[State 181, アニメ変更]
type = Changeanim
triggerall = !ishelper
trigger1 = anim != 700
value = 700
ignorehitpause = 1

;命中時フラッシュ
[State ]
type = EnvColor
trigger1 = MoveHit
value = 255,255,255
time = 5
persistent = 0
ignorehitpause = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 230 , 1]
type = HitDef
triggerall = palno != 12
trigger1 = time = 0
attr = A, NA
damage    = 40
animtype = hard
getpower = 35,35
givepower = 35,35
guardflag = HA
hitflag = MAF
pausetime = 7,8
numhits = 1
sparkno = s9991
sparkxy = -30,-58
hitsound = s690,13
guardsound = 6,0
ground.type = High
ground.slidetime = 3
ground.hittime  =  15
ground.velocity = -3
airguard.velocity = -1.9
air.velocity = -1.3,-3
envshake.time = 30
envshake.freq = 120
envshake.ampl = 14

[State 230 , 2]
type = PlaySnd
trigger1 = animelemtime(1) = 1
Volume = 999999999
value = s1, 5
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 200 , 1]
type = PlaySnd
triggerall = palno != 7
trigger1 = animelemtime(1) = 1
Volume = 999999999
value = s0, 17
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 300, ]
type = PlaySnd
triggerall = palno = 7
trigger1 = AnimElem = 1
Volume = 999999999
value = s390,20
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 230 , 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;---------------------------------------------------------------------------
;ヘルスマッシュ・攻撃
[Statedef 320]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
sprpriority = 1

[State 181, アニメ変更]
type = Changeanim
triggerall = !ishelper
trigger1 = anim != 321
value = 321
ignorehitpause = 1

[State 210, 1];効果音
type = PlaySnd
trigger1 = animelem = 1
trigger1 = var(24) = 1
Volume = 999999999
value = 1, 2
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 210, 1];あほが！
type = PlaySnd
triggerall = palno != 7
trigger1 = animelem = 1 && (!var(32)||var(32)>300||var(32)<-180||var(33)>80||var(33)<-80)
Volume = 999999999
value = 240, 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 210, 1];死ねぇぇ！
type = PlaySnd
triggerall = palno = 7
trigger1 = animelem = 1 && (!var(32)||var(32)>300||var(32)<-180||var(33)>80||var(33)<-80)
Volume = 999999999
value = 390, 23
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 200, 1];
type = PlaySnd
trigger1 = animelem = 1
Volume = 999999999
value = 1, 2+var(24)
supermovetime = 9999999999999
pausemovetime = 9999999999999

;速度
[state a]
type = velset
trigger1 = animelem = 1
x = 7+var(24)*8

[state a]
type = varset
trigger1 = animelem = 1
fvar(11) = 7+var(24)*8

[state a]
type = varset
trigger1 = animelem = 1,>0
fvar(11) = fvar(11)*const(movement.stand.friction)

[State 712, 擬似ヒットスパーク]
type = explod
triggerall = palno = 12
trigger1 = AnimElem = 4
sprpriority = 6
postype = p2
pos = -30,-100
spacing = 1
anim = 9320
ownpal = 1
scale = 1.1, 1.1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1703];画面を真っ白に
type = AllPalFX
triggerall = palno = 12
trigger1 = AnimElem = 4
time = 3
add = 256,256,256
color = time*256/90
supermovetime = 9999999999999
pausemovetime = 9999999999999

;擬似ヒットサウンド
[State 700, snd]
type = PlaySnd
triggerall = palno = 12
trigger1 = AnimElem = 4
value = 690,14
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

;擬似ヒット振動
[State 31000, Envshake]
type = EnvShake
triggerall = palno = 12
trigger1 = AnimElem = 4
ampl = 20
freq = 120
time = 40
supermovetime = 9999999999999
pausemovetime = 9999999999999

;命中時フラッシュ
[State ]
type = EnvColor
trigger1 = MoveHit
value = 255,255,255
time = 5
persistent = 0
ignorehitpause = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 300 ,]
type = HitDef
triggerall = palno != 12
trigger1 = PalNo = [1,9]
trigger1 = time = 0
attr = S, NA
damage    = 75,10
animtype = hard
getpower = 20,20
givepower = 20,20
guardflag = M
hitflag = MAF
pausetime = 7,8
numhits = 1
hitsound = s690,14
guardsound = 6,0
sparkno = s9320
sparkxy = -30,-100
ground.type = High
ground.slidetime = 3
ground.hittime  =  13
ground.velocity = -10
airguard.velocity = -20,3
air.velocity =  -1.3,-3
fall = 1
envshake.time = 40
envshake.freq = 120
envshake.ampl = 20

[State 300 ,]
type = HitDef
triggerall = palno != 12
trigger1 = PalNo = [10,11]
trigger1 = time = 0
attr = S, NA
damage    = 9999999,9999999
animtype = hard
getpower = 20,20
givepower = 20,20
guardflag = M
hitflag = MAF
pausetime = 7,8
numhits = 1
hitsound = s690,14
guardsound = 6,0
sparkno = s9320
sparkxy = -30,-100
ground.type = High
ground.slidetime = 3
ground.hittime  =  13
ground.velocity = -10
airguard.velocity = -20,3
air.velocity =  -1.3,-3
fall = 1
fall.damage = 9999999
envshake.time = 40
envshake.freq = 120
envshake.ampl = 20

[State 300 ,]
type = HitDef
triggerall = palno != 12
trigger1 = PalNo = [1,9]
trigger1 = time = 0
attr = S, NA
damage    = 75,10
animtype = hard
getpower = 20,20
givepower = 20,20
guardflag = M
hitflag = MAF
pausetime = 7,8
numhits = 1
hitsound = s690,14
guardsound = 6,0
sparkno = s9320
sparkxy = -30,-100
ground.type = High
ground.slidetime = 3
ground.hittime  =  13
ground.velocity = -10
airguard.velocity = -20,3
air.velocity =  -1.3,-3
fall = 1
envshake.time = 40
envshake.freq = 120
envshake.ampl = 20

[State 300 ,]
type = HitDef
triggerall = palno != 12
trigger1 = PalNo = [10,11]
trigger1 = time = 0
attr = S, NA
damage    = 9999999,9999999
animtype = hard
getpower = 20,20
givepower = 20,20
guardflag = M
hitflag = MAF
pausetime = 7,8
numhits = 1
hitsound = s690,14
guardsound = 6,0
sparkno = s9320
sparkxy = -30,-100
ground.type = High
ground.slidetime = 3
ground.hittime  =  13
ground.velocity = -10
airguard.velocity = -20,3
air.velocity =  -1.3,-3
fall = 1
fall.damage = 9999999
envshake.time = 40
envshake.freq = 120
envshake.ampl = 20

[State 300 , 3]
type = ChangeState
trigger1 = command = "FF"
value = 100
ctrl = 1

;相手制御
[state a]
type = targetstate
trigger1 = movehit = 1||(moveguarded=1&&var(24)=1)
trigger1 = enemy,stateno != 550&&!var(40)&&!var(34)&&var(22)<=1
;trigger1 = var(11) = 0
value = 550

[state a]
type = varset
trigger1 = movehit = 1||(moveguarded=1&&var(24)=1)
trigger1 = !var(40)&&!var(34)&&var(22)<=1
v = 11
value = 1
ignorehitpause=1
persistent=0

[state a]
type = varset
trigger1 = movehit = 1||(moveguarded=1&&var(24)=1)
trigger1 = var(40)||var(34)||var(22)>1
v = 11
value = 0
ignorehitpause=1
persistent=0

;X座標
[state 240]
type = VarSet
trigger1 = AnimElem=2,>=0&&AnimElem=3,<0
fvar(21) = ifelse(P2dist X>162*const(size.xscale),162*const(size.xscale),ifelse(P2dist X<-25,-25,floor(P2dist X)+ifelse((P2dist X=[1,30]),-30,-10)))

;Y座標
[state 240]
type = VarSet
trigger1 = AnimElem=2,>=0&&AnimElem=3,<0
fvar(22) = floor(ifelse(P2statetype=A,-192,-172)*const(size.yscale))

;画面端ヒットバック
[state -2]
type = varset
trigger1 = movecontact=1
fvar(12) = 14
ignorehitpause=1
persistent=0

[state -2]
type = varset
trigger1 = movecontact=1
fvar(13) = ifelse(p2statetype=A||movehit,-10,-9)
ignorehitpause=1
persistent=0

[state -2]
type = varset
trigger1 = movecontact=1
fvar(14) = ifelse(moveguarded=1,15+(P2statetype=C),17+(P2statetype=C))
ignorehitpause=1
persistent=0

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;---------------------------------------------------------------------------
;(ENEMY)ヘルスマッシュ、吹き飛び
[Statedef 550]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[state a]
type = turn
trigger1 = p2dist x < 0
trigger1 = time = 0

[state a]
type = velset
trigger1 = HitShakeover;time = 0
x = ifelse((backedgedist<=10||frontedgedist<=10)&&(gethitvar(xvel)=(-10,10)),0,-12)*ifelse(gethitvar(xvel)*facing<=0,1,-1)
persistent=0

[state a]
type = playerpush
trigger1 = 1
value = 0

[State 820, 1]
type = null;ChangeAnim2
Trigger1 = Time = 0
value = 550

[State 820, 1]
type = ChangeAnim
Trigger1 = !HitShakeOver&&(!time||Anim=5012)
value = 5012

[State 820, 1]
type = ChangeAnim
Trigger1 = Anim=5012&&HitShakeOver&&AnimTime=0
value = anim
elem = AnimElemNo(-1)

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = posadd
trigger1 = time = 0 && gethitvar(hitcount)>20
y = floor((gethitvar(hitcount)-20)*1.5)

[state a]
type = changestate
triggerall = HitShakeOver
trigger1 = BackEdgeDist <= 10
trigger2 = time = 300
trigger3 = frontEdgeDist <= 10
trigger4 = facing=enemynear,facing&&enemynear,vel x<=0&&ifelse(vel x<=0,enemynear,vel x>=0,enemynear,vel x<=0)
value = 552

;---------------------------------------------------------------------------
;(ENEMY)ヘルスマッシュ、弱吹き飛び
[Statedef 551]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[state a]
type = turn
trigger1 = p2dist x < 0
trigger1 = time = 0

[state a]
type = velset
trigger1 = HitShakeover;time = 0
x = -12*ifelse(gethitvar(xvel)*facing<0,1,-1)
persistent=0

[State 820, 1]
type = null;ChangeAnim2
Trigger1 = Time = 0
value = 550

[State 820, 1]
type = ChangeAnim
Trigger1 = !HitShakeOver
value = 5012

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state 551]
type = PosAdd
trigger1 = !time && gethitvar(hitcount)<=20
y = 5

[state a]
type = posadd
trigger1 = time = 0 && gethitvar(hitcount)>20
y = floor((gethitvar(hitcount)-20)*1.5)

[state a]
type = changestate
triggerall = HitShakeOver
trigger1 = BackEdgeDist <= 10
trigger2 = time = 300
trigger3 = frontEdgeDist <= 10
trigger4 = facing=enemynear,facing&&enemynear,vel x<=0&&ifelse(vel x<=0,enemynear,vel x>=0,enemynear,vel x<=0)
value = 552

;---------------------------------------------------------------------------
;(ENEMY)ヘルスマッシュ、壁ヒット
[Statedef 552]
type    = A
movetype= H
physics = N
;velset = 0,0
sprpriority = 1

[State 820, 1]
type = ChangeAnim
trigger1 = time <= ifelse((Vel X>=10||Vel X<=-10)&&prevstateno!=551,10,0)
value = 5012

[State 820, 1]
type = ChangeAnim
Trigger1 = AnimTime = 0
value = anim
elem = animelemno(-1)

[State 820, 1]
type = null;ChangeAnim2
Trigger1 = Time = 0
value = 552

[state a]
type = ChangeAnim
Trigger1 = anim=562&&animelemtime(2)>=8
value = anim
elem = 3

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[State 1020, 4]
type = EnvShake
trigger1 = time = 0
time = 10
ampl = -4
freq = 95
phase = 95

[state a]
type = PosFreeze
trigger1 = time<ifelse((Vel X>=10||Vel X<=-10)&&prevstateno!=551,14,8)
value = 1

[state a]
type = veladd
trigger1 = vel y!=0
y = .001

[state a]
type = velset
trigger1 = time=ifelse((Vel X>=10||Vel X<=-10)&&prevstateno!=551,14,8)
y = .001

[state a]
type = velset
trigger1 = time=ifelse((Vel X>=10||Vel X<=-10)&&prevstateno!=551,14,8)&&Vel X!=0
x = 4.0

[state a]
type = changestate
trigger1 = vel y>.011;time=ifelse(vel y<.010&&prevstateno!=551,24,18)
value = 553

;---------------------------------------------------------------------------
;(ENEMY)ヘルスマッシュ、落下
[Statedef 553]
type    = A
movetype= H
physics = N
velset = vel x,0
sprpriority = 1

[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 5070

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = veladd
trigger1 = time > 0&&vel X!=0
x = -0.4

[state a]
type = velset
trigger1 = time > 0 && vel x<0 && Vel X!=0
x = 0

[state a]
type = veladd
trigger1 = time > 0
y = 0.4

[State 821, 3] 
type = null;SelfState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

[state 926]
type = LifeAdd
trigger1 = Vel Y>0 && Pos Y>=-Vel Y && Alive
value = -15
absolute = 1
kill = 0

[State 821, 3] 
type = ChangeState
triggerall = Vel Y > 0
trigger1 = Pos Y >= -Vel Y
value = 15110

;---------------------------------------------------------------------------
; HIT_LIEDOWN
[Statedef 15110]
type    = A;L
movetype= H
physics = N

[State 5110, EnvShake]
type = NotHitBy
trigger1 = (prevstateno=5030||prevstateno=5050||prevstateno=15050||(prevstateno=[15100,15101]))&&time
value = SCA

[State 5110, EnvShake]
type = StatetypeSet
trigger1 = (prevstateno=5030||prevstateno=5050||prevstateno=15050||(prevstateno=[15100,15101]))&&time
statetype=L

[State 5110, EnvShake]
type = VarSet
trigger1 = Time = 0&&prevstateno!=5120
var(17) = 0;ifelse(var(17)=1,20,0)

[state 5120]
type = SelfState
trigger1 = var(17)>=20&&time>0
trigger2 = time>=20
value = ifelse(!alive,5150,5120)

[State 5110, EnvShake]
type = VarAdd
trigger1 = time>=0
var(17) = 1

[State 5110, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5110, 1] ;For hit up/up-diag type (from state 5081)
type = ChangeAnim
persistent = 0
trigger1 = SelfAnimExist(5110 + (anim % 10))
trigger1 = anim = [5081,5089]
value = 5110 + (anim % 10)

[State 5110, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim != [5161,5169]
trigger2 = !SelfAnimExist(5170 + (anim % 10))
value = 5170+((Anim=5070||prevstateno=553)&&SelfAnimExist(5171))

[State 5110, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim = [5161,5169]
trigger1 = SelfAnimExist(5170 + (anim % 10))
value = 5170 + (anim % 10)

[State 5110, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 5110, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5110, Var] ;Get fall velocity
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
var(16) = floor(vel y)

[State 5110, 6]
type = PlaySnd
trigger1 = Time = 0
trigger1 = !SysVar(0)
Volume = 999999999
value = F7, (var(16) > 5) + (var(16) > 14)

[State 5110, 7]
type = GameMakeAnim
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = 60 + (var(16) > 5) + (var(16) > 14)
pos = 0, 0
under = var(16) <= 14

[State 5110, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5110, 9] ;For hit up type
type = ChangeAnim
persistent = 0
triggerall = (anim = [5171,5179])
triggerall = SelfAnimExist(5110 + (anim % 10))
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground anim
value = 5110 + (anim % 10)

[State 5110, 10] ;For normal
type = ChangeAnim
persistent = 0
triggerall = Anim != [5111,5119]
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
value = 5110

[State 5110, 11] ;If just died
type = SelfState
triggerall = !alive
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 5150

[State 5110, 12]
type = VarSet
trigger1 = SysVar(0)
trigger1 = Time = 0
sysvar(0) = 0

[State 5110, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5110, 14]
type = ForceFeedback
trigger1 = alive
trigger1 = Time = 0
time = 3
ampl = 240
waveform = sine

[State 5110, 15]
type = ForceFeedback
trigger1 = !alive
trigger1 = Time = 0
ampl = 200, 7, -.467
time = 30
waveform = sine

;--------------------------------------------------------------------------
;ヘルスマッシュ空中
[Statedef 222]
type     = A                 ;キャラの状態を指定
                             ;S=立ち　C=しゃがみ　A=空中　L=倒れている　U=前のステートの状態を引き継ぐ
movetype = A                 ;キャラの行動内容を指定 I=何もしない　A=攻撃している　H=攻撃を食らっている
physics  =A                  ;キャラの物理的な体勢
                             ;S=立ち　C=しゃがみ　A=空中　N=重力や摩擦の影響を受けない　U=前のステートの体勢を引き継ぐ
juggle   = 2                 ;攻撃を当てた時に溜まるジャグルポイントの設定
ctrl     = 0                 ;コントロールの可否（0=キー操作不可・1=キー操作可能）
poweradd = 10                ;パワーゲージの増加量を設定
sprpriority = 2              ;画像表示優先度　数値が多いと手前に、少ないと奥に優先されます

[State 181, アニメ変更]
type = Changeanim
triggerall = !ishelper
trigger1 = anim != 222
value = 222
ignorehitpause = 1

;命中時フラッシュ
[State ]
type = EnvColor
trigger1 = MoveHit
value = 255,255,255
time = 5
persistent = 0
ignorehitpause = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 202, ヒット定義]
type = HitDef                ;攻撃ヒット定義（Hit Definition）のステートコントローラ
triggerall = P2StateType != A
triggerall = palno != 12
trigger1 = Time = 0     ;攻撃判定ボックスがあればアニメーション３番目のコマで適用されます
attr = A, NA                 ;攻撃属性: これは Standing, Normal Attack（立ち通常攻撃）、重要項目です
damage = 20, 10               ;相手に与えるダメージ（ヒットした時,ガードされた時）
animtype = Hard             ;当たった時の相手のアニメの種類: Light, Medium, Hard, Back, Up, DiagUp
guardflag = MA               ;相手が立ち・しゃがみ・空中どのガードが出来るかを決めます（MiddleAir 全部ガードされます）
hitflag = MAF                ;相手がどの状態の時で攻撃を当てられるかを決めます（MiddleAirFall）
priority = 3, Hit            ;攻撃優先度: 0 (最低) 7 (最高) 4がデフォルト・種類はHit/Miss/Dodge (デフォルト：Hit)
pausetime = 8, 10             ;攻撃を当てた時の自分と相手の硬直時間（自分,相手）
sparkno = s9990                  ;ヒットスパーク (デフォルト：[Data]の項目で設定したモノが適用される) ★３
guard.sparkno = 40           ;ガードスパーク (デフォルト：[Data]の項目で設定したモノが適用される) ★３
sparkxy = -30, -60           ;ヒットスパークの位置（Ｘ軸,Ｙ軸）
hitsound = s690,13             ;ヒットサウンド（Sを付けると自分のSNDファイルから）
guardsound = 6, 0            ;ガードサウンド（Sを付けないとMUGENデフォルトから）
ground.type = High           ;当たった時の地上の相手のアニメの属性　High：頭、体, Low：足, Trip：足払い
ground.slidetime = 5         ;当たった時の地上の相手がのけぞる時間
ground.hittime  = 20         ;当たった時の地上の相手のやられ状態の時間
ground.velocity = -4,0       ;当たった時の地上の相手の初速度（Ｘ軸,Ｙ軸）
airguard.velocity = -1.9,-.8 ;ガードされた時の空中の相手の初速度 (デフォルト：(air.xvel*1.5, air.yvel/2))
air.type = High              ;当たった時の空中の相手のアニメの属性: High, Low, Trip (デフォルト：ground.typeと同じになる)
air.velocity = 0,0       ;当たった時の空中の相手の初速度（Ｘ軸,Ｙ軸）
air.hittime = 20             ;当たった時の空中の相手のやられ状態の時間
envshake.time = 30
envshake.freq = 120
envshake.ampl = 14

[State 202, ヒット定義]
type = HitDef                ;攻撃ヒット定義（Hit Definition）のステートコントローラ
triggerall = P2StateType = A
triggerall = palno != 12
trigger1 = Time = 0     ;攻撃判定ボックスがあればアニメーション３番目のコマで適用されます
attr = A, NA                 ;攻撃属性: これは Standing, Normal Attack（立ち通常攻撃）、重要項目です
damage = 55, 15               ;相手に与えるダメージ（ヒットした時,ガードされた時）
animtype = Hard             ;当たった時の相手のアニメの種類: Light, Medium, Hard, Back, Up, DiagUp
guardflag = MA               ;相手が立ち・しゃがみ・空中どのガードが出来るかを決めます（MiddleAir 全部ガードされます）
hitflag = MAF                ;相手がどの状態の時で攻撃を当てられるかを決めます（MiddleAirFall）
priority = 3, Hit            ;攻撃優先度: 0 (最低) 7 (最高) 4がデフォルト・種類はHit/Miss/Dodge (デフォルト：Hit)
pausetime = 8, 28             ;攻撃を当てた時の自分と相手の硬直時間（自分,相手）
sparkno = s9320                  ;ヒットスパーク (デフォルト：[Data]の項目で設定したモノが適用される) ★３
guard.sparkno = 40           ;ガードスパーク (デフォルト：[Data]の項目で設定したモノが適用される) ★３
sparkxy = -30, -60           ;ヒットスパークの位置（Ｘ軸,Ｙ軸）
hitsound = s690,14             ;ヒットサウンド（Sを付けると自分のSNDファイルから）
guardsound = 6, 0            ;ガードサウンド（Sを付けないとMUGENデフォルトから）
ground.type = High           ;当たった時の地上の相手のアニメの属性　High：頭、体, Low：足, Trip：足払い
ground.slidetime = 5         ;当たった時の地上の相手がのけぞる時間
ground.hittime  = 20         ;当たった時の地上の相手のやられ状態の時間
ground.velocity = -4,0       ;当たった時の地上の相手の初速度（Ｘ軸,Ｙ軸）
airguard.velocity = -1.9,-.8 ;ガードされた時の空中の相手の初速度 (デフォルト：(air.xvel*1.5, air.yvel/2))
air.type = High              ;当たった時の空中の相手のアニメの属性: High, Low, Trip (デフォルト：ground.typeと同じになる)
air.velocity = 0,0       ;当たった時の空中の相手の初速度（Ｘ軸,Ｙ軸）
air.hittime = 20             ;当たった時の空中の相手のやられ状態の時間
p2stateno = 6000
envshake.time = 40
envshake.freq = 120
envshake.ampl = 20

[State 712, 擬似ヒットスパーク]
type = explod
triggerall = palno = 12
trigger1 = AnimElem = 3
sprpriority = 6
postype = p2
pos = -30,-60
spacing = 1
anim = 9320
ownpal = 1
scale = 1.1, 1.1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1703];画面を真っ白に
type = AllPalFX
triggerall = palno = 12
trigger1 = AnimElem = 3
time = 3
add = 256,256,256
color = time*256/90
supermovetime = 9999999999999
pausemovetime = 9999999999999

;擬似ヒットサウンド
[State 700, snd]
type = PlaySnd
triggerall = palno = 12
trigger1 = AnimElem = 3
value = 690,14
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

;擬似ヒット振動
[State 31000, Envshake]
type = EnvShake
triggerall = palno = 12
trigger1 = AnimElem = 3
ampl = 20
freq = 120
time = 40
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 200, ボイス「あほが！」]
type = PlaySnd
triggerall = palno != 7
trigger1 = animelem = 2
Volume = 999999999
value = 240, 1
cannel = 0
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 200, ボイス「死ねぇぇ！」]
type = PlaySnd
triggerall = palno = 7
trigger1 = animelem = 2
Volume = 999999999
value = 390, 23
cannel = 0
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 200 , 2]
type = PlaySnd
trigger1 = animelemtime(1) = 1
Volume = 999999999
value = s1, 6
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1000, 0]
type = CtrlSet
trigger1 = movecontact = 1
value = 1

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0 ;アニメーション時間が０、つまりアニメが終了した時に有効になります。
value = 50
ctrl = 1 ;★４

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;★４：ステートナンバー０は通常立ちステートなので、特殊なものでない限り
;　　　攻撃が終わればコントロール可能にしておく必要があります。

;------------------------------------------------------
;壁
[Statedef 6000]
type    = A
movetype= H
physics = N
anim = 5007
velset   = 0,0
ctrl = 0
sprpriority = 2

[state 0,0]
type = turn
triggerall = prevstateno != 901
trigger1 = facing = enemy,facing
trigger1 = time = 0

[State 1000, 0]
type = PlayerPush
trigger1 = 1
value = 0

[state 0,0]
type = velset
trigger1 = time = 16
x = -12
y = 0

[state 0,0]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,1

[state 0,0]
type = changestate
trigger1 = time > 14
trigger1 = backedgedist <= 3
value = 6100

;---------------------------------------------------------------------------
;壁
[Statedef 6100]
type    = A
movetype= H
physics = N
ctrl = 0
velset = 0,0
sprpriority = 2

[State 170, 無敵]
type = NotHitBy
trigger1 = time > 20
value = SCA

[state 0,0]
type = null;lifeadd
trigger1 = time = 0
value = -8
kill = 0

[state 0,0]
type = poweradd
trigger1 = time = 0
value = 10

[State 195, ♪]
type = PlaySnd
trigger1 = Time = 1
Volume = 999999999
value = F5,3

[state 0,0]
type = selfstate
trigger1 = time >= 0
trigger1 = pos y >= -20
;trigger1 = canrecover
trigger1 = command = "recovery"
trigger1 = life >= 1
value = 5200

[state 0,0]
type = selfstate
trigger1 = time >= 0
trigger1 = pos y >= -1
trigger1 = canrecover
trigger1 = command = "recovery"
trigger1 = life >= 1
value = 5210

[state 0,0]
type = envshake
trigger1 = time = 0
time = 12

[state 0,0]
type = velset
trigger1 = time = 5
x = 2.2
y = -2.8

[state 0,0]
type = veladd
trigger1 = time >= 5
y = 0.45

[state 0,0]
type = changeanim
trigger1 = time = 6
trigger1 = selfanimexist(5050)
value = 5050

[state 0,0]
type = changeanim2
trigger1 = time = 4
;trigger1 = anim != 5050
value = 6000

[state 0,0]
type = selfstate
trigger1 = vel y > 0 && pos y >= 0
value = 5100

;------------------------------------------------------
;ヘヴィースマッシュ（チャージ）
[Statedef 8699]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
;velset = 0,0
sprpriority = 1
;facep2=1

[State 181, アニメ変更]
type = Changeanim
triggerall = !ishelper
trigger1 = anim != 748
value = 748
ignorehitpause = 1

[State 712, エフェクト]
type = explod
trigger1 = AnimElem = 1
sprpriority = 6
postype = p1
pos =  -27,-67
spacing = 1
anim = 10700
id = 10700
ownpal = 1
scale = 1.0, 1.0
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 0, 0];SE
type = PlaySnd
trigger1 = AnimElem = 1
Volume = 999999999
value = 690,8
supermovetime = 9999999999999
pausemovetime = 9999999999999

;===changed
[state -2]
type = StatetypeSet
triggerall = palno != 12
trigger1 = (!time&&(prevstateno=500||(prevstateno=[100,101])))||(var(23)=[1,30])
physics = N

;===changed
[state -2]
type = VelMul
triggerall = palno != 12
trigger1 = time&&(prevstateno=[100,101])
x = .9

;===changed
[state -2]
type = Turn
triggerall = palno != 12
trigger1 = !time&&prevstateno=52&&P2dist X<0

;===changed
[state 200]
type = ChangeAnim
triggerall = palno != 12
trigger1 = Time=1
value = anim
elem = ifelse(var(8)>3,2,1)

[state a]
type = velset
triggerall = palno != 12
trigger1 = time = 0
y = 0

[state a]
type = posset
triggerall = palno != 12
trigger1 = time = 0
y = 0

[state -2]
type = varset
triggerall = palno != 12
trigger1 = !time
fvar(11) = ifelse((prevstateno=[100,101]),vel x,0)

[state -2]
type = varset
triggerall = palno != 12
trigger1 = time&&(prevstateno=[100,101])
fvar(11) = fvar(11)*.9

;-------------[変数初期化、変更]
[state a]
type = varset
triggerall = palno != 12
trigger1 = time = 0
v = 5
value = 0

[state a]
type = varset
triggerall = palno != 12
trigger1 = time >= 34-var(8)
v = 5
value = 1

[State 410, 4]
type = ChangeState
triggerall = palno != 12
trigger1 = time >= 12-var(8)
trigger1 = command != "おしっぱなしb"
trigger2 = time >= 38-var(8)
value = 8700

[State 200, ステート変更]
type = ChangeState
triggerall = palno = 12
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;------------------------------------------------------
;ヘヴィースマッシュ（攻撃）
[Statedef 8700]
type    = S
movetype= A
physics = S
juggle  = 0
ctrl = 0
sprpriority = 2

[State 181, アニメ変更]
type = Changeanim
triggerall = !ishelper
trigger1 = anim != 749
value = 749
ignorehitpause = 1

[state 0,0]
type = posadd
trigger1 = var(27) >= 1
x = ceil(enemy,gethitvar(hitcount)*-0.15)
ignorehitpause = 1

;ボイス
[State ]
Type = VarRandom
Trigger1 = time = 0
V = 44
Range = 0,2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = PlaySnd
trigger1 = var(44) = 0
Trigger1 = AnimElem = 3
Volume = 999999999
Value = s190, 64
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = PlaySnd
trigger1 = var(44) = 1
Trigger1 = AnimElem = 3
Volume = 999999999
Value = s190, 66
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = PlaySnd
trigger1 = var(44) = 2
Trigger1 = AnimElem = 3
Volume = 999999999
Value = s190, 67
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 0, 0];SE
type = PlaySnd
trigger1 = animelemtime(3) = 0
Volume = 999999999
value = 690,9
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 712, 擬似ヒットスパーク]
type = explod
triggerall = palno = 12
trigger1 = AnimElem = 3
sprpriority = 6
postype = p2
pos = -30,-91
spacing = 1
anim = 9991
ownpal = 1
scale = 1.0, 1.0
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1703];画面を真っ白に
type = AllPalFX
triggerall = palno = 12
trigger1 = AnimElem = 3
time = 3
add = 256,256,256
color = time*256/90
supermovetime = 9999999999999
pausemovetime = 9999999999999

;擬似ヒットサウンド
[State 700, snd]
type = PlaySnd
triggerall = palno = 12
trigger1 = AnimElem = 3
value = 690,7
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

;擬似ヒット振動
[State 31000, Envshake]
type = EnvShake
triggerall = palno = 12
trigger1 = AnimElem = 3
ampl = 17
freq = 120
time = 40
supermovetime = 9999999999999
pausemovetime = 9999999999999

;命中時フラッシュ
[State ]
type = EnvColor
trigger1 = MoveHit
value = 255,255,255
time = 5
persistent = 0
ignorehitpause = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

;通常ヒット
[State 200, HitDef]
type = HitDef
persistent = 0
triggerall = palno != 12
triggerall = var(27) = 0
triggerall = command != "おしっぱなしb"
trigger1 = enemy,stateno != 8701
trigger1 = AnimElem = 3
attr = S, SA
damage = 40, 10
kill = 0
getpower = ifelse(var(50)=0,50,0),10
givepower = 20,5
animtype = heavy
hitflag = M
guardflag = M
priority = 5, Hit
pausetime = 100,100
guard.sparkno = 0
sparkno = s9991
sparkxy = -30,-91
hitsound = S690,7
guardsound = S0, 0
ground.type = High
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = 0,0
air.velocity = 0,0
air.fall = 1
fall.recover = 1
p2stateno = 8600
envshake.time = 100
envshake.freq = 120
envshake.ampl = 17

[State 200, HitDef]
type = HitDef
persistent = 0
triggerall = palno != 12
triggerall = !movehit
triggerall = var(27) = 0
triggerall = command != "おしっぱなしb"
trigger1 = enemy,stateno = 8701
trigger1 = AnimElem = 3
attr = S, SA
damage = 40, 10
kill = 0
getpower = ifelse(var(50)=0,50,0),10
givepower = 20,5
animtype = heavy
hitflag = M
guardflag = M
priority = 5, Hit
pausetime = 100,100
guard.sparkno = 0
sparkno = s9991
sparkxy = -30,-91
hitsound = S690,7
guardsound = S0, 0
ground.type = High
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -5,-5
air.velocity = -5,-5
fall = 2
air.fall = 1
fall.recovertime = 10
envshake.time = 100
envshake.freq = 120
envshake.ampl = 17

[State 200, HitDef]
type = HitDef
persistent = 0
triggerall = palno != 12
triggerall = var(27) = 0
triggerall = command != "おしっぱなしb"
trigger1 = enemy,statetype = A
trigger1 = AnimElem = 3
attr = S, SA
damage = 40, 10
kill = 0
getpower = ifelse(var(50)=0,50,0),10
givepower = 20,5
animtype = heavy
hitflag = MAFD
guardflag = M
priority = 5, Hit
pausetime = 100,100
guard.sparkno = 0
sparkno = s9991
sparkxy = -30,-91
hitsound = S690,7
guardsound = S0, 0
ground.type = High
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -5,-5
air.velocity = -5,-5
fall = 2
air.fall = 1
fall.recovertime = 10
envshake.time = 100
envshake.freq = 120
envshake.ampl = 17

;チャージヒット
[State 200, HitDef]
type = HitDef
persistent = 0
triggerall = palno != 12
triggerall = var(27) = 0
triggerall = command = "おしっぱなしb"
trigger1 = enemy,stateno != 8701
trigger1 = AnimElem = 3
attr = S, SA
damage = 140
kill = 0
getpower = ifelse(var(50)=0,50,0),10
givepower = 20,5
animtype = heavy
hitflag = M
guardflag = 
priority = 5, Hit
pausetime = 100,100
guard.sparkno = 0
sparkno = s9991
sparkxy = -30,-91
hitsound = S690,7
guardsound = S0, 0
ground.type = High
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = 0,0
air.velocity = 0,0
air.fall = 1
fall.recover = 1
p2stateno = 8600
envshake.time = 100
envshake.freq = 120
envshake.ampl = 17

[State 200, HitDef]
type = HitDef
persistent = 0
triggerall = palno != 12
triggerall = !movehit
triggerall = var(27) = 0
triggerall = command = "おしっぱなしb"
trigger1 = enemy,stateno = 8701
trigger1 = AnimElem = 3
attr = S, SA
damage = 140
kill = 0
getpower = ifelse(var(50)=0,50,0),10
givepower = 20,5
animtype = heavy
hitflag = M
guardflag = 
priority = 5, Hit
pausetime = 100,100
guard.sparkno = 0
sparkno = s9991
sparkxy = -30,-91
hitsound = S690,7
guardsound = S0, 0
ground.type = High
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -5,-5
air.velocity = -5,-5
fall = 2
air.fall = 1
fall.recovertime = 10
envshake.time = 100
envshake.freq = 120
envshake.ampl = 17

[State 200, HitDef]
type = HitDef
persistent = 0
triggerall = palno != 12
triggerall = var(27) = 0
triggerall = command = "おしっぱなしb"
trigger1 = enemy,statetype = A
trigger1 = AnimElem = 3
attr = S, SA
damage = 140
kill = 0
getpower = ifelse(var(50)=0,50,0),10
givepower = 20,5
animtype = heavy
hitflag = MAFD
guardflag = 
priority = 5, Hit
pausetime = 100,100
guard.sparkno = 0
sparkno = s9991
sparkxy = -30,-91
hitsound = S690,7
guardsound = S0, 0
ground.type = High
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -5,-5
air.velocity = -5,-5
fall = 2
air.fall = 1
fall.recovertime = 10
envshake.time = 100
envshake.freq = 120
envshake.ampl = 17

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;---------------------------------------------------------------------------
;仰け反り
[Statedef 8600]
type    = S
movetype= H
physics = S
ctrl = 0
sprpriority = 0
poweradd = 0
velset = 0,0

[State ]
type = ChangeAnim2
trigger1 = !time
value = 903

[State ]
type = ChangeState
trigger1 = time = 100
value = 8701
ctrl = 1

;---------------------------------------------------------------------------
;よろけ
[Statedef 8701]
type    = S
movetype= H
physics = S
ctrl = 0
anim = 5300
sprpriority = 0
poweradd = 0
velset = 0,0

[state 0,0]
type = posset
trigger1 = time = 0
y = 0

[state 0,0]
type = selfstate
trigger1 = life = 0
value = 5050
ctrl = 0

;[state 0,0];★
;type = selfstate
;triggerall = time >= 31
;triggerall = random >= 780
;trigger1 = command = "up"
;trigger2 = command = "down"
;trigger3 = command = "fwd"
;trigger4 = command = "back"
;value = 0
;ctrl = 1

;[state 0,0];★
;type = changestate
;triggerall = power >=500
;triggerall = time >= 29
;trigger1 = command = "a"
;trigger2 = command = "b"
;trigger3 = command = "c"
;trigger4 = command = "x"
;trigger5 = command = "y"
;trigger6 = command = "z"
;value = 8702
;ctrl = 0

;[state 0,0];★
;type = palfx
;triggerall = time >= 31
;trigger1 = command = "up"
;trigger2 = command = "down"
;trigger3 = command = "fwd"
;trigger4 = command = "back"
;time = 2
;add = 30,30,30

[state 0,0];★（相手側よろけ時間）
type = selfstate
trigger1 = time = 200
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;よろけ回復
[Statedef 8702]
type    = S
movetype= H
physics = S
ctrl = 0
;anim = 5300
sprpriority = 0
poweradd = 0
velset = 0,0
[state 0,0]
type = palfx
trigger1 = time = 0
time = 5
add = 80,80,80

[state 0,0]
type = posset
trigger1 = time = 0
y = 0

[state 0,0]
type = selfstate
trigger1 = life = 0
value = 5050
ctrl = 0

[state 0,0]
type = poweradd
persistent = 0
trigger1 = time = 0
value = -500


[state 0,0]
type = selfstate
trigger1 = time = 1
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;よろけ　遠B
[Statedef 8703]
type    = S
movetype= H
physics = S
ctrl = 0
anim = 5300
sprpriority = 0
poweradd = 0
velset = 0,0

[state 0,0]
type = changeanim
trigger1 = enemy,stateno = 8228
trigger1 = time = 0
value = 5310

[state 0,0]
type = posset
trigger1 = time = 0
y = 0

[state 0,0]
type = selfstate
trigger1 = life = 0
value = 5050
ctrl = 0

[state 0,0]
type = selfstate
triggerall = time >= 25
triggerall = random >= 780
trigger1 = command = "up"
trigger2 = command = "down"
trigger3 = command = "fwd"
trigger4 = command = "back"
value = 0
ctrl = 1

[state 0,0]
type = palfx
triggerall = time >= 25
trigger1 = command = "up"
trigger2 = command = "down"
trigger3 = command = "fwd"
trigger4 = command = "back"
time = 2
add = 30,30,30

[state 0,0]
type = selfstate
trigger1 = time = 32
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;エアロニーキック１
[Statedef 680]
type = A
movetype = A
physics = S
ctrl = 0

[State 181, アニメ変更]
type = Changeanim
triggerall = palno != [11,12]
triggerall = !ishelper
trigger1 = anim != 680
value = 680
ignorehitpause = 1

;命中時フラッシュ
[State ]
type = EnvColor
trigger1 = MoveHit
value = 255,255,255
time = 5
persistent = 0
ignorehitpause = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 0, 1]
type = HitDef
triggerall = palno != [11,12]
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
trigger3 = AnimElem = 8
attr = S, SA
damage = 50,6
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8,14
sparkno = s9991
sparkxy = -20, -50
hitsound = s690,13
guardsound = 6,0
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -4,0
guard.velocity = -7
air.velocity = -2,-1.2
airguard.velocity = -5, -4
envshake.time = 20
envshake.freq = 120
envshake.ampl = 12

[State 0, NotHitBy]
type = NotHitBy
trigger1 = animelemtime(3)<0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
triggerall = palno != [11,12]
trigger1 = animelemtime(9)<0
x = 3.3
y = -1.2

[State 0, VelSet]
type = Veladd
triggerall = palno != [11,12]
trigger1 = animelemtime(9)>=0
x = .37
y = .47

;11P〜12P専用ビーム（リベンジ・オブ・エンペラー）
[State 0];12P用
type = ChangeAnim
triggerall = palno = [11,12]
trigger1 = Anim != 1304
value = 1304

[State 2000, 必殺エフェクト]
type = Helper
triggerall = !Ishelper
triggerall = palno = 11
trigger1 = palno != 12
trigger1 = Time = 0
helpertype = normal
stateno = 1004
ID = 1004
name = "efe"
postype = p1
pos = ceil(-5 * const(size.xscale)), ceil(-70 * const(size.yscale))
SuperMovetime = 9999
PauseMovetime = 9999
ownpal = 1

[State , カットイン]
type = Helper
triggerall = !Ishelper
triggerall = palno = 11
trigger1 = palno != 12
trigger1 = Time = 0
helpertype = normal
stateno = 1003
ID = 1003
name = "Cutin"
postype = p1
pos= ceil(-7 * const(size.xscale)), ceil(-75 * const(size.yscale))
SuperMovetime = 9999
PauseMovetime = 9999
ownpal = 1

;必殺エフェクト
[State sokusi]
type = Explod
trigger1 = PalNo = [11,12]
trigger1 = animelemtime(1) = 0
id = 10017
anim = 10017
ownpal = 1
sprpriority = 5
pos = -1,-67
pausemovetime = 2000000000
supermovetime = 2000000000

[State sokusi]
type = Explod
trigger1 = PalNo = [11,12]
trigger1 = animelemtime(1) = 0
id = 10018
anim = 10018
ownpal = 1
sprpriority = 5
pos = -1,-67
pausemovetime = 2000000000
supermovetime = 2000000000

[State 910, 2]
type = PlaySnd
trigger1 = PalNo = [11,12]
trigger1 = AnimElem = 2
value = s27, 1
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 910 , 1]
type = PlaySnd
trigger1 = PalNo = [11,12]
trigger1 = animelemtime(3) = 1
value = s0, 5
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 911, Effect];ビーム
type = Explod
trigger1 = PalNo = [11,12]
trigger1 = animelemtime(3) = 1
anim = 1002
scale = 1.4,1.5
postype = p1
pos =  80,-96
sprpriority = 4
;supermove = 1
ownpal = 1
bindtime = -1
removeongethit = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 911, エネルギー溜め]
type = Explod
trigger1 = PalNo = [11,12]
trigger1 = animelemtime(1) = 0
anim = 29083
scale = 2.0,2.0
postype = p1
pos =  -27,-67
sprpriority = 4
;supermove = 1
ownpal = 1
bindtime = -1
removeongethit = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 911, エネルギー溜めその2]
type = Explod
trigger1 = PalNo = [11,12]
trigger1 = animelemtime(1) = 0
anim = 10081
scale = 1.0,1.0
postype = p1
pos =  -27,-67
sprpriority = 4
;supermove = 1
ownpal = 1
bindtime = -1
removeongethit = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 31000, Envshake]
type = EnvShake
trigger1 = PalNo = [11,12]
trigger1 = animelemtime(3) = 1
ampl = 20
freq = 120
time = 110
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1703];画面を真っ白に
type = AllPalFX
triggerall = PalNo = [11,12]
trigger1 = animelemtime(3) = 0 || animelemtime(3) = 4 || animelemtime(3) = 8 || animelemtime(3) = 12
trigger2 = animelemtime(3) = 16 || animelemtime(3) = 20 || animelemtime(3) = 24 || animelemtime(3) = 28
trigger3 = animelemtime(3) = 32 || animelemtime(3) = 36 || animelemtime(3) = 40 || animelemtime(3) = 44
trigger4 = animelemtime(3) = 48 || animelemtime(3) = 52 || animelemtime(3) = 56 || animelemtime(3) = 60
trigger5 = animelemtime(3) = 64 || animelemtime(3) = 68 || animelemtime(3) = 72 || animelemtime(3) = 76
trigger6 = animelemtime(3) = 80 || animelemtime(3) = 84 || animelemtime(3) = 88 || animelemtime(3) = 92
trigger7 = animelemtime(3) = 96 || animelemtime(3) = 100 || animelemtime(4) = 4 || animelemtime(4) = 8
time = 1
add = 256,256,256
color = time*256/90
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 910 ,塵にしてやる！！]
type = PlaySnd
trigger1 = PalNo = [11,12]
trigger1 = animelemtime(1) = 0
value = s190, 50
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 910 ,エネルギーチャージ音]
type = PlaySnd
trigger1 = PalNo = [11,12]
trigger1 = animelemtime(1) = 0
value = s10002, 0
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

;超即死オメガトムハンクスキラー
[State ];当身用ヘルパー
type = helper
triggerall = palno = [11,12]
triggerall = !Ishelper
trigger1 = numhelper(152)=0
id = 152
name = "OTHK1"
pos = 0,0
postype = P1
stateno = 152
helpertype = player
keyctrl = 0
ownpal = 1
ignorehitpause = 1
SuperMoveTime = 99999999999
PauseMoveTime = 99999999999

[State ];相手proj受けヘルパー
type = helper
triggerall = palno = [11,12]
triggerall = !Ishelper
triggerall = numhelper(151)=0
trigger1 = enemy(0),numprojid(1007)>0||enemy(0),stateno=5152
trigger2 = enemy(1),numprojid(1007)>0||enemy(1),stateno=5152
id = 151
name = "OTHK2"
pos = 0,0
postype = P1
stateno = 151
helpertype = player
keyctrl = 0
ownpal = 1
ignorehitpause = 1
SuperMoveTime = 99999999999
PauseMoveTime = 99999999999

[State 1];見えないように
type = AssertSpecial
trigger1 = Ishelper(151)
flag = Invisible
ignorehitpause = 1
pausemovetime = 99999999
supermovetime = 99999999

[State ];ステート抜け
type = Selfstate
triggerall = Ishelper(151)
trigger1 = var(29)!=gametime
trigger2 = stateno!=151
value = 151
ctrl = 0
ignorehitpause = 1
pausemovetime = 99999999
supermovetime = 99999999

[State ];ステート抜け
type = Selfstate
triggerall = Ishelper(152)
trigger1 = var(29)!=gametime
trigger2 = stateno!=152
value = 152
ctrl = 0
ignorehitpause = 1
pausemovetime = 99999999
supermovetime = 99999999

[State ];gametime
type = varset
trigger1 = 1
v = 29
value = gametime
ignorehitpause = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State ,攻撃判定]
type = Projectile
triggerall = !ishelper
triggerall = palno = [11,12]
triggerall = movetype = A
triggerall = time = 54
trigger1 = roundstate = 2
projanim = 20000
projremove = 0
projremovetime = 1
projheightbound = -1000000, 1000000
projedgebound = 1000000
projstagebound = 1000000
offset = 0, 0
attr = SCA, AA, AT, AP
hitflag = MAFD
damage   = 9999999
priority = 7, hit
projpriority = 9999999999999
yaccel = 1
sparkxy = 999, 999
supermovetime = 9999999999999
pausemovetime = 9999999999999
ignorehitpause = 1
palfx.time = 30
palfx.add = 90,100,130
palfx.sinadd = 0,50,50,10
palfx.color = 0
palfx.invertall = 1
p2stateno = 5152;相手を超即死ステートへ飛ばす
p2facing = 1
fall = 1
fall.damage = Enemy,LifeMax

[State sokusi];背景を黒くするステコン
type = AssertSpecial
trigger1 = PalNo = 12
trigger1 = 1
flag= noBG
flag2 = noFG
flag3 = nobardisplay
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 0, ChangeState]
type = ChangeState
trigger1 = PalNo != [11,12]
trigger1 = pos y>=0&&vel y >0
value = 681
ctrl = 0

[State 200, ステート変更]
type = ChangeState
trigger1 = PalNo = [11,12]
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;---------------------------
;エアロニーキック２
[Statedef 681]
type = A
movetype = A
physics = S
ctrl = 0
velset = 0,0

[State 181, アニメ変更]
type = Changeanim
triggerall = !ishelper
trigger1 = anim != 682
value = 682
ignorehitpause = 1

;命中時フラッシュ
[State ]
type = EnvColor
trigger1 = MoveHit
value = 255,255,255
time = 5
persistent = 0
ignorehitpause = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 0, 1]
type = HitDef
triggerall = palno != 12
trigger1 =time=0
attr = S, SA
damage = 50,6
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8,11
sparkno = s9991
sparkxy = -20, -50
hitsound = s690,13
guardsound = 6,0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -8,-7
guard.velocity = -7
air.velocity = -8,-7
airguard.velocity = -5, -4
fall = 1
fall.recover = 1
air.fall = 1
air.recover = 0
yaccel = .5
getpower = 0,0
givepower = 35, 35
forcestand = 1
p2stateno=5610
envshake.time = 20
envshake.freq = 120
envshake.ampl = 12

[State 0, PlaySnd]
type = PlaySnd
triggerall = palno != 7
trigger1 = animelem=2
value = S190,31
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 0, PlaySnd]
type = PlaySnd
triggerall = palno = 7
trigger1 = animelem=2
value = S390,18
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 271]
type = playsnd
trigger1 = animelem = 1
Volume = 999999999
value = 1,2
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 0, ChangeState]
type = ChangeState
trigger1 =  animtime=0
value = 0
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;-------------------------------------
;エアロニーキック（空中）
[Statedef 682]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0,0

[State 181, アニメ変更]
type = Changeanim
triggerall = !ishelper
trigger1 = anim != 683
value = 683
ignorehitpause = 1

[State 712, 擬似ヒットスパーク]
type = explod
triggerall = palno = 12
trigger1 = AnimElem = 4 || AnimElem = 5 || AnimElem = 6
sprpriority = 6
postype = p2
pos = -20, -50
spacing = 1
anim = 9991
ownpal = 1
scale = 1.1, 1.1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1703];画面を真っ白に
type = AllPalFX
triggerall = palno = 12
trigger1 = AnimElem = 4 || AnimElem = 5 || AnimElem = 6
time = 3
add = 256,256,256
color = time*256/90
supermovetime = 9999999999999
pausemovetime = 9999999999999

;擬似ヒットサウンド
[State 700, snd]
type = PlaySnd
triggerall = palno = 12
trigger1 = AnimElem = 4 || AnimElem = 5 || AnimElem = 6
value = 690,13
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

;擬似ヒット振動
[State 31000, Envshake]
type = EnvShake
triggerall = palno = 12
trigger1 = AnimElem = 4 || AnimElem = 5 || AnimElem = 6
ampl = 15
freq = 120
time = 30
supermovetime = 9999999999999
pausemovetime = 9999999999999

;命中時フラッシュ
[State ]
type = EnvColor
trigger1 = MoveHit
value = 255,255,255
time = 5
persistent = 0
ignorehitpause = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 0, 1]
type = HitDef
triggerall = palno != 12
trigger1 = AnimElem=1
trigger2 = AnimElem=2
trigger3 = AnimElem=3
trigger4 = AnimElem=4
trigger5 = AnimElem=5
trigger6 = AnimElem=6
trigger7 = AnimElem=7
trigger8 = AnimElem=8
attr = S, SA
damage = 25,6
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8,14
sparkno = s9991
sparkxy = -20, -50
hitsound = s690,13
guardsound = 6,0
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -4,7.2
guard.velocity = -7
air.velocity = -2,-5.2
airguard.velocity = -5, -4
envshake.time = 20
envshake.freq = 120
envshake.ampl = 12
fall=1

[State 0, PlaySnd]
type = PlaySnd
triggerall = palno != 7
trigger1 = animelem=2
Volume = 999999999
value = S190,31
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 0, PlaySnd]
type = PlaySnd
triggerall = palno = 7
trigger1 = animelem=2
Volume = 999999999
value = S390,18
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 271]
type = playsnd
trigger1 = animelem = 1
Volume = 999999999
value = 1,2
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 0, VelSet]
type = VelSet
triggerall = palno != 12
trigger1 = AnimElem=1
x = 3.3
y = -1.2

[State 0, VelSet]
type = VelADD
triggerall = palno != 12
trigger1 = animelemtime(11)>=0
y = .77

[State 0, VelSet]
type = VelSet
triggerall = palno = 12
trigger1 = animelem = 1 || animelem = 2 || animelem = 3 || animelem = 4 || animelem = 5 || animelem = 6 || animelem = 7
trigger2 = animelem = 8 || animelem = 9 || animelem = 10
x = 40.0
y = -1.2

[State 0, VelSet]
type = VelADD
triggerall = palno = 12
trigger1 = animelemtime(11)>=0
y = 10.0

[State 0, ChangeState]
type = ChangeState
trigger1 =  pos y>=0&&vel y >0
value = 683
ctrl = 0

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;------------------------------------------
[Statedef 683]
type    = S
movetype= H
physics = S
velset = 0,0

[State 181, アニメ変更]
type = Changeanim
triggerall = !ishelper
trigger1 = anim != 12
value = 12
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = animelemtime(1) = 0
y = 0
ignorehitpause = 1

[State 52, 足音]
type = PlaySnd
trigger1 = animelemtime(1) = 0
Volume = 999999999
value = 1,26

[State 0, ChangeState]
type = ChangeState
trigger1 =  animtime = 0
value = 0
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;------------------------------------------
[Statedef 5610]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1026, No scroll]
type = ScreenBound
trigger1 =1
value = 1
movecamera = 1,1

[State 1025, Anim]
type = ChangeAnim
trigger1= time = 0
trigger1 = !selfanimexist(5610)
value = 5070

[State 1025, Anim]
type = ChangeAnim2
trigger1= time = 0
trigger1 = selfanimexist(5610)
value = 5610

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 5611
;------------------
; Hit by Fast Kung Fu Palm - flying through the air
; (a custom gethit state)
[Statedef 5611]
type    = A
movetype= H
physics = N

[State 1026, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1026, Gravity]
type = VelAdd
trigger1 = 1
y = .45

[State 1026, No scroll]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 0,1

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;--------------------------------------------------------------------------
;必殺・空襲脚
[Statedef 900]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
poweradd = 50

[State 181, アニメ変更]
type = Changeanim
triggerall = palno != 12
triggerall = !ishelper
trigger1 = anim != 250
value = 250
ignorehitpause = 1

;命中時フラッシュ
[State ]
type = EnvColor
trigger1 = MoveHit
value = 255,255,255
time = 5
persistent = 0
ignorehitpause = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 200 , 1]
type = HitDef
triggerall = palno != 12
trigger1 = time = 0
attr = S, SA
damage    = 90,20
animtype = Hard
getpower = 50,50
givepower = 50,50
guardflag = M
hitflag = MAF
pausetime = 17,18
numhits = 1
hitsound = s690,12
guardsound = 6,0
sparkno = S9991
sparkxy = -30,-94
ground.type = High
ground.slidetime = 13
ground.hittime  =  13
ground.velocity = -1,-8
airguard.velocity = -1,-8
air.velocity = -1.3,-8
fall = 1
fall.recover = 1
envshake.time = 20
envshake.freq = 120
envshake.ampl = 12

[State 210, 2]
type = PlaySnd
triggerall = palno != 12
trigger1 = AnimElem = 2
Volume = 999999999
value = s1, 2
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 200 , 1]
type = PlaySnd
triggerall = palno != 12
triggerall = palno != 7
trigger1 = animelemtime(1) = 1
Volume = 999999999
value = s0, 3
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 200 , 1]
type = PlaySnd
triggerall = palno = 7
trigger1 = animelemtime(1) = 1
Volume = 999999999
value = s390, 9
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1040,ジャンプキャンセル]
type = Changestate
triggerall = palno != 12
trigger1 = command = "U"
value = 40
ctrl = 1

[State ,落下即死用proj1]
type = Projectile
triggerall = !ishelper
triggerall = palno = 12
triggerall = movetype = A
triggerall = enemynear,name != "Megalith"
trigger1 = roundstate = 2
projanim = 20000
projremove = 0
projremovetime = 1
projheightbound = -1000000, 1000000
projedgebound = 1000000
projstagebound = 1000000
offset = 0, 0
attr = SCA, AA, AT, AP
hitflag = MAFD
damage   = 0
priority = 7, hit
projpriority = 9999999999999
yaccel = 1
sparkxy = 999, 999
supermovetime = 9999999999999
pausemovetime = 9999999999999
ignorehitpause = 1
fall = 1
fall.damage = Enemy,LifeMax

[State ,落下即死用proj 対メガリス専用]
type = Projectile
triggerall = !ishelper
triggerall = palno = 12
triggerall = movetype = A
triggerall = enemynear,name = "Megalith"
trigger1 = roundstate = 2
projanim = 20000
projremove = 0
projremovetime = 1
projheightbound = -1000000, 1000000
projedgebound = 1000000
projstagebound = 1000000
offset = 0, 0
attr = SCA, AA, AT, AP
hitflag = MAFD
damage   = 0
priority = 7, hit
projpriority = 9999999999999
yaccel = 1
sparkxy = 999, 999
supermovetime = 9999999999999
pausemovetime = 9999999999999
ignorehitpause = 1
fall = 1
fall.damage = -2147483648

;12P用火柱エフェクト
[State 0];12P用
type = ChangeAnim
triggerall = palno = 12
trigger1 = Anim != 1902
value = 1902

;右側
[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(1) = 0
id = 29080
anim = 29080
pos = 70,20
scale= 1.2,1.5
ownpal = 1
sprpriority = 4
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(2) = 6
id = 29080
anim = 29080
pos = 120,20
scale= 1.2,1.5
ownpal = 1
sprpriority = 4
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(4) = 7
id = 29080
anim = 29080
pos = 170,20
scale= 1.2,1.5
ownpal = 1
sprpriority = 4
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(7) = 1
id = 29080
anim = 29080
pos = 220,20
scale= 1.2,1.5
ownpal = 1
sprpriority = 4
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

;その２
[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(1) = 0
id = 29081
anim = 29081
pos = 70,-0
scale= 1.0,1.0
ownpal = 1
sprpriority = 4
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(2) = 6
id = 29081
anim = 29081
pos = 120,-0
scale= 1.0,1.0
ownpal = 1
sprpriority = 4
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(4) = 7
id = 29081
anim = 29081
pos = 170,-0
scale= 1.0,1.0
ownpal = 1
sprpriority = 4
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(7) = 1
id = 29081
anim = 29081
pos = 220,-0
scale= 1.0,1.0
ownpal = 1
sprpriority = 4
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

;その３
[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(1) = 0
id = 29079
anim = 29079
pos = 70,-0
scale= 1.2,1.5
ownpal = 1
sprpriority = 5
bindtime = -1
trans = sub
pausemovetime = 2000000000
supermovetime = 2000000000

[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(2) = 6
id = 29079
anim = 29079
pos = 100,-0
scale= 1.2,1.5
ownpal = 1
sprpriority = 5
bindtime = -1
trans = sub
pausemovetime = 2000000000
supermovetime = 2000000000

[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(4) = 7
id = 29079
anim = 29079
pos = 150,-0
scale= 1.2,1.5
ownpal = 1
sprpriority = 5
bindtime = -1
trans = sub
pausemovetime = 2000000000
supermovetime = 2000000000

[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(7) = 1
id = 29079
anim = 29079
pos = 219,-0
scale= 1.2,1.5
ownpal = 1
sprpriority = 5
bindtime = -1
trans = sub
pausemovetime = 2000000000
supermovetime = 2000000000

;左側
[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(1) = 0
id = 29080
anim = 29080
pos = -70,20
scale= 1.2,1.5
ownpal = 1
sprpriority = 4
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(2) = 6
id = 29080
anim = 29080
pos = -120,20
scale= 1.2,1.5
ownpal = 1
sprpriority = 4
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(4) = 7
id = 29080
anim = 29080
pos = -170,20
scale= 1.2,1.5
ownpal = 1
sprpriority = 4
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(7) = 1
id = 29080
anim = 29080
pos = -220,20
scale= 1.2,1.5
ownpal = 1
sprpriority = 4
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

;その２
[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(1) = 0
id = 29082
anim = 29082
pos = -70,-0
scale= 1.0,1.0
ownpal = 1
sprpriority = 4
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(2) = 6
id = 29082
anim = 29082
pos = -120,-0
scale= 1.0,1.0
ownpal = 1
sprpriority = 4
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(4) = 7
id = 29082
anim = 29082
pos = -170,-0
scale= 1.0,1.0
ownpal = 1
sprpriority = 4
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(7) = 1
id = 29082
anim = 29082
pos = -220,-0
scale= 1.0,1.0
ownpal = 1
sprpriority = 4
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

;その３
[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(1) = 0
id = 29079
anim = 29079
pos = -60,-0
scale= 1.2,1.5
ownpal = 1
sprpriority = 5
bindtime = -1
trans = sub
pausemovetime = 2000000000
supermovetime = 2000000000

[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(2) = 6
id = 29079
anim = 29079
pos = -90,-0
scale= 1.2,1.5
ownpal = 1
sprpriority = 5
bindtime = -1
trans = sub
pausemovetime = 2000000000
supermovetime = 2000000000

[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(4) = 7
id = 29079
anim = 29079
pos = -140,-0
scale= 1.2,1.5
ownpal = 1
sprpriority = 5
bindtime = -1
trans = sub
pausemovetime = 2000000000
supermovetime = 2000000000

[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(7) = 1
id = 29079
anim = 29079
pos = -214,-0
scale= 1.2,1.5
ownpal = 1
sprpriority = 5
bindtime = -1
trans = sub
pausemovetime = 2000000000
supermovetime = 2000000000

;12P用効果音
[state a, 効果音]
type = playsnd
triggerall = palno = 12
trigger1 = animelemtime(1) = 0
value = 10004,0
Volume=999999999
lowpriority=1
ignorehitpause=1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[state a, 効果音]
type = playsnd
triggerall = palno = 12
trigger1 = animelemtime(2) = 6
value = 10004,0
Volume=999999999
lowpriority=1
ignorehitpause=1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[state a, 効果音]
type = playsnd
triggerall = palno = 12
trigger1 = animelemtime(4) = 7
value = 10004,0
Volume=999999999
lowpriority=1
ignorehitpause=1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[state a, 効果音]
type = playsnd
triggerall = palno = 12
trigger1 = animelemtime(7) = 1
value = 10004,0
Volume=999999999
lowpriority=1
ignorehitpause=1
supermovetime = 9999999999999
pausemovetime = 9999999999999

;効果音2
[state a, 効果音]
type = playsnd
triggerall = palno = 12
trigger1 = animelemtime(1) = 0
value = 10004,1
Volume=999999999
lowpriority=1
ignorehitpause=1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[state a, 効果音]
type = playsnd
triggerall = palno = 12
trigger1 = animelemtime(2) = 6
value = 10004,1
Volume=999999999
lowpriority=1
ignorehitpause=1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[state a, 効果音]
type = playsnd
triggerall = palno = 12
trigger1 = animelemtime(4) = 7
value = 10004,1
Volume=999999999
lowpriority=1
ignorehitpause=1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[state a, 効果音]
type = playsnd
triggerall = palno = 12
trigger1 = animelemtime(7) = 1
value = 10004,1
Volume=999999999
lowpriority=1
ignorehitpause=1
supermovetime = 9999999999999
pausemovetime = 9999999999999

;効果音3
[state a, 効果音]
type = playsnd
triggerall = palno = 12
trigger1 = animelemtime(1) = 0
value = 10004,2
Volume=999999999
lowpriority=1
ignorehitpause=1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[state a, 効果音]
type = playsnd
triggerall = palno = 12
trigger1 = animelemtime(2) = 6
value = 10004,2
Volume=999999999
lowpriority=1
ignorehitpause=1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[state a, 効果音]
type = playsnd
triggerall = palno = 12
trigger1 = animelemtime(4) = 7
value = 10004,2
Volume=999999999
lowpriority=1
ignorehitpause=1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[state a, 効果音]
type = playsnd
triggerall = palno = 12
trigger1 = animelemtime(7) = 1
value = 10004,2
Volume=999999999
lowpriority=1
ignorehitpause=1
supermovetime = 9999999999999
pausemovetime = 9999999999999

;効果音4
[state a, 効果音]
type = playsnd
triggerall = palno = 12
trigger1 = animelemtime(1) = 0
value = 10004,3
Volume=999999999
lowpriority=1
ignorehitpause=1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[state a, 効果音]
type = playsnd
triggerall = palno = 12
trigger1 = animelemtime(2) = 6
value = 10004,3
Volume=999999999
lowpriority=1
ignorehitpause=1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[state a, 効果音]
type = playsnd
triggerall = palno = 12
trigger1 = animelemtime(4) = 7
value = 10004,3
Volume=999999999
lowpriority=1
ignorehitpause=1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[state a, 効果音]
type = playsnd
triggerall = palno = 12
trigger1 = animelemtime(7) = 1
value = 10004,3
Volume=999999999
lowpriority=1
ignorehitpause=1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1703];画面を真っ白に
type = AllPalFX
triggerall = PalNo = 12
trigger1 = animelemtime(1) = 0 || animelemtime(2) = 6 || animelemtime(4) = 7 || animelemtime(7) = 1
time = 3
add = 256,256,256
color = time*256/90
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State ]
type = EnvShake
triggerall = palno = 12
trigger1 = animelemtime(1) = 0 || animelemtime(2) = 6 || animelemtime(4) = 7 || animelemtime(7) = 1
time = 15
ampl = -15
freq = 120
phase = 120
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State sokusi];背景を黒くするステコン
type = AssertSpecial
trigger1 = PalNo = 12
trigger1 = 1
flag= noBG
flag2 = noFG
flag3 = nobardisplay
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 200 , 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;---------------------------------------------------------------------------
;デスビーム
[Statedef 1100]
type = S
movetype = A
juggle = 3
ctrl = 0
sprpriority = 2

[State 181, アニメ変更]
type = Changeanim
triggerall = !ishelper
trigger1 = anim != 1300
value = 1300
ignorehitpause = 1

[State 730, VelSet]
type = VelSet
trigger1 = animelemtime(1) = 0
x = 0
y = 0

[State 730, 1]
type = PlaySnd
trigger1 = animelemtime(1) = 5
trigger2 = animelemtime(1) = 10
trigger3 = animelemtime(1) = 15
trigger4 = animelemtime(1) = 20
Volume = 999999999
value = s690,16
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 730, 1]
type = PowerAdd
trigger1 = animelemtime(1) = 5
trigger2 = animelemtime(1) = 10
trigger3 = animelemtime(1) = 15
trigger4 = animelemtime(1) = 20
value = 10

[State 730, 2]
type = Explod
trigger1 = animelemtime(1) = 5
trigger2 = animelemtime(1) = 15
anim = 4025
pos = 49,-99
postype = p1
sprpriority = 4
supermove = 1
bindtime = 1
ownpal = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 730, 2]
type = Explod
trigger1 = animelemtime(1) = 10
trigger2 = animelemtime(1) = 20
anim = 4025
pos = 49,-99
postype = p1
sprpriority = 4
supermove = 1
bindtime = 1
ownpal = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 700, 3]
type = Projectile
trigger1 = animelemtime(1) = 5
trigger2 = animelemtime(1) = 10
trigger3 = animelemtime(1) = 15
trigger4 = animelemtime(1) = 20
projanim = 3002
offset = 49,-99
Projremove = 1
velocity = 10, 0
remvelocity = 1, 0
velmul = 1.00, 1
accel = 0, 0
projmisstime = 2
projpriority = 2
attr = S, SP
damage    = 15,5
animtype  = Back
getpower  = 10,10
givepower = 10
guardflag = MAF
hitflag = MAF
pausetime = 0,2
sparkno = s9311
sparkxy = 47,45
hitsound   = S27,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -3.5
air.fall = 1
pausemovetime = 2000000000
supermovetime = 2000000000

[State 7010];弾数関係
type = varadd
trigger1 = animelemtime(1) = 6
v = 52
value = 1

;チェーンコンボ用
[State 300 , 3]
type = ChangeState
trigger1 = command = "combo2"
value = 2300
ctrl = 1

[State 300 , 3]
type = ChangeState
trigger1 = command = "heruc"
value = 1042
ctrl = 1

[State 300 , 3]
type = ChangeState
trigger1 = command = "QCF_x"
value = 1020
ctrl = 1

[State 300 , 3]
type = ChangeState
trigger1 = command = "earo"
value = 680
ctrl = 1

[State 300 , 3]
type = ChangeState
trigger1 = command = "tatsumaki"
value = 900
ctrl = 1

[State 300 , 3]
type = ChangeState
triggerall = power >= 1000
trigger1 = command = "tyou2"
value = 910
ctrl = 1

[State 300 , 3]
type = ChangeState
triggerall = power >= 2000
trigger1 = command = "tyou1"
value = 1020
ctrl = 1

[State 300 , 3]
type = ChangeState
triggerall = power >= 3000
trigger1 = command = "tyou4"
value = 1201
ctrl = 1

[State 730, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;---------------------------------------------------------------------------
;空中デスビーム

[Statedef 1300]
type = A
movetype = A
juggle = 3
ctrl = 0
sprpriority = 2

[State 181, アニメ変更]
type = Changeanim
triggerall = !ishelper
trigger1 = anim != 1299
value = 1299
ignorehitpause = 1

[State 750, VelSet]
type = VelSet
trigger1 = animelemtime(1) = 0
x = 0
y = 0

[State 750, 1]
type = PlaySnd
trigger1 = animelemtime(1) = 5
trigger2 = animelemtime(1) = 10
trigger3 = animelemtime(1) = 15
trigger4 = animelemtime(1) = 20
Volume = 999999999
value = s690,16
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 750, 1]
type = PowerAdd
trigger1 = animelemtime(1) = 5
trigger2 = animelemtime(1) = 10
trigger3 = animelemtime(1) = 15
trigger4 = animelemtime(1) = 20
value = 10

[State 700, 3]
type = Projectile
trigger1 = animelemtime(1) = 5
trigger2 = animelemtime(1) = 10
trigger3 = animelemtime(1) = 15
trigger4 = animelemtime(1) = 20
projanim = 4025
offset = Ceil(49*const(size.xscale)),Ceil(-99*const(size.yscale))
Projremove = 1
velocity = 10, 1.5
remvelocity = 1, 0
velmul = 1.00, 1
accel = 0, 0
projmisstime = 2
projpriority = 2
attr = S, SP
damage    = 15,5
animtype  = Back
getpower  = 10,10
givepower = 10
guardflag = MA
hitflag = MAF
pausetime = 0,2
sparkno = s9311
sparkxy = 47,45
hitsound   = S27,0
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -3.5
air.fall = 1
pausemovetime = 2000000000
supermovetime = 2000000000

[State 700, 3]
type = Projectile
trigger1 = animelemtime(1) = 5
trigger2 = animelemtime(1) = 10
trigger3 = animelemtime(1) = 15
trigger4 = animelemtime(1) = 20
projanim = 4025
offset = Ceil(49*const(size.xscale)),Ceil(-99*const(size.yscale))
Projremove = 1
velocity = 6,(500-Random)*.01;10, 0
remvelocity = 1, 0
velmul = 1.00, 1
accel = 0, 0
projmisstime = 2
projpriority = 2
attr = S, SP
damage    = 15,5
animtype  = Back
getpower  = 10,5
givepower = 10
guardflag = MA
hitflag = MAF
pausetime = 0,2
sparkno = s9311
sparkxy = 47,45
hitsound   = S27,0
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -3.5
air.fall = 1
pausemovetime = 2000000000
supermovetime = 2000000000

[State 7010];弾数関係
type = varadd
trigger1 = animelemtime(1) = 6
v = 52
value = 1

[State 741]
type = VelSet
trigger1 = animelemtime(1) = 35		;射撃後、落下する。
x = -1
y = 1

[State 741]
type = ctrlset
trigger1 = AnimTime = 0		;射撃後、落下する。
value = 0

;チェーンコンボ用
[State 300 , 3]
type = ChangeState
trigger1 = command = "heru2"
value = 222
ctrl = 1

[State 300 , 3]
type = ChangeState
trigger1 = command = "earoair"
value = 682
ctrl = 1

[State 700, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;---------------------------------------------------------------------------
;相手
[Statedef 2100]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0

[State 2105]
type = ChangeAnim
trigger1 = 1
value = 5030

[State 2105]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 2110

[Statedef 2110]
type = A
movetype = H
physics = N
velset = -1,-15
ctrl = 0

[State 2106]
type = ChangeAnim
trigger1 = SelfAnimExist(5053)
trigger1 = time = 0
value = 5053

[State 2106]
type = ChangeAnim
trigger1 =!SelfAnimExist(5053)
trigger1 = SelfAnimExist(5052)
trigger1 = time = 0
value = 5052

[State anim]
type = ChangeAnim
trigger1 =!SelfAnimExist(5052)
trigger1 = time = 0
value = 5050

[State 2106]
type = ChangeAnim
trigger1 = vel y = [-1,1]
trigger1 =!SelfAnimExist(5053)
trigger1 = SelfAnimExist(5062)
value = 5062

[State anim]
type = ChangeAnim
trigger1 = vel y = [-1,1]
trigger1 =!SelfAnimExist(5062)
value = 5050

[State vel]
type = veladd
trigger1 = 1
y = .54

[State end]
type = SelfState
trigger1 = pos y >= 0 && vel y > 0
value = 5100

;---------------------------------------------------------------------------
;超必殺・デスボール

[Statedef 1005]
type = S
movetype = A
physics	= S
velset = 0,0
ctrl = 0
poweradd = 0
juggle = 0
facep2 = (IfElse(PrevStateNo = 8030,0,1))
hitdefpersist = 0
movehitpersist = 0
hitcountpersist	= 0
sprpriority = 2

[State 181, アニメ変更]
type = Changeanim
triggerall = !ishelper
trigger1 = anim != 1005
value = 1005
ignorehitpause = 1

[State 910, Super A]
type = SuperPause
trigger1 = PalNo = [1,10]
trigger1 = time = 0
anim = -1
pos = 15, -68
sound = s191, 8
poweradd = -2000
time = 58
movetime = 0

[State sokusi];背景真っ黒にする用
type = Explod
trigger1 = PalNo != [11,12]
trigger1 = time = 0
id = 10007
anim = 10007
ownpal = 1
sprpriority = -9999999
scale= 0.5,0.8
postype = back
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

;必殺エフェクト

;下位カラー
[State 2000, 必殺エフェクト]
type = Helper
triggerall = !Ishelper
trigger1 = palno != 12
trigger1 = Time = 0
helpertype = normal
stateno = 1004
ID = 1004
name = "efe"
postype = p1
pos = ceil(10 * const(size.xscale)), ceil(-70 * const(size.yscale))
SuperMovetime = 9999
PauseMovetime = 9999
ownpal = 1

;上位カラー
[State sokusi]
type = Explod
trigger1 = PalNo = [11,12]
trigger1 = animelemtime(1) = 0
id = 10017
anim = 10017
ownpal = 1
sprpriority = 5
pos = 13,-67
pausemovetime = 2000000000
supermovetime = 2000000000

[State sokusi]
type = Explod
trigger1 = PalNo = [11,12]
trigger1 = animelemtime(1) = 0
id = 10018
anim = 10018
ownpal = 1
sprpriority = 5
pos = 13,-67
pausemovetime = 2000000000
supermovetime = 2000000000

[State 1005:	StateTypeSet]
type = StateTypeSet
trigger1 = (Var(20) = 1)
statetype = A
physics	= N

[State 1005: 	Null]
type = Null
trigger1 = (!Time)
trigger1 = (Var(18) := 0)
trigger2 = (Var(18) = -10) || (Var(18) = 10)
trigger2 = (Var(19) := IfElse(Var(18) = -10,0,1))

[State 1005:	VarAdd]
type = VarAdd
trigger1 = 1
var(18)	= IfElse(Var(19) = 0,1,-1)

[State 1005:	VelAdd]
type = VelAdd
trigger1 = (Var(20) = 1)
y = IfElse(Var(19) = 1,0.05,-0.05)

[State 1005:	PosAdd]
type = PosAdd
trigger1 = (AnimElem = 1, > 10) && (AnimElem = 2, < 0)
x = (IfElse(((GameTime%2) = 0),2,-2))

[State 1005:	PowerAdd]
type = PowerAdd
trigger1 = (!Time) && (PrevStateNo != 8030)
value = -150

[State 1005:	AttackDist]
type = AttackDist
trigger1 = 1
value = IfElse(Var(24) = 0,100,0)

[State 1005: 	VarRandom]
type = VarRandom
trigger1 = 1
v = 6
range = -25,15

[State 1005: 	VarRandom]
type = VarRandom
trigger1 = 1
v = 7
range = -75,-40

[State 1005:	VarAdd]
type = VarAdd
triggerall = (MoveHit) && (AnimElem = 2, < 0)
trigger1 = ((GameTime%25) = 0)
var(26) = 1
ignorehitpause = 1

[State 1005:	VarAdd]
type = VarAdd
trigger1 = (ProjHit(9650) = 1)
var(26)	= 1
persistent = 0
ignorehitpause = 1

[State 1005,ボイス]
type = PlaySnd
triggerall = palno != 7
trigger1 = animelemtime(1) = 0
Volume = 999999999
value = s27,11
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1005,ボイス]
type = PlaySnd
triggerall = palno = 7
trigger1 = animelemtime(1) = 0
Volume = 999999999
value = s390,25
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1005:	PlaySnd]
type = PlaySnd
trigger1 = (AnimElem = 5) && (PrevStateNo != 8030)
Volume = 999999999
value = S23,0
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1005:	PlaySnd]
type = PlaySnd
trigger1 = (AnimElem = 2) && (PrevStateNo != 8030)
Volume = 999999999
value = S1,32
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1005:	PlaySnd]
type = PlaySnd
trigger1 = (AnimElem = 1, = 10) && (PrevStateNo != 8030)
Volume = 999999999
value = S1,37
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1005:	PlaySnd]
type = PlaySnd
trigger1 = (AnimElem = 5) && (PrevStateNo != 8030)
Volume = 999999999
value = S2,6
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1005:	PalFX]
type = PalFX
trigger1 = (AnimElem = 1, > 0) && (AnimElem = 2, < 0) && ((GameTime%50) = 0)
time = 20
add = 0,0,0
mul = 256,256,256
sinadd = 75,75,75,25
invertall = 0
color = 256
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1005:	EnvShake]
type = EnvShake
trigger1 = (AnimElem = 5)
time = 20
freq = 140
ampl = -8
phase = 120
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State , カットイン]
type = Helper
triggerall = !Ishelper
triggerall = palno != 7
trigger1 = palno != 12
trigger1 = Time = 0
helpertype = normal
stateno = 1003
ID = 1003
name = "Cutin"
postype = p1
pos= ceil(-7 * const(size.xscale)), ceil(-75 * const(size.yscale))
SuperMovetime = 9999
PauseMovetime = 9999
ownpal = 1

[State , カットイン]
type = Helper
triggerall = !Ishelper
triggerall = palno = 7
trigger1 = palno != 12
trigger1 = Time = 0
helpertype = normal
stateno = 1006
ID = 1006
name = "Cutin2"
postype = p1
pos= ceil(-7 * const(size.xscale)), ceil(-75 * const(size.yscale))
SuperMovetime = 9999
PauseMovetime = 9999
ownpal = 1

[State 910, Effect]
type = Explod
trigger1 = animelemtime(1) = 4
anim = 9800
scale = 0.85,0.85
postype = p1
pos =  -13,-145
sprpriority = 4
;supermove = 1
ownpal = 1
bindtime = -1
removeongethit = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1005:	HitDef]
type = HitDef
triggerall = palno != [11,12]
trigger1 = ((GameTime%25) = 0)
attr = S, SP
hitflag	= MAFDP
guardflag = MA
animtype = Medium
priority = 7, Hit
damage = 20,10
pausetime = 1,4
guard.pausetime	= 1,4
sparkno	= S9110
guard.sparkno = S9130
sparkxy	= (Var(6)),(Var(7))
hitsound = S2,7
guardsound = S2,7
ground.type = High
air.type = Low
ground.slidetime = 20
ground.hittime = 20
air.hittime = 20
ground.velocity	= -1.1
guard.velocity = -1.1
air.velocity = -1.1,-3.5
airguard.velocity = -1.1,-3.5
ground.cornerpush.veloff = 0
id = 1005
getpower = 0
givepower = 0
envshake.time = 12
envshake.freq = 120
envshake.ampl = -4

[State 1005:	Projectile]
type = Projectile
trigger1 = AnimElem = 5
projid = 9650
projanim = 9650
projhitanim = 9330
projremanim = 9320
projcancelanim	= 9320
projscale = 1,1
projremove = 1
projremovetime = 200
velocity = 25
remvelocity = 0,0
accel = 0,0
velmul = 1,1
projhits = 1
projmisstime = 0
projpriority = 100
projsprpriority	= 3
projedgebound = 1000
projstagebound = 1000
projheightbound	= -1000,1
offset = 38,-74
postype	= p1
projshadow = 0,0,0
supermovetime = 0
pausemovetime = 0
afterimage.time	= 10
afterimage.timegap = 1
afterimage.framegap = 2
afterimage.length = 10
afterimage.paladd = 75, 75, 75
afterimage.palmul = .50, .50, .50
afterimage.palcontrast = 75, 75, 75
afterimage.trans = add
attr = S, SP
hitflag	= MAFDP
guardflag = M
animtype = Hard
priority = 7, Hit
damage = 485,55
pausetime = 0,20
guard.pausetime	= 0,10
sparkno	= -1
guard.sparkno = -1
sparkxy	= 0,0
hitsound = S27,12
guardsound = S27,12
ground.type = High
air.type = High
ground.slidetime = 18
ground.hittime	= 18
air.hittime = 18
ground.velocity	= -15
guard.velocity = -10
air.velocity = -15,-8
airguard.velocity = -15,-8
ground.cornerpush.veloff = 0
air.fall = 1
fall.recover = 1
down.velocity	= -15,-6
down.bounce = 1
id = 9650
getpower = 10
givepower = 10
palfx.time = 20
palfx.mul = 256,256,256
palfx.add = 150,150,150
palfx.sinadd = 100,100,100,25
envshake.time = 20
envshake.freq = 120
envshake.ampl = -8
supermovetime = 9999999999999
pausemovetime = 9999999999999

;超即死オメガトムハンクスキラー
[State ];当身用ヘルパー
type = helper
triggerall = palno = [11,12]
triggerall = !Ishelper
trigger1 = numhelper(152)=0
id = 152
name = "OTHK1"
pos = 0,0
postype = P1
stateno = 152
helpertype = player
keyctrl = 0
ownpal = 1
ignorehitpause = 1
SuperMoveTime = 99999999999
PauseMoveTime = 99999999999

[State ];相手proj受けヘルパー
type = helper
triggerall = palno = [11,12]
triggerall = !Ishelper
triggerall = numhelper(151)=0
trigger1 = enemy(0),numprojid(1007)>0||enemy(0),stateno=5152
trigger2 = enemy(1),numprojid(1007)>0||enemy(1),stateno=5152
id = 151
name = "OTHK2"
pos = 0,0
postype = P1
stateno = 151
helpertype = player
keyctrl = 0
ownpal = 1
ignorehitpause = 1
SuperMoveTime = 99999999999
PauseMoveTime = 99999999999

[State 1];見えないように
type = AssertSpecial
trigger1 = Ishelper(151)
flag = Invisible
ignorehitpause = 1
pausemovetime = 99999999
supermovetime = 99999999

[State ];ステート抜け
type = Selfstate
triggerall = Ishelper(151)
trigger1 = var(29)!=gametime
trigger2 = stateno!=151
value = 151
ctrl = 0
ignorehitpause = 1
pausemovetime = 99999999
supermovetime = 99999999

[State ];ステート抜け
type = Selfstate
triggerall = Ishelper(152)
trigger1 = var(29)!=gametime
trigger2 = stateno!=152
value = 152
ctrl = 0
ignorehitpause = 1
pausemovetime = 99999999
supermovetime = 99999999

[State ];gametime
type = varset
trigger1 = 1
v = 29
value = gametime
ignorehitpause = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State ,攻撃判定]
type = Projectile
triggerall = !ishelper
triggerall = palno = [11,12]
triggerall = movetype = A
trigger1 = roundstate = 2
projanim = 20000
projremove = 0
projremovetime = 1
projheightbound = -1000000, 1000000
projedgebound = 1000000
projstagebound = 1000000
offset = 0, 0
attr = SCA, AA, AT, AP
hitflag = MAFD
damage   = 9999999
priority = 7, hit
projpriority = 9999999999999
yaccel = 1
sparkxy = 999, 999
supermovetime = 9999999999999
pausemovetime = 9999999999999
ignorehitpause = 1
palfx.time = 30
palfx.add = 175,80,0
palfx.sinadd = 0,50,50,10
palfx.color = 0
palfx.invertall = 1
p2stateno = 5152;相手を超即死ステートへ飛ばす
p2facing = 1
fall = 1
fall.damage = Enemy,LifeMax

[State 1005: 	ChangeState]
type = ChangeState
trigger1 = (!AnimTime)
value = IfElse(Pos Y >= 0,0,8021)
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;---------------------------------------------------------------------------
;超必殺・デスフラッシャー
[Statedef 910]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0

[State 181, アニメ変更]
type = Changeanim
triggerall = PalNo != [11,12]
triggerall = !ishelper
trigger1 = anim != 1302
value = 1302
ignorehitpause = 1

[State 181, アニメ変更11〜12P]
type = Changeanim
triggerall = !ishelper
triggerall = PalNo = [11,12]
trigger1 = anim != 1305
value = 1305
ignorehitpause = 1

[State 910, Super A]
type = SuperPause
triggerall = palno != 7
triggerall = palno != [11,12]
trigger1 = time = 0
anim = -1
pos = -28, -67
sound = s191, 8
poweradd = -1000
time = 58
movetime = 0

[State 910, Super A]
type = SuperPause
triggerall = palno = 7
triggerall = palno != [11,12]
trigger1 = time = 0
anim = -1
pos = -28, -67
sound = s191, 8
poweradd = -1000
time = 108
movetime = 0

[State sokusi];背景真っ黒にする用
type = Explod
trigger1 = PalNo != [11,12]
trigger1 = time = 0
id = 10007
anim = 10007
ownpal = 1
sprpriority = -9999999
scale= 0.5,0.8
postype = back
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

;必殺エフェクト

;下位カラー
[State 2000, 必殺エフェクト]
type = Helper
triggerall = !Ishelper
trigger1 = palno != 12
trigger1 = Time = 0
helpertype = normal
stateno = 1004
ID = 1004
name = "efe"
postype = p1
pos = ceil(-5 * const(size.xscale)), ceil(-70 * const(size.yscale))
SuperMovetime = 9999
PauseMovetime = 9999
ownpal = 1

;上位カラー
[State sokusi]
type = Explod
trigger1 = PalNo = 12
trigger1 = animelemtime(1) = 0
id = 10017
anim = 10017
ownpal = 1
sprpriority = 5
pos = -1,-67
pausemovetime = 2000000000
supermovetime = 2000000000

[State sokusi]
type = Explod
trigger1 = PalNo = 12
trigger1 = animelemtime(1) = 0
id = 10018
anim = 10018
ownpal = 1
sprpriority = 5
pos = -1,-67
pausemovetime = 2000000000
supermovetime = 2000000000

[State , カットイン]
type = Helper
triggerall = !Ishelper
triggerall = palno != 7
trigger1 = palno != 12
trigger1 = Time = 0
helpertype = normal
stateno = 1003
ID = 1003
name = "Cutin"
postype = p1
pos= ceil(-7 * const(size.xscale)), ceil(-75 * const(size.yscale))
SuperMovetime = 9999
PauseMovetime = 9999
ownpal = 1

[State , カットイン]
type = Helper
triggerall = !Ishelper
triggerall = palno = 7
trigger1 = palno != 12
trigger1 = Time = 0
helpertype = normal
stateno = 1006
ID = 1006
name = "Cutin2"
postype = p1
pos= ceil(-7 * const(size.xscale)), ceil(-75 * const(size.yscale))
SuperMovetime = 9999
PauseMovetime = 9999
ownpal = 1

;命中時フラッシュ
[State ]
type = EnvColor
trigger1 = MoveHit
value = 255,255,255
time = 5
persistent = 0
ignorehitpause = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1020 , 1]
type = hitdef
triggerall = palno != 12
trigger1 = PalNo = [1,10]
trigger1 = time % 1 = 0
attr = s, np
guardflag = ma
animtype = Hard
ground.type = low
damage = 5, 1
numhits = 4
sparkno = -1
guard.sparkno = -1
ground.hittime = 1
ground.velocity = 0, 0
ground.cornerpush.veloff = 0
air.hittime = 2
air.velocity = 0, 0
hitsound = s0,55
guardsound = -1
fall = 1
palfx.time = 30
palfx.add = 175,155,0
palfx.sinadd = 0,50,50,10
palfx.color = 0
palfx.invertall = 1

[State ,落下即死用proj1]
type = Projectile
triggerall = !ishelper
triggerall = palno = 12
triggerall = movetype = A
triggerall = enemynear,name != "Megalith"
trigger1 = roundstate = 2
projanim = 20000
projremove = 0
projremovetime = 1
projheightbound = -1000000, 1000000
projedgebound = 1000000
projstagebound = 1000000
offset = 0, 0
attr = SCA, AA, AT, AP
hitflag = MAFD
damage   = 0
priority = 7, hit
projpriority = 9999999999999
yaccel = 1
sparkxy = 999, 999
supermovetime = 9999999999999
pausemovetime = 9999999999999
ignorehitpause = 1
fall = 1
fall.damage = Enemy,LifeMax

[State ,落下即死用proj 対メガリス専用]
type = Projectile
triggerall = !ishelper
triggerall = palno = 12
triggerall = movetype = A
triggerall = enemynear,name = "Megalith"
trigger1 = roundstate = 2
projanim = 20000
projremove = 0
projremovetime = 1
projheightbound = -1000000, 1000000
projedgebound = 1000000
projstagebound = 1000000
offset = 0, 0
attr = SCA, AA, AT, AP
hitflag = MAFD
damage   = 0
priority = 7, hit
projpriority = 9999999999999
yaccel = 1
sparkxy = 999, 999
supermovetime = 9999999999999
pausemovetime = 9999999999999
ignorehitpause = 1
fall = 1
fall.damage = -2147483648

;超即死オメガトムハンクスキラー
[State ];当身用ヘルパー
type = helper
triggerall = palno = [11,12]
triggerall = !Ishelper
trigger1 = numhelper(152)=0
id = 152
name = "OTHK1"
pos = 0,0
postype = P1
stateno = 152
helpertype = player
keyctrl = 0
ownpal = 1
ignorehitpause = 1
SuperMoveTime = 99999999999
PauseMoveTime = 99999999999

[State ];相手proj受けヘルパー
type = helper
triggerall = palno = [11,12]
triggerall = !Ishelper
triggerall = numhelper(151)=0
trigger1 = enemy(0),numprojid(1007)>0||enemy(0),stateno=5152
trigger2 = enemy(1),numprojid(1007)>0||enemy(1),stateno=5152
id = 151
name = "OTHK2"
pos = 0,0
postype = P1
stateno = 151
helpertype = player
keyctrl = 0
ownpal = 1
ignorehitpause = 1
SuperMoveTime = 99999999999
PauseMoveTime = 99999999999

[State 1];見えないように
type = AssertSpecial
trigger1 = Ishelper(151)
flag = Invisible
ignorehitpause = 1
pausemovetime = 99999999
supermovetime = 99999999

[State ];ステート抜け
type = Selfstate
triggerall = Ishelper(151)
trigger1 = var(29)!=gametime
trigger2 = stateno!=151
value = 151
ctrl = 0
ignorehitpause = 1
pausemovetime = 99999999
supermovetime = 99999999

[State ];ステート抜け
type = Selfstate
triggerall = Ishelper(152)
trigger1 = var(29)!=gametime
trigger2 = stateno!=152
value = 152
ctrl = 0
ignorehitpause = 1
pausemovetime = 99999999
supermovetime = 99999999

[State ];gametime
type = varset
trigger1 = 1
v = 29
value = gametime
ignorehitpause = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State ,攻撃判定]
type = Projectile
triggerall = !ishelper
triggerall = palno = [11,12]
triggerall = movetype = A
triggerall = time = 54
trigger1 = roundstate = 2
projanim = 20000
projremove = 0
projremovetime = 1
projheightbound = -1000000, 1000000
projedgebound = 1000000
projstagebound = 1000000
offset = 0, 0
attr = SCA, AA, AT, AP
hitflag = MAFD
damage   = 9999999
priority = 7, hit
projpriority = 9999999999999
yaccel = 1
sparkxy = 999, 999
supermovetime = 9999999999999
pausemovetime = 9999999999999
ignorehitpause = 1
palfx.time = 30
palfx.add = 90,100,130
palfx.sinadd = 0,50,50,10
palfx.color = 0
palfx.invertall = 1
p2stateno = 5152;相手を超即死ステートへ飛ばす
p2facing = 1
fall = 1
fall.damage = Enemy,LifeMax

[State 910, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = s27, 1
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 910 , ボイス]
type = PlaySnd
triggerall = palno != 7
trigger1 = PalNo = [1,10]
trigger1 = Time = 4
value = s0, 5
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 910 , ボイス]
type = PlaySnd
triggerall = palno = 7
trigger1 = PalNo = [1,10]
trigger1 = Time = 0
value = s390, 41
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 910 , ボイス];死ねぇぇぇっ！！
type = PlaySnd
trigger1 = PalNo = [11,12]
trigger1 = animelemtime(3) = 1
value = s190, 63
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 910, Effect];ビーム
type = Explod
trigger1 = PalNo = [1,10]
trigger1 = time = 10
anim = 999
scale = 0.85,0.85
postype = p1
pos =  63,-22
sprpriority = 4
;supermove = 1
ownpal = 1
bindtime = -1
removeongethit = 1

[State 911, Effect];ビーム
type = Explod
trigger1 = PalNo = [11,12]
trigger1 = animelemtime(3) = 1
anim = 1003
scale = 1.4,1.5
postype = p1
pos =  80,-96
sprpriority = 4
;supermove = 1
ownpal = 1
bindtime = -1
removeongethit = 1
trans = sub
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State sokusi];背景色変え用
type = Explod
trigger1 = PalNo = 12
trigger1 = animelemtime(3) = 1
id = 25000
anim = 25000
ownpal = 1
sprpriority = 0
scale= 0.5,0.8
postype = back
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

[State 911, エネルギー溜め]
type = Explod
trigger1 = PalNo = [11,12]
trigger1 = animelemtime(1) = 0
anim = 29083
scale = 2.0,2.0
postype = p1
pos =  -27,-67
sprpriority = 4
;supermove = 1
ownpal = 1
bindtime = -1
removeongethit = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 911, エネルギー溜めその2]
type = Explod
trigger1 = PalNo = 12
trigger1 = animelemtime(1) = 0
anim = 10081
scale = 1.0,1.0
postype = p1
pos =  -27,-67
sprpriority = 4
;supermove = 1
ownpal = 1
bindtime = -1
removeongethit = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 910 ,ぶっ殺してやる！！]
type = PlaySnd
trigger1 = PalNo = [11,12]
trigger1 = animelemtime(1) = 0
value = s190, 44
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 910 ,エネルギーチャージ音]
type = PlaySnd
trigger1 = PalNo = [11,12]
trigger1 = animelemtime(1) = 0
value = s10002, 0
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 31000, Envshake]
type = EnvShake
trigger1 = time = 10
trigger1 = PalNo = [1,10]
ampl = 14
freq = 120
time = 60
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 31000, Envshake]
type = EnvShake
trigger1 = animelemtime(3) = 1
trigger1 = PalNo = [11,12]
ampl = 20
freq = 120
time = 110
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1703];画面を真っ白に
type = AllPalFX
triggerall = PalNo = [11,12]
trigger1 = animelemtime(3) = 0 || animelemtime(3) = 4 || animelemtime(3) = 8 || animelemtime(3) = 12
trigger2 = animelemtime(3) = 16 || animelemtime(3) = 20 || animelemtime(3) = 24 || animelemtime(3) = 28
trigger3 = animelemtime(3) = 32 || animelemtime(3) = 36 || animelemtime(3) = 40 || animelemtime(3) = 44
trigger4 = animelemtime(3) = 48 || animelemtime(3) = 52 || animelemtime(3) = 56 || animelemtime(3) = 60
trigger5 = animelemtime(3) = 64 || animelemtime(3) = 68 || animelemtime(3) = 72 || animelemtime(3) = 76
trigger6 = animelemtime(3) = 80 || animelemtime(3) = 84 || animelemtime(3) = 88 || animelemtime(3) = 92
trigger7 = animelemtime(3) = 96 || animelemtime(3) = 100 || animelemtime(4) = 4 || animelemtime(4) = 8
time = 1
add = 256,256,256
color = time*256/90
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 910, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;---------------------------------------------------------------------------
;スーパーノヴァ
[Statedef 2050]
type = S
movetype= I
physics = S
poweradd= -3000
ctrl = 0
velset = 0

[State 181, アニメ変更]
type = Changeanim
triggerall = palno != 12
triggerall = !ishelper
trigger1 = anim != 2050
value = 2050
ignorehitpause = 1

[State 4000]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NT,ST,HT,NP,SP,HP
time = 1

[State 910, Super A]
type = SuperPause
trigger1 = PalNo = [1,10]
trigger1 = time = 0
anim = -1
pos = 7, -68
sound = s191, 8
poweradd = 0
time = 58
movetime = 0

[State sokusi];背景真っ黒にする用
type = Explod
trigger1 = PalNo != [11,12]
trigger1 = animelemtime(1) = 0
id = 10007
anim = 10007
ownpal = 1
sprpriority = -9999999
scale= 0.5,0.8
postype = back
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

;必殺エフェクト

;下位カラー
[State 2000, 必殺エフェクト]
type = Helper
triggerall = !Ishelper
trigger1 = palno != 12
trigger1 = Time = 0
helpertype = normal
stateno = 1004
ID = 1004
name = "efe"
postype = p1
pos = ceil(3 * const(size.xscale)), ceil(-65 * const(size.yscale))
SuperMovetime = 9999
PauseMovetime = 9999
ownpal = 1

;上位カラー
[State sokusi]
type = Explod
trigger1 = PalNo = [11,12]
trigger1 = animelemtime(1) = 0
id = 10017
anim = 10017
ownpal = 1
sprpriority = 5
pos = 6,-67
pausemovetime = 2000000000
supermovetime = 2000000000

[State sokusi]
type = Explod
trigger1 = PalNo = [11,12]
trigger1 = animelemtime(1) = 0
id = 10018
anim = 10018
ownpal = 1
sprpriority = 5
pos = 6,-67
pausemovetime = 2000000000
supermovetime = 2000000000

[State 4400,ボイス]
type = PlaySnd
triggerall = palno != 12
triggerall = palno != 7
trigger1 = AnimElem = 2
value = s22, 0
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 4400,ボイス]
type = PlaySnd
triggerall = palno = 7
trigger1 = animelemtime(1) = 0
value = s390, 34
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 4400,ボイス]
type = PlaySnd
triggerall = palno = 7
trigger1 = AnimElem = 24
value = s390, 35
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 4400]
type = PlaySnd
trigger1 = AnimElem = 3
value = s25, 1
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 4400]
type = PlaySnd
trigger1 = AnimElem = 2
value = s22, 3
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 4400]
type = PlaySnd
triggerall = palno != 12
trigger1 = AnimElem = 23
value = s1, 11
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1005:	PalFX]
type = PalFX
triggerall = palno != 12
trigger1 = time = 0
time = 150
add = 100,100,0
mul = 256,256,256
sinadd = 75,75,75,25
invertall = 0
color = 256
supermovetime = 9999999999999
pausemovetime = 9999999999999

;スーパーノヴァ本体ヘルパー
[State 1001]
type = Helper
triggerall = PalNo != 12
trigger1 = PalNo = [1,9]
trigger1 = AnimElem = 2
pos = 70, -130
postype = p1
stateno = 2055
helpertype = normal
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 120
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1001]
type = Helper
triggerall = PalNo != 12
trigger1 = PalNo = [10,11]
trigger1 = AnimElem = 2
pos = 70, -130
postype = p1
stateno = 2056
helpertype = normal
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 120
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1001]
type = Helper
triggerall = !Ishelper
triggerall = PalNo != 12
trigger1 = AnimElem = 2
pos = 70, -130
postype = p1
stateno = 3056
helpertype = normal
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 910, スーパーノヴァ12P]
type = Explod
trigger1 = palno = 12
trigger1 = animelemtime(1) = 4
anim = 9801
scale = 2.5,2.5
postype = p1
pos =  -20,-200
sprpriority = 4
;supermove = 1
ownpal = 1
bindtime = -1
removeongethit = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1005, 4]
type = Projectile
trigger1 = palno = 12
trigger1 = AnimElem = 24
projanim = 2061
projhitanim = 9310
offset = 55,-95
velocity = 10.0
attr = S, SP
damage   = 9999999,9999999
animtype = back
hitflag = MAF
guardflag = 
pausetime = 0,9
sparkno = -1
guard.sparkno = -1
sparkxy = -1
hitsound   = s27,12
guardsound = s27,12
ground.type = Trip
ground.slidetime = 14
ground.hittime  = 16
ground.velocity = -1,-2
air.velocity = -1,-2
air.juggle = 3
palfx.time = 30
palfx.add = 175,155,0
palfx.sinadd = 0,50,50,10
palfx.color = 0
palfx.invertall = 1
envshake.time = 40
envshake.freq = 120
envshake.ampl = 16

[State 0, BGPalFX]
type = BGPalFX
trigger1 =(time= 0)
time = 370
add = 1,255,255
mul = 1,1,1
sinadd = 0,0,0,10
invertall = 0
color = 256
ignorehitpause = 120
persistent = 120
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State , カットイン]
type = Helper
triggerall = !Ishelper
triggerall = palno != 7
trigger1 = palno != 12
trigger1 = Time = 0
helpertype = normal
stateno = 1003
ID = 1003
name = "Cutin"
postype = p1
pos= ceil(-7 * const(size.xscale)), ceil(-75 * const(size.yscale))
SuperMovetime = 9999
PauseMovetime = 9999
ownpal = 1

[State , カットイン]
type = Helper
triggerall = !Ishelper
triggerall = palno = 7
trigger1 = palno != 12
trigger1 = Time = 0
helpertype = normal
stateno = 1006
ID = 1006
name = "Cutin2"
postype = p1
pos= ceil(-7 * const(size.xscale)), ceil(-75 * const(size.yscale))
SuperMovetime = 9999
PauseMovetime = 9999
ownpal = 1

[State 地球崩壊演出ヘルパー]
type = Helper
triggerall = palno != 12
triggerall = palno != 7
triggerall = !Ishelper
triggerall = NumHelper(157) = 0
trigger1 = WinKo
helpertype = normal
name = "sokusi"
ID = 157
stateno = 157
pos = 0,0
postype = p1    
facing = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 地球崩壊演出ヘルパー（7Pカラー）]
type = Helper
triggerall = palno = 7
triggerall = !Ishelper
triggerall = NumHelper(157) = 0
trigger1 = WinKo
helpertype = normal
name = "HAHAHAHA"
ID = 159
stateno = 159
pos = 0,0
postype = p1    
facing = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

;スーパーノヴァ12P
[State 181, アニメ変更12P]
type = Changeanim
triggerall = !ishelper
trigger1 = PalNo = 12
trigger1 = anim != 2051
value = 2051
ignorehitpause = 1

[State 0, EnvShake];振動
type = EnvShake
triggerall = palno = 12
trigger1 = animelemtime(22) = 5
time = 440
freq = 119
ampl = -4
supermovetime = 9999999999999
pausemovetime = 9999999999999

;地球崩壊演出（12P）
[State 14000, 0];地球崩壊演出
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(1) = 0
id = 10040
anim = 10040
ownpal = 1
sprpriority = 9999999
scale= 0.6,0.6
postype = back
bindtime = -1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[state a, オレが、宇宙最強だ！！]
type = playsnd
triggerall = palno = 12
trigger1 = animelemtime(1) = 0
value = 999,0
Volume=999999999
lowpriority=1
ignorehitpause=1
supermovetime = 9999999999999
pausemovetime = 9999999999999

;超即死オメガトムハンクスキラー
[State ];当身用ヘルパー
type = helper
triggerall = palno = [11,12]
triggerall = !Ishelper
trigger1 = numhelper(152)=0
id = 152
name = "OTHK1"
pos = 0,0
postype = P1
stateno = 152
helpertype = player
keyctrl = 0
ownpal = 1
ignorehitpause = 1
SuperMoveTime = 99999999999
PauseMoveTime = 99999999999

[State ];相手proj受けヘルパー
type = helper
triggerall = palno = [11,12]
triggerall = !Ishelper
triggerall = numhelper(151)=0
trigger1 = enemy(0),numprojid(1007)>0||enemy(0),stateno=5152
trigger2 = enemy(1),numprojid(1007)>0||enemy(1),stateno=5152
id = 151
name = "OTHK2"
pos = 0,0
postype = P1
stateno = 151
helpertype = player
keyctrl = 0
ownpal = 1
ignorehitpause = 1
SuperMoveTime = 99999999999
PauseMoveTime = 99999999999

[State 1];見えないように
type = AssertSpecial
trigger1 = Ishelper(151)
flag = Invisible
ignorehitpause = 1
pausemovetime = 99999999
supermovetime = 99999999

[State ];ステート抜け
type = Selfstate
triggerall = Ishelper(151)
trigger1 = var(29)!=gametime
trigger2 = stateno!=151
value = 151
ctrl = 0
ignorehitpause = 1
pausemovetime = 99999999
supermovetime = 99999999

[State ];ステート抜け
type = Selfstate
triggerall = Ishelper(152)
trigger1 = var(29)!=gametime
trigger2 = stateno!=152
value = 152
ctrl = 0
ignorehitpause = 1
pausemovetime = 99999999
supermovetime = 99999999

[State ];gametime
type = varset
trigger1 = 1
v = 29
value = gametime
ignorehitpause = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State ,攻撃判定]
type = Projectile
triggerall = !ishelper
triggerall = palno = [11,12]
triggerall = movetype = A
trigger1 = roundstate = 2
projanim = 20000
projremove = 0
projremovetime = 1
projheightbound = -1000000, 1000000
projedgebound = 1000000
projstagebound = 1000000
offset = 0, 0
attr = SCA, AA, AT, AP
hitflag = MAFD
damage   = 9999999
priority = 7, hit
projpriority = 9999999999999
yaccel = 1
sparkxy = 999, 999
supermovetime = 9999999999999
pausemovetime = 9999999999999
ignorehitpause = 1
palfx.time = 30
palfx.add = 175,80,0
palfx.sinadd = 0,50,50,10
palfx.color = 0
palfx.invertall = 1
p2stateno = 5152;相手を超即死ステートへ飛ばす
p2facing = 1
fall = 1
fall.damage = Enemy,LifeMax

[State sokusi];背景を黒くするステコン
type = AssertSpecial
trigger1 = 1
flag= noBG
flag2 = noFG
flag3 = nobardisplay
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1001]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;---------------------------------------------------------------------------
;アサルトニーキック

[Statedef 1020]
type = S
movetype = A
physics = N
;velset	= 0,0
ctrl = 0
poweradd = 10
juggle = 1
facep2 = (IfElse((PrevStateNo = 8030),0,1))
hitdefpersist = 0
movehitpersist = 0
hitcountpersist	= 0
sprpriority = 2

[State 181, アニメ変更]
type = Changeanim
triggerall = !ishelper
trigger1 = anim != 1020
value = 1020
ignorehitpause = 1

[State 1020:	StateTypeSet]
type = StateTypeSet
trigger1 = (Var(20) = 1)
statetype = A
physics	= N

[State 1020:	Width]
type = Width
trigger1 = 1
edge = 30,0
player = 30,0
ignorehitpause = 1

[State 1020: 	Null]
type = Null
trigger1 = (!Time)
trigger1 = (Var(18) := 0)
trigger2 = (Var(18) = -10) || (Var(18) = 10)
trigger2 = (Var(19) := IfElse(Var(18) = -10,0,1))

[State 1020:	VarAdd]
type = VarAdd
trigger1 = 1
var(18)	= IfElse(Var(19) = 0,1,-1)

[State 1020:	VelSet]
type = VelSet
trigger1 = (!Time) && (Var(20) = 1) && (PrevStateNo != 8030)
y = 0

[State 1020:	VelAdd]
type = VelAdd
trigger1 = (Var(20) = 1)
y = IfElse(Var(19) = 1,0.05,-0.05)

[State 1020:	VarAdd]
type = VarAdd
trigger1 = (NumTarget(1020)) && (MoveHit)
var(26)	= 1
persistent = 0
ignorehitpause = 1

[State 1020:	NotHitBy]
type = NotHitBy
trigger1 = PalNo = [1,11]
trigger1 = (AnimElem = 2, < 0)
value = SCA

[State 1020:	PlayerPush]
type = PlayerPush
trigger1 = (AnimElem = 2, > 0) && (AnimElem = 3, < 0)
value = 0

[State 1020:	StateTypeSet]
type = StateTypeSet
trigger1 = (AnimElem = 3, > 0)
physics	= S

[State 1020:	VelSet]
type = VelSet
trigger1 = (AnimElem = 2)
x = 14

[State 1020:	PlaySnd]
type = PlaySnd
trigger1 = (AnimElem = 2) && (Pos Y >= 0)
value = S690,15
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1020: 	AfterImage]
type = AfterImage
trigger1 = (AnimElem = 2)
time = 15
timegap	= 2
framegap = 2
length = 10
paladd = 0, 0, 0
palmul = .50, .50, .50
palcontrast = 110,110,110
trans = add

[State 1020:	VarAdd]
type = VarAdd
trigger1 = (NumTarget(100)) && (MoveHit)
var(26)	= 1
persistent = 0
ignorehitpause	= 1

;命中時フラッシュ
[State ]
type = EnvColor
trigger1 = MoveHit
value = 255,255,255
time = 5
persistent = 0
ignorehitpause = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1020:	HitDef]
type = HitDef
triggerall = palno != 12
trigger1 = (AnimElem = 2, > 0)
attr = S, SA
hitflag	= MAF
guardflag = M
animtype = Hard
air.animtype = Back
priority = 5, Hit
damage = 90,15
pausetime = 0,14
guard.pausetime	= 0,14
sparkno	= s9991
guard.sparkno = 1
sparkxy	= -30,-47
hitsound = s690,12
guardsound = S2,7
ground.type = High
air.type = High
ground.slidetime = 15
ground.hittime = 15
air.hittime = 15
yaccel = 0.45
ground.velocity	= -5,-6
guard.velocity = -5
air.velocity = -4,-5
airguard.velocity = -4,-5
ground.cornerpush.veloff = 0
fall = 1
fall.xvelocity = -1
fall.yvelocity = -5
fall.recover = 1
down.bounce = 1
id = 1020
getpower = 30
givepower = 10
envshake.time = 20
envshake.freq = 120
envshake.ampl = 12
persistent = 0

[State 1020:	ChangeState]
type = ChangeState
trigger1 = (Var(21) > 0) && (AnimElem = 2, > 0) && (MoveContact) && (!MoveHit)
value = 710
ignorehitpause = 1

[State 1020:	ChangeState]
type = ChangeState
triggerall = palno != 12
trigger1 = (MoveContact)
value = 1021
ignorehitpause = 1

[State 1020:	ChangeState]
type = ChangeState
triggerall = palno = 12
trigger1 = AnimElem = 2
value = 1021
ignorehitpause = 1

[State 1020:	ChangeState]
type = ChangeState
triggerall = palno != 12
trigger1 = (!AnimTime)
value = IfElse(Pos Y >= 0,0,8021)
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;---------------------------------------------------------------------------
;アサルトニーキックその２
[Statedef 1021]
type = S
movetype = A
physics	= S
velset = 0,0
ctrl = 0
poweradd = 0
juggle = 0
facep2 = 0
hitdefpersist = 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority = 2

[State 181, アニメ変更]
type = Changeanim
triggerall = !ishelper
trigger1 = anim != 1021
value = 1021
ignorehitpause = 1

[State 712, 擬似ヒットスパーク]
type = explod
triggerall = palno = 12
trigger1 = AnimElem = 4
sprpriority = 6
postype = p2
pos = -30,-47
spacing = 1
anim = 9991
ownpal = 1
scale = 1.1, 1.1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1703];画面を真っ白に
type = AllPalFX
triggerall = palno = 12
trigger1 = AnimElem = 4
time = 3
add = 256,256,256
color = time*256/90
supermovetime = 9999999999999
pausemovetime = 9999999999999

;擬似ヒットサウンド
[State 700, snd]
type = PlaySnd
triggerall = palno = 12
trigger1 = AnimElem = 4
value = 690,12
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

;擬似ヒット振動
[State 31000, Envshake]
type = EnvShake
triggerall = palno = 12
trigger1 = AnimElem = 4
ampl = 15
freq = 120
time = 30
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1021:	StateTypeSet]
type = StateTypeSet
trigger1 = (Var(20) = 1)
statetype = A
physics	= N

[State 1021:	Width]
type = Width
trigger1 = 1
edge = 30,0
player = 30,0
ignorehitpause = 1

[State 1021: 	Null]
type = Null
trigger1 = (Var(18) = -10) || (Var(18) = 10)
trigger1 = (Var(19) := IfElse(Var(18) = -10,0,1))

[State 1021:	VarAdd]
type = VarAdd
trigger1 = 1
var(18)	= IfElse(Var(19) = 0,1,-1)

[State 1021:	VelAdd]
type = VelAdd
trigger1 = (Var(20) = 1)
y = IfElse(Var(19) = 1,0.05,-0.05)

[State 1021:	PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1021:	PosAdd]
type = PosAdd
trigger1 = (!Time) && (PrevStateNo != 8030)
x = 10
ignorehitpause = 1

[State 1021:	VelSet]
type = VelSet
trigger1 = (AnimElem = 2, > 0) && (AnimElem = 3, < 0)
x = 10

[State 1021:	PlaySnd]
type = PlaySnd
trigger1 = (!Time) && (PrevStateNo != 8030)
value = S1,32
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1021:	RemoveExplod]
type = RemoveExplod
trigger1 = (!Time)
id = 9810

[State 1021:	ChangeState]
type = ChangeState
trigger1 = (!AnimTime)
value = IfElse(Pos Y >= 0,0,8021)
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;---------------------------------------------------------------------------
;------------フェータルコンビネーション
;============================================================
[Statedef 2300]
type    = S
movetype= A
physics = S
juggle  = 5
velset = 0,0             
ctrl = 0                   
poweradd = 30

[State 181, アニメ変更]
type = Changeanim
triggerall = !ishelper
trigger1 = anim != 300
value = 300
ignorehitpause = 1

[State 2300, width]
type = width
trigger1 = 1
edge = 70,0

[State 2300, pos]
type = Velset
triggerall = PalNo != 12
trigger1 = time = 0
x = 10

[State 2300, pos]
type = Velset
triggerall = PalNo = 12
trigger1 = animelemtime(1) = [0,6]
trigger2 = animelemtime(2) = [0,6]
trigger3 = animelemtime(3) = [0,6]
trigger4 = animelemtime(4) = [0,4]
x = 10

[State 200 , 2]
type = PlaySnd
trigger1 = animelemtime(1) = 1
value = s1, 2
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 200 , 1]
type = PlaySnd
triggerall = palno != 7
trigger1 = animelemtime(1) = 1
value = s0, 18
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 200 , 1]
type = PlaySnd
triggerall = palno = 7
trigger1 = Time = 1
value = s390, 19
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 712, 擬似ヒットスパーク]
type = explod
triggerall = palno = 12
trigger1 = AnimElem = 2
sprpriority = 6
postype = p2
pos = -30,-40
spacing = 1
anim = 9990
ownpal = 1
scale = 1.1, 1.1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1703];画面を真っ白に
type = AllPalFX
triggerall = palno = 12
trigger1 = AnimElem = 2
time = 3
add = 256,256,256
color = time*256/90
supermovetime = 9999999999999
pausemovetime = 9999999999999

;擬似ヒットサウンド
[State 700, snd]
type = PlaySnd
triggerall = palno = 12
trigger1 = AnimElem = 2
value = 690,13
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

;擬似ヒット振動
[State 31000, Envshake]
type = EnvShake
triggerall = palno = 12
trigger1 = AnimElem = 2
ampl = 15
freq = 120
time = 30
supermovetime = 9999999999999
pausemovetime = 9999999999999

;命中時フラッシュ
[State ]
type = EnvColor
trigger1 = MoveHit
value = 255,255,255
time = 5
persistent = 0
ignorehitpause = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 2300, hit]
type = HitDef
triggerall = palno != 12
trigger1 = AnimElem = 2
attr = S, SA
hitflag = MAF
guardflag = MA
animtype = Hard
air.animtype = Hard
damage = 13,10
pausetime = 12,12
sparkno = S9990
guard.sparkno = 0
sparkxy = Ifelse(P2BodyDist X < 50, -40,0),-40
hitsound = s690,13
guardsound = 6,0
ground.type = Low
air.type = Low
ground.slidetime = 25
guard.slidetime = 25
ground.hittime = 25
guard.hittime = 20
air.hittime = 25
ground.velocity = -5,0
air.velocity = -3,0
givepower = 30,30
getpower = 30,30
envshake.time = 20
envshake.freq = 120
envshake.ampl = 12

[State 2300, change]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;フェータルコンビネーション２発目

[Statedef 2310]
type    = S
movetype= A
physics = S
juggle  = 5
velset = 0,0             
ctrl = 0                   
poweradd = 40

[State 181, アニメ変更]
type = Changeanim
triggerall = !ishelper
trigger1 = anim != 700
value = 700
ignorehitpause = 1

[State 2310, width]
type = width
trigger1 = 1
edge = 70,0

[State 2310, pos]
type = Velset
triggerall = PalNo != 12
trigger1 = time = 0
x = 8

[State 2310, pos]
type = Velset
triggerall = PalNo = 12
trigger1 = animelemtime(1) = [0,8]
trigger2 = animelemtime(2) = [0,4]
trigger3 = animelemtime(3) = [0,4]
trigger4 = animelemtime(4) = [0,2]
trigger5 = animelemtime(5) = [0,2]
x = 8

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = s1, 2
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 200 , 1]
type = PlaySnd
triggerall = palno != 7
trigger1 = animelemtime(1) = 1
value = s2, 2
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 200 , 1]
type = PlaySnd
triggerall = palno = 7
trigger1 = Time = 1
value = s390, 21
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 712, 擬似ヒットスパーク]
type = explod
triggerall = palno = 12
trigger1 = AnimElem = 3
sprpriority = 6
postype = p2
pos = -30,-40
spacing = 1
anim = 9991
ownpal = 1
scale = 1.1, 1.1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1703];画面を真っ白に
type = AllPalFX
triggerall = palno = 12
trigger1 = AnimElem = 3
time = 3
add = 256,256,256
color = time*256/90
supermovetime = 9999999999999
pausemovetime = 9999999999999

;擬似ヒットサウンド
[State 700, snd]
type = PlaySnd
triggerall = palno = 12
trigger1 = AnimElem = 3
value = 690,13
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

;擬似ヒット振動
[State 31000, Envshake]
type = EnvShake
triggerall = palno = 12
trigger1 = AnimElem = 3
ampl = 15
freq = 120
time = 30
supermovetime = 9999999999999
pausemovetime = 9999999999999

;命中時フラッシュ
[State ]
type = EnvColor
trigger1 = MoveHit
value = 255,255,255
time = 5
persistent = 0
ignorehitpause = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 2310, hit]
type = HitDef
triggerall = palno != 12
trigger1 = AnimElem = 3
attr = S, SA
hitflag = MAF
guardflag = MA
;affectteam = E
animtype = Hard
air.animtype = Hard
;fall.animtype = Back
damage = 16,10
pausetime = 12,12
;guard.pausetime = 0,0
sparkno = S9991
guard.sparkno = 0
sparkxy = Ifelse(P2BodyDist X < 50, -40,0),-40
hitsound = s690,13
guardsound = 6,0
ground.type = Low
air.type = Low
ground.slidetime = 25
guard.slidetime = 25
ground.hittime = 25
guard.hittime = 20
air.hittime = 25
ground.velocity = -7,0
air.velocity = -5,0
givepower = 40,40
getpower = 40,40
envshake.time = 30
envshake.freq = 120
envshake.ampl = 14

[State 2310, change]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;フェータルコンビネーション３発目

[Statedef 2320]
type    = S
movetype= A
physics = S
juggle  = 5
velset = 0,0             
ctrl = 0                   
poweradd = 30

[State 181, アニメ変更]
type = Changeanim
triggerall = !ishelper
trigger1 = anim != 302
value = 302
ignorehitpause = 1

[State 2320, width]
type = width
trigger1 = 1
edge = 70,0

[State 2300, pos]
type = Velset
triggerall = PalNo != 12
trigger1 = time = 0
x = 10

[State 2300, pos]
type = Velset
triggerall = PalNo = 12
trigger1 = animelemtime(1) = [0,6]
trigger2 = animelemtime(2) = [0,6]
trigger3 = animelemtime(3) = [0,6]
trigger4 = animelemtime(4) = [0,4]
x = 10

[State 200 , 2]
type = PlaySnd
trigger1 = animelemtime(1) = 1
value = s1, 2
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 200 , 1]
type = PlaySnd
triggerall = palno != 7
trigger1 = animelemtime(1) = 1
value = s0, 18
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 200 , 1]
type = PlaySnd
triggerall = palno = 7
trigger1 = Time = 1
value = s390, 19
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 712, 擬似ヒットスパーク]
type = explod
triggerall = palno = 12
trigger1 = AnimElem = 2
sprpriority = 6
postype = p2
pos = -30,-40
spacing = 1
anim = 9990
ownpal = 1
scale = 1.1, 1.1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1703];画面を真っ白に
type = AllPalFX
triggerall = palno = 12
trigger1 = AnimElem = 2
time = 3
add = 256,256,256
color = time*256/90
supermovetime = 9999999999999
pausemovetime = 9999999999999

;擬似ヒットサウンド
[State 700, snd]
type = PlaySnd
triggerall = palno = 12
trigger1 = AnimElem = 2
value = 690,13
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

;擬似ヒット振動
[State 31000, Envshake]
type = EnvShake
triggerall = palno = 12
trigger1 = AnimElem = 2
ampl = 15
freq = 120
time = 30
supermovetime = 9999999999999
pausemovetime = 9999999999999

;命中時フラッシュ
[State ]
type = EnvColor
trigger1 = MoveHit
value = 255,255,255
time = 5
persistent = 0
ignorehitpause = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 2320, sound]
type = HitDef
triggerall = palno != 12
trigger1 = AnimElem = 2
attr = S, SA
hitflag = MAF
guardflag = MA
;affectteam = E
animtype = Hard
air.animtype = Hard
;fall.animtype = Back
damage = 13,10
pausetime = 12,12
;guard.pausetime = 0,0
sparkno = S9990
guard.sparkno = 0
sparkxy = Ifelse(P2BodyDist X < 50, -40,0),-40
hitsound = s690,13
guardsound = 6,0
ground.type = Low
air.type = Low
ground.slidetime = 25
guard.slidetime = 25
ground.hittime = 25
guard.hittime = 20
air.hittime = 25
ground.velocity = -7,0
air.velocity = -5,0
givepower = 30,30
getpower = 30,30
envshake.time = 20
envshake.freq = 120
envshake.ampl = 12

[State 2320, change]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;フェータルコンビネーション４発目

[Statedef 2330]
type    = S
movetype= A
physics = S
juggle  = 5
velset = 0,0
ctrl = 0                   
poweradd = 40

[State 181, アニメ変更]
type = Changeanim
triggerall = !ishelper
trigger1 = anim != 699
value = 699
ignorehitpause = 1

[State 2330, width]
type = width
trigger1 = 1
edge = 60,0

[State 2310, pos]
type = Velset
triggerall = PalNo != 12
trigger1 = time = 0
x = 8

[State 2310, pos]
type = Velset
triggerall = PalNo = 12
trigger1 = animelemtime(1) = [0,8]
trigger2 = animelemtime(2) = [0,4]
trigger3 = animelemtime(3) = [0,4]
trigger4 = animelemtime(4) = [0,2]
trigger5 = animelemtime(5) = [0,2]
x = 8

[State 210, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = s1, 2
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 200 , 1]
type = PlaySnd
triggerall = palno != 7
trigger1 = animelemtime(1) = 1
value = s0, 3
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 200 , 1]
type = PlaySnd
triggerall = palno = 7
trigger1 = Time = 1
value = s390, 22
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 712, 擬似ヒットスパーク]
type = explod
triggerall = palno = 12
trigger1 = AnimElem = 2
sprpriority = 6
postype = p2
pos = -30,-40
spacing = 1
anim = 9991
ownpal = 1
scale = 1.1, 1.1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1703];画面を真っ白に
type = AllPalFX
triggerall = palno = 12
trigger1 = AnimElem = 2
time = 3
add = 256,256,256
color = time*256/90
supermovetime = 9999999999999
pausemovetime = 9999999999999

;擬似ヒットサウンド
[State 700, snd]
type = PlaySnd
triggerall = palno = 12
trigger1 = AnimElem = 2
value = 690,12
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

;擬似ヒット振動
[State 31000, Envshake]
type = EnvShake
triggerall = palno = 12
trigger1 = AnimElem = 2
ampl = 15
freq = 120
time = 30
supermovetime = 9999999999999
pausemovetime = 9999999999999

;命中時フラッシュ
[State ]
type = EnvColor
trigger1 = MoveHit
value = 255,255,255
time = 5
persistent = 0
ignorehitpause = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 2330, hit1]
type = HitDef
triggerall = palno != 12
trigger1 = AnimElem = 2
attr = S, SA
hitflag = MAF
guardflag = MA
animtype = diagup
air.animtype = diagup
damage = 40,20
pausetime = 12,12
sparkno = S9991
guard.sparkno = 0
sparkxy = Ifelse(P2BodyDist X < 40, -40,0),-80
hitsound = s690,12
guardsound = 6,0
ground.type = Low
air.type = Low
ground.slidetime = 25
guard.slidetime = 25
ground.hittime = 25
guard.hittime = 20
air.hittime = 25
ground.velocity = -5,0
air.velocity = -3,0
givepower = 40,40
getpower = 40,40
envshake.time = 30
envshake.freq = 120
envshake.ampl = 14

[State 2330, hit2]
type = HitDef
triggerall = palno != 12
trigger1 = AnimElem = 2
attr = S, SA
hitflag = MAF
guardflag = MA
animtype = diagup
air.animtype = diagup
damage =45,10
pausetime = 8,8
sparkno = S9991
guard.sparkno = 0
sparkxy = Ifelse(P2BodyDist X < 40, -40,0),-80
hitsound = s690,12
guardsound = 6,0
ground.type = Low
air.type = Low
ground.slidetime = 25
guard.slidetime = 25
ground.hittime = 25
guard.hittime = 20
air.hittime = 25
ground.velocity = -15,-6
air.velocity = -14,-4
givepower = 40,40
getpower = 40,40
envshake.time = 30
envshake.freq = 120
envshake.ampl = 14
fall = 1

[State 2330, end]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;---------------------------------------------------------------------------
;-------------------------気力溜め--------------
;============================================================
;----------------------パワー溜め
;パワー溜め
[Statedef 1900]
type = S
physics = S
ctrl = 0
velset = 0,0
sprpriority = 2

[State 181, アニメ変更]
type = Changeanim
triggerall = !ishelper
trigger1 = anim != 1900
value = 1900
ignorehitpause = 1

[State 1900, 1];気の音1
type = PlaySnd
trigger1 = animelemtime(1) = 0
value = 2100, 2
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1900, 2];気の音2
type = PlaySnd
trigger1 = animelemtime(2) = 1
trigger1 = timemod = 30,0
value = 1, 12
channel = 1
loop = 1
pan = 1
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1900, 2];気の音2
type = PlaySnd
trigger1 = animelemtime(2) = 1
value = 2100, 3
channel = 3
loop = 1
pan = 1
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1900, 3];ボイス
type = PlaySnd
triggerall = palno != 7
trigger1 = animelemtime(1) = 0
value = 2200, 0
channel = 2
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1900, 3];ボイス
type = PlaySnd
triggerall = palno = 7
trigger1 = animelemtime(1) = 0
value = 390, 15
channel = 2
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1900, 4]
type = poweradd
trigger1 = time >= 0
value = 3

[State 1900, 5]
type = poweradd
trigger1 = time >= 25
value = 4

[State 1900, 6]
type = poweradd
trigger1 = Time >= 75
value = 5

[State 1900, 7]
type = poweradd
trigger1 = Time >= 120
value = 6

[State 1900, charge]
type = Helper
triggerall = palno != 12
trigger1 = Time = 0
id = 1902
name = "Charge"
pos = 4,0
postype = P1
stateno = 1902
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
size.xscale = 1
size.yscale = 1

[State 1900, dust]
type = explod
removetime = -1
trigger1 = animelemtime(1) = 0
trigger1 = stateno = 1900
anim = 4040
pos = -7,0
sprpriority = 4
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
id = 4040
facing = -1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1900, 気その1]
type = explod
removetime = -1
trigger1 = animelemtime(1) = 0
trigger1 = stateno = 1900
anim = 90000
sprpriority = 0
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
id = 90000
facing = -1
pos = 3,-7
scale= 0.8,0.5
trans = sub
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1900, 気その2]
type = explod
removetime = -1
trigger1 = animelemtime(1) = 0
trigger1 = stateno = 1900
anim = 90001
sprpriority = 4
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
id = 90001
facing = -1
pos = 7,-11
supermovetime = 9999999999999
pausemovetime = 9999999999999

[state 1900, shake]
type = envshake
trigger1 = time%5 = 0
time = 5
freq = 60
ampl = -3
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1900, flash]
type = PalFX
triggerall = Time >= 5
trigger1 = TimeMod = 4,0
trigger1 = Time > 0
time = 1
add = 100,100,100

[State 1900, 9];MAX気の音
type = PlaySnd
trigger1 = power >= 3000
value = 2100, 2
pan = 1
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1900, 9];消し飛ばしてやるぞ！！
type = PlaySnd
trigger1 = palno != 7
trigger1 = power >= 3000
value = 190, 59
pan = 1
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1900, 9];木っ端微塵だぁ！！
type = PlaySnd
trigger1 = palno = 7
trigger1 = power >= 3000
value = 190, 61
pan = 1
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1900, 10]
type = ChangeState
triggerall = var(59) <= 0
trigger1 = power >= 3000
trigger2 = command != "hold_b" || command != "hold_y"
trigger2 = command != "hold_c"
value = 1901
ctrl = 1

[State 1900, AI時]
type = ChangeState
triggerall = var(59) > 0
trigger1 = EnemyNear(floor(fvar(31))),statetype != L
trigger1 = inguarddist
trigger2 = p2bodydist x <= 60
trigger3 = EnemyNear(floor(fvar(31))),movetype = A
trigger4 = (RoundState != 2)
trigger5 = power >= 3000
trigger6 = EnemyNear(floor(fvar(31))),statetype = A
trigger6 = EnemyNear(floor(fvar(31))),statetype != L
trigger6 = EnemyNear(floor(fvar(31))),movetype != H
value = 1901
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;--------------------------気溜めやめる
[Statedef 1901]
type = S
physics = N
ctrl = 0
sprpriority = 2

[State 181, アニメ変更]
type = Changeanim
triggerall = !ishelper
trigger1 = anim != 1901
value = 1901
ignorehitpause = 1

[State 1901, StopSnd]
type = StopSnd
trigger1 = animelemtime(1) = 0
channel = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1901, StopSnd]
type = StopSnd
trigger1 = animelemtime(1) = 0
channel = 3
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1901, StopSnd]
type = StopSnd
trigger1 = animelemtime(1) = 0
channel = 2
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1901, エフェクト消し]
type = RemoveExplod
trigger1 = animelemtime(1) = 0
ID = 4040
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1901, エフェクト消し]
type = RemoveExplod
trigger1 = animelemtime(1) = 0
ID = 90000
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1901, エフェクト消し]
type = RemoveExplod
trigger1 = animelemtime(1) = 0
ID = 90001
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1901, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;---------------------------------------------------------------------------
;--------------------高速移動（緊急回避）--------------------------------
;------------------------------------------------------------------------
;--------高速移動（前方）
[Statedef 361]
type = S
physics = S
sprpriority = -1
poweradd = 0
velset = 0,0
ctrl = 0

[State 181, アニメ変更]
type = Changeanim
triggerall = !ishelper
trigger1 = anim != 361
value = 361
ignorehitpause = 1

[State 361, push]
type = PlayerPush
trigger1 = 1
value = 0

[State 361, snd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 8,1
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 361, hit]
type = HitBy
trigger1 = PalNo = [1,11]
trigger1 = 1
value =  , AT

[State 361, hit]
type = NotHitBy
trigger1 = PalNo = [1,11]
trigger1 = 1
value = , AA, AP

[State 361, snd]
type = Poweradd
trigger1 = prevstateno = 150 || prevstateno = 151
trigger1 = AnimElem = 1
value = -1000

[State 361, 51]
type = EnvColor
trigger1 = animelem = 1
trigger1 = prevstateno = 150 || prevstateno = 151
value = 200,200,200
time = 3

[State 361, 1]
type = velset
trigger1 = animelemtime(1) = [1,25]
x = 5

[state 361, 1]
type = explod
trigger1 = animelem = 1
postype = p1
bindtime = 1
removetime = 8
removeongethit = 1
pos = 0,0
anim = 362
scale = 1.0,1.0
sprpriority = 3
supermovetime = 9999999999999
pausemovetime = 9999999999999

[state 361, 1]
type = explod
trigger1 = animelemtime(1) = 19
postype = p1
bindtime = 1
removetime = 8
removeongethit = 1
pos = 30,0
anim = 362
scale = 1.0,1.0
sprpriority = 3
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 361, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;--------高速移動（後方）
[Statedef 360]
type = S
physics = S
poweradd = 0
sprpriority = -1
velset = 0,0
ctrl = 0

[State 181, アニメ変更]
type = Changeanim
triggerall = !ishelper
trigger1 = anim != 360
value = 360
ignorehitpause = 1

[State 360, push]
type = PlayerPush
trigger1 = 1
value = 0

[State 360, hit]
type = HitBy
triggerall = palno != 12
trigger1 = 1
value =  , AT

[State 360, hit]
type = NotHitBy
triggerall = palno != 12
trigger1 = 1
value = , AA, AP

[State 360, snd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 8,1
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 360, snd]
type = Poweradd
trigger1 = prevstateno = 150 || prevstateno = 151
trigger1 = AnimElem = 1
value = -1000

[State 360, 51]
type = EnvColor
trigger1 = animelem = 1
trigger1 = prevstateno = 150 || prevstateno = 151
value = 200,200,200
time = 3

[State 360, 1]
type = velset
trigger1 = animelemtime(1) = [1,25]
x = -5

[state 360, 1]
type = explod
trigger1 = animelem = 1
postype = p1
bindtime = 1
removetime = 8
removeongethit = 1
pos = 0,0
anim = 362
scale = 1.0,1.0
sprpriority = 3
supermovetime = 9999999999999
pausemovetime = 9999999999999

[state 360, 1]
type = explod
trigger1 = animelemtime(1) = 19
postype = p1
bindtime = 1
removetime = 8
removeongethit = 1
pos = -40,0
anim = 362
scale = 1.0,1.0
sprpriority = 3
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 360, dust]
type = Explod
trigger1 = AnimElem = 1
anim = 4010
ID = 100
postype = p1
pos = 30,0
bindtime = 1
sprpriority = 2
ownpal = 1
facing = -1
scale = .7, .7
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 360, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;---------------------------------------------------------------------------
;サウザーブレード 
[Statedef 2090]
type = S
movetype = A
physics	= N
velset = 0,0
ctrl = 0
poweradd = 10
juggle = 1
facep2 = (IfElse((PrevStateNo = 8030),0,1))
hitdefpersist = 0
movehitpersist = 0
hitcountpersist	= 0
sprpriority = 2

[State 181, アニメ変更]
type = Changeanim
triggerall = !ishelper
trigger1 = anim != 2090
value = 2090
ignorehitpause = 1

[State 2090:	Null]
type = Null
trigger1 = (AnimElem = 6)
trigger1 = (Var(6) := IfElse(P2BodyDist X < 15,-10,0)) && (Var(7) := IfElse(P2BodyDist X < 15,-40,-10))
trigger2 = (AnimElem = 2) || (AnimElem = 8)
trigger2 = (Var(6) := IfElse(P2BodyDist X < 15,-10,0)) && (Var(7) := IfElse(P2BodyDist X < 15,-50,-55))
trigger3 = (AnimElem = 4) || (AnimElem = 10)
trigger3 = (Var(6) := IfElse(P2BodyDist X < 15,-10,0)) && (Var(7) := IfElse(P2BodyDist X < 15,-75,-100))

[State 2090:	VarAdd]
type = VarAdd
trigger1 = (NumTarget(2090)) && (HitPauseTime = 1) && (!MoveGuarded)
var(26) = 1
ignorehitpause = 1

[State 2090:	PosAdd]
type = PosAdd
trigger1 = (AnimElem = 3) || (AnimElem = 5) || (AnimElem = 7) || (AnimElem = 9)
x = 10
ignorehitpause = 1

[State 2090:	PosAdd]
type = PosAdd
trigger1 = (AnimElem = 2) || (AnimElem = 4) || (AnimElem = 6) || (AnimElem = 8) || (AnimElem = 10)
x = 12
ignorehitpause = 1

[State 2090:	PalFX]
type = PalFX
trigger1 = (!Time) && (PrevStateNo != 8030)
time = 20
add = 32,16,0
mul = 256,256,256
sinadd = 64,32,5,3
invertall = 0
color = 256
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 2090:	EnvColor]
type = EnvColor
trigger1 = (AnimElem = 10, > 0) && (HitPauseTime = 1) && (!MoveGuarded)
value = 255,255,255
time = 7
persistent = 0
ignorehitpause = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 2090:	Explod]
type = Explod
trigger1 = (AnimElem = 10, > 0) && (HitPauseTime = 1) && (!MoveGuarded)
anim = 9410
id = 9410
pos = 30,Ceil(Pos Y * (-1))
postype	= p1
facing = -1
vfacing	= 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove = 0
supermovetime = 9999999999999
pausemovetime = 9999999999999
scale = 1,1
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
persistent = 0
ignorehitpause = 1

;命中時フラッシュ
[State ]
type = EnvColor
trigger1 = MoveHit
value = 255,255,255
time = 5
persistent = 0
ignorehitpause = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 2090:	HitDef]
type = HitDef
triggerall = palno != 12
trigger1 = AnimElem = 2
attr = S, SA
hitflag	= MAF
guardflag = M
animtype = Light
air.animtype = Back
priority = 5, Hit
damage = 10,5
pausetime = 2,12
guard.pausetime	= 2,12
sparkno	= S2100
guard.sparkno = 0
sparkxy	= (Var(6)),(Var(7))
hitsound = S490,2
guardsound = S2,7
ground.type = Low
air.type = Low
ground.slidetime = 15
ground.hittime = 15
air.hittime = 15
yaccel = 0.45
ground.velocity	= -2.5
guard.velocity = -2.5
air.velocity = -3,-4.7
airguard.velocity = -3,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
id = 2090
getpower = 0
givepower = 13
envshake.time = 20
envshake.freq = 120
envshake.ampl = 12
palfx.time = 30
palfx.add = 235,0,255
palfx.sinadd = 0,50,50,10
palfx.color = 0
palfx.invertall = 1

[State 2090: 	HitDef]
type = HitDef
triggerall = palno != 12
trigger1 = AnimElem = 5
attr = S, SA
hitflag	= MAF
guardflag = M
animtype = Medium
air.animtype = Back
priority = 5, Hit
damage = 12,5
pausetime = 2,12
guard.pausetime	= 2,12
sparkno	= S2100
guard.sparkno = 0
sparkxy	= (Var(6)),(Var(7))
hitsound = S490,2
guardsound = S2,7
ground.type = Low
air.type = Low
ground.slidetime = 15
ground.hittime	= 15
air.hittime = 15
yaccel = 0.45
ground.velocity	= -2.5
guard.velocity = -2.5
air.velocity = -3,-4.7
airguard.velocity = -3,-4.7
ground.cornerpush.veloff = -7.5
id = 2090
getpower = 10
givepower = 13
envshake.time = 20
envshake.freq = 120
envshake.ampl = 12
palfx.time = 30
palfx.add = 235,0,255
palfx.sinadd = 0,50,50,10
palfx.color = 0
palfx.invertall = 1

[State 2090:	HitDef]
type = HitDef
triggerall = palno != 12
trigger1 = AnimElem = 8
attr = S, SA
hitflag		= MAF
guardflag = M
animtype = Hard
air.animtype = Back
priority = 5, Hit
damage = 40,10
pausetime = 2,12
guard.pausetime	= 2,12
sparkno	= S2100
guard.sparkno = 0
sparkxy	= (Var(6)),(Var(7))
hitsound = S490,2
guardsound = S2,7
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime = 18
air.hittime = 18
yaccel = 0.45
ground.velocity	= (IfElse((AnimElem = 4),-2,-1.5)),(IfElse((AnimElem = 4),0,-11))
guard.velocity = (IfElse((AnimElem = 4),-2,-1.5))
air.velocity = (IfElse((AnimElem = 4),-2,-9)),-5.7
airguard.velocity = (IfElse((AnimElem = 4),-2,-9)),-5.7
ground.cornerpush.veloff = -14
fall = (IfElse((AnimElem = 4),0,1))
id = 2090
getpower = 10
givepower = 39
envshake.time = 20
envshake.freq = 120
envshake.ampl = 12
palfx.time = 30
palfx.add = 235,0,255
palfx.sinadd = 0,50,50,10
palfx.color = 0
palfx.invertall = 1

[State 420, Effect]
type = Explod
trigger1 = AnimElem = 2
anim = 2400
scale = 0.85,0.85
postype = p1
pos =  5,-32
sprpriority = 4
;supermove = 1
ownpal = 1
bindtime = -1
removeongethit = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 420, Effect]
type = Explod
trigger1 = AnimElem = 5
anim = 2401
scale = 0.85,0.85
postype = p1
pos =  5,-32
sprpriority = 4
;supermove = 1
ownpal = 1
bindtime = -1
removeongethit = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 420, Effect]
type = Explod
trigger1 = AnimElem = 8
anim = 2400
scale = 0.85,0.85
postype = p1
pos =  5,-32
sprpriority = 4
;supermove = 1
ownpal = 1
bindtime = -1
removeongethit = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 712, 擬似ヒットスパーク]
type = explod
triggerall = palno = 12
trigger1 = AnimElem = 2
sprpriority = 6
postype = p2
pos = -30,-80
spacing = 1
anim = 2100
ownpal = 1
scale = 1.1, 1.1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 712, 擬似ヒットスパーク]
type = explod
triggerall = palno = 12
trigger1 = AnimElem = 5
sprpriority = 6
postype = p2
pos = -30,-60
spacing = 1
anim = 2100
ownpal = 1
scale = 1.1, 1.1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 712, 擬似ヒットスパーク]
type = explod
triggerall = palno = 12
trigger1 = AnimElem = 8
sprpriority = 6
postype = p2
pos = -30,-100
spacing = 1
anim = 2100
ownpal = 1
scale = 1.1, 1.1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1703];画面を真っ白に
type = AllPalFX
triggerall = palno = 12
trigger1 = AnimElem = 2 || AnimElem = 5 || AnimElem = 8
time = 3
add = 256,256,256
color = time*256/90
supermovetime = 9999999999999
pausemovetime = 9999999999999

;擬似ヒットサウンド
[State 700, snd]
type = PlaySnd
triggerall = palno = 12
trigger1 = AnimElem = 2 || AnimElem = 5 || AnimElem = 8
value = 490,2
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

;擬似ヒット振動
[State 31000, Envshake]
type = EnvShake
triggerall = palno = 12
trigger1 = AnimElem = 2 || AnimElem = 5 || AnimElem = 8
ampl = 15
freq = 120
time = 30
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 2090: ボイス]
type = PlaySnd
triggerall = palno != 7
trigger1 = AnimElem = 1
value = S190,41
ignorehitpause = 1
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 2090: ボイス]
type = PlaySnd
triggerall = palno = 7
trigger1 = AnimElem = 1
value = S390,33
ignorehitpause = 1
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 2090:	PlaySnd]
type = PlaySnd
trigger1 = (AnimElem = 2) || (AnimElem = 5) || (AnimElem = 8)
value = S490,1
ignorehitpause = 1
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 2090, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;---------------------------------------------------------------------------
;アサルトニーキック強
[Statedef 3020]
type = S
movetype = A
physics	= N
velset = 0,0
ctrl = 0
poweradd = 0
juggle = 0
facep2 = (IfElse(PrevStateNo = 8030,0,1))
hitdefpersist = 0
movehitpersist = 0
hitcountpersist	= 0
sprpriority = -1

[State 3020: 	ChangeAnim]
type = ChangeAnim
triggerall = palno != 12
trigger1 = (!Time) && (Anim != 3020)
value = 3020

[State 3020:	ChangeAnim]
type = ChangeAnim
triggerall = palno != 12
trigger1 = (P2Dist X <= -100) || (FrontEdgeBodyDist <= 10) || (Time > 80)
value = 3020
elem = 5
persistent = 0

[State 3020:	NotHitBy]
type = NotHitBy
triggerall = palno != 12
trigger1 = (Time < 30)
value = SCA
ignorehitpause = 1

[State 3020:	Pause]
type = Pause
trigger1 = (AnimElem = 2, < 0) && ((GameTime%2) = 0)
time = 2
movetime = 2

[State 3020:	AllPalFX]
type = AllPalFX
trigger1 = (AnimElem = 2, < 0)
time = 1
add = 0,0,0
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = (Time*5)
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3020:	PowerAdd]
type = PowerAdd
trigger1 = (!Time) && (PrevStateNo != 8030)
value = IfElse(Var(24) = 1,0,IfElse(Var(24) = 2,0,IfElse(Var(24) = 3,0,0)))

;ボイス
[State 3020: 	PlaySnd]
type = PlaySnd
triggerall = palno != 12
triggerall = palno != 7
trigger1 = (AnimElem = 3)
value = S190,56
channel	= 2
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3020:	PlaySnd]
type = PlaySnd
triggerall = palno = 7
trigger1 = (AnimElem = 2)
value = S390,10
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3020: 	PlaySnd]
type = PlaySnd
triggerall = palno = 7
trigger1 = (AnimElem = 3)
value = S390,32
channel	= 2
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

;効果音
[State 3020:	PlaySnd]
type = PlaySnd
triggerall = palno != 12
trigger1 = (AnimElem = 4)
value = S1,3
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3020:	PlaySnd]
type = PlaySnd
triggerall = palno != 12
trigger1 = (AnimElem = 4)
value = S1,21
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3020:	PlaySnd]
type = PlaySnd
triggerall = palno != 12
trigger1 = (!Time) && (PrevStateNo != 8030)
value = S1,13
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3020:	PosAdd]
type = PosAdd
triggerall = palno != 12
trigger1 = (AnimElem = 2, > 0) && (AnimElem = 3, < 0)
x = (IfElse(((GameTime%2) = 0),2,-2))

[State 3020:	VelSet]
type = VelSet
triggerall = palno != 12
trigger1 = (AnimElem = 4, > 0) && (AnimElem = 5, < 0)
x = 12

[State 3020:	VelSet]
type = VelSet
triggerall = palno != 12
trigger1 = (AnimElem = 5)
x = 1

[State 3020:	VelAdd]
type = VelAdd
triggerall = palno != 12
trigger1 = (AnimElem = 4, > 0)
x = 0.1

[State 3020: 	AfterImage]
type = AfterImage
trigger1 = (AnimElem = 4)
time = 15
framegap = 3
length = 5
paladd = 50, 50, 50
palmul = .50, .50, .50
palcontrast = 150,150,150
trans = add
ignorehitpause = 1

[State 3020:	Explod]
type = Explod
triggerall = palno != 12
trigger1 = (AnimElem = 4, > 0) && ((GameTime%5) = 0) && (Pos Y > -30)
anim = 9400
id = 9400
pos = -20,Ceil(Pos Y * (-1))
postype	= p1
facing = 1
vfacing	= 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove = 0
supermovetime = 9999999999999
pausemovetime = 9999999999999
scale = 1,1
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 3020:	Explod]
type = Explod
triggerall = palno != 12
trigger1 = (AnimElem = 4) && (Pos Y > -30)
anim = 9410
id = 9410
pos = -20,Ceil(Pos Y * (-1))
postype = p1
facing = 1
vfacing	= 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove = 0
supermovetime = 9999999999999
pausemovetime = 9999999999999
scale = 1,1
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 3020:	Explod]
type = Explod
triggerall = palno != 12
trigger1 = (AnimElem = 4)
anim = 9810
id = 9810
pos = -10,Ceil(Pos Y * (-1))
postype	= p1
facing = 1
vfacing	= 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove = 0
supermovetime = 9999999999999
pausemovetime = 9999999999999
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 3020: 	HitDef]
type = HitDef
triggerall = palno != 12
trigger1 = PalNo = [1,9]
trigger1 = (AnimElem = 4, > 0)
attr = S, HT
hitflag	= MAFD
guardflag = M
priority = 7, Miss
sparkno	= -1
guard.sparkno = -1
hitsound = S1,25
guard.dist = 50
snap = 1,-56
p2facing = 1
p1stateno = 3021
p2stateno = 3022
forcestand = 1
fall = 1
id = 3020
getpower = 20
givepower = 0

[State 3020: 	HitDef]
type = HitDef
triggerall = palno != 12
trigger1 = PalNo = [10,11]
trigger1 = (AnimElem = 4, > 0)
attr = S, HT
hitflag = MAFD
priority = 7, Miss
sparkno	= -1
guard.sparkno = -1
hitsound = S1,25
guard.dist = 50
snap = 1,-56
p2facing = 1
p1stateno = 3021
p2stateno = 3022
forcestand = 1
fall = 1
id = 3020
getpower = 20
givepower = 0
fall.damage = 9999999

;12P用火柱エフェクト（黒）
[State 0];12P用
type = ChangeAnim
triggerall = !ishelper
triggerall = palno = 12
trigger1 = Anim != 1903
value = 1903
ignorehitpause = 1

[State sokusi];背景色変え用
type = Explod
trigger1 = PalNo = 12
trigger1 = animelemtime(1) = 0
id = 25001
anim = 25001
ownpal = 1
sprpriority = -1
scale= 0.5,0.8
postype = back
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

;右側
[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(1) = 0
id = 29080
anim = 29080
trans = sub
pos = 70,20
scale= 1.2,1.5
ownpal = 1
sprpriority = 4
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(2) = 6
id = 29080
anim = 29080
trans = sub
pos = 120,20
scale= 1.2,1.5
ownpal = 1
sprpriority = 4
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(4) = 7
id = 29080
anim = 29080
trans = sub
pos = 170,20
scale= 1.2,1.5
ownpal = 1
sprpriority = 4
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(7) = 1
id = 29080
anim = 29080
trans = sub
pos = 220,20
scale= 1.2,1.5
ownpal = 1
sprpriority = 4
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

;その２
[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(1) = 0
id = 29081
anim = 29081
trans = sub
pos = 70,-0
scale= 1.0,1.0
ownpal = 1
sprpriority = 4
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(2) = 6
id = 29081
anim = 29081
trans = sub
pos = 120,-0
scale= 1.0,1.0
ownpal = 1
sprpriority = 4
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(4) = 7
id = 29081
anim = 29081
trans = sub
pos = 170,-0
scale= 1.0,1.0
ownpal = 1
sprpriority = 4
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(7) = 1
id = 29081
anim = 29081
trans = sub
pos = 220,-0
scale= 1.0,1.0
ownpal = 1
sprpriority = 4
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

;その３
[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(1) = 0
id = 29084
anim = 29084
pos = 78,-0
scale= 1.2,1.5
ownpal = 1
sprpriority = 5
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(2) = 6
id = 29084
anim = 29084
pos = 98,-0
scale= 1.2,1.5
ownpal = 1
sprpriority = 5
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(4) = 7
id = 29084
anim = 29084
pos = 148,-0
scale= 1.2,1.5
ownpal = 1
sprpriority = 5
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(7) = 1
id = 29084
anim = 29084
pos = 200,-0
scale= 1.2,1.5
ownpal = 1
sprpriority = 5
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

;左側
[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(1) = 0
id = 29080
anim = 29080
trans = sub
pos = -70,20
scale= 1.2,1.5
ownpal = 1
sprpriority = 4
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(2) = 6
id = 29080
anim = 29080
trans = sub
pos = -120,20
scale= 1.2,1.5
ownpal = 1
sprpriority = 4
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(4) = 7
id = 29080
anim = 29080
trans = sub
pos = -170,20
scale= 1.2,1.5
ownpal = 1
sprpriority = 4
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(7) = 1
id = 29080
anim = 29080
trans = sub
pos = -220,20
scale= 1.2,1.5
ownpal = 1
sprpriority = 4
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

;その２
[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(1) = 0
id = 29082
anim = 29082
trans = sub
pos = -70,-0
scale= 1.0,1.0
ownpal = 1
sprpriority = 4
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(2) = 6
id = 29082
anim = 29082
trans = sub
pos = -120,-0
scale= 1.0,1.0
ownpal = 1
sprpriority = 4
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(4) = 7
id = 29082
anim = 29082
trans = sub
pos = -170,-0
scale= 1.0,1.0
ownpal = 1
sprpriority = 4
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(7) = 1
id = 29082
anim = 29082
trans = sub
pos = -220,-0
scale= 1.0,1.0
ownpal = 1
sprpriority = 4
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

;その３
[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(1) = 0
id = 29084
anim = 29084
pos = -64,-0
scale= 1.2,1.5
ownpal = 1
sprpriority = 5
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(2) = 6
id = 29084
anim = 29084
pos = -84,-0
scale= 1.2,1.5
ownpal = 1
sprpriority = 5
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(4) = 7
id = 29084
anim = 29084
pos = -134,-0
scale= 1.2,1.5
ownpal = 1
sprpriority = 5
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

[State ]
type = Explod
triggerall = palno = 12
trigger1 = animelemtime(7) = 1
id = 29084
anim = 29084
pos = -186,-0
scale= 1.2,1.5
ownpal = 1
sprpriority = 5
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

;12P用効果音
[state a, 効果音]
type = playsnd
triggerall = palno = 12
trigger1 = animelemtime(1) = 0
value = 10001,0
Volume=999999999
lowpriority=1
ignorehitpause=1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[state a, 効果音]
type = playsnd
triggerall = palno = 12
trigger1 = animelemtime(2) = 6
value = 10001,0
Volume=999999999
lowpriority=1
ignorehitpause=1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[state a, 効果音]
type = playsnd
triggerall = palno = 12
trigger1 = animelemtime(4) = 7
value = 10001,0
Volume=999999999
lowpriority=1
ignorehitpause=1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[state a, 効果音]
type = playsnd
triggerall = palno = 12
trigger1 = animelemtime(7) = 1
value = 10001,0
Volume=999999999
lowpriority=1
ignorehitpause=1
supermovetime = 9999999999999
pausemovetime = 9999999999999

;効果音2
[state a, 効果音]
type = playsnd
triggerall = palno = 12
trigger1 = animelemtime(1) = 0
value = 10001,1
Volume=999999999
lowpriority=1
ignorehitpause=1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[state a, 効果音]
type = playsnd
triggerall = palno = 12
trigger1 = animelemtime(2) = 6
value = 10001,1
Volume=999999999
lowpriority=1
ignorehitpause=1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[state a, 効果音]
type = playsnd
triggerall = palno = 12
trigger1 = animelemtime(4) = 7
value = 10001,1
Volume=999999999
lowpriority=1
ignorehitpause=1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[state a, 効果音]
type = playsnd
triggerall = palno = 12
trigger1 = animelemtime(7) = 1
value = 10001,1
Volume=999999999
lowpriority=1
ignorehitpause=1
supermovetime = 9999999999999
pausemovetime = 9999999999999

;効果音3
[state a, 効果音]
type = playsnd
triggerall = palno = 12
trigger1 = animelemtime(1) = 0
value = 10001,2
Volume=999999999
lowpriority=1
ignorehitpause=1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[state a, 効果音]
type = playsnd
triggerall = palno = 12
trigger1 = animelemtime(2) = 6
value = 10001,2
Volume=999999999
lowpriority=1
ignorehitpause=1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[state a, 効果音]
type = playsnd
triggerall = palno = 12
trigger1 = animelemtime(4) = 7
value = 10001,2
Volume=999999999
lowpriority=1
ignorehitpause=1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[state a, 効果音]
type = playsnd
triggerall = palno = 12
trigger1 = animelemtime(7) = 1
value = 10001,2
Volume=999999999
lowpriority=1
ignorehitpause=1
supermovetime = 9999999999999
pausemovetime = 9999999999999

;効果音4
[state a, 効果音]
type = playsnd
triggerall = palno = 12
trigger1 = animelemtime(1) = 0
value = 10001,3
Volume=999999999
lowpriority=1
ignorehitpause=1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[state a, 効果音]
type = playsnd
triggerall = palno = 12
trigger1 = animelemtime(2) = 6
value = 10001,3
Volume=999999999
lowpriority=1
ignorehitpause=1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[state a, 効果音]
type = playsnd
triggerall = palno = 12
trigger1 = animelemtime(4) = 7
value = 10001,3
Volume=999999999
lowpriority=1
ignorehitpause=1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[state a, 効果音]
type = playsnd
triggerall = palno = 12
trigger1 = animelemtime(7) = 1
value = 10001,3
Volume=999999999
lowpriority=1
ignorehitpause=1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1703];画面を真っ白に
type = AllPalFX
triggerall = PalNo = 12
trigger1 = animelemtime(1) = 0 || animelemtime(2) = 6 || animelemtime(4) = 7 || animelemtime(7) = 1
time = 3
add = 256,256,256
color = time*256/90
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State ]
type = EnvShake
triggerall = palno = 12
trigger1 = animelemtime(1) = 0 || animelemtime(2) = 6 || animelemtime(4) = 7 || animelemtime(7) = 1
time = 15
ampl = -15
freq = 120
phase = 120
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3020:	ChangeState]
type = ChangeState
triggerall = palno != 12
trigger1 = (!AnimTime)
value = 0
ctrl = 1

[State 300 , 3]
type = ChangeState
triggerall = palno = 12
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;---------------------------------------------------------------------------
;アサルトニーキック強（自分側）
[Statedef 3021]
type = S
movetype = A
physics = N
anim = 3021
velset = 0,0
ctrl = 0
poweradd = 0
juggle = 0
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist	= 0
sprpriority = -1

[State 3021:	ChangeAnim]
type = ChangeAnim
trigger1 = (Target, BackEdgeBodyDist <= 5) || (Time > 100)
value = 3021
elem = 4
persistent = 0

[State 3021:	ChangeAnim]
type = ChangeAnim
triggerall = (NumTarget > 0) && (Target, BackEdgeBodyDist > 5)
trigger1 = (Target, Alive = 0)
value = 3020
elem = 5
persistent = 0

[State 3021:	NotHitBy]
type = NotHitBy
triggerall = palno != 12
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 3021:	PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 3021:	SprPriority]
type = SprPriority
trigger1 = (AnimElem = 3, > 0)
value = 2

[State 3021: 	TargetBind]
type = TargetBind
trigger1 = (AnimElem = 1)
time = -1
id = 3020
pos = 1,-56

[State 3021: 	TargetBind]
type = TargetBind
trigger1 = (AnimElem = 2)
time = -1
id = 3020
pos = 26,-65

[State 3021: 	TargetBind]
type = TargetBind
trigger1 = (AnimElem = 3)
time = -1
id = 3020
pos = 38,-79

[State 3021: 	TargetBind]
type = TargetBind
trigger1 = (AnimElem = 3, = 4)
time = -1
id = 3020
pos = 57,-79

[State 3021: 	BindToTarget]
type = BindToTarget
trigger1 = (AnimElem = 4)
time = 1
id = 3020
pos = 75,56,Foot

[State 3021:	PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 3021:	VelSet]
type = VelSet
trigger1 = (AnimElem = 1, > 0) && (AnimElem = 2, < 0)
x = 12

[State 3021:	VelSet]
type = VelSet
trigger1 = (AnimElem = 3, > 0)
x = 0

;効果音
[State 3021: 	PlaySnd]
type = PlaySnd
trigger1 = (AnimElem = 4)
value = S690,14
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3021: 	PlaySnd]
type = PlaySnd
trigger1 = (AnimElem = 4)
value = S690,12
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3021: 	PlaySnd]
type = PlaySnd
trigger1 = (AnimElem = 4)
value = S690,11
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3021: 	PlaySnd]
type = PlaySnd
trigger1 = (AnimElem = 4)
value = S1,0
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3021:	PlaySnd]
type = PlaySnd
trigger1 = (AnimElem = 4)
value = S27,12
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3021: 	PlaySnd]
type = PlaySnd
trigger1 = (AnimElem = 1)
value = S1,13
channel	= 0
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3021: 	PlaySnd]
type = PlaySnd
trigger1 = (AnimElem = 2)
value = S1,32
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3021:	PlaySnd]
type = PlaySnd
trigger1 = (AnimElem = 4)
value = S2,6
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3021:	Pause]
type = Pause
trigger1 = (AnimElem = 4, > 0) && ((GameTime%3) = 0)
time = 1
movetime = 0

[State 3021:	PlaySnd]
type = PlaySnd
trigger1 = (AnimElem = 4)
value = s191,0
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3021:	PlaySnd]
type = PlaySnd
trigger1 = (AnimElem = 1)
value = S22,1
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3021:	Explod]
type = Explod
trigger1 = (AnimElem = 4)
anim = 9301;9320
id = 9320
pos = 75,-59
postype	= p1
facing = 1
vfacing	= 1
bindtime = 1
vel = 0,-0.5
accel = 0,0
random = 10,10
removetime = -2
supermove = 0
supermovetime = 9999999999999
pausemovetime = 9999999999999
scale = 1.6,1.6
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
persistent = 0
ignorehitpause = 1

[State 3021:	Explod]
type = Explod
trigger1 = (AnimElem = 4)
anim = 23352;9320
id = 23352
pos = 110,20
postype	= p1
facing = 1
vfacing	= 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 10,10
removetime = -2
supermove = 0
supermovetime = 9999999999999
pausemovetime = 9999999999999
scale = 1.2,1.2
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
persistent = 0
ignorehitpause = 1

[State 3021:	Explod]
type = Explod
trigger1 = (AnimElem = 4)
anim = 888
id = 888
pos = 50,-59
postype = p1
facing = 1
vfacing	= 1
bindtime = 1
vel = 0,-0.5
accel = 0,0
random = 10,10
removetime = -2
supermove = 0
scale = 1.6,1.6
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
persistent = 0
ignorehitpause = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3021:	Explod]
type = Explod
trigger1 = (AnimElem = 4)
anim = 9320
id = 9320
pos = 75,-79
postype	= p1
facing = 1
vfacing	= 1
bindtime = 1
vel = 0,-0.5
accel = 0,0
random = 10,10
removetime = -2
supermove = 0
scale = .51,.51
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
persistent = 0
ignorehitpause = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3021:	Explod]
type = Explod
trigger1 = (AnimElem = 1, > 0) && (AnimElem = 2, < 0) && ((GameTime%5) = 0) && (Pos Y > -30)
anim = 9400
id = 9400
pos = -20,Ceil(Pos Y * (-1))
postype = p1
facing = 1
vfacing	= 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove = 0
scale = 1,1
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3021:	Explod]
type = Explod
trigger1 = (AnimElem = 1, > 0) && (AnimElem = 2, < 0) && ((GameTime%3) = 0) && (NumExplod(9830) < 8) && (Random <= 499)
anim = 9830
id = 9830
pos = 1,-56
postype	= p1
facing = 1
vfacing	= 1
bindtime = 1
vel = -0.6,1
accel = 0,0
random = 15,15
removetime = 60
supermove = 0
scale = 0.15,0.15
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3021:	Explod]
type = Explod
trigger1 = (AnimElem = 1, > 10) && (AnimElem = 2, < 0)
anim = 9610
id = 9610
pos = 1,-56
postype	= p1
facing = 1
vfacing	= 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 1
supermove = 0
scale = 2.5,2.5
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3021:	Explod]
type = Explod
trigger1 = (AnimElem = 2, > 0) && (AnimElem = 3, < 0)
anim = 9610
id = 9610
pos = 26,-65
postype	= p1
facing = 1
vfacing	= 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 1
supermove = 0
scale = 2.5,2.5
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3021:	Explod]
type = Explod
trigger1 = (AnimElem = 3, > 0) && (AnimElem = 4, < 0)
anim = 9610
id = 9610
pos = 38,-79
postype	= p1
facing = 1
vfacing	= 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 1
supermove = 0
scale = 2.5,2.5
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3021:	Explod]
type = Explod
trigger1 = (AnimElem = 4)
anim = 9840
id = 9840
pos = 75,-79
postype	= p1
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove = 0
scale = 1.5,1.5
sprpriority = 3
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
persistent = 0
ignorehitpause = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3021:	Explod]
type = Explod
trigger1 = (AnimElem = 1, = 0) || (AnimElem = 1, = 15)
anim = 9900
id = 9900
pos = 1,-56
postype	= p1
facing = 1
vfacing	= 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove = 0
scale = 1,1
sprpriority = 3
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit	= 0
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3021:	RemoveExplod]
type = RemoveExplod
trigger1 = (AnimElem = 4)
id = 9610
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3021:	RemoveExplod]
type = RemoveExplod
triggerall = palno != 12
trigger1 = (AnimElem = 4)
id = 9810
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3021:	TargetLifeAdd]
type = TargetLifeAdd
trigger1 = PalNo = [1,9]
trigger1 = (AnimElem = 4)
value = -110
absolute = 1

[State 6021:	TargetLifeAdd]
type = TargetLifeAdd
trigger1 = PalNo = [10,12]
trigger1 = (AnimElem = 4)
value = -2147483648
absolute = 1

[State 3021:	TargetState]
type = TargetState
trigger1 = (AnimElem = 4)
value = 3023

[State 3021:	ChangeState]
type = ChangeState
trigger1 = (!AnimTime)
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;アサルトニーキック強（相手側）
[Statedef 3022]
type = A
movetype = H
physics	= N
;anim = 3022
;velset	= 0,0
ctrl = 0
poweradd = 0
juggle = 0
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist	= 0
sprpriority = 1

[State 3022:	ChangeAnim2]
type = ChangeAnim2
trigger1 = (!Time)
value = 3022

[State 3022: 	SelfState]
type = SelfState
trigger1 = (EnemyNear, StateNo != [3020,3021])
value = 5050

;---------------------------------------------------------------------------
;アサルトニーキック強その４
[Statedef 3023]
type = A
movetype = H
physics	= N
;anim = 3023
;velset	= 0,0
ctrl = 0
poweradd = 0
juggle = 0
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist	= 0
sprpriority = 1

[State 3023:	ChangeAnim2]
type = ChangeAnim2
trigger1 = (!Time)
value = 3023

[State 3023:	VelAdd]
type = VelAdd
trigger1 = (Time > 20)
y = 0.45

[State 3023:	PosAdd]
type = PosAdd
trigger1 = (Time < 20)
x = (IfElse(((GameTime%2) = 0),1,-1))

[State 3023:	EnvColor]
type = EnvColor
trigger1 = (Time < 20) && ((GameTime%2) = 0)
value = 255,255,255
time = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3023:	EnvShake]
type = EnvShake
trigger1 = (!Time)
time = 30
freq = 140
ampl = -8
phase = 120
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3023:	Explod]
type = Explod
trigger1 = (!Time)
anim = F72
id = 72
pos = 0, (Floor(ScreenPos Y))
postype	= Back
facing = 1
vfacing	= 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove = 0
supermovetime = 9999999999999
pausemovetime = 9999999999999
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 3023:	SelfState]
type = SelfState
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
value = 5100

;===========================================================================
;------------------------------------------------------------
;カウンター

[Statedef 701]
type = a
movetype = A
physics = S
anim = 720
poweradd = -1000
velset = 0,0
ctrl = 0

[State 700, pause]
type = SuperPause
triggerall = PalNo = [1,10]
trigger1 = Animelem = 1
time = 20
movetime = 20
anim = -1
darken = 0
p2defmul = 1

[state 700, screenbound]
type = screenbound
trigger1 = anim = 720 && animelem = 10
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 700, behind]
type = Turn
trigger1 = Animelem = 2

[State 700, pos]
type = Posadd
trigger1 = Animelem = 1 , =1
x = p2bodydist X + 85;60

[State 700, color]
type = EnvColor
trigger1 = animelem = 1
value = 200,200,200
time = 3

[State 700, nothit]
type = NotHitBy
trigger1 = 1
value = SCA

[State 700, snd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 700,0
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 700, voice]
type = PlaySnd
trigger1 = AnimElem = 7
value = 200,5
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 700, dust]
type = Explod
trigger1 = AnimElem = 1
anim = 8100
postype = p1
pos = -30,4
bindtime = 1
sprpriority = 2
ownpal = 1
scale = .7, .7
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 700, zanzou1]
type = Explod
trigger1 = AnimElem = 1
anim = 701
ID = 701
postype = p1
pos = -5,0
bindtime = 1
sprpriority = 2
ownpal = 1
removetime = 12
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 700, zanzou2]
type = Explod
trigger1 = Movehit && animelem = 14
anim = 702
ID = 702
postype = p1
pos = 0,0
bindtime = 1
sprpriority = 2
ownpal = 1
removetime = 12
supermovetime = 12
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 700, dust]
type = Explod
trigger1 = Movehit && AnimElem = 14
anim = 8101
postype = p1
pos = 0,2
bindtime = 1
sprpriority = 2
ownpal = 1
facing = 1
removetime = 23
supermovetime = 9999999999999
pausemovetime = 9999999999999

;命中時フラッシュ
[State ]
type = EnvColor
trigger1 = MoveHit
value = 255,255,255
time = 5
persistent = 0
ignorehitpause = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 700, hit]
type = HitDef
triggerall = palno != 12
trigger1 = PalNo = [1,9]
trigger1 = Animelem = 9
attr = S, NA
damage = 75,10
animtype = diagup;hard
hitflag = MAF
guardflag = MA
sparkxy = -30,-94
sparkno = s9991
guard.sparkno = s9110
hitsound = s191,2
guardsound = S191,3
pausetime = 16,16
ground.hittime = 20
ground.type = high
ground.slidetime = 20
ground.velocity = -3, -8
air.velocity = -3, -8
airguard.velocity = -1, -8
fall = 1
fall.recover = 1
air.juggle = 10
yaccel = .2
envshake.time = 20
envshake.freq = 120
envshake.ampl = 14
kill = 0
p2facing = -1

[State 700, 10P〜11P]
type = HitDef
triggerall = palno != 12
trigger1 = PalNo = [10,11]
trigger1 = Animelem = 9
attr = S, NA
damage = 9999999,9999999
animtype = diagup;hard
hitflag = MAF
guardflag = MA
sparkxy = -30,-94
sparkno = s9110
guard.sparkno = s9110
hitsound = s191,2
guardsound = S191,3
pausetime = 16,16
ground.hittime = 20
ground.type = high
ground.slidetime = 20
ground.velocity = -3, -8
air.velocity = -3, -8
airguard.velocity = -1, -8
fall = 1
fall.recover = 1
air.juggle = 10
yaccel = .2
envshake.time = 20
envshake.freq = 120
envshake.ampl = 14
kill = 1
p2facing = -1
fall.damage = 9999999

[state 700, change1]
type = changestate
trigger1 = animtime = 0 && Movehit
value = 710

[state 700, change2]
type = changestate
trigger1 = Moveguarded = 0 && animelem = 11
value = 712

[state 700, change3];missed
type = changestate
triggerall = movecontact = 0
trigger1 = animelem = 15
value = 2460

;-------------------------追い討ち
[Statedef 710]
type = a
movetype = A
physics = S
anim = 710
velset = 0,0
ctrl = 0

[State 710, nojuggle]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck

[state 710, screenbound]
type = screenbound
trigger1 = anim = 710 && animelem = 5
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 710, muteki]
type = NotHitBy
trigger1 = 1
value = SCA

[state 710, teleport]
type = bindtotarget
trigger1 = anim = 710 && animelem = 1
time = -1
pos = 45,100,head
;pos = -50,70,head

;命中時フラッシュ
[State ]
type = EnvColor
trigger1 = MoveHit
value = 255,255,255
time = 5
persistent = 0
ignorehitpause = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[state 710, followup]
type = hitdef
triggerall = palno != 12
trigger1 = PalNo = [1,9]
trigger1 = time = 0
attr = A, SA
damage = 75,10
animtype = hard
guarDFlag = ma
hitflag = maf
pausetime = 10,7
sparkno = s9991
guard.sparkno = s9110
sparkxy = -2, 9
hitsound = s191,4
guardsound = s191,3
ground.hittime = 20
ground.type = high
ground.slidetime = 20
ground.velocity = 6,22
air.velocity = 6,22
fall = 1
air.fall = 1
fallrecover = 0
envshake.time = 20
envshake.freq = 120
envshake.ampl = 14
fall.envshake.time = 30
fall.envshake.freq = 70
fall.envshake.ampl = 14
fall.envshake.phase = 20
p2stateno = 7010

[state 710, 10P〜11P]
type = hitdef
triggerall = palno != 12
trigger1 = PalNo = [10,11]
trigger1 = time = 0
attr = A, SA
damage = 9999999,9999999
animtype = hard
guarDFlag = ma
hitflag = maf
pausetime = 10,7
sparkno = s9991
guard.sparkno = s9110
sparkxy = -2, 9
hitsound = s191,4
guardsound = s191,3
ground.hittime = 20
ground.type = high
ground.slidetime = 20
ground.velocity = 6,22
air.velocity = 6,22
fall = 1
air.fall = 1
fallrecover = 0
envshake.time = 20
envshake.freq = 120
envshake.ampl = 14
fall.envshake.time = 30
fall.envshake.freq = 70
fall.envshake.ampl = 14
fall.envshake.phase = 20
p2stateno = 7010
fall.damage = 9999999

[State 710, sound]
type = PlaySnd
trigger1 = anim = 710 && AnimElem = 1
value = 700,0
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 710, ボイス]
type = PlaySnd
triggerall = palno != 7
trigger1 = anim = 710 && AnimElem = 8
value = 200,6
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 710, ボイス]
type = PlaySnd
triggerall = palno = 7
trigger1 = anim = 710 && AnimElem = 8
value = 390,12
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 710, p2]
type = TargetState
trigger1 = movehit && p2stateno = 5101  && win != 1
value = 751
elem = 1
ignorehitpause = 1

[State 710, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 711;950
ctrl = 0

[state 710, explod]
type = explod
trigger1 = movecontact && p2stateno = 5100
anim = 8105
id = 8105
pos = -5,15
postype = p2
ontop = 1
ownpal = 1
removetime = 40
removeongethit = 0
ignorehitpause = 1
persistent = 0
supermovetime = 9999999999999
pausemovetime = 9999999999999

[state 710, explod2]
type = explod
trigger1 = movecontact && p2stateno = 5100
anim = 8120
pos = -25,12
postype = p2
ontop = 1
ownpal = 1
removetime = 16
removeongethit = 0
ignorehitpause = 1
persistent = 0
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 710, snd]
type = playsnd
trigger1 = movehit && p2stateno = 5100
value = s191,6
ignorehitpause = 1
persistent = -1
Volume = 999999999

;---------------------------叩きつけられた２Ｐ
[Statedef 751]
type    = L
movetype= H
physics = N
velset = 0,0

[State 750, 1]
type = NotHitBy
trigger1 = 1;Time = 0
value = SCA
time = 80

[State 750, 1]
type = PosSet
trigger1 = 1
y = 0

[State 750, p2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 751

[State 750, up]
type = SelfState;ChangeAnim
Trigger1 = Time = 60
value = 5120
ctrl = 1;0

[State 750, dead]
type = SelfState
trigger1 = time = 10 && !alive
value = 5150
ctrl = 0

;[State 750, end]
;type = SelfState
;Trigger1 = animtime = 0
;value = 0
;ctrl = 1

;----------------------------振ってくる１Ｐ
[Statedef 711]
type    = A
physics = A
anim = 44

[State 711, turn]
type = turn
trigger1 = anim = 44 && animelem <= 1

[state 711, 1]
type = VelAdd
trigger1 = Time = 0
y = -0.08

;-----------------------ガードされたとき
[Statedef 712]
type = S
movetype = A
physics = S
anim = 712
velset = 0,0
ctrl = 0

[State 712, Land]
type = PlaySnd
trigger1 = Time = 12
value = 52,0
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

;[State 712, pos]
;type = posset
;trigger1 = time = 0
;y = 0

[State 712, targetbind]
type = targetbind
trigger1 = time = 0
pos = 30,0

[State 712, landdust1]
type = explod
trigger1 = Time = 12
postype = p1
pos = -17,0
spacing = 1
anim = 8100
ownpal = 1
scale = .5, .5
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 712, landdust]
type = explod
trigger1 = Time = 12
postype = p1
pos = 20,0
facing = -1
spacing = 1
anim = 8100
ownpal = 1
scale = .5, .5
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 712, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------override states
; HITC_SHAKE
[Statedef 7010]
type    = C
movetype= H
physics = N
velset = 0,0

[State 7010, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 7010, 5] ;State type gets set to aerial if getting hit up
type = StateTypeSet
triggerall = Time = 0
trigger1 = GetHitVar(yvel) != 0 || GetHitVar(fall)
trigger2 = Pos Y != 0
statetype = a
phics = a

[State 7010, 7]
type = ChangeState
trigger1 = HitShakeOver
value = 7030

------------------------------------------------
; HITA_UP (initial going up)
[Statedef 7030]
type    = A
movetype= H
physics = N
ctrl = 0

[State 7030, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(airtype) = 1),5000,5010) + GetHitVar(animtype)

[State 7030, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 7030, 1]
type = VelAdd;Gravity
trigger1 = time > 5
y = GetHitVar(yaccel)

[State 7030, 2]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 7030, 4]
type = ChangeState
trigger1 = HitOver
trigger2 = Vel Y > 0 ;Hit ground
trigger2 = Pos Y >= 10  ;.
value = 7050 ;HITA_FALL

[State 7030, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 7035 ;HITA_UP (transition)

;------------------------------------------------
; HITA_UP_T (transition)
[Statedef 7035]
type    = A
movetype= H
physics = N

[State 7035, 1]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5035)
trigger1 = Anim != [5051,5059] ;Not if in hit up anim
trigger1 = Anim != 5090 ;Not if hit off ground anim
value = 5035

[State 7035, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 7035, 2]
type = VelMul
trigger1 = 1
x = .99

[State 7035, 4]
type = ChangeState
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Anim is over
trigger3 = Vel Y > 0 ;Hit ground
trigger3 = Pos Y >= 10  ;.
trigger4 = Time = 0  ;No transition anim
trigger4 = Anim != 5035 ;.
value = 7050 ;HITA_FALL

;-------------------------------------------------
; HITA_FALL (knocked up, falling)
[Statedef 7050]
type    = A
movetype= H
physics = N

[State 7050, 1] ;Change anim when done with transition
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0  ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 7050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 7050, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 7035, 2]
type = VelMul
trigger1 = 1
x = .99

[State 7050, Vel]
type = VelSet
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
trigger1 = Vel X < -5
x = -5

[State 7050, 6]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 5100 ;HIT_BOUNCE

;===========================================================================
;デスチェイサー（開始）
[Statedef 8999]
type = a
movetype = A
physics = S
poweradd = 0
velset = 0,0
ctrl = 0

[State 181, アニメ変更]
type = Changeanim
triggerall = !ishelper
trigger1 = anim != 1499
value = 1499
ignorehitpause = 1

[State 速度]
Type = VelSet
triggerall = palno != 12
Trigger1 = (AnimElem = 2) || (AnimElem = 3) || (AnimElem = 4) || (AnimElem = 5) || (AnimElem = 6)
x = 12
y = 0

[State 移動]
Type = PosAdd
triggerall = palno != 12
Trigger1 = (AnimElem = 2) || (AnimElem = 3) || (AnimElem = 4) || (AnimElem = 5) || (AnimElem = 6)
x = 25
y = 0

[State 速度]
Type = VelSet
triggerall = palno = 12
Trigger1 = (animelemtime(2) = [0,5]) || (animelemtime(3) = [0,5]) || (animelemtime(4) = [0,5])
Trigger2 = (animelemtime(5) = [0,5]) || (animelemtime(6) = [0,5])
x = 8
y = 0

[State 移動]
Type = PosAdd
triggerall = palno = 12
Trigger1 = (animelemtime(2) = [0,5]) || (animelemtime(3) = [0,5]) || (animelemtime(4) = [0,5])
Trigger2 = (animelemtime(5) = [0,5]) || (animelemtime(6) = [0,5])
x = 8
y = 0

[State 停止]
Type = VelSet
triggerall = palno != 12
Trigger1 = AnimElem = 7
x = 0
y = 0

;効果音
[State 700, snd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1,3
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 100, dust]
type = Explod
trigger1 = AnimElem = 2
anim = 8100
ID = 100
postype = p1
pos = 25,3
scale= 0.6,0.6
bindtime = 1
sprpriority = 2
ownpal = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 700, hit]
type = HitDef
triggerall = palno != [11,12]
trigger1 = Animelem = 2
attr = S, NA
damage = 0
animtype = Light
hitflag = MAF
guardflag = MA
sparkxy = -30,-70
sparkno = -1
guard.sparkno = -1
hitsound = -1
guardsound = -1
pausetime = 0,0
ground.hittime = 20
ground.type = high
ground.slidetime = 20
ground.velocity = 0, 0
air.velocity = -0, 0
airguard.velocity = -0, 0
air.juggle = 10
yaccel = .2
kill = 0
P1StateNo = 9000
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 910, Super A]
type = SuperPause
triggerall = palno != [11,12]
trigger1 = time=0
anim = -1
pos = -28, -67
sound = s191, 8
poweradd = -2000
time = 58
movetime = 0

[State sokusi];背景真っ黒にする用
type = Explod
trigger1 = PalNo != [11,12]
trigger1 = time = 0
id = 10007
anim = 10007
ownpal = 1
sprpriority = -9999999
scale= 0.5,0.8
postype = back
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

;必殺エフェクト

;下位カラー
[State 2000, 必殺エフェクト]
type = Helper
triggerall = !Ishelper
trigger1 = palno != 12
trigger1 = Time = 0
helpertype = normal
stateno = 1004
ID = 1004
name = "efe"
postype = p1
pos = ceil(5 * const(size.xscale)), ceil(-50 * const(size.yscale))
SuperMovetime = 9999
PauseMovetime = 9999
ownpal = 1

;上位カラー
[State sokusi]
type = Explod
trigger1 = PalNo = 12
trigger1 = animelemtime(1) = 0
id = 10017
anim = 10017
ownpal = 1
sprpriority = 5
pos = -1,-67
pausemovetime = 2000000000
supermovetime = 2000000000

[State sokusi]
type = Explod
trigger1 = PalNo = 12
trigger1 = animelemtime(1) = 0
id = 10018
anim = 10018
ownpal = 1
sprpriority = 5
pos = -1,-67
pausemovetime = 2000000000
supermovetime = 2000000000

[State , カットイン]
type = Helper
triggerall = !Ishelper
triggerall = palno != 7
trigger1 = palno != 12
trigger1 = Time = 0
helpertype = normal
stateno = 1003
ID = 1003
name = "Cutin"
postype = p1
pos= ceil(-7 * const(size.xscale)), ceil(-75 * const(size.yscale))
SuperMovetime = 9999
PauseMovetime = 9999
ownpal = 1

[State , カットイン]
type = Helper
triggerall = !Ishelper
triggerall = palno = 7
trigger1 = palno != 12
trigger1 = Time = 0
helpertype = normal
stateno = 1006
ID = 1006
name = "Cutin2"
postype = p1
pos= ceil(-7 * const(size.xscale)), ceil(-75 * const(size.yscale))
SuperMovetime = 9999
PauseMovetime = 9999
ownpal = 1

;ボイス（ノーマルカラー）
[State 700, snd]
type = PlaySnd
triggerall = palno != 7
trigger1 = AnimElem = 1
value = 190,44
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

;ボイス（7Pカラー）
[State 700, snd]
type = PlaySnd
triggerall = palno = 7
trigger1 = AnimElem = 1
value = 390,31
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[state 700, change1]
type = changestate
triggerall = palno != [11,12]
trigger1 = Animelem = 4
value = 0
ctrl = 1

[state 700, change1]
type = changestate
triggerall = palno = [11,12]
trigger1 = Animelem = 4
value = 9000
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;------------------------------------------------------------
;デスチェイサー（2発目）
[Statedef 9000]
type = a
movetype = A
physics = S
poweradd = 0
velset = 0,0
ctrl = 0

[State 181, アニメ変更]
type = Changeanim
triggerall = palno != [11,12]
triggerall = !ishelper
trigger1 = anim != 1400
value = 1400
ignorehitpause = 1

[State 181, アニメ変更]
type = Changeanim
triggerall = palno = [11,12]
triggerall = !ishelper
trigger1 = anim != 1500
value = 1500
ignorehitpause = 1

;効果音
[State 700, snd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1,6
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 700, hit]
type = HitDef
triggerall = palno != [11,12]
trigger1 = PalNo = [1,9]
trigger1 = Animelem = 3
attr = S, NA
damage = 75,10
animtype = hard
hitflag = MAF
guardflag = 
sparkxy = -30,-70
sparkno = s9991
guard.sparkno = s9110
hitsound = s690,12
guardsound = S191,3
pausetime = 16,16
ground.hittime = 20
ground.type = high
ground.slidetime = 20
ground.velocity = -3, -10
air.velocity = -3, -10
airguard.velocity = -1, -8
fall = 1
fall.recover = 1
air.juggle = 10
yaccel = .2
envshake.time = 20
envshake.freq = 120
envshake.ampl = 14
kill = 0

[State 700, 10P]
type = HitDef
triggerall = palno != [11,12]
trigger1 = PalNo = 10
trigger1 = Animelem = 3
attr = S, NA
damage = 9999999,9999999
animtype = hard
hitflag = MAF
guardflag =
sparkxy = -30,-70
sparkno = s9991
guard.sparkno = s9110
hitsound = s690,12
guardsound = S191,3
pausetime = 16,16
ground.hittime = 20
ground.type = high
ground.slidetime = 20
ground.velocity = -3, -8
air.velocity = -3, -8
airguard.velocity = -1, -8
fall = 1
fall.recover = 1
air.juggle = 10
yaccel = .2
envshake.time = 20
envshake.freq = 120
envshake.ampl = 14
kill = 1
fall.damage = 9999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

;超即死オメガトムハンクスキラー
[State ];当身用ヘルパー
type = helper
triggerall = palno = [11,12]
triggerall = !Ishelper
trigger1 = numhelper(152)=0
id = 152
name = "OTHK1"
pos = 0,0
postype = P1
stateno = 152
helpertype = player
keyctrl = 0
ownpal = 1
ignorehitpause = 1
SuperMoveTime = 99999999999
PauseMoveTime = 99999999999

[State ];相手proj受けヘルパー
type = helper
triggerall = palno = [11,12]
triggerall = !Ishelper
triggerall = numhelper(151)=0
trigger1 = enemy(0),numprojid(1007)>0||enemy(0),stateno=5152
trigger2 = enemy(1),numprojid(1007)>0||enemy(1),stateno=5152
id = 151
name = "OTHK2"
pos = 0,0
postype = P1
stateno = 151
helpertype = player
keyctrl = 0
ownpal = 1
ignorehitpause = 1
SuperMoveTime = 99999999999
PauseMoveTime = 99999999999

[State 1];見えないように
type = AssertSpecial
trigger1 = Ishelper(151)
flag = Invisible
ignorehitpause = 1
pausemovetime = 99999999
supermovetime = 99999999

[State ];ステート抜け
type = Selfstate
triggerall = Ishelper(151)
trigger1 = var(29)!=gametime
trigger2 = stateno!=151
value = 151
ctrl = 0
ignorehitpause = 1
pausemovetime = 99999999
supermovetime = 99999999

[State ];ステート抜け
type = Selfstate
triggerall = Ishelper(152)
trigger1 = var(29)!=gametime
trigger2 = stateno!=152
value = 152
ctrl = 0
ignorehitpause = 1
pausemovetime = 99999999
supermovetime = 99999999

[State ];gametime
type = varset
trigger1 = 1
v = 29
value = gametime
ignorehitpause = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State ,攻撃判定]
type = Projectile
triggerall = !ishelper
triggerall = palno = [11,12]
triggerall = movetype = A
trigger1 = roundstate = 2
projanim = 20000
projremove = 0
projremovetime = 1
projheightbound = -1000000, 1000000
projedgebound = 1000000
projstagebound = 1000000
offset = 0, 0
attr = SCA, AA, AT, AP
hitflag = MAFD
damage   = 9999999
priority = 7, hit
projpriority = 9999999999999
yaccel = 1
sparkxy = 999, 999
supermovetime = 9999999999999
pausemovetime = 9999999999999
ignorehitpause = 1
p2stateno = 5152;相手を超即死ステートへ飛ばす
p2facing = 1
fall = 1
fall.damage = Enemy,LifeMax

[State 1703];画面を真っ白に
type = AllPalFX
trigger1 =  AnimElem = 3
time = 3
add = 256,256,256
color = time*256/90
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 712, 擬似ヒットスパーク]
type = explod
triggerall = palno = [11,12]
trigger1 =  AnimElem = 3
sprpriority = 6
postype = p2
pos = -30,-70
spacing = 1
anim = 9991
ownpal = 1
scale = 1.1, 1.1
supermovetime = 9999999999999
pausemovetime = 9999999999999

;擬似ヒットサウンド
[State 700, snd]
type = PlaySnd
triggerall = palno = [11,12]
trigger1 = AnimElem = 3
value = 690,12
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

;擬似ヒット振動
[State 31000, Envshake]
type = EnvShake
trigger1 = AnimElem = 3
trigger1 = PalNo = [11,12]
ampl = 14
freq = 120
time = 20
supermovetime = 9999999999999
pausemovetime = 9999999999999

[state 700, change1]
type = changestate
trigger1 = AnimTime = 0
value = 9001
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;---------------------------------------------------------------------------
;デスチェイサー（空中へジャンプ）
[Statedef 9001]
type = a
movetype = A
physics = S
poweradd = 0
velset = 0,0
ctrl = 0

[State 181, アニメ変更]
type = Changeanim
triggerall = !ishelper
trigger1 = anim != 1501
value = 1501
ignorehitpause = 1

[State 速度]
Type = VelSet
Trigger1 = (animelemtime(1) = [0,3]) || (animelemtime(2) = [0,3]) || (animelemtime(3) = [0,3])
Trigger2 = (animelemtime(4) = [0,3]) || (animelemtime(5) = [0,2])
x = 5
y = -5

[State 移動]
Type = PosAdd
Trigger1 = (animelemtime(1) = [0,3]) || (animelemtime(2) = [0,3]) || (animelemtime(3) = [0,3])
Trigger2 = (animelemtime(4) = [0,3]) || (animelemtime(5) = [0,3])
x = 5
y = -5

[State 停止]
Type = VelSet
Trigger1 = AnimElem = 5
x = 0
y = 0

[state 700, change1]
type = changestate
trigger1 = Animelem = 5
value = 9002
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;---------------------------------------------------------------------------
;デスチェイサー（空中で攻撃）
[Statedef 9002]
type = S
movetype = A
physics = S
velset = 0
ctrl = 0
poweradd = 0

[State 181, アニメ変更]
type = Changeanim
triggerall = palno != [11,12]
triggerall = !ishelper
trigger1 = anim != 1402
value = 1402
ignorehitpause = 1

[State 181, アニメ変更]
type = Changeanim
triggerall = palno = [11,12]
triggerall = !ishelper
trigger1 = anim != 1502
value = 1502
ignorehitpause = 1

[state 710, 攻撃1発目]
type = hitdef
triggerall = palno != [11,12]
trigger1 = PalNo = [1,9]
trigger1 =  AnimElem = 2
attr = A, SA
damage = 75,10
animtype = hard
guardFlag = 
hitflag = maf
pausetime = 10,7
sparkno = s9991
guard.sparkno = s9110
sparkxy = -2, -70
hitsound = s690,13
guardsound = s490,0
ground.hittime = 20
ground.type = high
ground.slidetime = 20
ground.velocity = 0,-3
air.velocity = 0,-3
fall = 1
air.fall = 1
fallrecover = 0
envshake.time = 20
envshake.freq = 120
envshake.ampl = 14
fall.envshake.time = 30
fall.envshake.freq = 70
fall.envshake.ampl = 14
fall.envshake.phase = 20

[state 710, 10P1発目]
type = hitdef
triggerall = palno != [11,12]
trigger1 = PalNo = 10
trigger1 =  AnimElem = 2
attr = A, SA
damage = 9999999,9999999
animtype = hard
guardFlag = 
hitflag = maf
pausetime = 10,7
sparkno = s9991
guard.sparkno = s9110
sparkxy = -2, -70
hitsound = s690,13
guardsound = s490,0
ground.hittime = 20
ground.type = high
ground.slidetime = 20
ground.velocity = 0,-3
air.velocity = 0,-3
fall = 1
air.fall = 1
fallrecover = 0
envshake.time = 20
envshake.freq = 120
envshake.ampl = 14
fall.envshake.time = 30
fall.envshake.freq = 70
fall.envshake.ampl = 14
fall.envshake.phase = 20
fall.damage = 9999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

;超即死オメガトムハンクスキラー
[State ];当身用ヘルパー
type = helper
triggerall = palno = [11,12]
triggerall = !Ishelper
trigger1 = numhelper(152)=0
id = 152
name = "OTHK1"
pos = 0,0
postype = P1
stateno = 152
helpertype = player
keyctrl = 0
ownpal = 1
ignorehitpause = 1
SuperMoveTime = 99999999999
PauseMoveTime = 99999999999

[State ];相手proj受けヘルパー
type = helper
triggerall = palno = [11,12]
triggerall = !Ishelper
triggerall = numhelper(151)=0
trigger1 = enemy(0),numprojid(1007)>0||enemy(0),stateno=5152
trigger2 = enemy(1),numprojid(1007)>0||enemy(1),stateno=5152
id = 151
name = "OTHK2"
pos = 0,0
postype = P1
stateno = 151
helpertype = player
keyctrl = 0
ownpal = 1
ignorehitpause = 1
SuperMoveTime = 99999999999
PauseMoveTime = 99999999999

[State 1];見えないように
type = AssertSpecial
trigger1 = Ishelper(151)
flag = Invisible
ignorehitpause = 1
pausemovetime = 99999999
supermovetime = 99999999

[State ];ステート抜け
type = Selfstate
triggerall = Ishelper(151)
trigger1 = var(29)!=gametime
trigger2 = stateno!=151
value = 151
ctrl = 0
ignorehitpause = 1
pausemovetime = 99999999
supermovetime = 99999999

[State ];ステート抜け
type = Selfstate
triggerall = Ishelper(152)
trigger1 = var(29)!=gametime
trigger2 = stateno!=152
value = 152
ctrl = 0
ignorehitpause = 1
pausemovetime = 99999999
supermovetime = 99999999

[State ];gametime
type = varset
trigger1 = 1
v = 29
value = gametime
ignorehitpause = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State ,攻撃判定]
type = Projectile
triggerall = !ishelper
triggerall = palno = [11,12]
triggerall = movetype = A
trigger1 = roundstate = 2
projanim = 20000
projremove = 0
projremovetime = 1
projheightbound = -1000000, 1000000
projedgebound = 1000000
projstagebound = 1000000
offset = 0, 0
attr = SCA, AA, AT, AP
hitflag = MAFD
damage   = 9999999
priority = 7, hit
projpriority = 9999999999999
yaccel = 1
sparkxy = 999, 999
supermovetime = 9999999999999
pausemovetime = 9999999999999
ignorehitpause = 1
p2stateno = 5152;相手を超即死ステートへ飛ばす
p2facing = 1
fall = 1
fall.damage = Enemy,LifeMax

[State 1703];画面を真っ白に
type = AllPalFX
trigger1 =  AnimElem = 2
time = 3
add = 256,256,256
color = time*256/90
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 712, 擬似ヒットスパーク]
type = explod
triggerall = palno = [11,12]
trigger1 =  AnimElem = 2
sprpriority = 6
postype = p2
pos = -2,-70
spacing = 1
anim = 9991
ownpal = 1
scale = 1.1, 1.1
supermovetime = 9999999999999
pausemovetime = 9999999999999

;擬似ヒットサウンド
[State 700, snd]
type = PlaySnd
triggerall = palno = [11,12]
trigger1 = AnimElem = 2
value = 690,13
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

;擬似ヒット振動
[State 31000, Envshake]
type = EnvShake
trigger1 = AnimElem = 2
trigger1 = PalNo = [11,12]
ampl = 14
freq = 120
time = 20
supermovetime = 9999999999999
pausemovetime = 9999999999999

[state 710, 攻撃2発目]
type = hitdef
triggerall = palno != [11,12]
trigger1 = PalNo = [1,9]
trigger1 =  AnimElem = 4
attr = A, SA
damage = 75,10
animtype = hard
guardFlag = 
hitflag = maf
pausetime = 10,7
sparkno = s9991
guard.sparkno = s9110
sparkxy = -2, -10
hitsound = s690,13
guardsound = s690,13
ground.hittime = 20
ground.type = high
ground.slidetime = 20
ground.velocity = -4,22
air.velocity = -4,22
fall = 1
air.fall = 1
fallrecover = 0
envshake.time = 20
envshake.freq = 120
envshake.ampl = 14
fall.envshake.time = 30
fall.envshake.freq = 70
fall.envshake.ampl = 14
fall.envshake.phase = 20
p2stateno = 7010

[state 710, 10P2発目]
type = hitdef
triggerall = palno != [11,12]
trigger1 = PalNo = 10
trigger1 =  AnimElem = 4
attr = A, SA
damage = 9999999,9999999
animtype = hard
guardFlag = 
hitflag = maf
pausetime = 10,7
sparkno = s9991
guard.sparkno = s9110
sparkxy = -2, -10
hitsound = s690,13
guardsound = s690,13
ground.hittime = 20
ground.type = high
ground.slidetime = 20
ground.velocity = -4,22
air.velocity = -4,22
fall = 1
air.fall = 1
fallrecover = 0
envshake.time = 20
envshake.freq = 120
envshake.ampl = 14
fall.envshake.time = 30
fall.envshake.freq = 70
fall.envshake.ampl = 14
fall.envshake.phase = 20
p2stateno = 7010
fall.damage = 9999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1703];画面を真っ白に
type = AllPalFX
trigger1 =  AnimElem = 4
time = 3
add = 256,256,256
color = time*256/90
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 712, 擬似ヒットスパーク]
type = explod
triggerall = palno = [11,12]
trigger1 =  AnimElem = 4
sprpriority = 6
postype = p2
pos = -2,-10
spacing = 1
anim = 9991
ownpal = 1
scale = 1.1, 1.1
supermovetime = 9999999999999
pausemovetime = 9999999999999

;擬似ヒットサウンド
[State 700, snd]
type = PlaySnd
triggerall = palno = [11,12]
trigger1 = AnimElem = 4
value = 690,13
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

;擬似ヒット振動
[State 31000, Envshake]
type = EnvShake
trigger1 = AnimElem = 4
trigger1 = PalNo = [11,12]
ampl = 14
freq = 120
time = 20
supermovetime = 9999999999999
pausemovetime = 9999999999999

[state 700, change1]
type = changestate
trigger1 = Animelem = 6
value = 9003
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;---------------------------------------------------------------------------
;デスチェイサー（相手を踏んづけるところ）
[Statedef 9003]
type = S
movetype = A
physics = S
velset = 0
ctrl = 0
poweradd = 0

[State 181, アニメ変更]
type = Changeanim
triggerall = palno != [11,12]
triggerall = !ishelper
trigger1 = anim != 1403
value = 1403
ignorehitpause = 1

[State 181, アニメ変更]
type = Changeanim
triggerall = palno = [11,12]
triggerall = !ishelper
trigger1 = anim != 1503
value = 1503
ignorehitpause = 1

[State 速度]
Type = VelSet
triggerall = palno != 12
Trigger1 = (AnimElem = 1) || (AnimElem = 2) || (AnimElem = 3)
x = 12
y = 12

[State 移動]
Type = PosAdd
triggerall = palno != 12
Trigger1 = (AnimElem = 1) || (AnimElem = 2) || (AnimElem = 3)
x = 9
y = 9

[State 停止]
Type = VelSet
triggerall = palno != 12
Trigger1 = AnimElem = 3
x = 0
y = 0

[State 速度]
Type = VelSet
triggerall = palno = 12
Trigger1 = (animelemtime(1) = [0,3]) || (animelemtime(2) = [0,3]) || (animelemtime(3) = [0,9])
x = 8
y = 8

[State 移動]
Type = PosAdd
triggerall = palno = 12
Trigger1 = (animelemtime(1) = [0,3]) || (animelemtime(2) = [0,3]) || (animelemtime(3) = [0,9])
x = 9
y = 9

[State 停止]
Type = VelSet
triggerall = palno = 12
Trigger1 = animelemtime(3) = 10
x = 0
y = 0

[State 400, ヒット定義]
type = HitDef
triggerall = palno != [11,12]
trigger1 = PalNo = [1,9]
trigger1 =  AnimElem = 3
attr = C, NA
damage    = 410
priority  = 3
animtype  = Light
hitflag = MAFD
guardflag = 
pausetime = 12,12
sparkno = s9991
guard.sparkno = s9110
sparkxy = -30, 0
hitsound = s690,13
guardsound = s690,13
ground.type = Low
ground.slidetime = 4
ground.hittime  = ifelse(EnemyNear,statetype = L,1,12)
air.hittime  = ifelse(EnemyNear,statetype = L,1,12)
ground.velocity = -0,-2
air.velocity = -0,-2
fall.recovertime = ifelse(EnemyNear,GethitVar(hitcount) >= 10,1,22)
envshake.time = 30
envshake.freq = 120
envshake.ampl = 20
fall.envshake.time = 20
fall.envshake.freq = 70
fall.envshake.ampl = 5
fall.envshake.phase = 20

[State 400, ヒット定義（10P）]
type = HitDef
triggerall = palno != [11,12]
trigger1 = PalNo = 10
trigger1 =  AnimElem = 3
attr = C, NA
damage    = 9999999,9999999
priority  = 3
animtype  = Light
hitflag = MAFD
guardflag = 
pausetime = 12,12
sparkno = s9991
guard.sparkno = s9110
sparkxy = -2, 9
hitsound = s690,13
guardsound = s690,13
ground.type = Low
ground.slidetime = 4
ground.hittime  = ifelse(EnemyNear,statetype = L,1,12)
air.hittime  = ifelse(EnemyNear,statetype = L,1,12)
ground.velocity = -0,-2
air.velocity = -0,-2
fall.recovertime = ifelse(EnemyNear,GethitVar(hitcount) >= 10,1,22)
envshake.time = 30
envshake.freq = 120
envshake.ampl = 20
fall.envshake.time = 20
fall.envshake.freq = 70
fall.envshake.ampl = 5
fall.envshake.phase = 20
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State ,落下即死用proj1]
type = Projectile
triggerall = !ishelper
triggerall = palno = 12
triggerall = movetype = A
triggerall = enemynear,name != "Megalith"
trigger1 = roundstate = 2
projanim = 20000
projremove = 0
projremovetime = 1
projheightbound = -1000000, 1000000
projedgebound = 1000000
projstagebound = 1000000
offset = 0, 0
attr = SCA, AA, AT, AP
hitflag = MAFD
damage   = 0
priority = 7, hit
projpriority = 9999999999999
yaccel = 1
sparkxy = 999, 999
supermovetime = 9999999999999
pausemovetime = 9999999999999
ignorehitpause = 1
fall = 1
fall.damage = Enemy,LifeMax

[State ,落下即死用proj 対メガリス専用]
type = Projectile
triggerall = !ishelper
triggerall = palno = 12
triggerall = movetype = A
triggerall = enemynear,name = "Megalith"
trigger1 = roundstate = 2
projanim = 20000
projremove = 0
projremovetime = 1
projheightbound = -1000000, 1000000
projedgebound = 1000000
projstagebound = 1000000
offset = 0, 0
attr = SCA, AA, AT, AP
hitflag = MAFD
damage   = 0
priority = 7, hit
projpriority = 9999999999999
yaccel = 1
sparkxy = 999, 999
supermovetime = 9999999999999
pausemovetime = 9999999999999
ignorehitpause = 1
fall = 1
fall.damage = -2147483648

;超即死オメガトムハンクスキラー
[State ];当身用ヘルパー
type = helper
triggerall = palno = [11,12]
triggerall = !Ishelper
trigger1 = numhelper(152)=0
id = 152
name = "OTHK1"
pos = 0,0
postype = P1
stateno = 152
helpertype = player
keyctrl = 0
ownpal = 1
ignorehitpause = 1
SuperMoveTime = 99999999999
PauseMoveTime = 99999999999

[State ];相手proj受けヘルパー
type = helper
triggerall = palno = [11,12]
triggerall = !Ishelper
triggerall = numhelper(151)=0
trigger1 = enemy(0),numprojid(1007)>0||enemy(0),stateno=5152
trigger2 = enemy(1),numprojid(1007)>0||enemy(1),stateno=5152
id = 151
name = "OTHK2"
pos = 0,0
postype = P1
stateno = 151
helpertype = player
keyctrl = 0
ownpal = 1
ignorehitpause = 1
SuperMoveTime = 99999999999
PauseMoveTime = 99999999999

[State 1];見えないように
type = AssertSpecial
trigger1 = Ishelper(151)
flag = Invisible
ignorehitpause = 1
pausemovetime = 99999999
supermovetime = 99999999

[State ];ステート抜け
type = Selfstate
triggerall = Ishelper(151)
trigger1 = var(29)!=gametime
trigger2 = stateno!=151
value = 151
ctrl = 0
ignorehitpause = 1
pausemovetime = 99999999
supermovetime = 99999999

[State ];ステート抜け
type = Selfstate
triggerall = Ishelper(152)
trigger1 = var(29)!=gametime
trigger2 = stateno!=152
value = 152
ctrl = 0
ignorehitpause = 1
pausemovetime = 99999999
supermovetime = 99999999

[State ];gametime
type = varset
trigger1 = 1
v = 29
value = gametime
ignorehitpause = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State ,攻撃判定]
type = Projectile
triggerall = !ishelper
triggerall = palno = [11,12]
triggerall = movetype = A
trigger1 = roundstate = 2
projanim = 20000
projremove = 0
projremovetime = 1
projheightbound = -1000000, 1000000
projedgebound = 1000000
projstagebound = 1000000
offset = 0, 0
attr = SCA, AA, AT, AP
hitflag = MAFD
damage   = 9999999
priority = 7, hit
projpriority = 9999999999999
yaccel = 1
sparkxy = 999, 999
supermovetime = 9999999999999
pausemovetime = 9999999999999
ignorehitpause = 1
p2stateno = 5152;相手を超即死ステートへ飛ばす
p2facing = 1
fall = 1
fall.damage = Enemy,LifeMax

;効果音
[State 3021: 	PlaySnd]
type = PlaySnd
trigger1 = (AnimElem = 3)
value = S690,13
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3021: 	PlaySnd]
type = PlaySnd
trigger1 = (AnimElem = 3)
value = S690,14
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3021: 	PlaySnd]
type = PlaySnd
trigger1 = (AnimElem = 3)
value = S690,12
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3021: 	PlaySnd]
type = PlaySnd
trigger1 = (AnimElem = 3)
value = S690,11
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3021: 	PlaySnd]
type = PlaySnd
trigger1 = (AnimElem = 3)
value = S1,0
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3021:	PlaySnd]
type = PlaySnd
trigger1 = (AnimElem = 3)
value = S27,12
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3021:	PlaySnd]
type = PlaySnd
trigger1 = (AnimElem = 3)
value = S2,6
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1703];画面を真っ白に
type = AllPalFX
trigger1 =  AnimElem = 3
time = 6
add = 256,256,256
color = time*256/90
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 712, 岩]
type = explod
trigger1 =  AnimElem = 3
sprpriority = 5
postype = p1
pos = -5,-11
spacing = 1
anim = 31000
ownpal = 1
scale = 1.1, 1.1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 712, 岩その2]
type = explod
trigger1 =  AnimElem = 3
sprpriority = 5
postype = p1
pos = 80,-11
spacing = 1
anim = 31000
ownpal = 1
scale = 1.1, 1.1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 712, 爆発]
type = explod
trigger1 =  AnimElem = 3
sprpriority = 6
postype = p1
pos = 20,20
spacing = 1
anim = 9310
ownpal = 1
scale = 1.1, 1.1
supermovetime = 9999999999999
pausemovetime = 9999999999999

;擬似ヒット振動
[State 31000, Envshake]
type = EnvShake
trigger1 = AnimElem = 3
trigger1 = PalNo = [11,12]
ampl = 30
freq = 120
time = 20
supermovetime = 9999999999999
pausemovetime = 9999999999999

[state 700, change1]
type = changestate
trigger1 = Animelem = 5
value = 50
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;---------------------------------------------------------------------------
;カオティック・デッドエンド（開始時）
[Statedef 9500]
type = S
movetype = A
physics = S
velset = 0
ctrl = 0
poweradd = 0

[State 181, アニメ変更]
type = Changeanim
triggerall = !ishelper
trigger1 = anim != 1360
value = 1360
ignorehitpause = 1

[State 910, Super A]
type = SuperPause
triggerall = palno != [11,12]
trigger1 = time = 0
anim = -1
pos = -28, -67
sound = s191, 8
poweradd = -3000
time = 58
movetime = 0

[State sokusi];背景真っ黒にする用
type = Explod
trigger1 = PalNo != [11,12]
trigger1 = time = 0
id = 10007
anim = 10007
ownpal = 1
sprpriority = -9999999
scale= 0.5,0.8
postype = back
bindtime = -1
pausemovetime = 2000000000
supermovetime = 2000000000

;必殺エフェクト

;下位カラー
[State 2000, 必殺エフェクト]
type = Helper
triggerall = !Ishelper
trigger1 = palno != 12
trigger1 = Time = 0
helpertype = normal
stateno = 1004
ID = 1004
name = "efe"
postype = p1
pos = ceil(-7 * const(size.xscale)), ceil(-80 * const(size.yscale))
SuperMovetime = 9999
PauseMovetime = 9999
ownpal = 1

;上位カラー
[State sokusi]
type = Explod
trigger1 = PalNo = 12
trigger1 = animelemtime(1) = 0
id = 10017
anim = 10017
ownpal = 1
sprpriority = 5
pos = -1,-67
pausemovetime = 2000000000
supermovetime = 2000000000

[State sokusi]
type = Explod
trigger1 = PalNo = 12
trigger1 = animelemtime(1) = 0
id = 10018
anim = 10018
ownpal = 1
sprpriority = 5
pos = -1,-67
pausemovetime = 2000000000
supermovetime = 2000000000

[State , カットイン]
type = Helper
triggerall = !Ishelper
triggerall = palno != 7
trigger1 = palno != 12
trigger1 = Time = 0
helpertype = normal
stateno = 1003
ID = 1003
name = "Cutin"
postype = p1
pos= ceil(-7 * const(size.xscale)), ceil(-75 * const(size.yscale))
SuperMovetime = 9999
PauseMovetime = 9999
ownpal = 1

[State , カットイン]
type = Helper
triggerall = !Ishelper
triggerall = palno = 7
trigger1 = palno != 12
trigger1 = Time = 0
helpertype = normal
stateno = 1006
ID = 1006
name = "Cutin2"
postype = p1
pos= ceil(-7 * const(size.xscale)), ceil(-75 * const(size.yscale))
SuperMovetime = 9999
PauseMovetime = 9999
ownpal = 1

;効果音
[State 700, snd]
type = PlaySnd
trigger1 = AnimElem = 2
value = s690,16
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

;ボイス（ノーマルカラー）
[State 700, snd]
type = PlaySnd
triggerall = palno != 7
trigger1 = AnimElem = 2
value = 190,58
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

;ボイス（7Pカラー）
[State 700, snd]
type = PlaySnd
triggerall = palno = 7
trigger1 = AnimElem = 1
value = 390,2
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 700, hit]
type = HitDef
triggerall = palno != 12
triggerall = enemynear,name != "yujiro";演出事故防止用？
trigger1 = PalNo = [1,9]
trigger1 = Animelem = 2
attr = S, NA
damage = 75,10
animtype = diagup;hard
hitflag = MAF
guardflag = MA
sparkxy = -30,-85
sparkno = s9311
guard.sparkno = -1
hitsound = s690,5
guardsound = 0
pausetime = 16,16
ground.hittime = 20
ground.type = high
ground.slidetime = 20
ground.velocity = -3, -10
air.velocity = -3, -10
airguard.velocity = -1, -8
fall = 1
fall.recover = 1
air.juggle = 10
yaccel = .2
envshake.time = 20
envshake.freq = 120
envshake.ampl = 14
kill = 0
P1StateNo = 9501
P2StateNo = 9601

[State 700, hit]
type = HitDef
triggerall = palno != 12
triggerall = enemynear,name != "yujiro";演出事故防止用？
trigger1 = PalNo = [10,11]
trigger1 = Animelem = 2
attr = S, NA
damage = 9999999,9999999
animtype = diagup;hard
hitflag = MAF
guardflag =
sparkxy = -30,-85
sparkno = s9311
guard.sparkno = s9110
hitsound = s690,5
guardsound = 0
pausetime = 16,16
ground.hittime = 20
ground.type = high
ground.slidetime = 20
ground.velocity = -3, -10
air.velocity = -3, -10
airguard.velocity = -1, -8
fall = 1
fall.recover = 1
air.juggle = 10
yaccel = .2
envshake.time = 20
envshake.freq = 120
envshake.ampl = 14
kill = 0
P1StateNo = 9501
P2StateNo = 9601

[State 730, デスビーム]
type = Explod
trigger1 = Animelem = 2
anim = 3003
pos = 50,-99
postype = p1
sprpriority = 4
supermove = 1
bindtime = 1
ownpal = 1
scale = 5.0, 1.0
supermovetime = 9999999999999
pausemovetime = 9999999999999

;超即死オメガトムハンクスキラー
[State ];当身用ヘルパー
type = helper
triggerall = palno = [11,12]
triggerall = !Ishelper
trigger1 = numhelper(152)=0
id = 152
name = "OTHK1"
pos = 0,0
postype = P1
stateno = 152
helpertype = player
keyctrl = 0
ownpal = 1
ignorehitpause = 1
SuperMoveTime = 99999999999
PauseMoveTime = 99999999999

[State ];相手proj受けヘルパー
type = helper
triggerall = palno = [11,12]
triggerall = !Ishelper
triggerall = numhelper(151)=0
trigger1 = enemy(0),numprojid(1007)>0||enemy(0),stateno=5152
trigger2 = enemy(1),numprojid(1007)>0||enemy(1),stateno=5152
id = 151
name = "OTHK2"
pos = 0,0
postype = P1
stateno = 151
helpertype = player
keyctrl = 0
ownpal = 1
ignorehitpause = 1
SuperMoveTime = 99999999999
PauseMoveTime = 99999999999

[State 1];見えないように
type = AssertSpecial
trigger1 = Ishelper(151)
flag = Invisible
ignorehitpause = 1
pausemovetime = 99999999
supermovetime = 99999999

[State ];ステート抜け
type = Selfstate
triggerall = Ishelper(151)
trigger1 = var(29)!=gametime
trigger2 = stateno!=151
value = 151
ctrl = 0
ignorehitpause = 1
pausemovetime = 99999999
supermovetime = 99999999

[State ];ステート抜け
type = Selfstate
triggerall = Ishelper(152)
trigger1 = var(29)!=gametime
trigger2 = stateno!=152
value = 152
ctrl = 0
ignorehitpause = 1
pausemovetime = 99999999
supermovetime = 99999999

[State ];gametime
type = varset
trigger1 = 1
v = 29
value = gametime
ignorehitpause = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State ,攻撃判定]
type = Projectile
triggerall = !ishelper
triggerall = palno = [11,12]
triggerall = movetype = A
trigger1 = roundstate = 2
projanim = 20000
projremove = 0
projremovetime = 1
projheightbound = -1000000, 1000000
projedgebound = 1000000
projstagebound = 1000000
offset = 0, 0
attr = SCA, AA, AT, AP
hitflag = MAFD
damage   = 9999999
priority = 7, hit
projpriority = 9999999999999
yaccel = 1
sparkxy = 999, 999
supermovetime = 9999999999999
pausemovetime = 9999999999999
ignorehitpause = 1
palfx.time = 30
palfx.add = 175,0,0
palfx.sinadd = 0,50,50,10
palfx.color = 0
palfx.invertall = 1
p2stateno = 5152;相手を超即死ステートへ飛ばす
p2facing = 1
fall = 1
fall.damage = Enemy,LifeMax

[state 700, change1]
type = changestate
trigger1 = Animelem = 3
value = 0
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;---------------------------------------------------------------------------
;カオティック・デッドエンド（自分側）
[Statedef 9501]
type = S
movetype = A
physics = S
velset = 0
ctrl = 0
anim = 1361
poweradd = 0

;演出事故防止用の無敵
[State ]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NT,ST,HT,NP,SP,HP

;血ヘルパーその1
[State a]
type = Helper
triggerall = NumHelper(9801) = 0
trigger1 = AnimElem = 1
trigger1 = PalNo != 12
helpertype = normal
name = "efe2"
ID = 9801
stateno = 9801
pos = 0,-217
postype = back
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1
persistent = 0
size.xscale = 1.0
size.yscale = 1.0

;血ヘルパーその2
[State a]
type = Helper
triggerall = NumHelper(9802) = 0
trigger1 = time = 1
trigger1 = PalNo != 12
helpertype = normal
name = "efe3"
ID = 9802
stateno = 9802
pos = 5,-55
postype = p2    
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1
persistent = 0

[State 210, SE1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 690, 2
channel = 0
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 210, SE2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 690, 3
channel = 0
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 210, SE3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 690, 4
channel = 0
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State -1]
type = assertspecial
trigger1 = time >= 0
flag = nofg
flag2 = nobardisplay
pausemovetime = 9999
supermovetime = 9999

[State 2000]
type =allPalFx
trigger1 = time = 0
add = 256,256,256
sinadd = -256,-256,-256,20
time = 5
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 2000]
type =bgPalFx
trigger1 = time >= 0
add = 256,-256,-256
time = 2
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 2000]
type =PalFx
trigger1 = time >= 0
add = -256,-256,-256
time = 2
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 2000]
type =allPalFx
trigger1 = time = 140
add = 0,0,0
sinadd = -512,-256,-256,40
time = 10
supermovetime = 9999999999999
pausemovetime = 9999999999999

[state 700, change1]
type = changestate
trigger1 = Animelem = 2
value = 9502
ctrl = 1

;---------------------------------------------------------------------------
;カオティック・デッドエンド（相手側）
[Statedef 9601]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0
sprpriority = 0

[State 3007, 0]
type = NotHitBy
trigger1 = alive = 0
value = SCA

[State 3007, 0]
type = ChangeAnim2
trigger1 = Time = 0
value = 1362

[State 3012, 1]
type = CtrlSet
triggerall = RoundState != 2
trigger1 = time >= 2
value = 1

[State 3012, 1]
type = StateTypeSet
triggerall = RoundState != 2
trigger1 = time >= 2
statetype = S
movetype = I
physics = S

[State 3012, 1]
type = PosFreeze
trigger1 = 1
value = 1

[State -1]
type = assertspecial
trigger1 = time >= 0
flag = nofg
flag2 = nobardisplay
pausemovetime = 9999
supermovetime = 9999

[State 2000]
type =allPalFx
trigger1 = time = 0
add = 256,256,256
sinadd = -256,-256,-256,20
time = 5
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 2000]
type =bgPalFx
trigger1 = time >= 0
add = 256,-256,-256
time = 2
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 2000]
type =PalFx
trigger1 = time >= 0
add = -256,-256,-256
time = 2
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 2000]
type =allPalFx
trigger1 = time = 140
add = 0,0,0
sinadd = -512,-256,-256,40
time = 10
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3012, 1]
type = PlayerPush
trigger1 = 1
value = 0

[state 700, change1]
type = changestate
trigger1 = time = 150
value = 9602
ctrl = 1

;---------------------------------------------------------------------------
;カオティック・デッドエンド（相手側その2）
[Statedef 9602]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0
sprpriority = 0

[State 3007, 0]
type = NotHitBy
trigger1 = alive = 0
value = SCA

[State 3007, 0]
type = ChangeAnim2
trigger1 = Time = 0
value = 1362

[State 3012, 1]
type = CtrlSet
triggerall = RoundState != 2
trigger1 = time >= 2
value = 1

[State 3012, 1]
type = StateTypeSet
triggerall = RoundState != 2
trigger1 = time >= 2
statetype = S
movetype = I
physics = S

[State 3012, 1]
type = PosFreeze
trigger1 = 1
value = 1

[State 3012, 1]
type = PlayerPush
trigger1 = 1
value = 0

;---------------------------------------------------------------------------
;カオティック・デッドエンド（止めの一撃）
[Statedef 9502]
type = S
movetype = A
physics = S
velset = 0
ctrl = 0
anim = 1363
poweradd = 0

;演出事故防止用の無敵
[State ]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NT,ST,HT,NP,SP,HP

;ボイス（ノーマルカラー）
[State 700, snd]
type = PlaySnd
triggerall = palno != 7
trigger1 = AnimElem = 1
value = 0,6
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

;ボイス（7Pカラー）
[State 700, snd]
type = PlaySnd
triggerall = palno = 7
trigger1 = AnimElem = 1
value = 390,24
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1703];画面を真っ白に
type = AllPalFX
trigger1 = PalNo != 12
trigger1 =  AnimElem = 3
time = 6
add = 256,256,256
color = time*256/90
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1005, 4]
type = Projectile
trigger1 = PalNo = [1,9]
trigger1 = AnimElem = 3
projanim = 1364
projhitanim = 9310
offset = 0,-95
velocity = 99
attr = S, SP
damage   = 490
animtype = back
guardflag = MA
pausetime = 0,9
sparkno = -1
sparkxy =  20, 0
guard.sparkno = -1
hitsound   = s690,6
guardsound = s6,0
ground.type = Trip
ground.slidetime = 14
ground.hittime  = 16
ground.velocity = -8,-5
air.velocity = -8,-5
air.juggle = 3
palfx.time = 30
palfx.add = 175,70,0
palfx.sinadd = 0,50,50,10
palfx.color = 0
palfx.invertall = 1
envshake.time = 30
envshake.freq = 120
envshake.ampl = 20

[State 1005, 4]
type = Projectile
trigger1 = PalNo = [10,11]
trigger1 = AnimElem = 3
projanim = 1364
projhitanim = 9310
offset = 0,-95
velocity = 99
attr = S, SP
damage   = 9999999
animtype = back
guardflag =
pausetime = 0,9
sparkno = -1
sparkxy =  20, 0
guard.sparkno = -1
hitsound   = s690,6
guardsound = s6,0
ground.type = Trip
ground.slidetime = 14
ground.hittime  = 16
ground.velocity = -8,-5
air.velocity = -8,-5
air.juggle = 3
palfx.time = 30
palfx.add = 175,70,0
palfx.sinadd = 0,50,50,10
palfx.color = 0
palfx.invertall = 1
envshake.time = 30
envshake.freq = 120
envshake.ampl = 20
fall = 1
fall.damage = 9999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[state 700, change1]
type = changestate
trigger1 = Animelem = 4
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ヘルズコンビネーション
[Statedef 1042]
type = S
movetype = A
physics = S
velset = 0
ctrl = 0
poweradd = 40

[State 181, アニメ変更]
type = Changeanim
triggerall = !ishelper
trigger1 = anim != 2042
value = 2042
ignorehitpause = 1

[State 0, 1]
type = PosAdd
trigger1 = AnimElem = 4
x = 46

[State 712, 擬似ヒットスパーク]
type = explod
triggerall = palno = 12
trigger1 = AnimElem = 3
sprpriority = 6
postype = p2
pos = -30,-73
spacing = 1
anim = 9990
ownpal = 1
scale = 1.1, 1.1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1703];画面を真っ白に
type = AllPalFX
triggerall = palno = 12
trigger1 = AnimElem = 3
time = 3
add = 256,256,256
color = time*256/90
supermovetime = 9999999999999
pausemovetime = 9999999999999

;擬似ヒットサウンド
[State 700, snd]
type = PlaySnd
triggerall = palno = 12
trigger1 = AnimElem = 3
value = 690,13
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

;擬似ヒット振動
[State 31000, Envshake]
type = EnvShake
triggerall = palno = 12
trigger1 = AnimElem = 3
ampl = 15
freq = 120
time = 30
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 210, ボイス]
type = PlaySnd
triggerall = palno != 7
trigger1 = AnimElem = 2
value = 0, 17
channel = 0
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 210, ボイス]
type = PlaySnd
triggerall = palno = 7
trigger1 = AnimElem = 2
value = 390, 18
channel = 0
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 0, 1]
type = Width
trigger1 = AnimElemTime(2) >=0 && AnimElemTime(4) < 0
;edge = 0,0
player = 50,0

[State 210, 効果音]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1, 6
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

;[State 100, 1]
;type = MakeDust
;trigger1 = AnimElemTime(2) >=0 && AnimElemTime(6) < 0
;pos = 0, 0
;spacing = 1

[State 410, 1]
type = VelSet
trigger1 = AnimElemTime(2) >=0 && AnimElemTime(6) < 0
x = 10

;命中時フラッシュ
[State ]
type = EnvColor
trigger1 = MoveHit
value = 255,255,255
time = 5
persistent = 0
ignorehitpause = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 4001, HitDef]
type = HitDef
triggerall = palno != 12
trigger1 = AnimElem = 3
attr = S, SA
animtype = Hard
damage = 39,8
hitflag = MAF
guardflag = HA
pausetime = 10, 10
sparkno = s9990
sparkxy = Ifelse(P2BodyDist X < 50, -40,0),-40
hitsound = s690,13
guardsound = 6,0
ground.type = High
ground.slidetime = 13
ground.hittime = 26
ground.velocity = -5,0
guard.velocity = -6
air.velocity = -12,3
airguard.velocity = -6,-1
down.velocity = -12,0
down.hittime = 26
air.fall = 1
fall.recover = 1
fall.envshake.time = 10
envshake.time = 20
envshake.freq = 120
envshake.ampl = 12

[State 0, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 1050

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;------------------------------------------------------------------------
;ヘルズコンビネーション２発目
[Statedef 1050]
type = S
movetype = A
physics	= N
velset = 0,0
ctrl = 0
poweradd = 10
juggle = 1
facep2 = (IfElse((PrevStateNo = 8030),0,1))
hitdefpersist = 0
movehitpersist = 0
hitcountpersist	= 0
sprpriority = 2

[State 181, アニメ変更]
type = Changeanim
triggerall = !ishelper
trigger1 = anim != 2045
value = 2045
ignorehitpause = 1

[State 1020:	StateTypeSet]
type = StateTypeSet
trigger1 = (Var(20) = 1)
statetype = A
physics	= N

[State 210, ボイス]
type = PlaySnd
triggerall = palno != 7
trigger1 = AnimElem = 2
value = 0, 18
channel = 0
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 210, ボイス]
type = PlaySnd
triggerall = palno = 7
trigger1 = AnimElem = 2
value = 390, 22
channel = 0
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 712, 擬似ヒットスパーク]
type = explod
triggerall = palno = 12
trigger1 = AnimElem = 2
sprpriority = 6
postype = p2
pos = -30,-100
spacing = 1
anim = 9320
ownpal = 1
scale = 1.1, 1.1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1703];画面を真っ白に
type = AllPalFX
triggerall = palno = 12
trigger1 = AnimElem = 2
time = 3
add = 256,256,256
color = time*256/90
supermovetime = 9999999999999
pausemovetime = 9999999999999

;擬似ヒットサウンド
[State 700, snd]
type = PlaySnd
triggerall = palno = 12
trigger1 = AnimElem = 2
value = 690,14
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

;擬似ヒット振動
[State 31000, Envshake]
type = EnvShake
triggerall = palno = 12
trigger1 = AnimElem = 2
ampl = 20
freq = 120
time = 40
supermovetime = 9999999999999
pausemovetime = 9999999999999

;命中時フラッシュ
[State ]
type = EnvColor
trigger1 = MoveHit
value = 255,255,255
time = 5
persistent = 0
ignorehitpause = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 4001, HitDef]
type = HitDef
triggerall = palno != 12
trigger1 = AnimElem = 2
attr = S, SA
animtype = Up
damage = 50,3
hitflag = MAF
guardflag = MA
pausetime = 4, 4
hitsound = s690,14
guardsound = 6,0
sparkno = s9320
sparkxy = -30,-100
ground.type = High
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -1.5,-6.4
air.velocity = -1.5,-6.4
guard.velocity = -7
fall = 1
fall.recover = 1
fall.envshake.time = 10
envshake.time = 40
envshake.freq = 120
envshake.ampl = 20

[State 0,]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;------------------------------------------------------------------------
;武空脚
[Statedef 670]
type    = A
movetype =  A
physics = n
juggle = 1
ctrl = 0
poweradd = 0

[State 181, アニメ変更]
type = Changeanim
triggerall = !ishelper
trigger1 = anim != 670
value = 670
ignorehitpause = 1

[state 670, 0]
type = velset
trigger1 = animelemtime(1) <= 10
x = 0
y = 0

[State 670, 1]
type = VelSet
trigger1 = animelem = 5
x = 8
y = 12

[State 670, 効果音]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1,6
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 670, ボイス]
type = PlaySnd
triggerall = palno != 7
trigger1 = AnimElem = 1
value = 22, 5
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 670, ボイス]
type = PlaySnd
triggerall = palno = 7
trigger1 = AnimElem = 1
value = 390, 23
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 670, afterimage]
type = AfterImage
trigger1 = animelem = 5
time = 10
trans = add1
timegap = 1
framegap = 2
length = 8
palbright = 12,12,12
palcontrast = 225,225,225
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1

[State 712, 擬似ヒットスパーク]
type = explod
triggerall = palno = 12
trigger1 = AnimElem=1
trigger2 = AnimElem=2
trigger3 = AnimElem=3
trigger4 = AnimElem=4
trigger5 = AnimElem=5
trigger6 = AnimElem=6
trigger7 = AnimElem=7
trigger8 = AnimElem=8
sprpriority = 6
postype = p2
pos = -15,15
spacing = 1
anim = 9990
ownpal = 1
scale = 1.1, 1.1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 1703];画面を真っ白に
type = AllPalFX
triggerall = palno = 12
trigger1 = AnimElem=1
trigger2 = AnimElem=2
trigger3 = AnimElem=3
trigger4 = AnimElem=4
trigger5 = AnimElem=5
trigger6 = AnimElem=6
trigger7 = AnimElem=7
trigger8 = AnimElem=8
time = 3
add = 256,256,256
color = time*256/90
supermovetime = 9999999999999
pausemovetime = 9999999999999

;擬似ヒットサウンド
[State 700, snd]
type = PlaySnd
triggerall = palno = 12
trigger1 = AnimElem=1
trigger2 = AnimElem=2
trigger3 = AnimElem=3
trigger4 = AnimElem=4
trigger5 = AnimElem=5
trigger6 = AnimElem=6
trigger7 = AnimElem=7
trigger8 = AnimElem=8
value = 690,13
Volume = 999999999
supermovetime = 9999999999999
pausemovetime = 9999999999999

;擬似ヒット振動
[State 31000, Envshake]
type = EnvShake
triggerall = palno = 12
trigger1 = AnimElem=1
trigger2 = AnimElem=2
trigger3 = AnimElem=3
trigger4 = AnimElem=4
trigger5 = AnimElem=5
trigger6 = AnimElem=6
trigger7 = AnimElem=7
trigger8 = AnimElem=8
ampl = 15
freq = 120
time = 30
supermovetime = 9999999999999
pausemovetime = 9999999999999

;命中時フラッシュ
[State ]
type = EnvColor
trigger1 = MoveHit
value = 255,255,255
time = 5
persistent = 0
ignorehitpause = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 0, 1]
type = HitDef
triggerall = palno != 12
trigger1 = AnimElem=1
trigger2 = AnimElem=2
trigger3 = AnimElem=3
trigger4 = AnimElem=4
trigger5 = AnimElem=5
trigger6 = AnimElem=6
trigger7 = AnimElem=7
trigger8 = AnimElem=8
attr = S, SA
damage = 20,8
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8,14
sparkno = s9991
sparkxy = -15, 15
hitsound = 690,13
guardsound = 6,0
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
airguard.velocity = -5, -4
ground.velocity = -3,4
air.velocity = -3,4
envshake.time = 20
envshake.freq = 120
envshake.ampl = 12
fall=1

[State 0, 1]
type = HitDef
triggerall = palno != 12
trigger1 = AnimElem=1
trigger2 = AnimElem=2
trigger3 = AnimElem=3
trigger4 = AnimElem=4
trigger5 = AnimElem=5
trigger6 = AnimElem=6
trigger7 = AnimElem=7
trigger8 = AnimElem=8
attr = S, SA
damage = 20,8
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8,14
sparkno = s9991
sparkxy = -20, 15
hitsound = s690, 13
guardsound = 6,0
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -3,4
air.velocity = -3,4
airguard.velocity = -5, -4
envshake.time = 20
envshake.freq = 120
envshake.ampl = 12
fall=1

[State 670, 4]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 676

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;---------------------着地
[Statedef 676]
type = S
physics = S
ctrl = 0

[State 181, アニメ変更]
type = Changeanim
triggerall = !ishelper
trigger1 = anim != 676
value = 676
ignorehitpause = 1

[State 676, 1]
type = VelSet
trigger1 = animelemtime(1) = 0
y = 0
x = 4.5

[State 676, 2]
type = PosSet
trigger1 = animelemtime(1) = 0
y = 0

[State 676, Land]
type = PlaySnd
trigger1 = animelemtime(1) = 1
value = 1,26
Volume = 999999999

[State 676, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;--------------------------２Ｐ側喰らいモーション
[Statedef 685]
type = S
movetype = H
physics = S
anim = 5002
ctrl = 0
facep2 = 1
velset = 0,0

[State 685, anim]
type = changeanim
trigger1 = time = 5
value = 5007

[State 685 state]
type = selfstate
trigger1 = time = 30
value = 5030

[Statedef 686]
type = S
movetype = H
physics = S
anim = 5012
ctrl = 0
facep2 = 1
velset = 0,0

[State 686, anim]
type = changeanim
trigger1 = time = 5
value = 5017

[State 686 state]
type = selfstate
trigger1 = time = 30
value = 5030

;---------------------------------------------------------------------------
;敵消滅技用ステ

;２Ｐ吹っ飛び
[Statedef 3008]
type = A
movetype = H
physics = N
velset = 0.0,10.0

[State 3008, 0]
type = NotHitBy
trigger1 = life = 0
value = SCA

[State 3008, 0]
type = VelAdd
trigger1 = Time >= 0 && Time < 2
x = .1

[State 3008, 1]
type = VelAdd
trigger1 = 1
y = .16

[State 3008, 2]
type = ChangeState
triggerall = Life = 0
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 3012
ctrl = 0

[State 3008, 3]
type = SelfState
triggerall = Life > 0
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 5100
ctrl = 0

;---------------------------------------------------------------------------
;敵消滅
[Statedef 3012]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0
sprpriority = 0

[State 3007, 0]
type = NotHitBy
trigger1 = alive = 0
value = SCA

[State 3007, 0]
type = ChangeAnim2
trigger1 = Time = 0
value = 5003

[State 3007, 1]
type = ChangeState
trigger1 = alive = 1
trigger1 = Time = 4
value = 3008
ctrl = 0

[State 3012, 0]
type = NotHitBy
trigger1 = alive = 0
value = SCA

[State 3012, 0]
type = AssertSpecial
trigger1 = alive = 0
trigger1 = 1
flag = invisible
flag2 = noshadow

[State 3012, 1]
type = CtrlSet
triggerall = RoundState != 2
trigger1 = time >= 2
value = 1

[State 3012, 1]
type = StateTypeSet
triggerall = RoundState != 2
trigger1 = time >= 2
statetype = S
movetype = I
physics = S

[State 3012, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3012, 1]
type = PosFreeze
trigger1 = 1
value = 1

[State 3012, 1]
type = PlayerPush
trigger1 = 1
value = 0

[State 3012, 1]
type = ScreenBound
trigger1 = time >= 2
value = 0

;---------------------------------------------------------------------------
;敵消滅技用ステその2

;２Ｐ吹っ飛び
[Statedef 3009]
type = A
movetype = H
physics = N
velset = -2.6,-2.8

[State 3008, 0]
type = NotHitBy
trigger1 = life = 0
value = SCA

[State 3008, 0]
type = VelAdd
trigger1 = Time >= 0 && Time < 2
x = .1

[State 3008, 1]
type = VelAdd
trigger1 = 1
y = .16

[State 3008, 2]
type = ChangeState
triggerall = Life = 0
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 3013
ctrl = 0

[State 3008, 3]
type = SelfState
triggerall = Life > 0
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 5100
ctrl = 0

;---------------------------------------------------------------------------
;敵消滅その2
[Statedef 3013]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0
sprpriority = 0

[State 3007, 0]
type = NotHitBy
trigger1 = alive = 0
value = SCA

[State 3007, 0]
type = ChangeAnim2
trigger1 = Time = 0
value = 5002

[State 3007, 1]
type = ChangeState
trigger1 = alive = 1
trigger1 = Time = 4
value = 3009
ctrl = 0

[State 3007, 0]
type = ChangeAnim2
trigger1 = Time = 0
value = 5002

[State 3012, 0]
type = NotHitBy
trigger1 = alive = 0
value = SCA

[State 3012, 0]
type = AssertSpecial
trigger1 = alive = 0
trigger1 = 1
flag = invisible
flag2 = noshadow

[State 3012, 1]
type = CtrlSet
triggerall = RoundState != 2
trigger1 = time >= 2
value = 1

[State 3012, 1]
type = StateTypeSet
triggerall = RoundState != 2
trigger1 = time >= 2
statetype = S
movetype = I
physics = S

[State 3012, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3012, 1]
type = PosFreeze
trigger1 = 1
value = 1

[State 3012, 1]
type = PlayerPush
trigger1 = 1
value = 0

[State 3012, 1]
type = ScreenBound
trigger1 = time >= 2
value = 0

;---------------------------------------------------------------------------
;空中投げ（掴み）
[Statedef 820]
Type    = A
MoveType= A
Physics = A
Juggle  = 0
Ctrl = 0
SprPriority = 2

[State 181, アニメ変更]
type = Changeanim
triggerall = !ishelper
trigger1 = anim != 820
value = 820
ignorehitpause = 1

[State 800, 1]
Type = HitDef
TriggerAll = Var(59) = 0
TriggerAll = Var(25)/10%10 < 3
triggerall = palno != 12
Trigger1 = AnimElem = 1
Trigger1 = P2StateNo != [154,155]
Attr = A, NT          ;ｓ：立ち　ｎ：通常　ｔ：投げ
HitFlag = AF          ;コンボの途中から投げが入らないよう設定してある
Priority = 0, Miss    ;１は優先順位が低いので技がでないかミスするという設定
SparkNo = -1          ;-をつければスパークエフェクトは無い
Guard.SparkNo = s160
SprPriority = 1       ;２Ｐより上にカンフーマンが表示される
P1Facing = ifelse (command = "holdfwd", 1, -1) ;前を押したらターンする設定
P2Facing = 1          ;？
P1StateNo = 830       ;投げが成功した場合の移動する１Ｐのステート
P2StateNo = 831       ;投げが成功した場合の移動する２Ｐのステート
Fall = 1
Air.Fall = 1

[State 800, 1]
Type = HitDef
TriggerAll = Var(59) != 0
TriggerAll = Var(25)/10%10 < 3
triggerall = palno != 12
Trigger1 = AnimElem = 1
Trigger1 = P2StateNo != [154,155]
Attr = A, NT
HitFlag = AF
Priority = 0, Miss
SparkNo = -1
Guard.SparkNo = s160
SprPriority = 1
P1Facing = ifelse (FrontEdgeDist<BackEdgeDist, 1, -1)
P2Facing = 1
P1StateNo = 830
P2StateNo = 831
Fall = 1
Air.Fall = 1

[State ]
Type = AttackDist
Trigger1 = 1
Value = 0
Persistent = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;---------------------------------------------------------------------------
;空中投げ（投げモーション）
[Statedef 830]
Type    = A
MoveType= A
Physics = N
Anim = 830

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State ]
Type = VarRandom
triggerall = palno != 7
Trigger1 = time = 0
V = 44
Range = 0,2
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = PlaySnd
triggerall = palno != 7
trigger1 = var(44) = 0
Trigger1 = AnimElem = 3
Volume = 999999999
Value = s0, 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = PlaySnd
triggerall = palno != 7
trigger1 = var(44) = 1
Trigger1 = AnimElem = 3
Volume = 999999999
Value = s0, 9
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = PlaySnd
triggerall = palno != 7
trigger1 = var(44) = 2
Trigger1 = AnimElem = 3
Volume = 999999999
Value = s190, 31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

;7Pボイス
[State ]
Type = PlaySnd
triggerall = palno = 7
Trigger1 = AnimElem = 3
Volume = 999999999
Value = s390, 31
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = VelSet
Trigger1 = Time = 0
X = 0
Y = 0

[State ]
Type = TargetBind
Trigger1 = AnimElem >= 1
Pos = 5, -45

[State ]
Type = Width
Trigger1 = AnimElem = 1
Edge = 30,0

[State ]
Type = TargetBind
Trigger1 = AnimElem = 2
Pos = 25, -15

[State ]
Type = VelSet
Trigger1 = AnimElem = 3
X = -1.6
Y = -3.1

[State ]
Type = VelAdd
Trigger1 = Time >= 20
Y = .32

[State ダメージ（ノーマルカラー）]
Type = TargetLifeAdd
triggerall = palno != [10,12]
Trigger1 = AnimElem = 3
Value = -65

[State ダメージ（10P〜11Pカラー）]
Type = TargetLifeAdd
triggerall = palno = [10,11]
Trigger1 = AnimElem = 3
Value = -2147483648

[State ]
Type = TargetState
Trigger1 = AnimElem = 3
Value = 832

[State ]
Type = CtrlSet
Trigger1 = Time = 50
Value = 1

[State ]
Type = ChangeState
Trigger1 = (Vel Y > 0) && (Pos Y >= 0)
Value = 52
Ctrl = 0

;---------------------------------------------------------------------------
;投げ・投げられている相手
[Statedef 831]
Type    = A
MoveType= H
Physics = N
VelSet = 0,0

[State ] 
Type = HitFallSet
Trigger1 = 1
Value = 0

[State ]
Type = ChangeAnim2
Trigger1 = Time = 0
Value = 5030

[State ] 
Type = SelfState
Trigger1 = Time >= 30
Trigger1 = P2MoveType != A
Value = 5035

;---------------------------------------------------------------------------
;投げ・相手の空中の状態
[Statedef 832]
Type    = A
MoveType= H
Physics = N
VelSet = -7,10

[State ] 
Type = HitFallSet
Trigger1 = 1
Value = 1

[State ]
Type = NotHitBy
Trigger1 = Time = 0
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 20
IgnoreHitPause = 1
Persistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5030)
Trigger1 = Time = 0
Value = 5030

[State ]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5035)
Trigger1 =! SelfAnimExist(5030)
Trigger1 = Time = 0
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Value = 5035

[State ]
Type = ChangeAnim
TriggerAll = SelfAnimExist(5050)
Trigger1 =! SelfAnimExist(5030)
Trigger1 =! SelfAnimExist(5035)
Trigger1 = Time = 0
Trigger2 = Anim = 5030
Trigger2 = AnimTime = 0
Trigger3 = Anim = 5035
Trigger3 = AnimTime = 0
Value = 5050

[State ] 
Type = SelfState
Trigger1 = Vel Y > 0
Trigger1 = Pos Y >= 0
Value = 5100

;---------------------------------------------------------------------------
;地上投げ
[Statedef 803]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
poweradd = 100

[State 181, アニメ変更]
type = Changeanim
triggerall = !ishelper
trigger1 = anim != 800
value = 800
ignorehitpause = 1

[State 800, Throw Hit]
type = HitDef
triggerall = palno != 12
Trigger1 = AnimElem = 2
trigger1 = p2stateno != 150 && 151 && 152 && 153 && 130 && 131 && 140
attr        = S, NT
hitflag     = M;- 
priority    = 1, Miss
hitsound    = s1,6
sparkno     = -1
sprpriority = 1
p1facing = -1
p2facing    = 1
numhits = 0
p1stateno   = 801
p2stateno   = 802
guard.dist = 0
getpower = 100
givepower = 80

[State 200 , 1]
type = PlaySnd
trigger1 = Animelem = 3
value = s1, 5

[State 200 , 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 死亡時]
type = ChangeState
triggerall = palno = 12
triggerall = !ishelper
trigger1 = !alive
value = 5050
ignorehitpause = 1

[State 準ステート固定]
type = ChangeState
triggerall = palno = 12
trigger1 = !ishelper
value = 120
ignorehitpause = 1

;---------------------------------------------------------------------------
;投げ技成功
[Statedef 801]
type     = S
movetype = A
physics  = N
poweradd = 100
anim     = 801
ctrl     = 0
velset   = 0,0

;無敵
[State ]
type = NotHitBy
triggerall = palno = [1,10]
trigger1 = 1
value = SCA,NA,SA,HA,NT,ST,HT,NP,SP,HP

[State 200 , ボイス]
type = PlaySnd
triggerall = palno != 7
trigger1 = Animelem = 3
Volume = 999999999
value = s0, 3

[State 200 , ボイス]
type = PlaySnd
triggerall = palno = 7
trigger1 = Animelem = 3
Volume = 999999999
value = s390, 33

[State 200 , SE]
type = PlaySnd
trigger1 = time = 24
Volume = 999999999
value = s870, 0

[State 802, Shake]
type = EnvShake
trigger1 = time = 24
time  = 30
ampl  = 12
freq  = 100
phase = 100

[state 710, explod]
type = explod
trigger1 = time = 24
anim = 8105
id = 8105
pos = 15,15
postype = p2
ontop = 1
ownpal = 1
removetime = 40
removeongethit = 0
ignorehitpause = 1
persistent = 0
supermovetime = 9999999999999
pausemovetime = 9999999999999

[state 710, explod2]
type = explod
trigger1 = time = 24
anim = 8120
pos = -15,12
postype = p2
ontop = 1
ownpal = 1
removetime = 16
removeongethit = 0
ignorehitpause = 1
persistent = 0
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 801, Turn]
type = Turn
trigger1 = AnimTime = 0

[State 810,1]
type = Posadd
trigger1 = time = 0
x = 50

[State 801, Pos]
type = PosSet
trigger1 = 1
y = 0

[State 801, Bind-1]
type = TargetBind
trigger1 = AnimElemTime(1) = 0
pos = 20,15

[State 801, Bind-2]
type = TargetBind
trigger1 = AnimElemTime(2) = 0
pos = 10,-6

[State 801, Bind-3]
type = TargetBind
trigger1 = AnimElemTime(3) = 0
pos = 10,-7

[State 801, Bind-4]
type = TargetBind
trigger1 = AnimElemTime(4) = 0
pos = -10,0

[State 801, Bind-5]
type = TargetBind
trigger1 = AnimElemTime(5) = 0
pos = -55,10

[State 801, ダメージ（ノーマルカラー）]
type = TargetLifeAdd
triggerall = palno != [10,12]
trigger1 = AnimElemTime(5) = 0
value = -60

[State 801, ダメージ（10P〜11Pカラー）]
type = TargetLifeAdd
triggerall = palno = [10,11]
trigger1 = AnimElemTime(5) = 0
value = -2147483648

[State 801, Change]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;投げ技相手側
[Statedef 802]
type     = A
movetype = H
physics  = N
velset   = 0,0

[State 802, P2Anim]
type = ChangeAnim2
Trigger1 = Time = 0
value = 802

[State 802, Scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 802, Pos]
type = PosSet
trigger1 = AnimTime = 0
y = 0

[State 810,0]
type = VelSet
trigger1 = AnimTime = 0
x = 2

[State 802, Return Self] 
type = SelfState
trigger1 = AnimTime = 0
value = 5100

;---------------------------------------------------------------------------
