;-|www.csmugen.ucoz.com|------------------------------------------------------
;-|www.csmugen.ucoz.com|------------------------------------------------------
;-|www.csmugen.ucoz.com|------------------------------------------------------
;-|www.csmugen.ucoz.com|------------------------------------------------------
;-|www.csmugen.ucoz.com|------------------------------------------------------
;-|www.csmugen.ucoz.com|------------------------------------------------------
;-|www.csmugen.ucoz.com|------------------------------------------------------
;-|www.csmugen.ucoz.com|------------------------------------------------------
;-|www.csmugen.ucoz.com|------------------------------------------------------
;-|www.csmugen.ucoz.com|------------------------------------------------------
;-|www.csmugen.ucoz.com|------------------------------------------------------
;-|www.csmugen.ucoz.com|------------------------------------------------------
;-|www.csmugen.ucoz.com|------------------------------------------------------
;-|www.csmugen.ucoz.com|------------------------------------------------------
[Data]
life = 1100			
power = 3000		
attack = 90		
defence = 110		
fall.defence_up = 50	
liedown.time = 60		
airjuggle = 15		
sparkno = 2			
guard.sparkno = 40	
KO.echo = 0			
IntPersistIndex = 60	
FloatPersistIndex = 40  

[Size]
xscale = 1			
yscale = 1			
ground.back = 15		
ground.front = 16		
air.back = 12		
air.front = 12		
height = 60			
attack.dist = 160		
proj.attack.dist = 90	
proj.doscale = 0		
head.pos = -5, -90	
mid.pos = -5, -60		
shadowoffset = -1		
draw.offset = 0,0

		
[Velocity]
walk.fwd  = 2.4		
walk.back = -2.2		
run.fwd  = 5.6, 0		
run.back = -5.5,-3.8	
jump.neu = 0,-8.4		
jump.back = -2.55		
jump.fwd = 2.5		
runjump.back = -2.55,-8.1
runjump.fwd = 4,-8.1	
airjump.neu = 0,-8.1	
airjump.back = -2.55	
airjump.fwd = 2.5		

[Movement]
airjump.num = 1		
airjump.height = 35	
yaccel = .44		
stand.friction = .85	
crouch.friction = .82
;---------------------------------------------------------------------------
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State -2, VarRandom]
type = VarRandom
trigger1 = 1
v = 4
range = 0,1

[State 0, PlaySnd]
type = PlaySnd
triggerall = time = 0
trigger1 = var(4)= 0
value = S5,11
channel = -1

[State 0, PlaySnd]
type = PlaySnd
triggerall = time = 0
trigger1 = var(4) = 1
value = S5,12
channel = -1

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 181
;---------------------------------------------------------------------------
[Statedef 181]
type = S
ctrl = 0
anim = 180
velset = 0,0

[State 0, Helper]
type = Helper
trigger1 = time = 0
trigger1 = winperfect
helpertype = normal
ID = 7070
stateno = 7070
pos = 0,0
postype = p1
facing = 1
ownpal = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0 &&life < 100
value = 181
ignorehitpause = 1 


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 &&life < 100
value = S5,5
channel = -1

[State 0, PlaySnd]
type = PlaySnd
triggerall =time = 0
trigger1 =  life >= 100 && life < 500
value = S5,10
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && life >= 500
value = S5,6
volume = 0
channel = -1

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
[Statedef 190]
type = S
ctrl = 0
velset = 0,0

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 0
value = 191 +(random%2)
ctrl = 0
;---------------------------------------------------------------------------
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 0, VarRandom]
type = VarRandom
trigger1 = 1
v = 3
range = 0,1

[State 0,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, VelSet]
type = VelSet
trigger1 = pos y < 0
x = 0
y = 4

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = -400

[State 0, Explod]
type = Explod
triggerall = numexplod(6003) < 1
trigger1 = pos y = 0
anim = 6003
ID = 6003
pos = -1,-4
postype = p1
removetime = -2
facing = 1
vfacing = 1
bindtime = -1
scale = 0.7,0.7
sprpriority = 0
ontop = 1
removeongethit = 1

[State 0,PlaySnd]
trigger1 = pos y = 0
type = PlaySnd
value = S0,7
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y = 0
value = S0,1
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y = 0
trigger1 = var(3)= 0
value = S5,7
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y = 0
trigger1 = var(3) =1
value = S5,8
channel = -1

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y = 0
value = 0
ctrl = 0
;---------------------------------------------------------------------------
[Statedef 192]
type = S
ctrl = 0
anim = 191
velset = 0,0

[State 0,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 145
flag = roundnotover


[State 0, VarRandom]
type = VarRandom
trigger1 = 1
v = 3
range = 0,1

[State 0, Explod]
type = Explod
trigger1 = time = 89
anim = 192
ID = 192
pos = 5,-43
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
removetime = -2
scale = 3.5,3.5
sprpriority = 5

[State 0,EnvShake]
type= EnvShake
trigger1 = 1
time = 10
freq = 120
ampl = -2
phase =  50

[State 0,EnvColor]
type = EnvColor
trigger1 = (GameTime%1)
value = 255,150,200
time = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = time = 129
trigger1 = var(3)= 0
value = S5,7
channel = -1

[State 0, PlaySnd]
type = PlaySnd
triggerall = time = 129
trigger1 = var(3) =1
value = S5,8
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,1
channel = 9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S4,17
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 76
value = S4,15
channel = 7

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 89
channel = 9

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 129
channel = 7

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 129
value = 193

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 165
value = 0
ctrl = 0
;---------------------------------------------------------------------------
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,6
volume = 0
channel = -1

[State 195, 2]
type = ChangeState
trigger1 = Time = 72
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 200]
type    = S				
movetype= A				
physics = S				
juggle  = 1				
velset = 0,0			
ctrl = 0				
anim = 200				
poweradd = 40			
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =3 
value = S5,2+(random%1)
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =3 
value = S1,1+(random%8)
channel = -1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 1
time = 7
freq = 110
ampl = -2
phase = 90
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,NA        
hitflag = MAF        
guardflag = MA       
animtype = light         
air.animtype = light
priority = 3,hit
pausetime = 12,12
damage = 20,0
sparkno = S-1
guard.sparkno = S-1
hitsound = S1,0
guardsound = S2,0
ground.type = High 
air.hittime = 20
ground.velocity = -3,0
air.velocity = -3,-1
numhits = 1
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd = 30			
ctrl = 0
velset = 0,0
anim = 210

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =3 
value = S5,2+(random%1)
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =3 
value = S1,1+(random%8)
channel = -1

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,NA        
hitflag = MAF        
guardflag = MA       
animtype = medium         
air.animtype = medium
priority = 4,hit
pausetime = 7,7
damage = 20,0
sparkno = S-1
guard.sparkno = S-1
hitsound = S1,0
guardsound = S2,0
ground.type = High 
air.hittime = 20
ground.velocity = -4,0
air.velocity = -4,-1
numhits = 1
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd = 30			
ctrl = 0
velset = 0,0
anim = 220

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =3 
value = S5,2+(random%1)
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3 
value = S1,1+(random%8)
channel = -1

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,NA        
hitflag = MAF        
guardflag = MA       
animtype = hard         
air.animtype = hard
priority = 5,hit
pausetime = 7,7
damage = 20,0
sparkno = S-1
guard.sparkno = S-1
hitsound = S1,0
guardsound = S2,0
ground.type = High 
air.hittime = 20
ground.velocity = -4,-2
air.velocity = -4,-2
numhits = 1
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd = 30			
ctrl = 0
velset = 0,0
anim = 230

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =3 
value = S5,2+(random%1)
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3 
value = S1,1+(random%8)
channel = -1

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,NA        
hitflag = MAF        
guardflag = MA       
animtype = medium        
air.animtype = medium  
priority = 3,hit
pausetime = 12,12
damage = 30,0
sparkno = S-1
guard.sparkno = S-1
hitsound = S1,0
guardsound = S2,0
ground.type = High 
air.hittime = 20
ground.velocity = -3,-2
air.velocity = -3,-1
numhits = 1
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0

[State 230, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd = 40			
ctrl = 0
velset = 0,0
anim = 240

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =3 
value = S5,2+(random%1)
channel = -1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 1
time = 7
freq = 110
ampl = -2
phase = 90
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3 
value = S1,1+(random%8)
channel = -1

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,NA        
hitflag = MAF        
guardflag = MA       
animtype = light         
air.animtype = light
priority = 4,hit
pausetime = 7,7
damage = 30,0
sparkno = S-1
guard.sparkno = S-1
hitsound = S1,0
guardsound = S2,0
ground.type = High 
air.hittime = 20
ground.velocity = -0,0
air.velocity = -0,-1
numhits = 1
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0

[State 240, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 250]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd = 30			
ctrl = 0
velset = 0,0
anim = 250

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =3 
value = S5,2+(random%1)
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3 
value = S1,1+(random%8)
channel = -1

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,NA        
hitflag = MAF        
guardflag = MA       
animtype = hard       
air.animtype = hard
priority = 5,hit
pausetime = 7,7
damage = 30,0
sparkno = S-1
guard.sparkno = S-1
sparkxy = 0,0
hitsound = S1,0
guardsound = S2,0
ground.type = High 
air.hittime = 20
ground.velocity = -2,-3
air.velocity = -2,-3
numhits = 1
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1

[State 250, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------------------------------------------------------
[Statedef 255]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd = 40			
ctrl = 0
velset = 0,0
anim = 255

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =3 
value = S5,2+(random%1)
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3 
value = S1,1+(random%8)
channel = -1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 1
time = 7
freq = 110
ampl = -2
phase = 90
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,NA        
hitflag = MAF        
guardflag = MA       
animtype = light       
air.animtype = light 
priority = 3,hit
pausetime = 7,7
damage = 25,0
sparkno = S-1
guard.sparkno = S-1
sparkxy = 0,0
hitsound = S1,0
guardsound = S2,0
ground.type = High 
air.hittime = 20
ground.velocity = -2
air.velocity = -2,-1
numhits = 1
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------------------------------------------------------
[statedef 260]
type = S
movetype = A
physics = S
juggle = 1
poweradd = 30			
ctrl = 0
anim = 260

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =3 
value = S5,2+(random%1)
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5 
value = S1,1+(random%8)
channel = -1

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 4
attr = S,NA        
hitflag = MAF       
guardflag = MA
priority = 4,hit
pausetime = 12,12
animtype = medium        
air.animtype = medium
damage = 25,0
sparkno = S-1
guard.sparkno = S-1
sparkxy = 0,0
hitsound = S1,0
guardsound = S2,0
ground.type = High
air.hittime = 20
ground.velocity = -3,0
air.velocity = -3,-1
numhits = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0


[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0 
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[statedef 270]
type = S
movetype = A
physics = S
juggle = 1
poweradd = 30			
ctrl = 0
anim = 270

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =3 
value = S5,2+(random%1)
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 7
trigger3 = animelem = 11
value = S1,1+(random%8)
channel = -1

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 2
trigger2 = animelem = 6
attr = S,NA        
hitflag = MAF       
guardflag = MA
priority = 4,hit
pausetime = 12,12
animtype = hard        
air.animtype = hard
damage = 25,0
sparkno = S-1
guard.sparkno = S-1
sparkxy = 0,0
hitsound = S1,0
guardsound = S2,0
ground.type = High
air.hittime = 20
ground.velocity = -0.5,-0
air.velocity = -0.5,-1
numhits = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 10
attr = S,NA        
hitflag = MAF       
guardflag = MA
priority = 5,hit
animtype = hard        
air.animtype = hard
damage = 29,0
sparkno = S-1
guard.sparkno = S-1
sparkxy = 0,0
hitsound = S1,0
guardsound = S2,0
ground.type = High
air.hittime = 20
ground.velocity = -4,-3
air.velocity = -4,-4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
fall.recover = 20

[State 0, VelSet]
type = VelSet
trigger1 = time > 4
x = 1.3
y = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0 
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[statedef 280]
type = S
movetype = A
physics = S
juggle = 1
poweradd = 40			
ctrl = 0
anim = 280

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =3 
value = S5,2+(random%1)
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S1,1+(random%8)
channel = -1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 1
time = 7
freq = 110
ampl = -2
phase = 90
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 2
attr = S,NA        
hitflag = MAF       
guardflag = MA
priority = 3,hit
pausetime = 12,12
animtype = light        
air.animtype = light
damage = 30,0
sparkno = S-1
guard.sparkno = S-1
sparkxy = 0,0
hitsound = S1,0
guardsound = S2,0
ground.type = High
air.hittime = 20
ground.velocity = -2,0
air.velocity = -2,-1
numhits = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0


[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0 
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[statedef 290]
type = S
movetype = A
physics = S
juggle = 1
poweradd = 30			
ctrl = 0
anim = 290

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =3 
value = S5,2+(random%1)
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S1,1+(random%8)
channel = -1

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 2
attr = S,NA        
hitflag = MAF       
guardflag = MA
priority = 4,hit
pausetime = 12,12
animtype = hard        
air.animtype = hard
damage = 30,0
sparkno = S-1
guard.sparkno = S-1
sparkxy = 0,0
hitsound = S1,0
guardsound = S2,0
ground.type = High
air.hittime = 20
ground.velocity = -3,-1
air.velocity = -3,-2
numhits = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0 
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[statedef 300]
type = S
movetype = A
physics = S
juggle = 4
anim = 300
ctrl = 0
poweradd = -50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3 
value = S0,9
volume = 0
channel = -1

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 3
x = p2dist x + 40
y = p2dist y

[State 0, Turn]
type = Turn
trigger1 = p2dist x < 0

[State 0, ChangeState]
type = ChangeState
trigger1 = Animtime  = 0
value = ifelse(pos y = 0,0,50)
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd = 35			
ctrl = 0
anim = 400

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =3 
value = S5,2+(random%1)
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3 
value = S1,1+(random%8)
channel = -1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 1
time = 7
freq = 110
ampl = -2
phase = 90
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = C,NA        
hitflag = MAF        
guardflag = MA       
animtype = light         
air.animtype = light
priority = 3,hit
pausetime = 12,12
damage = 20,0
sparkno = S-1
guard.sparkno = S-1
sparkxy = 0,0
hitsound = S1,0
guardsound = S2,0
ground.type = High 
air.hittime = 20
ground.velocity = -3,0
air.velocity = -3,-1
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd = 30			
ctrl = 0
anim = 410

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =3 
value = S5,2+(random%1)
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3 
value = S1,1+(random%8)
channel = -1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 1
time = 7
freq = 110
ampl = -2
phase = 90
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = C,NA        
hitflag = MAF        
guardflag = MA       
animtype = light         
air.animtype = light
priority = 3,hit
pausetime = 12,12
damage = 20,0
sparkno = S-1
guard.sparkno = S-1
sparkxy = 0,0
hitsound = S1,0
guardsound = S2,0
ground.type = High 
air.hittime = 20
ground.velocity = -3,0
air.velocity = -3,-1
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 420]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd = 40			
ctrl = 0
anim = 420

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =3 
value = S5,2+(random%1)
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3 
value = S1,1+(random%8)
channel = -1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 1
time = 7
freq = 110
ampl = -2
phase = 90
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = C,NA        
hitflag = MAF        
guardflag = MA       
animtype = light         
air.animtype = light
priority = 3,hit
pausetime = 12,12
damage = 20,0
sparkno = S-1
guard.sparkno = S-1
sparkxy = 0,0
hitsound = S1,0
guardsound = S2,0
ground.type = High 
air.hittime = 20
ground.velocity = -3,0
air.velocity = -3,-1
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 35
ctrl = 0
anim = 430

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =3 
value = S5,2+(random%1)
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3 
value = S1,1+(random%8)
channel = -1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 1
time = 7
freq = 110
ampl = -2
phase = 90
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = C,NA        
hitflag = MAF        
guardflag = MA       
animtype = light         
air.animtype = light
priority = 3,hit
pausetime = 12,12
damage = 25,0
sparkno = S-1
guard.sparkno = S-1
sparkxy = 0,0
hitsound = S1,0
guardsound = S2,0
ground.type = High 
air.hittime = 20
ground.velocity = -3,0
air.velocity = -3,-1
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 35
ctrl = 0
anim = 600

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =3 
value = S5,2+(random%1)
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3 
value = S1,1+(random%8)
channel = -1

[State 0, VelSet]
type = VelSet
trigger1 = time > 0 && time < 13
x = 0
y = 0

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = A,NA        
hitflag = MAF        
guardflag = MA       
animtype = light         
air.animtype = light
priority = 3,hit
pausetime = 12,12
damage = 25,0
sparkno = S-1
guard.sparkno = S-1
sparkxy = 0,0
hitsound = S1,0
guardsound = S2,0
ground.type = High 
air.hittime = 20
ground.velocity = -3,-2
air.velocity = -3,-2
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 30
ctrl = 0
anim = 610

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =3 
value = S5,2+(random%1)
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3 
value = S1,1+(random%8)
channel = -1

[State 0, VelSet]
type = VelSet
trigger1 = time > 0 && time < 13
x = 0
y = 0

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = A,NA        
hitflag = MAF        
guardflag = MA       
animtype = light         
air.animtype = light
priority = 3,hit
pausetime = 12,12
damage = 20,0
sparkno = S-1
guard.sparkno = S-1
sparkxy = 0,0
hitsound = S1,0
guardsound = S2,0
ground.type = High 
air.hittime = 20
ground.velocity = -3,-2
air.velocity = -3,-2
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 30
ctrl = 0
anim = 620

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =3 
value = S5,2+(random%1)
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3 
value = S1,1+(random%8)
channel = -1

[State 0, VelSet]
type = VelSet
trigger1 = time > 0 && time < 13
x = 0
y = 0

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = A,NA        
hitflag = MAF        
guardflag = MA       
animtype = light         
air.animtype = light
priority = 3,hit
pausetime = 12,12
damage = 30,0
sparkno = S-1
guard.sparkno = S-1
sparkxy = 0,0
hitsound = S1,0
guardsound = S2,0
ground.type = High 
air.hittime = 20
ground.velocity = -3,-2
air.velocity = -3,-2
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 30
ctrl = 0
anim = 630

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =3 
value = S5,2+(random%1)
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3 
value = S1,1+(random%8)
channel = -1

[State 0, VelSet]
type = VelSet
trigger1 = time > 0 && time < 13
x = 0
y = 0

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = A,NA        
hitflag = MAF        
guardflag = MA       
animtype = light         
air.animtype = light
priority = 3,hit
pausetime = 12,12
damage = 20,0
sparkno = S-1
guard.sparkno = S-1
sparkxy = 0,0
hitsound = S1,0
guardsound = S2,0
ground.type = High 
air.hittime = 20
ground.velocity = -3,-2
air.velocity = -3,-2
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 30
ctrl = 0
anim = 640

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =3 
value = S5,2+(random%1)
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3 
value = S1,1+(random%8)
channel = -1

[State 0, VelSet]
type = VelSet
trigger1 = time > 0 && time < 15
x = 0
y = 0

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 1
trigger2 = animelem = 3
attr = A,NA        
hitflag = MAF        
guardflag = MA       
animtype = light         
air.animtype = light
priority = 3,hit
pausetime = 12,12
damage = 25,0
sparkno = S-1
guard.sparkno = S-1
sparkxy = 0,0
hitsound = S1,0
guardsound = S2,0
ground.type = High 
air.hittime = 20
ground.velocity = -3,-2
air.velocity = -3,-2
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800

[State 800, 1]
type = HitDef
Trigger1 = Time = 0
attr = S,NT         
hitflag = M-         
priority = 1, Miss    
sparkno = -1          
p1facing = ifelse (command = "holdfwd", -1, 1) 
p2facing = 1          
p1stateno = 810       
p2stateno = 820       
fall = 1              

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 810]
type    = S
movetype= A
physics = N
anim = 810
poweradd = 60

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(2) < 0
pos = 28, 0

[State 810, Width 2-11]
type = Width
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(12) < 0
edge = 60,0

[State 810, Bind 2-4]
type = TargetBind
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(5) < 0
pos = 58, 0

[State 810, Bind 5]
type = TargetBind
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
pos = 47, 0

[State 810, Bind 6]
type = TargetBind
trigger1 = AnimElemTime(6) >= 0 && AnimElemTime(7) < 0
pos = 41, -60

[State 810, Bind 7]
type = TargetBind
trigger1 = AnimElemTime(7) >= 0 && AnimElemTime(8) < 0
pos = 25, -75

[State 810, Bind 8]
type = TargetBind
trigger1 = AnimElemTime(8) >= 0 && AnimElemTime(9) < 0
pos = 15, -90

[State 810, Bind 9]
type = TargetBind
trigger1 = AnimElemTime(9) >= 0 && AnimElemTime(10) < 0
pos = -5, -96

[State 810, Bind 10]
type = TargetBind
trigger1 = AnimElemTime(10) >= 0 && AnimElemTime(11) < 0
pos = -14, -90

[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 11
pos = -50, -50

[State 810, Hurt 11]
type = TargetLifeAdd
trigger1 = AnimElem = 11
value = -78

[State 810, Throw 11]
type = TargetState
trigger1 = AnimElem = 11
value = 821

[State 810, Turn 12]
type = Turn
trigger1 = AnimElem = 12

[State 810, Pos 15]
type = PosAdd
trigger1 = AnimElem = 15
x = -10

[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 820]
type    = A
movetype= H
physics = N
velset = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 820
;---------------------------------------------------------------------------
[Statedef 821]
type    = A
movetype= H
physics = N
velset = 2.8,-7
poweradd = 40

[State 821, 1] 
type = VelAdd
Trigger1 = 1
y = .4

[State 821, 2] 
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5200 

[State 821, 3] 
type = SelfState
triggerall = Vel Y > 0
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5210 

[State 821, 4] 
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 
;-------------------------------------------------------------------------
;ki charge
[Statedef 900]
type = S
movetype= I
physics = S
velset = 0,0
anim = 900
ctrl = 0
sprpriority = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time >= 2
time = 7
freq = 150
ampl = -2
phase = 150
ignorehitpause = 1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = ((GameTime%1) = 0)
value = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 25,0
trigger1 = time >= 1
value = S0,6
volume = 200
channel = -1

[State 0,BGPalFX]
type= BGPalFX
trigger1= time >= 0
time = 1
add = -128,-128,-128
mul = 256,256,256
ignorehitpause = 1 

[State 0, Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 901
ID = 901
pos = -4,21
postype = p1 
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
removetime = -1
scale = 0.8,0.8
sprpriority = 2
ontop = 0
shadow = 0,0,0
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 905
ID = 905
pos = -4,14
postype = p1 
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
removetime = -1
scale = 0.6,0.6
sprpriority = -1
ontop = 0
shadow = 0,0,0
removeongethit = 1

[State 0, Helper]
type = Helper
triggerall = numhelper(902)<6
trigger1 = time >= 2
helpertype = normal
ID = 902
stateno = 902
pos = -50+(random%90),0
postype = p1    
facing = 1
keyctrl = 0
ownpal = 0

[State 0, StopSnd]
type = StopSnd
trigger1 = command != "ki charge 1" || command != "ki charge 2" || power > 2999
channel = -1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = command != "ki charge 1" || command != "ki charge 2" || power > 2999
id = 901

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = command != "ki charge 1" || command != "ki charge 2" || power > 2999
id = 905

[State 0, ChangeState]
type = ChangeState
trigger1 = command != "ki charge 1" || command != "ki charge 2" || power > 2999
value = 0
ctrl = 1
;-------------------------------------------------------------------------
[Statedef 902]
type = S
movetype= I
physics = S
velset = 0,-2
anim = 906+(random%2)
ctrl = 0
sprpriority = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 10*(time-0)
scale = 0.3,0.3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = root,gethitvar(damage)
trigger2 = root,command != "ki charge 1" || root,command != "ki charge 2" || root,power > 2999
value = 0
scale = 1,1

[State 0, VelSet]
type = VelSet
trigger1 = root,gethitvar(damage)
trigger2 = root,command != "ki charge 1" || root,command != "ki charge 2" || root,power > 2999
y = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y > 0
value = S4,16
channel = -1


[State 0, DestroySelf]
type = DestroySelf
trigger1 = pos y < -150
trigger2 = pos y > 0
;-------------------------------------------------------------------------
;shield
[statedef 950]
type = S
movetype= A
physics = S
juggle = 4
velset = 0,0
anim = 950
ctrl = 0
sprpriority = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 10,0
freq = 70
ampl = 3
ignorehitpause = 1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = ((GameTime%1) = 0)
value = -5

[State 0, Helper]
type = Helper
triggerall = numhelper(951) < 1
trigger1 = time = 0
helpertype = normal 
ID = 951
stateno = 951
pos = -7,-30
postype = p1    
facing = 1
keyctrl = 0
ownpal = 0 

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,SA      
hitflag = MAF        
guardflag = MA
priority = 6,hit        
animtype = medium        
air.animtype = medium
damage = 12,0
ground.type = High
ground.velocity = -4,-3
air.velocity = -4,-3
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
fall.yvelocity = -4.5
fall.recover = 1
fall.recovertime = 4
fall.damage = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = command!= "hold_x" || command != "hold_y" || power = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------
[statedef 951]
type = S
movetype= A
physics = S
velset = 0,0
anim = 951
ctrl = 0
sprpriority = 1



[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 50,0
value = S4,15
channel = 20
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = numexplod(952) = 0
trigger1 = time >= 0
anim = 952
ID = 952
pos = -3,-1
postype = p1  
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
removetime = -1
scale = 1.2,1.2
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
[State 0, HitDef]
type = HitDef
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
trigger5 = animelem = 5
attr = S,SA      
hitflag = MAF        
guardflag = MA
priority = 6,hit
sparkno = -1
animtype = medium        
air.animtype = medium
damage = 12,0
ground.type = High
ground.velocity = -4,-3
air.velocity = -4,-3
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
fall.yvelocity = -4.5
fall.recover = 1
fall.recovertime = 4
fall.damage = 0

[State 0, hitby]
type = hitby
trigger1 = 1
value = SCA,NP,SP,HP

[State 0, hitoverride]
type = hitoverride
trigger1 = 1
attr = SCA,NP,SP,HP
stateno = 951
ignorehitpause = 1

[State 0,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,command!= "hold_x" || root,command!= "hold_y" || root,power = 0
id = 952

[State 0, StopSnd]
type = StopSnd
trigger1 = root,command!= "hold_x" || root,command!= "hold_y" || root,power = 0
channel = 20

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,command!= "hold_x" || root,command!= "hold_y" || root,power = 0
;-------------------------------------------------------------------------
;fireball
[Statedef 1000]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1000
ctrl = 0
poweradd = -150
sprpriority = 1

[State 0, Explod]
type = Explod
trigger1 = time = 2
anim = 1002
ID = 1002
pos = 10,-46
postype = p1  
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
removetime = -2
scale = 0.4,0.4
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S4,1
volume = 0
channel = -1

[State 0, Helper]
type = Helper
trigger1 = time = 3
helpertype = normal 
ID = 1001
stateno = 1001
pos = 70,-46
postype = p1    
facing = 1
keyctrl = 0
ownpal = 0
size.xscale = 0.4
size.yscale = 0.4

[State 0, ChangeState]
type = ChangeState
trigger1 = command ="c" 
trigger1 = time > 12
trigger1 = power > 300
value = 1004
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------
[Statedef 1001]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1001
poweradd = -150
ctrl = 0
sprpriority = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 0, VelSet]
type = VelSet
trigger1 = time >= 2
x = 6

[State 0, HitDef]
type = HitDef
trigger1 = !movecontact
attr = S, NP
hitflag	= MA
guardflag = MA
animtype = Hard
priority = 5,Hit
damage = 20,10
pausetime = 12,12
sparkno = -1
hitsound = S-1,0
ground.type = Low
air.type = low
ground.slidetime = 20
ground.hittime = 20
air.hittime = 15
ground.velocity = 0
guard.velocity = -4
air.velocity = -0,-0
airguard.velocity = -4,-3
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = enemynear,gethitvar(hitcount) > 2
air.fall = enemynear,gethitvar(hitcount) > 2
numhits = 2
down.velocity = -1,-2
envshake.time = 12
envshake.freq = 120
envshake.ampl = -4

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,NP,SP,HP,SA
time = -1
ignorehitpause = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NP,AP,SA
slot = 0
stateno = 1003
time = -1
ignorehitpause = 1




[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact || time > 200
value = 1003
ctrl = 0
ignorehitpause = 1
;------------------------------------------------------------------------
[Statedef 1003]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1005
ctrl = 0
sprpriority = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,6
channel = -1
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 

[State 0, AngleDraw]
type = AngleDraw
trigger1 = prevstateno = 1451
scale = 0.4,0.4
ignorehitpause = 1  

[State 0, AngleDraw]
type = AngleDraw
trigger1 = prevstateno = 1202
scale = 0.6,0.6
ignorehitpause = 1 

[State 0, AngleDraw]
type = AngleDraw
trigger1 = prevstateno = 1203
scale = 1.2,1.2
ignorehitpause = 1 

[State 0, AngleDraw]
type = AngleDraw
trigger1 = prevstateno = 1204
scale = 1.7,1.7
ignorehitpause = 1
 
[State 0, PosAdd]
type = PosAdd
trigger1 = prevstateno = 1451 && time = 0
x =  50
ignorehitpause = 1
 
[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;-------------------------------------------------------------------------
[Statedef 1004]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1004
ctrl = 0
poweradd = -150
sprpriority = 1

[State 0, Explod]
type = Explod
trigger1 = time = 2
anim = 1002
ID = 1002
pos = 11,-46
postype = p1  
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
removetime = -2
scale = 0.4,0.4
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S4,1
volume = 0
channel = -1

[State 0, Helper]
type = Helper
trigger1 = time = 3
helpertype = normal 
ID = 1001
stateno = 1001
pos = 70,-46
postype = p1    
facing = 1
keyctrl = 0
ownpal = 0
size.xscale = 0.4
size.yscale = 0.4


[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------------------------------------------------------------
;frieza rush
[Statedef 1050]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1050
ctrl = 0
poweradd = -400
sprpriority = 1

[State 0, VelSet]
type = VelSet
trigger1 = time > 18
x = 7
y = 0
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 8
value = S4,8
channel = 21
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 5
helpertype = normal
ID = 1051
stateno = 1051
pos = 4,-24
postype = p1    
facing = 1
keyctrl = 0
ownpal = 0
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 5
attr = S,SP       
hitflag = MAF       
guardflag = MA  
animtype = hard         
air.animtype = hard 
priority = 6,miss
damage =0,0
sparkno = S-1
guard.sparkno = S-1
hitsound = S1,0
guardsound = S2,0
ground.type = High 
air.hittime = 12
ground.velocity = -4,-8
air.velocity = -4,-8
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,NP,HP,SA
time = animtime = 0
ignorehitpause = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = frontEdgeDist < 15 
channel = 21
ignorehitpause = 1 

[State 0,BGPalFX]
type= BGPalFX
trigger1= 1
time = 1
add = -128,-128,-128
mul = 256,256,256
ignorehitpause = 1


[State 0, ChangeState]
type = ChangeState
triggerall = time > 10
trigger1 = frontEdgeDist < 15 
value = 0
ctrl = 1
ignorehitpause = 1
;-------------------------------------------------------------------------
[Statedef 1051]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1051
ctrl = 0

[State 0, VelSet]
type = VelSet
trigger1 = root,time > 18
x = 7
y = 0
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1,0.5
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 2
attr = S,SP        
hitflag = MAF       
guardflag = MA  
animtype = hard         
air.animtype = hard 
priority = 6,hit
damage = 100,50
sparkno = S-1
guard.sparkno = S-1
hitsound = S1,0
guardsound = S2,0
ground.type = High 
air.hittime = 12
ground.velocity = -4,-8
air.velocity = -4,-8
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
p2stateno = 1026
ignorehitpause = 1

[State 0,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,SP,NP,HP
time = -1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = frontEdgeDist < 15 
ignorehitpause = 1
;-------------------------------------------------------------------------
;death beam
[Statedef 1100]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1100
ctrl = 0
poweradd = -400
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 8
value = S4,3
volume = 0
channel = -1

[State 0, Helper]
type = Helper
trigger1 = time = 4
helpertype = normal 
ID = 1101
stateno = 1101 
pos = 25,-52
postype = p1 
facing = 1
keyctrl = 0
ownpal = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0 
value = 0
ctrl = 1
;------------------------------------------------------------------------
[Statedef 1101]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1101
ctrl = 0

[State 0, Pause]
type = Pause
trigger1 = movehit = 1
time = 20
movetime = 1
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 0
value = -6
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = time > 0
trans = addalpha
alpha = 256, 256
ignorehitpause = 1


[State 0, Explod]
type = Explod
triggerall = movehit 
trigger1 = time = 8
anim = 1103
ID = 1103
pos = 9,-67
postype = p2  
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
removetime = -2
scale = 0.5,0.5
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 4
attr = S,SP        
hitflag = MAF       
guardflag = MA  
animtype = hard         
air.animtype = hard
damage = 100,50
priority = 6,hit
pausetime = 9,9
sparkno = S-1
guard.sparkno = S-1
hitsound = S1,0
guardsound = S2,0
ground.type = High 
air.hittime = 20
ground.velocity = 0,0
air.velocity = 0,0
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
fall.yvelocity = -3.5
fall.recover = 15
fall.recovertime = 15
fall.damage = 6

[State 0,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable
 
[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;-------------------------------------------------------------------------
;kiezan
[Statedef 1150]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1150
ctrl = 0
poweradd = -500
sprpriority = 1

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 27
anim = S7530
sound = S4,14
pos = -2,-24
darken = 1
p2defmul = 0
poweradd = 0
unhittable = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,12
channel = 12
loop = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = animtime = 0
trigger2 = stateno!=1150
channel = 12

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal 
ID = 1152
stateno = 1152
pos = -16,-68
postype = p1    
facing = 1
keyctrl = 0
ownpal = 0
size.xscale = 0.5
size.yscale = 0.5

[State 0, Turn]
type = Turn
triggerall = 1
trigger1 = facing = -1 && enemy, pos x > pos x
trigger2 = facing = 1 && enemy, pos x < pos x

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 1151
ctrl = 0 
;---------------------------------------------------------------------
[Statedef 1151]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1151
ctrl = 0
sprpriority = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal 
ID = 1153
stateno = 1153
pos = -16,-68
postype = p1    
facing = 1
keyctrl = 0
ownpal = 0
size.xscale = 0.5
size.yscale = 0.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,13
channel = -1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1 
;-------------------------------------------------------------------------
[Statedef 1152]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1152
ctrl = 0
poweradd = 0
sprpriority = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
time = 1
facing = 1
pos = -16,-68
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 70
value = 1153

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 90
trigger2 = root,stateno!= 1150
;-----------------------------------------------------------
[Statedef 1153]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1153
ctrl = 0
poweradd = 0
sprpriority = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 14
y = 2

[State 0, Explod]
type = Explod
trigger1 = movehit = 1
anim = 1102
ID = 1102
pos = -16,-35
postype = p2  
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
removetime = -2
scale = 0.5,0.5
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0,Pause]
type = Pause
triggerall = (GameTime%1) = 0
trigger1 = movehit
time = 1
movetime = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
value = S4,13
volume = 0
channel = -1

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 1
attr = S,SP        
hitflag = MAF       
guardflag = MA  
animtype = hard         
air.animtype = hard
damage = 100,50
priority = 6,hit
pausetime = 9,9
sparkno = S-1
guard.sparkno = S-1
hitsound = S1,0
guardsound = S2,0
ground.type = High 
air.hittime = 20
ground.velocity = 0,0
air.velocity = 0,0
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
fall.yvelocity = -3.5
fall.recover = 15
fall.recovertime = 15
fall.damage = 6

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;-------------------------------------------------------------------------
;fireball2
[Statedef 1200]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1200
ctrl = 0
sprpriority = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal 
ID = 1201
stateno = 1201
pos = 50,-41
postype = p1    
facing = ifelse(facing = 1,1,-1)
keyctrl = 0
ownpal = 0
size.xscale = 0.4
size.yscale = 0.4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 100,0
value = S4,5
channel = 11


[State 0, StopSnd]
type = StopSnd
trigger1 = command!= "hold_y" 
trigger2 = time > 300
trigger3 = stateno!= 1200 
channel = 11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = command!= "hold_y"
trigger1 = time > 300
value = S4,1
volume = 0
channel = -1

[State 0, Turn]
type = Turn
triggerall = 1
trigger1 = facing = -1 && enemy, pos x > pos x
trigger2 = facing = 1 && enemy, pos x < pos x


[State 0, ChangeState]
type = ChangeState
trigger1 = command!= "hold_y"
trigger2 = time > 300
value = 0
ctrl = 1
;-------------------------------------------------------------------------
[Statedef 1201]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1201
ctrl = 0
poweradd = 0
sprpriority = 1

[State 0, Turn]
type = Turn
triggerall = 1
trigger1 = facing = -1 && enemy, pos x > pos x
trigger2 = facing = 1 && enemy, pos x < pos x

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
time = 1
facing = 1
pos = 50,-41
ignorehitpause = 1


[State 0, AngleDraw]
type = AngleDraw
trigger1 = root,command = "hold_y"
trigger1 = time >= 0 && time < 100
scale = 0.4,0.4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = root,command = "hold_y"
trigger1 = time >= 100 && time < 200
scale = 0.8,0.8 
 
[State 0, AngleDraw]
type = AngleDraw
trigger1 = root,command = "hold_y"
trigger1 = time >= 200  
scale = 1.2,1.2

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256, 256

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,SP,HP,NP,SA
time = -1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr =SCA,NP,SP,SA
slot = 0
stateno = 1003
time = -1 

[State 0, ChangeState]
type = ChangeState
trigger1 = root,command!= "hold_y"
trigger1 = time >= 0 && time < 100 
value = 1202
ctrl = 1 

[State 0, ChangeState]
type = ChangeState
trigger1 = root,command!= "hold_y"
trigger1 = time >= 100 && time < 200 
value = 1203
ctrl = 1 

[State 0, ChangeState]
type = ChangeState
trigger1 = root,command!= "hold_y"
trigger1 = time >= 200
trigger2 = root,time > 300
value = 1204
ctrl = 1 

;------------------------------------------------------------------------------
[Statedef 1202]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1202
ctrl = 0
poweradd = -50
sprpriority = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.4,0.4

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256, 256

[State 0, VelSet]
type = VelSet
trigger1 = !movecontact
x = 7
y = 0

[State 0, HitDef]
type = HitDef
trigger1 = vel x > 0
trigger1 = !movecontact
attr = S,SP       
hitflag = MAF       
guardflag = MA 
priority = 5,Hit
animtype = hard          ;
air.animtype = hard
damage = 40,0
pausetime = 9,9
sparkno = S-1
guard.sparkno = S-1
hitsound = S1,0
guardsound = S2,0
ground.type = High   
air.hittime = 12
ground.velocity = -4
air.velocity = -4,-2
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,SP,HP,NP,SA
time = -1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NP,SP,SA
slot = 0
stateno = 1003
time = -1

[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact  
value = 1003
ctrl = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 =  BackEdgeDist < -35 || FrontEdgeDist < -35
;--------------------------------------------------------------------------
[Statedef 1203]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1203
ctrl = 0
poweradd = -70
sprpriority = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.8,0.8

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256, 256

[State 0, VelSet]
type = VelSet
trigger1 = !movecontact
x = 7
y = 0

[State 0, HitDef]
type = HitDef
trigger1 = vel x > 0
trigger1 = !movecontact
attr = S,SP       
hitflag = MAF       
guardflag = MA 
priority = 6,Hit
animtype = hard          ;
air.animtype = hard
damage = 70,0
pausetime = 9,9
sparkno = S-1
guard.sparkno = S-1
hitsound = S1,0
guardsound = S2,0
ground.type = High   
air.hittime = 12
ground.velocity = -7,-3
air.velocity = -7,-3
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,SP,HP,SA
time = -1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,HP,SP,SA
slot = 0
stateno = 1003
time = -1

[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact 
value = 1003
ctrl = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 =  BackEdgeDist < -35 || FrontEdgeDist < -35
;-------------------------------------------------------------------------
[Statedef 1204]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1204
ctrl = 0
poweradd = -100
sprpriority = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1.2,1.2

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256, 256

[State 0, VelSet]
type = VelSet
trigger1 = !movecontact
x = 7
y = 0

[State 0, HitDef]
type = HitDef
trigger1 = vel x > 0
trigger1 = !movecontact
attr = S,SP       
hitflag = MAF       
guardflag = MA 
priority = 7,Hit
animtype = hard          
air.animtype = hard
damage = 100,0
pausetime = 9,9
sparkno = S-1
guard.sparkno = S-1
hitsound = S1,0
guardsound = S2,0
ground.type = High   
air.hittime = 12
ground.velocity = -7,-7
air.velocity = -7,-7
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
p2stateno = 1026

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,SP,HP,SA
time = -1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,SP,HP,SA
slot = 0
stateno = 1003
time = -1

[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact 
value = 1003
ctrl = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 =  BackEdgeDist < -35 || FrontEdgeDist < -35
;-------------------------------------------------------------------------
;rocks
[Statedef 1250]
type = S
movetype = A
physics = S
juggle = 1
anim = 1250
poweradd = -350
ctrl = 0

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 27
anim = S7530
sound = S4,14
pos = -14,-35
darken = 1
p2defmul = 0
poweradd = 0
unhittable = 1

[State 0, Helper]
type = Helper
triggerall = numhelper(1252) < 1
trigger1 = time >= 0
helpertype = normal
ID = 1252
stateno = 1252
pos = -50+(random%90),0
postype = p1    
facing = 1
keyctrl = 0
ownpal = 0
size.xscale = 0.7
size.yscale = 0.7

[State 0, Helper]
type = Helper
triggerall = numhelper(1253) < 1
trigger1 = time >= 0
helpertype = normal
ID = 1253
stateno = 1253
pos = -50+(random%90),0
postype = p1    
facing = 1
keyctrl = 0
ownpal = 0

[State 0, Helper]
type = Helper
triggerall = numhelper(1254) < 1
trigger1 = time >= 0
helpertype = normal
ID = 1254
stateno = 1254
pos = -50+(random%90),0
postype = p1    
facing = 1
keyctrl = 0
ownpal = 0


[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 1251
ctrl = 0
;------------------------------------------------------------------------
[Statedef 1251]
type = S
movetype= A
physics = S
anim = 1251
ctrl = 0
sprpriority = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1 
;-------------------------------------------------------------------------
[Statedef 1252]
type = S
movetype= A
physics = S
velset = 0,-2
anim = 1252
ctrl = 0
sprpriority = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 45*(time-0)
scale = 1,1

[State 0, VelSet]
type = VelSet
trigger1 = time < 22
x = 0
y = -2+(random%2)

[State 0, VelSet]
type = VelSet
trigger1 = time > 22
x = 7
y = vel y

[State 0, HitDef]
type = HitDef
trigger1 = !movecontact
attr = S,SP       
hitflag = MAF       
guardflag = MA
priority = 6,Hit
animtype = hard          
air.animtype = hard
damage = 70,30
pausetime = 9,9
sparkno = S-1
guard.sparkno = S-1
hitsound = S1,0
guardsound = S2,0
ground.type = High   
air.hittime = 12
ground.velocity = -7,-7
air.velocity = -7,-7
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
p2stateno = 1026

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 1255
time = 1
ignorehitpause = 1

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact || BackEdgeDist < -35 || FrontEdgeDist < -35 
value = 1255
ignorehitpause = 1
;-------------------------------------------------------------------------
[Statedef 1253]
type = S
movetype= A
physics = S
velset = 0,-2
anim = 1253
ctrl = 0
sprpriority = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 45*(time-0)
scale = 1,1

[State 0, VelSet]
type = VelSet
trigger1 = time < 22
x = 0
y = -2+(random%2)

[State 0, VelSet]
type = VelSet
trigger1 = time > 22
x = 7
y = vel y

[State 0, HitDef]
type = HitDef
trigger1 = !movecontact
attr = S,SP       
hitflag = MAF       
guardflag = MA
priority = 6,Hit 
animtype = hard          
air.animtype = hard
damage = 70,0
pausetime = 9,9
sparkno = S-1
guard.sparkno = S-1
hitsound = S1,0
guardsound = S2,0
ground.type = High   
air.hittime = 12
ground.velocity = -7,-7
air.velocity = -7,-7
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
p2stateno = 1026


[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 1255
time = 1
ignorehitpause = 1

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact || BackEdgeDist < -35 || FrontEdgeDist < -35 
value = 1255
ignorehitpause = 1
;-------------------------------------------------------------------------
[Statedef 1254]
type = S
movetype= A
physics = S
velset = 0,-2
anim = 1254
ctrl = 0
sprpriority = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 45*(time-0)
scale = 1,1

[State 0, VelSet]
type = VelSet
trigger1 = time < 22
x = 0
y = -2+(random%2)

[State 0, VelSet]
type = VelSet
trigger1 = time > 22
x = 7
y = vel y

[State 0, HitDef]
type = HitDef
trigger1 = !movecontact
attr = S,SP       
hitflag = MAF       
guardflag = MA
priority = 6,hit 
animtype = hard          
air.animtype = hard
damage = 70,0
pausetime = 9,9
sparkno = S-1
guard.sparkno = S-1
hitsound = S1,0
guardsound = S2,0
ground.type = High   
air.hittime = 12
ground.velocity = -7,-7
air.velocity = -7,-7
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
p2stateno = 1026


[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 1255
time = 1
ignorehitpause = 1

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact || BackEdgeDist < -35 || FrontEdgeDist < -35 
value = 1255
ignorehitpause = 1
;-------------------------------------------------------------------------
[Statedef 1255]
type = S
movetype = I
physics = N
juggle = 0
ctrl = 0
velset = 0,0
anim = 1255
sprpriority = 3


[State 0,Explod]
type = Explod
trigger1 = Time = 0
anim = 1252
ID = 1252
vel = ceil((-500+random)/80),ceil((-500+random)/80)
random = 20,20
pos = 0,0
scale = 0.3,0.3
facing = -1
sprpriority = 5
supermove = 1
removetime = -2

[State 0,Explod]
type = Explod
trigger1 = Time = 0
anim = 1252
ID = 1252
vel = ceil((-500+random)/80),ceil((-500+random)/80)
random = 20,20
pos = 0,0
scale = 0.3,0.3
facing = -1
sprpriority = 5
supermove = 1
removetime = -2

[State 0,Explod]
type = Explod
trigger1 = Time = 0
anim = 1252
ID = 1252
vel = ceil((-500+random)/80),ceil((-500+random)/80)
random = 20,20
pos = 0,0
scale = 0.3,0.3
facing = -1
sprpriority = 5
supermove = 1
removetime = -2

[State 0,Explod]
type = Explod
trigger1 = Time = 0
anim = 1252
ID = 1252
vel = ceil((-500+random)/80),ceil((-500+random)/80)
random = 20,20
pos = 0,0
scale = 0.3,0.3
facing = -1
sprpriority = 5
supermove = 1
removetime = -2

[State 0,Explod]
type = Explod
trigger1 = Time = 0
anim = 1252
ID = 1252
vel = ceil((-500+random)/80),ceil((-500+random)/80)
random = 20,20
pos = 0,0
scale = 0.3,0.3
facing = -1
sprpriority = 5
supermove = 1
removetime = -2

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time > 6
ignorehitpause = 1
;-------------------------------------------------------------------------
;telekinesis1 
[Statedef 1300]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
facep2 = 1
poweradd = -350
anim = 1300

[State 0, HitDef]
type = HitDef
Trigger1 = Time = 0
attr = S,ST          
hitflag = M-          
priority = 4, Miss   
sparkno = -1          
p1facing = ifelse (command = "holdfwd", -1, 1) 
p2facing = 1          
p1stateno = 1301      
p2stateno = 1302      
fall = 1   
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0           

[State 0, ChangeState]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 1301]
type    = S
movetype= A
physics = N
anim = 1301
facep2 = 1
poweradd = 60

[State 0, TargetVelSet]
type = TargetVelSet
trigger1 = time > 0 && time < 40 
x = 0
y = -4

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 40
time = 27
anim = S7530
sound = S4,14
pos = -4,-33
darken = 1
p2defmul = 0
poweradd = 0
unhittable = 1

[State 0, TargetVelSet]
type = TargetVelSet
trigger1 = time > 40 && time < 53 
x = 0
y = 0

[State 0, TargetVelSet]
type = TargetVelSet
trigger1 = time > 53 && time < 62
x = 0
y = 3

[State 0,TargetLifeAdd]
type = TargetLifeAdd
trigger1 = target,pos x = 0
value = -300

[State 0,TargetState]
type = TargetState
trigger1 = time >= 62
value = 1303

[State 0,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 1302]
type    = A
movetype= H
physics = N
velset = 0,0

[State 0, ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1302
;---------------------------------------------------------------------------
[Statedef 1303]
type    = A
movetype= H
physics = N
velset = 0,15
poweradd = 40

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5060

[State 0,ChangeState] 
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5200 

[State 0,SelfState] 
type = SelfState
triggerall = Vel Y > 0
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5210 

[State 0, Explod]
type = Explod
trigger1 = pos y = 0
anim = 1303
ID = 1303
pos = 8,13
postype = p1  
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
removetime = -2
scale = 0.5,0.5
sprpriority = -1

[State 0,SelfState] 
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 
;-------------------------------------------------------------------------
;supercombo
[Statedef 1350]
type    = S
physics = S
anim = 100
sprpriority = 1

[State 0]
type = afterimage
trigger1 = time = 0
time = 30
palcontrast = 256,256,256
paladd = 50,50,25
trans = add1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 0, VelSet]
type = VelSet
triggerall=var(10)=1
trigger1 = 1
x = const(velocity.run.fwd.x)*2

[State 0, AssertSpecial] 
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 0,AssertSpecial] 
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 0, ChangeState]
type = ChangeState
trigger1 = p2bodydist x <= 10
value = 1351
;-------------------------------------------------------------------------
[Statedef 1351]
type = S
movetype= A
physics = S
velset = 0,0
anim = 200
ctrl = 0
poweradd = 30
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =3 
value = S5,2+(random%1)
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =3 
value = S1,1+(random%8)
channel = -1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 1
time = 7
freq = 110
ampl = -2
phase = 90
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,NA        
hitflag = MAF        
guardflag = MA       
animtype = medium         
air.animtype = medium
priority = 6,Hit
pausetime = 12,12
damage = 20,0
sparkno = S-1
guard.sparkno = S-1
hitsound = S1,0
guardsound = S2,0
ground.type = High 
air.hittime = 20
ground.velocity = -3,0
air.velocity = -3,-1
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 2
x = e
y = 0
ignorehitpause = 1


[State 0, ChangeState]
type = ChangeState
trigger1 = movehit = 1
value = 1352
ctrl = 1

[State 0, ChangeState]
type = ChangeState
triggerall = animtime = 0
trigger1 = !movehit
value = 0
ctrl = 1
;----------------------------------------------------------------
[Statedef 1352]
type = S
movetype= A
physics = S
velset = 0,0
anim = 280
ctrl = 0
poweradd = 30
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =3 
value = S5,2+(random%1)
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =3 
value = S1,1+(random%8)
channel = -1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 1
time = 7
freq = 110
ampl = -2
phase = 90
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,NA        
hitflag = MAF        
guardflag = MA       
animtype = medium         
air.animtype = medium
priority = 6,Hit
pausetime = 12,12
damage = 20,0
sparkno = S-1
guard.sparkno = S-1
hitsound = S1,0
guardsound = S2,0
ground.type = High 
air.hittime = 20
ground.velocity = -3,0
air.velocity = -3,-1
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 2
x = e
y = 0
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = movehit = 1
value = 1353
ctrl = 1

[State 0, ChangeState]
type = ChangeState
triggerall = animtime = 0
trigger1 = !movecontact
value = 0
ctrl = 1
;-------------------------------------------------------------------------
[Statedef 1353]
type = S
movetype= A
physics = S
velset = 0,0
anim = 290
ctrl = 0
poweradd = 30
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =3 
value = S5,2+(random%1)
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =3 
value = S1,1+(random%8)
channel = -1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 1
time = 7
freq = 110
ampl = -2
phase = 90
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,NA        
hitflag = MAF        
guardflag = MA       
animtype = medium         
air.animtype = medium
priority = 6,Hit
pausetime = 12,12
damage = 20,0
sparkno = S-1
guard.sparkno = S-1
hitsound = S1,0
guardsound = S2,0
ground.type = High 
air.hittime = 20
ground.velocity = -3,0
air.velocity = -3,-1
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 2
x = e
y = 0
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = movehit = 1
value = 1354
ctrl = 1

[State 0, ChangeState]
type = ChangeState
triggerall = animtime = 0
trigger1 = !movecontact
value = 0
ctrl = 1
;-------------------------------------------------------------------
[Statedef 1354]
type = S
movetype= A
physics = S
velset = 0,0
anim = 220
ctrl = 0
poweradd = 30
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =3 
value = S5,2+(random%1)
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =3 
value = S1,1+(random%8)
channel = -1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 1
time = 7
freq = 110
ampl = -2
phase = 90
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,NA        
hitflag = MAF        
guardflag = MA       
animtype = medium         
air.animtype = medium
priority = 6,Hit
pausetime = 12,12
damage = 20,0
sparkno = S-1
guard.sparkno = S-1
hitsound = S1,0
guardsound = S2,0
ground.type = High 
air.hittime = 20
ground.velocity = -3,0
air.velocity = -3,-1
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 2
x = e
y = 0
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = movehit = 1
value = 1355
ctrl = 1

[State 0, ChangeState]
type = ChangeState
triggerall = animtime = 0
trigger1 = !movecontact
value = 0
ctrl = 1
;-------------------------------------------------------------------------
[Statedef 1355]
type = S
movetype= A
physics = S
velset = 0,0
anim = 255
ctrl = 0
poweradd = 30
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =3 
value = S5,2+(random%1)
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =3 
value = S1,1+(random%8)
channel = -1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 1
time = 7
freq = 110
ampl = -2
phase = 90
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,NA        
hitflag = MAF        
guardflag = MA       
animtype = medium         
air.animtype = medium
priority = 6,Hit
pausetime = 12,12
damage = 20,0
sparkno = S-1
guard.sparkno = S-1
hitsound = S1,0
guardsound = S2,0
ground.type = High 
air.hittime = 20
ground.velocity = -3,0
air.velocity = -3,-1
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 2
x = e
y = 0
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = movehit = 1
value = 1356
ctrl = 1

[State 0, ChangeState]
type = ChangeState
triggerall = animtime = 0
trigger1 = !movecontact
value = 0
ctrl = 1
;-------------------------------------------------------------------------
[Statedef 1356]
type = S
movetype= A
physics = S
velset = 0,0
anim = 210
ctrl = 0
poweradd = 30
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =3 
value = S5,2+(random%1)
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =3 
value = S1,1+(random%8)
channel = -1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 1
time = 7
freq = 110
ampl = -2
phase = 90
ignorehitpause = 1

[State 0,Pause]
type = Pause
triggerall = (GameTime%1) = 0
trigger1 = movehit
time = 1
movetime = 1
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,NA        
hitflag = MAF        
guardflag = MA       
animtype = hard         
air.animtype = hard
priority = 6,Hit
pausetime = 12,12
damage = 50,0
sparkno = S-1
guard.sparkno = S-1
hitsound = S1,0
guardsound = S2,0
ground.type = High 
air.hittime = 20
ground.velocity = -7,-7
air.velocity = -4,-4
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
p2stateno = 1026


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = movecontact
ignorehitpause = 1
flag = unguardable

[State 0, VelSet]
type = VelSet
trigger1 = time = 2
x = e
y = 0
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------
;great beam
[Statedef 1400]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1400
ctrl = 0
poweradd = -600
sprpriority = 1

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 27
anim = S7530
sound = S4,14
pos = 0,-26
darken = 1
p2defmul = 0
poweradd = 0
unhittable = 1

[State 0, Helper]
type = Helper
triggerall = numhelper(1401) < 1
trigger1 = animelem = 2
helpertype = normal 
ID = 1401
stateno = 1401
pos = 34,-50
postype = p1    
facing = 1
keyctrl = 0
ownpal = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;--------------------------------------------------------------------------
[Statedef 1401]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1401
ctrl = 0
sprpriority = 2

[State 0, AngleDraw]
type = AngleDraw
trigger1 =  1
scale = 1,2.5 
ignorehitpause = 1
 
[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,4
channel = -1

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 2
trigger2 = animelem = 3
trigger3 = animelem = 4
trigger4 = animelem = 5
trigger5 = animelem = 6
trigger6 = animelem = 7
trigger7 = animelem = 8
trigger8 = animelem = 9
attr = S,SP       
hitflag = MAF       
guardflag = MA 
animtype = hard         
air.animtype = hard
priority = 6,Hit
damage = 30,0
sparkno = -1
ground.type = High
ground.velocity = -3,-3
air.velocity = -3,-3
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
fall.yvelocity = -4.5
fall.recover = 1
fall.recovertime = 20
fall.damage = 10

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;-------------------------------------------------------------------------
;eye beam
[Statedef 1450]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1450
ctrl = 0
sprpriority = 1

[State 0, Helper]
type = Helper
trigger1 = time = 10
trigger2 = time = 20
trigger3 = time = 30
helpertype = normal
ID = 1451
stateno = 1451
pos = -12,-47
postype = p1
facing = 1
keyctrl = 0
ownpal = 0

[State 0, Helper]
type = Helper
trigger1 = time = 10
trigger2 = time = 20
trigger3 = time = 30
helpertype = normal
ID = 1451
stateno = 1451
pos = -8,-51
postype = p1
facing = 1
keyctrl = 0
ownpal = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 31
value = 0
ctrl = 1
;--------------------------------------------------------------------------
[Statedef 1451]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1451
ctrl = 0
poweradd = -150
sprpriority = 2

[State 0, AngleDraw]
type = AngleDraw
trigger1 =  1
scale = 0.2,1
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 =  1
x = 9
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,4
channel = -1

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 1
attr = S,SP
hitflag = MAF
guardflag = MA
animtype = hard
air.animtype = hard
priority = 6,Hit
damage = 30,0
sparkno = -1
ground.type = High
ground.velocity = -3,-3
air.velocity = -3,-3
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
fall.yvelocity = -4.5
fall.recover = 1
fall.recovertime = 20
fall.damage = 10

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,NP,SP,HP,SA
time = -1
ignorehitpause = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NP,AP,SA
slot = 0
stateno = 1003
time = -1
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact || time > 200
value = 1003
ctrl = 0
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = BackEdgeDist < -35 || FrontEdgeDist < -35 
;-------------------------------------------------------------------------
;death beam barrage
[Statedef 1500]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1500
ctrl = 0
poweradd = -1200
sprpriority = 1

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 19
anim = S7510
sound = S4,14
pos = -18,-42
darken = 1
p2defmul = 0
poweradd = 0
unhittable = 1

[State 0, Helper]
type = Helper
triggerall = time < 40
trigger1 = gametime%4 = 0
helpertype = normal 
ID = 1501
stateno = 1501+(random%4)
pos = 25,-52
postype = p1    
facing = 1
keyctrl = 0
ownpal = 0
ignorehitpause = 1

[State 0,ChangeAnim]
type = ChangeAnim
trigger1 = time = 40
value = 1506

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 46
value = 0
ctrl = 1
ignorehitpause = 1

;-------------------------------------------------------------------------
[Statedef 1501]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1501
ctrl = 0
sprpriority = 2

[State 0, AngleDraw]
type = AngleDraw
trigger1 =  1
value = 0
scale = 0.7,1
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = movehit 
trigger1 = time = 0
anim = 1103
ID = 1103
pos = 14,-63
postype = p2  
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
removetime = -2
scale = 0.5,0.5
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,3
volume = 0
channel = -1

[State 0, HitDef]
type = HitDef
triggerall = !movecontact
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
trigger4 = animelem = 6
attr = S,HP        
hitflag = MAF      
guardflag = MA    
animtype = hard    
air.animtype = hard
priority = 7,Hit
damage = 50,0
pausetime = 0,9
sparkno = S-1
ground.type = high
air.velocity = 0,0
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
fall.yvelocity = -3.5
fall.recover = 15
fall.recovertime = 15
fall.damage = 6
air.fall = 1
numhits = 1
ignorehitpause = 1

[State 0,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time > 9
ignorehitpause = 1
;-------------------------------------------------------------------------
[Statedef 1502]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1502
ctrl = 0
sprpriority = 2

[State 0, AngleDraw]
type = AngleDraw
trigger1 =  1
value = 8
scale = 0.7,1
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = movehit 
trigger1 = time = 0
anim = 1103
ID = 1103
pos = 9,-67
postype = p2  
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
removetime = -2
scale = 0.5,0.5
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,3
volume = 0
channel = -1

[State 0, HitDef]
type = HitDef
triggerall = !movecontact
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
trigger4 = animelem = 6
attr = S,HP        
hitflag = MAF      
guardflag = MA    
animtype = hard    
air.animtype = hard
priority = 7,Hit
damage = 50,0
pausetime = 0,9
sparkno = S-1
ground.type = high
air.velocity = 0,0
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
fall.yvelocity = -3.5
fall.recover = 15
fall.recovertime = 15
fall.damage = 6
air.fall = 1
numhits = 1
ignorehitpause = 1

[State 0,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time > 9
ignorehitpause = 1
;-------------------------------------------------------------------------
[Statedef 1503]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1503
ctrl = 0
sprpriority = 2

[State 0, AngleDraw]
type = AngleDraw
trigger1 =  1
value = -8
scale = 0.7,1
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = movehit 
trigger1 = time = 0
anim = 1103
ID = 1103
pos = 4,-72
postype = p2  
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
removetime = -2
scale = 0.5,0.5
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,3
volume = 0
channel = -1

[State 0, HitDef]
type = HitDef
triggerall = !movecontact
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
trigger4 = animelem = 6
attr = S,HP        
hitflag = MAF      
guardflag = MA    
animtype = hard    
air.animtype = hard
priority = 7,Hit
damage = 50,0
pausetime = 0,9
sparkno = S-1
ground.type = high
air.velocity = 0,0
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
fall.yvelocity = -3.5
fall.recover = 15
fall.recovertime = 15
fall.damage = 6
air.fall = 1
numhits = 1
ignorehitpause = 1

[State 0,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time > 9
ignorehitpause = 1
;-------------------------------------------------------------------------
[Statedef 1504]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1504
ctrl = 0
sprpriority = 2

[State 0, AngleDraw]
type = AngleDraw
trigger1 =  1
value = 4
scale = 0.7,1
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1


[State 0, Explod]
type = Explod
triggerall = movehit 
trigger1 = time = 0
anim = 1103
ID = 1103
pos = 12,-68
postype = p2  
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
removetime = -2
scale = 0.5,0.5
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,3
volume = 0
channel = -1



[State 0, HitDef]
type = HitDef
triggerall = !movecontact
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
trigger4 = animelem = 6
attr = S,HP        
hitflag = MAF      
guardflag = MA    
animtype = hard    
air.animtype = hard
priority = 7,Hit
damage = 50,0
pausetime = 0,9
sparkno = S-1
ground.type = high
air.velocity = 0,0
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
fall.yvelocity = -3.5
fall.recover = 15
fall.recovertime = 15
fall.damage = 6
air.fall = 1
numhits = 1
ignorehitpause = 1

[State 0,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time > 9
ignorehitpause = 1
;-------------------------------------------------------------------------
[Statedef 1505]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1505
ctrl = 0
sprpriority = 2

[State 0, AngleDraw]
type = AngleDraw
trigger1 =  1
value = -4
scale = 0.7,1
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = movehit 
trigger1 = time = 0
anim = 1103
ID = 1103
pos = 7,-65
postype = p2  
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
removetime = -2
scale = 0.5,0.5
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,3
volume = 0
channel = -1

[State 0, HitDef]
type = HitDef
triggerall = !movecontact
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
trigger4 = animelem = 6
attr = S,HP        
hitflag = MAF      
guardflag = MA    
animtype = hard    
air.animtype = hard
priority = 7,Hit
damage = 50,0
pausetime = 0,9
sparkno = S-1
ground.type = high
air.velocity = 0,0
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
fall.yvelocity = -3.5
fall.recover = 15
fall.recovertime = 15
fall.damage = 6
air.fall = 1
numhits = 1
ignorehitpause = 1

[State 0,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time > 9
ignorehitpause = 1
;-------------------------------------------------------------------------
;hooming kiezan
[Statedef 1550]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1550
ctrl = 0
poweradd = -1500
sprpriority = 1

[State 0, Turn]
type = Turn
triggerall = 1
trigger1 = facing = -1 && enemy, pos x > pos x
trigger2 = facing = 1 && enemy, pos x < pos x

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 20
anim = S7550
sound = S4,14
pos = -2,-29
darken = 1
p2defmul = 0
poweradd = 0
unhittable = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,12
channel = 12
loop = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = animtime = 0
channel = 12

[State 0, Helper]
type = Helper
triggerall = numhelper(1554)= 0
trigger1 = animelem = 2
helpertype = normal 
ID = 1554
stateno = 1554
pos = -16,-73
postype = p1    
facing = 1
keyctrl = 0
ownpal = 0
size.xscale = 0.5
size.yscale = 0.5

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 1551
ctrl = 0 
;---------------------------------------------------------------------
[Statedef 1551]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1551
ctrl = 0
sprpriority = 1

[State 0, Turn]
type = Turn
triggerall = 1
trigger1 = facing = -1 && enemy, pos x > pos x
trigger2 = facing = 1 && enemy, pos x < pos x

[State 0, Helper]
type = Helper
triggerall = numhelper(1555)= 0
trigger1 = animelem = 1
helpertype = normal 
ID = 1555
stateno = 1555
pos = 15,-67
postype = p1    
facing = 1
keyctrl = 0
ownpal = 0
size.xscale = 0.5
size.yscale = 0.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,13
channel = -1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 1552
ctrl = 1
;-------------------------------------------------------------------------
[Statedef 1552]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1552
ctrl = 0
sprpriority = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal 
ID = 1553
stateno = 1553
pos = -16,-73
postype = p1    
facing = 1
keyctrl = 0
ownpal = 0
size.xscale = 0.5
size.yscale = 0.5

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal 
ID = 1553
stateno = 1553
pos = 15,-67
postype = p1    
facing = 1
keyctrl = 0
ownpal = 0
size.xscale = 0.5
size.yscale = 0.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,13
channel = -1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1 
;-------------------------------------------------------------------------
[Statedef 1553] 
type = S 
movetype = A 
physics = N 
juggle = 0 
ctrl = 0 
anim = 1153 

[State 0,EnvShake] 
type = EnvShake 
trigger1=movehit=1 
time=20 

[State 0,assertspecial] 
type = assertspecial 
trigger1 = 1 
flag = noshadow 

[State 0,HitOverride]
type = HitOverride 
trigger1 = Time >= 0 
time = 1 
attr = SCA,HA,SP,HP 
slot = 0 
stateno = 1003 



[State 0, Turn] 
type = Turn 
trigger1 = (P2Dist X < 10) 

[State 0, VelSet] 
type = VelSet 
trigger1 =!Time 
x = 3 


[State 0, VelAdd] 
type = VelAdd 
trigger1 = (P2Dist X < 0) && (Vel X > -6) 
x = -0.2

[State 0, VelAdd] 
type = VelAdd 
trigger1 = (P2Dist X > 0) && (Vel X < 6) 
x = 0.2
 

[State 0, VelAdd] 
type = VelAdd 
trigger1 = (EnemyNear, Pos Y > Pos Y) && (Vel Y < 6) 
y = 0.2
 

[State 0, VelAdd] 
type = VelAdd 
trigger1 = (EnemyNear, Pos Y <= Pos Y) && (Vel Y > -6) 
y = -0.2


[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
value = S4,13
volume = 0
channel = -1
 

[State 0,HitDef]
type = HitDef 
trigger1 = time >= 15
attr = S,HP 
animtype = Hard 
damage = 100,100 
guardflag = MA 
pausetime= 12,20 
sparkno=S-1  
ground.type = Low 
ground.slidetime = 15 
ground.hittime = 16 
ground.velocity = -5, -10 
air.velocity = -2, -5
affectteam = B
fall = 1 
fall.recover = 0 


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 0, ChangeState]
type = ChangeState
trigger1 = movehit
value = 1556
ctrl = 0
ignorehitpause = 1
;-------------------------------------------------------------------------
[Statedef 1554]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1152
ctrl = 0
poweradd = 0
sprpriority = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
time = 1
facing = 1
pos = -16,-73
ignorehitpause = 1


[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 70
value = 1153

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 180
;-------------------------------------------------------------------------
[Statedef 1555]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1152
ctrl = 0
poweradd = 0
sprpriority = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
time = 1
facing = 1
pos = 15,-67
ignorehitpause = 1


[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 70
value = 1153

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 102
;-------------------------------------------------------------------------
[Statedef 1556]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1153
ctrl = 0
poweradd = 0
sprpriority = 2

[State 0,Explod]
type = Explod
triggerall = numexplod(1102) = 0
trigger1 = time = 0
ID = 1102
anim = 1102
pos = 54,-15
postype = p1 
facing = ifelse(target,facing = 1,-1,1)
scale = 0.5,0.5
ownpal = 0
ignorehitpause = 1


[State 0,Pause]
type = Pause
trigger1 = (GameTime%1) = 0
time = 1
movetime = 1
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 5.5
y = 1
ignorehitpause =1 


[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 15
;------------------------------------------------------------------------
[Statedef 1557]
type = S
movetype= I
physics = S
juggle = 4
anim = 1102
ctrl = 1
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;-------------------------------------------------------------------------
;telekinesis2
[Statedef 1600]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
facep2 = 1
poweradd = -1500
anim = 1600

[State 0, HitDef]
type = HitDef
Trigger1 = Time = 0
attr = S,HT          
hitflag = M-          
priority = 4, Miss   
sparkno = -1          
p1facing = 1
p2facing = 1          
p1stateno = 1601      
p2stateno = 1602      
fall = 1   
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0 

[State 0,BGPalFX]
type= BGPalFX
trigger1= 1
time = 1
add = -128,-128,-128
mul = 256,256,256  
ignorehitpause = 1        

[State 0, ChangeState]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 1601]
type    = S
movetype= A
physics = N
facep2 = 1
anim = 1601

[State 0, TargetVelSet]
type = TargetVelSet
trigger1 = time > 0 && time < 20 
x = 0
y = -4

[State 0, TargetVelSet]
type = TargetVelSet
trigger1 = time > 20 && time < 44 
x = 0
y = 0

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 20
time = 24
anim = S7520
sound = S4,14
pos = -15,-38
darken = 1
p2defmul = 0
poweradd = 0
unhittable = 1

[State 0, Pause]
type = Pause
triggerall = time > 20 && time < 80
trigger1 = (gametime%1) = 0
time = 1
movetime = 1
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 =  time = 20
anim = 1603
ID =  1603
pos = ceil(p2dist x)+14,ceil(p2dist y)-35
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 0.5,0.5
sprpriority = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S4,10
volume = 0
channel = -1

[State 0,TargetLifeAdd]
type = TargetLifeAdd
trigger1 = time = 20
value = -600

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 20
time = 60
freq = 150
ampl = -2
phase = 33
ignorehitpause = 1

[State 0,TargetState]
type = TargetState
trigger1 = time >= 80
value = 1603

[State 0,BGPalFX]
type= BGPalFX
trigger1= 1
time = 1
add = -128,-128,-128
mul = 256,256,256
ignorehitpause = 1

[State 0,ChangeState]
type = ChangeState
trigger1 = Time = 80
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 1602]
type    = A
movetype= H
physics = N
velset = 0,0

[State 0, ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1602

[State 0, ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 21
value = 1605
;---------------------------------------------------------------------------
[Statedef 1603]
type    = A
movetype= H
physics = N
velset = 0,2.5
poweradd = 40

[State 0,ChangeState] 
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5200 

[State 0,SelfState] 
type = SelfState
triggerall = Vel Y > 0
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5210 

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = animtime = 0
value = 5060

[State 0,SelfState] 
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 
;-------------------------------------------------------------------------
;supernova
[Statedef 1650]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1650
ctrl = 0
poweradd = -2000
sprpriority = 1

[State 0, Turn]
type = Turn
triggerall = 1
trigger1 = facing = -1 && enemy, pos x > pos x
trigger2 = facing = 1 && enemy, pos x < pos x

[State 0, SuperPause]
type = SuperPause
trigger1 = animelem = 4
time = 21
anim = S7540
sound = S4,14
pos = -4,-32
darken = 1
p2defmul = 0
poweradd = 0
unhittable = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S4,7
channel = 26

[State 0, Helper]
type = Helper
trigger1 = animelem = 5
helpertype = normal 
ID = 1653
stateno = 1653
pos = -14,-120
postype = p1    
facing = 1
keyctrl = 0
ownpal = 0

[State 0,AssertSpecial]
type = AssertSpecial
trigger1 = animelem = 5
flag = NoBarDisplay

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 40
freq = 99
ampl = -2
phase = 33

[State 0,BGPalFX]
type= BGPalFX
trigger1= time >= 0
time = 1
add = -128,-128,-128
mul = 256,256,256
ignorehitpause = 1 

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 1651
ctrl = 0 
;-------------------------------------------------------------------------
[Statedef 1651]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1651
ctrl = 0
sprpriority = 1

[State 0, Turn]
type = Turn
triggerall = 1
trigger1 = facing = -1 && enemy, pos x > pos x
trigger2 = facing = 1 && enemy, pos x < pos x

[State 0,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoBarDisplay

[State 0,BGPalFX]
type= BGPalFX
trigger1= 1
time = 1
add = -128,-128,-128
mul = 256,256,256
ignorehitpause = 1 

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 40
freq = 99
ampl = -2
phase = 33

[State 0,ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 1652
ctrl = 0 
;-------------------------------------------------------------------------
[Statedef 1652]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1652
ctrl = 0
sprpriority = 1

[State 0,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoBarDisplay

[State 0,BGPalFX]
type= BGPalFX
trigger1= 1
time = 1
add = -128,-128,-128
mul = 256,256,256
ignorehitpause = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 40
freq = 99
ampl = -2
phase = 33

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 1656
ctrl = 0 
;-------------------------------------------------------------------------
[Statedef 1653]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1653
ctrl = 0
poweradd = 0
sprpriority = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.02*(time) ,0.02*(time) 

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256, 256

[State 0,ChangeState]
type = ChangeState
trigger1 = time = 40
value = 1654
ctrl = 0
;-------------------------------------------------------------------------
[Statedef 1654]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1653
ctrl = 0
poweradd = 0
sprpriority = 1

[State 0,Pause]
type = Pause
trigger1 = (gametime%1) = 0
time = 1
movetime = 1
ignorehitpause = 1

[State 0,VelSet]
type = VelSet
trigger1 = 1
x = 14
y = 7
ignorehitpause = 1 


[State 0, Turn]
type = Turn
triggerall = 1
trigger1 = root,facing = -1 && enemy, pos x > pos x
trigger2 = root,facing = 1 && enemy, pos x < pos x


[State 0, HitDef]
type = HitDef
trigger1 = 1
attr = S,HA
hitflag = MAF     
guardflag = MA 
animtype = hard        
air.animtype = hard
priority = 7,Hit
damage = 40,40
sparkno = S-1
ground.type = High  
air.hittime = 12
ground.velocity = -4,-4
air.velocity = -4,-4
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
fall.yvelocity = -4.5
fall.recover = 1
fall.recovertime = 40
fall.damage = 20
numhits = 1
envshake.freq = 300
envshake.ampl = -2
envshake.phase = 120

[State 0, HitOverride]
type = HitOverride
trigger1 = movecontact 
attr = SCA,HA,HP
slot = 0
stateno = 1955
time = 1
ignorehitpause = 1


[State 0,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 0,StopSnd]
type = StopSnd
trigger1 = pos y > 0
channel = 26

[State 0,ChangeState]
type = ChangeState
trigger1 = pos y > 0
value = 1655
ctrl = 0
;------------------------------------------------------------------------
[Statedef 1655]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1654
ctrl = 0
poweradd = 0
sprpriority = 5

[State 0,Pause]
type = Pause
trigger1 = (gametime%1) = 0
time = 1
movetime = 1
ignorehitpause = 1

[State 0,PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,10
channel = -1
ignorehitpause =1

[State 0,AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 3,3
ignorehitpause = 1

[State 0,Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;-------------------------------------------------------------------------
[Statedef 1656]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1652
ctrl = 0
sprpriority = 1

[State 0,AssertSpecial]
type = AssertSpecial
trigger1 = time > 20 && time < 68
flag = invisible

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 0,BGPalFX]
type= BGPalFX
trigger1= time < 68
time = 1
add = -128,-128,-128
mul = 256,256,256

[State 0,PosSet]
type = PosSet
trigger1 = time = 68
x = -520
y = 0

[State 0,ChangeAnim]
type = ChangeAnim
trigger1 = time = 68
value = 100

[State 0, VelSet]
type = VelSet
trigger1 = time = 68
x = const(velocity.run.fwd.x)*2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 68
value = S0,8
channel = 18

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 1
attr = S,SA
hitflag = MAF 
guardflag = MA  
animtype = hard         
air.animtype = hard
sparkno = S-1
ground.type = High 
air.hittime = 12
damage = 40,40
fall = 1
numhits = 1
ground.velocity = -20,-40
air.velocity = -20,-40
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0

[State 0, Explod]
type = Explod
trigger1 = Time = 88
anim = 6000
ID = 6000
pos = -35,-15
postype = p1 
removetime = -1
facing = 1
vfacing = 1
bindtime = -1
vel = 4,0
scale = 0.4,0.4
sprpriority = 0

[State 0, StopSnd]
type = StopSnd
trigger1 = numhelper(1655) = 1
channel = 18

[State 0, AssertSpecial] 
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 0,AssertSpecial] 
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 85
value = 0
ctrl = 1 
;-------------------------------------------------------------------------
;death ball
[Statedef 1700]
type = A
movetype= A
physics = S
velset = 0,0
anim = 1700
ctrl = 0
poweradd = -3000
sprpriority = 1

[State 0, SuperPause]
type = SuperPause
trigger1 = animelem = 2
time = 21
anim = S7500
sound = S4,14
pos = -5,-44
darken = 1
p2defmul = 0
poweradd = 0
unhittable = 1

[State 0, Turn]
type = Turn
triggerall = 1
trigger1 = facing = -1 && enemy, pos x > pos x
trigger2 = facing = 1 && enemy, pos x < pos x

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S4,7
channel = 26

[State 0, Helper]
type = Helper
triggerall = numhelper(1703) = 0
trigger1 = animelem = 4
helpertype = normal 
ID = 1703
stateno = 1703
pos = -14,-120
postype = p1    
facing = 1
keyctrl = 0
ownpal = 0

[State 0,AssertSpecial]
type = AssertSpecial
trigger1 = animelem = 4
flag = NoBarDisplay

[State 0,BGPalFX]
type= BGPalFX
trigger1= time >= 0
time = 1
add = -128,-128,-128
mul = 256,256,256
ignorehitpause = 1 

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 159
value = 1701
ctrl = 0 
;-------------------------------------------------------------------------
[Statedef 1701]
type = A
movetype= A
physics = S
velset = 0,0
anim = 1701
ctrl = 0
sprpriority = 1

[State 0, Turn]
type = Turn
triggerall = 1
trigger1 = facing = -1 && enemy, pos x > pos x
trigger2 = facing = 1 && enemy, pos x < pos x

[State 0,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoBarDisplay

[State 0,BGPalFX]
type= BGPalFX
trigger1= 1
time = 1
add = -128,-128,-128
mul = 256,256,256
ignorehitpause = 1 

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 40
freq = 99
ampl = -2
phase = 33

[State 0,ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 1702
ctrl = 0 
;-------------------------------------------------------------------------
[Statedef 1702]
type = A
movetype= A
physics = S
velset = 0,0
anim = 1702
ctrl = 0
sprpriority = 1

[State 0,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoBarDisplay

[State 0,BGPalFX]
type= BGPalFX
trigger1= 1
time = 1
add = -128,-128,-128
mul = 256,256,256
ignorehitpause = 1 

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 40
freq = 99
ampl = -2
phase = 33

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 1900
ctrl = 0 
;-------------------------------------------------------------------------
[Statedef 1703]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1703
ctrl = 0
poweradd = 0
sprpriority = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.5,0.5 
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 0,ChangeState]
type = ChangeState
trigger1 = time = 173
value = 1704
ctrl = 0
;-------------------------------------------------------------------------
[Statedef 1704]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1704
ctrl = 0
poweradd = 0
sprpriority = 1

[State 0,Pause]
type = Pause
trigger1 = (gametime%1) = 0
time = 1
movetime = 1
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.5,0.5 
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 0, Turn]
type = Turn
triggerall = 1
trigger1 = root,facing = -1 && enemy, pos x > pos x
trigger2 = root,facing = 1 && enemy, pos x < pos x

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 7
y = 10
ignorehitpause = 1 


[State 0, HitDef]
type = HitDef
trigger1 = 1
attr = S,HA
hitflag = MAF     
guardflag = MA 
animtype = hard        
air.animtype = hard
priority = 7,Hit
damage = 50,50
sparkno = S-1
ground.type = High  
air.hittime = 12
ground.velocity = -4,-4
air.velocity = -4,-4
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
fall.yvelocity = -4.5
fall.recover = 1
fall.recovertime = 40
fall.damage = 20
numhits = 1
envshake.freq = 300
envshake.ampl = -2
envshake.phase = 120

[State 0, HitOverride]
type = HitOverride
trigger1 = movecontact 
attr = SCA,HA,HP
slot = 0
stateno = 1705
time = 1
ignorehitpause = 1

[State 0,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable
flag2 = noshadow

[State 0,StopSnd]
type = StopSnd
trigger1 = pos y > 0
channel = 26

[State 0, VelSet]
type = VelSet
trigger1 = pos y > 140
x = 0
y = 0
ignorehitpause = 1

 [State 0,ChangeState]
type = ChangeState
trigger1 = Time = 500
value = 1705
ctrl = 0
;------------------------------------------------------------------------
[Statedef 1705]
type = S
movetype= A
physics = S
velset = 0,0
anim = 1705
ctrl = 0
poweradd = 0
sprpriority = 5

[State 0,Pause]
type = Pause
trigger1 = (gametime%1) = 0
time = 1
movetime = 1
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = 1
attr = S,HA
hitflag = MAF     
guardflag = MA 
animtype = hard        
air.animtype = hard
priority = 7,Hit
damage = 70,70
sparkno = S-1
ground.type = High  
air.hittime = 12
ground.velocity = -4,-4
air.velocity = -4,-4
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
affectteam = B
fall = 1
fall.yvelocity = -4.5
fall.recover = 1
fall.recovertime = 40
fall.damage = 20
numhits = 1
envshake.freq = 1000
envshake.ampl = -2
envshake.phase = 120

[State 0,PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,10
channel = -1
ignorehitpause =1

[State 0,AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 4,4
ignorehitpause = 1

[State 0,Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;-------------------------------------------------------------------------
;fly
[Statedef 1900] 
type = S 
ctrl = 0 
anim = 1900 
velset = 0,0 

[State 0, VelSet] 
type = VelSet 
trigger1 = command != "holdfwd" 
trigger1 = command != "holdback" 
trigger1 = command != "holdup" 
trigger1 = command != "holddown" 
trigger1 = Var(2) = 0 
trigger2 = Pos Y < -405 
x = 0 
y = 0 

[State 0, ChangeAnim] 
type = ChangeAnim 
trigger1 = command != "holdup" 
trigger1 = command != "holddown" 
trigger1 = Anim != 1900 
value = 1900 

[State 0,VarSet] 
type = VarSet 
trigger1 = command != "holdfwd" 
trigger1 = command != "holdback" 
trigger1 = command != "holdup" 
trigger1 = command != "holddown" 
trigger1 = var(2)!= 2 
trigger2 = var(2) = 2 
trigger2 = Vel Y >= 1.4 
v = 2 
value = 1 

[State 0,VarSet] 
type = VarSet 
trigger1 = Var(2) = 1 
trigger1 = Vel Y <= -1.4 
trigger2 = P2BodyDist Y > 405 
trigger2 = Vel Y < 0 
v = 2 
value = 2 

[State 0,VelAdd] 
type = VelAdd 
trigger1 = Var(2) = 1 
y = -0.2 

[State 0,VelAdd] 
type = VelAdd 
trigger1 = Var(2) = 2 
y = 0.2 

[State 0,VelSet] 
type = VelSet 
triggerall = Var(2) != 0 
trigger1 = command = "holdfwd" 
trigger2 = command = "holdback" 
trigger3 = command = "holdup" 
trigger4 = command = "holddown" 
y = 0 

[State 0,VarSet] 
type = VarSet 
trigger1 = command = "holdfwd" 
trigger2 = command = "holdback" 
trigger3 = command = "holdup" 
trigger4 = command = "holddown" 
v = 2 
value = 0 

[State 0, PosSet] 
type = PosSet 
trigger1 = Pos Y < -405 
y = -405 

[State 0,PosAdd] 
type = PosAdd 
trigger1 = P2BodyDist Y > 405 
trigger1 = Vel Y < 0 
y = 1 

[State 0,VelSet] 
type = VelSet 
trigger1 = P2BodyDist Y > 405 
trigger1 = Vel Y < 0 
y = 0 

[State 0, VelAdd] 
type = VelAdd 
trigger1 = command = "holddown" 
y = 0.3 

[State 0,VelSet] 
type = VelSet 
trigger1 = command = "holddown" 
trigger1 = Vel Y < 0 
y = 0 

[State 0, ChangeAnim] 
type = ChangeAnim 
trigger1 = Anim != 1904 
trigger1 = command = "holddown" 
value = 1904 

[State 0, VelAdd] 
type = VelAdd 
trigger1 = command = "holdup" 
y = -0.3 

[State 0,VelSet] 
type = VelSet 
trigger1 = command = "holdup" 
trigger1 = Vel Y > 0 
y = 0 

[State 0, ChangeAnim] 
type = ChangeAnim 
trigger1 = Anim != 1903 
trigger1 = command = "holdup" 
value = 1903 

[State 0, VelAdd] 
type = VelAdd 
trigger1 = command = "holdback" 
x = -0.3 

[State 0,VelSet] 
type = VelSet 
trigger1 = command = "holdback" 
trigger1 = Vel X > 0 
x = 0 

[State 0, ChangeAnim] 
type = ChangeAnim 
triggerall = Anim != 1902 
trigger1 = command = "holdback" 
value = 1902 

[State 0, VelAdd] 
type = VelAdd 
trigger1 = command = "holdfwd" 
x = 0.3 

[State 0,VelSet] 
type = VelSet 
trigger1 = command = "holdfwd" 
trigger1 = Vel X < 0 
x = 0 

[State 0, ChangeAnim] 
type = ChangeAnim 
trigger1 = Anim != 1901 
trigger1 = command = "holdfwd" 
value = 1901

[State 0, AfterImage]
type = AfterImage
trigger1 = Command = "FF"
trigger1 = Vel X < 8.6
trigger2 = Command = "BB"
trigger2 = Vel X > -7
trigger3 = Command = "DD"
trigger3 = Vel Y < 8.6
trigger4 = Command = "UU"
trigger4 = Vel Y > -7
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 0, VelSet]
type = VelSet
trigger1 = Command = "FF"
trigger1 = Vel X < 6.6
x = 8.6

[State 0, VelSet]
type = VelSet
trigger1 = Command = "BB"
trigger1 = Vel X > -5.7
x = -8.7

[State 0, VelSet]
type = VelSet
trigger1 = Command = "DD"
trigger1 = Vel Y < 6.6
y = 8.6

[State 0, VelSet]
type = VelSet
trigger1 = Command = "UU"
trigger1 = Vel Y > -5.7
y = -8.7

[State 0, Explod]
type = Explod
triggerall = Time = 0
trigger1 = anim= 1901
anim = 6000
ID = 6000
pos = -35,-15
postype = p1 
removetime = -1
facing = 1
vfacing = 1
bindtime = -1
vel = 2,0
scale = 0.4,0.4
sprpriority = 0

[State 0, Explod]
type = Explod
triggerall = Time = 0
trigger1 = anim = 1902
anim = 6000
ID = 6000
pos = 35,-15
postype = p1 
removetime = -1
facing = 1
vfacing = 1
bindtime = -1
vel = 2,0
scale = 0.4,0.4
sprpriority = 0 

[State 0,Turn] 
type = Turn 
trigger1 = P2dist X < 0 

[State 0,ChangeState] 
type = ChangeState 
trigger1 = Pos Y >= 0 
value = 50 
ctrl = 1 

[State 0,ChangeState] 
type = ChangeState 
trigger1 = Win = 1 
trigger2 = Lose = 1 
value = 50 
;-------------------------------------------------------------------------
[statedef 1910]
type = A
movetype = A
physics = A
juggle = 1
anim = 1910
ctrl = 0
poweradd = 40

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3 
value = S1,1+(random%8)
channel = -1

[State 0, VelSet]
type = VelSet
trigger1 = time > 0 && time < 13
x = 0
y = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 1
time = 7
freq = 110
ampl = -2
phase = 90
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,NA  
hitflag = MAF        
guardflag = MA 
animtype = light          
air.animtype = light
priority = 4,Hit
damage = 25,0
pausetime = 12,12
sparkno = S-1
guard.sparkno = S-1
hitsound = S1,0
guardsound = S2,0
ground.type = High 
air.hittime = 20
ground.velocity = -3,-0
air.velocity = -3,-2
fall = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 1900
ctrl = 1
;-------------------------------------------------------------------------
[statedef 1920]
type = A
movetype = A
physics = A
juggle = 1
anim = 1920
ctrl = 0
poweradd = 30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3 
value = S1,1+(random%8)
channel = -1

[State 0, VelSet]
type = VelSet
trigger1 = time > 0 && time < 13
x = 0
y = 0

[State 0, EnvShake]
type = EnvShake
triggerall = prevstateno!= 1910
trigger1 = animelem = 1
time = 7
freq = 110
ampl = -2
phase = 90
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,NA  
hitflag = MAF        
guardflag = MA 
animtype = light          
air.animtype = light
priority = 4,Hit
damage = 20,0
pausetime = 12,12
sparkno = S-1
guard.sparkno = S-1
hitsound = S1,0
guardsound = S2,0
ground.type = High 
air.hittime = 20
ground.velocity = -3,-0
air.velocity = -3,-2
air.fall = ifelse(enemy,pos y > 0,1,0)

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 1900
ctrl = 1
;-------------------------------------------------------------------------
[statedef 1930]
type = A
movetype = A
physics = A
juggle = 1
anim = 1910
ctrl = 0
poweradd = 30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3 
value = S1,1+(random%8)
channel = -1

[State 0, VelSet]
type = VelSet
trigger1 = time > 0 && time < 13
x = 0
y = 0


[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 1
time = 7
freq = 110
ampl = -2
phase = 90
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,NA  
hitflag = MAF        
guardflag = MA 
animtype = light          
air.animtype = light
priority = 4,Hit
damage = 30,0
pausetime = 12,12
sparkno = S-1
guard.sparkno = S-1
hitsound = S1,0
guardsound = S2,0
ground.type = High 
air.hittime = 20
ground.velocity = -3,-0
air.velocity = -3,-2
air.fall = ifelse(enemy,pos y > 0,1,0)

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 1900
ctrl = 1
;-------------------------------------------------------------------------
[statedef 1940]
type = A
movetype = A
physics = A
juggle = 1
anim = 1940
ctrl = 0
poweradd = 35

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3 
value = S1,1+(random%8)
channel = -1

[State 0, VelSet]
type = VelSet
trigger1 = time > 0 && time < 13
x = 0
y = 0

[State 0, EnvShake]
type = EnvShake
triggerall = prevstateno!= 1930
trigger1 = animelem = 1
time = 7
freq = 110
ampl = -2
phase = 90
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,NA  
hitflag = MAF        
guardflag = MA 
animtype = light          
air.animtype = light
priority = 4,Hit
damage = 20,0
pausetime = 12,12
sparkno = S-1
guard.sparkno = S-1
hitsound = S1,0
guardsound = S2,0
ground.type = High 
air.hittime = 20
ground.velocity = -3,-0
air.velocity = -3,-2
air.fall = ifelse(enemy,pos y > 0,1,0)

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 1900
ctrl = 1
;-------------------------------------------------------------------------
[statedef 1950]
type = A
movetype = A
physics = A
juggle = 1
anim = 640
ctrl = 0
poweradd = 30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3 
value = S1,1+(random%8)
channel = -1

[State 0, VelSet]
type = VelSet
trigger1 = time > 0 && time < 13
x = 0
y = 0

[State 0, EnvShake]
type = EnvShake
triggerall = prevstateno!= 1930
trigger1 = animelem = 1
time = 7
freq = 110
ampl = -2
phase = 90
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 1
trigger2 = animelem = 3
attr = S,NA  
hitflag = MAF        
guardflag = MA 
animtype = light          
air.animtype = light
priority = 4,Hit
damage = 25,0
pausetime = 12,12
sparkno = S-1
guard.sparkno = S-1
hitsound = S1,0
guardsound = S2,0
ground.type = High 
air.hittime = 20
ground.velocity = -3,-0
air.velocity = -3,-2
air.fall = ifelse(enemy,pos y > 0,1,0)

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 1900
ctrl = 1
;------------------------------------------------------------------------
;air beam
[statedef 1960]
type = A
movetype = A
physics = A
juggle = 1
anim = 1960
poweradd = -300
ctrl = 0
poweradd = 10

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 27
anim = S7530
sound = S4,14
pos = -7,-45
darken = 1
p2defmul = 0
poweradd = 0
unhittable = 1

[State 0, VelSet]
type = VelSet
trigger1 = time > 0 && time < 13
x = 0
y = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 1
time = 7
freq = 110
ampl = -2
phase = 90
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 
value = S4,5
channel = 24

[State 0, StopSnd]
type = StopSnd
trigger1 = animtime = 0
channel = 24
ignorehitpause = 1
 
[State 0, Explod]
type = Explod
trigger1 = time = 5
anim =  1963
ID =  1963
pos = -50,-115
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.4,0.4

[State 0,BGPalFX]
type= BGPalFX
trigger1= 1
time = 1
add = -128,-128,-128
mul = 256,256,256

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animtime = 0
trigger2 = stateno!=1960
id = 1963

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 1961
ctrl = 1
;------------------------------------------------------------------------
[statedef 1961]
type = A
movetype = I
physics = S
juggle = 1
anim = 1961
ctrl = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 0 && time < 5
x = 0
y = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1964
ID = 1964
pos = 0,0
postype = p1 
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.4,0.4
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0,BGPalFX]
type= BGPalFX
trigger1= 1
time = 1
add = -128,-128,-128
mul = 256,256,256

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno!=1961
id = 1964

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 1962
ctrl = 1
;------------------------------------------------------------------------
[statedef 1962]
type = A
movetype = A
physics = S
juggle = 1
anim = 1962
ctrl = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 0 && time < 18
x = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 
value = S4,4
channel = 24

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
ID = 1965
stateno = 1965 
pos = -3,-35
postype = p1    
facing = 1
keyctrl = 0
ownpal = 0

[State 0,BGPalFX]
type= BGPalFX
trigger1= 1
time = 1
add = -128,-128,-128
mul = 256,256,256

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 1900
ctrl = 1
;------------------------------------------------------------------------
[statedef 1965]
type = A
movetype = A
physics = S
juggle = 1
anim = 1965
ctrl = 0
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.7,0.9 
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1


[State 0, HitDef]
type = HitDef
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
attr = S,SP        
hitflag = MAF     
guardflag = MA  
animtype = hard        
air.animtype = hard
priority = 6,Hit
damage = 70,0
sparkno = S-1
ground.type = High 
air.hittime = 20
ground.velocity = 0,0
air.velocity = 0,0
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
fall.yvelocity = -4.5
fall.recover = 1
fall.damage = 5
air.fall = 1
down.velocity = 0,0
numhits = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
ignorehitpause = 1
;-------------------------------------------------------------------------
;fly supernova
[Statedef 1970]
type = A
movetype= A
physics = S
velset = 0,0
anim = 1970
ctrl = 0
poweradd = -2000
sprpriority = 1

[State 0, SuperPause]
type = SuperPause
trigger1 = animelem = 2
time = 21
anim = S7540
sound = S4,14
pos = 3,-33
darken = 1
p2defmul = 0
poweradd = 0
unhittable = 1

[State 0, Turn]
type = Turn
triggerall = 1
trigger1 = facing = -1 && enemy, pos x > pos x
trigger2 = facing = 1 && enemy, pos x < pos x

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S4,7
channel = 26


[State 0, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal 
ID = 1653
stateno = 1653
pos = -14,-120
postype = p1    
facing = 1
keyctrl = 0
ownpal = 0

[State 0,AssertSpecial]
type = AssertSpecial
trigger1 = animelem = 4
flag = NoBarDisplay

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 40
freq = 99
ampl = -2
phase = 33

[State 0,BGPalFX]
type= BGPalFX
trigger1= time >= 0
time = 1
add = -128,-128,-128
mul = 256,256,256

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 1971
ctrl = 0 
;-------------------------------------------------------------------------
[Statedef 1971]
type = A
movetype= A
physics = S
velset = 0,0
anim = 1971
ctrl = 0
sprpriority = 1

[State 0, Turn]
type = Turn
triggerall = 1
trigger1 = facing = -1 && enemy, pos x > pos x
trigger2 = facing = 1 && enemy, pos x < pos x

[State 0,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoBarDisplay

[State 0,BGPalFX]
type= BGPalFX
trigger1= 1
time = 1
add = -128,-128,-128
mul = 256,256,256

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 40
freq = 99
ampl = -2
phase = 33

[State 0,ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 1972
ctrl = 0 
;-------------------------------------------------------------------------
[Statedef 1972]
type = A
movetype= A
physics = S
velset = 0,0
anim = 1972
ctrl = 0
sprpriority = 1

[State 0,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoBarDisplay

[State 0,BGPalFX]
type= BGPalFX
trigger1= 1
time = 1
add = -128,-128,-128
mul = 256,256,256

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 40
freq = 99
ampl = -2
phase = 33

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 1900
ctrl = 0 
;------------------------------------------------------------------------
[statedef 1998]
type = S
movetype = I
physics = S
juggle = 1
anim = 195
ctrl = 0

[State 0, Helper]
type = Helper
triggerall = numhelper(2000) = 0
trigger1 = time = 2 
helpertype = normal 
ID = 2000
stateno = 2000
pos = ceil(p2bodydist x)-200,0
postype = p1    
facing = 1
keyctrl = 0
ownpal = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;------------------------------------------------------------------------
[statedef 1999]
type = S
movetype = I
physics = S
juggle = 1
anim = 195
ctrl = 0

[State 0, Helper]
type = Helper
triggerall = numhelper(2050) = 0
trigger1 = time = 2
helpertype = normal
ID = 2050
stateno = 2050
pos = ceil(p2bodydist x)-200,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------
;hitspark1
[Statedef 7050]
type = S
anim = 7050
sprpriority = 5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
ignorehitpause = 1
scale = 0.5,0.5

[State 0, Trans]
Type = Trans
Trigger1 = 1
Trans = AddAlpha
Alpha = 256,256
IgnoreHitPause = 1

[State 0,ChangeAnim]
type = ChangeAnim
triggerall = root,movehit
triggerall = root,hitdefattr = SCA,NA
triggerall = time = 0
trigger1 = root,stateno = [200,295]
value = 7000 +(random%7)
ignorehitpause = 1

[State 0,ChangeAnim]
type = ChangeAnim
triggerall = root,movehit
triggerall = root,hitdefattr = SCA,NA
triggerall = time = 0
trigger1 = root,stateno = [400,430]
value = 7000 +(random%7)
ignorehitpause = 1

[State 0,ChangeAnim]
type = ChangeAnim
triggerall = root,movehit
triggerall = root,hitdefattr = SCA,NA
triggerall = time = 0
trigger1 = root,stateno = [600,630]
value = 7000 +(random%7)
ignorehitpause = 1

[State 0,ChangeAnim]
type = ChangeAnim
triggerall = root,movehit
triggerall = root,hitdefattr = SCA,NA
triggerall = time = 0
trigger1 = root,stateno = [1910,1950]
value = 7000 +(random%7)
ignorehitpause = 1

[State 0,ChangeAnim]
type = ChangeAnim
triggerall = root,movehit
triggerall = root,hitdefattr = SCA,NA
triggerall = time = 0
trigger1 = root,stateno = [1351,1356]
value = 7000 +(random%7)
ignorehitpause = 1

[State 0,ChangeAnim]
type = ChangeAnim
triggerall = movehit
triggerall = hitdefattr = SCA,NA
triggerall = time = 0
trigger1 = stateno = [2002,2008]
value = 7000 +(random%7)
ignorehitpause = 1

[State 0,ChangeAnim]
type = ChangeAnim
triggerall = movehit
triggerall = hitdefattr = SCA,NA
triggerall = time = 0
trigger1 = stateno = [2052,2057]
value = 7000 +(random%7)
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
triggerall = root,movehit
triggerall = root,hitdefattr = SCA,NA
triggerall = time = 0
trigger1 = root,stateno = 240 || root,stateno = 400 ||root,stateno = 410 
x = ceil(enemy,pos x)-6
y = ceil(p2bodydist y)- 70

[State 0, PosSet]
type = PosSet
triggerall = root,movehit
triggerall = root,hitdefattr = SCA,NA
triggerall = time = 0
trigger1 = root,stateno = [280,290] 
x = ceil(enemy,pos x)- 6
y = ceil(p2bodydist y)- 70

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0,ChangeAnim]
type = ChangeAnim
trigger1 = root,moveguarded
trigger1 = time = 0
value = 6010
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = root,moveguarded
trigger1 = time = 0
x = ceil(enemy,pos x)
y = ceil(p2bodydist y)- 70


[State 0, DestroySelf]
type = DestroySelf
trigger1 =!animtime
;--------------------------------------------------------------------------
;hitspark2
[Statedef 7060]
type = S
anim = 7010
sprpriority = 5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
ignorehitpause = 1
scale = 0.7,0.7

[State 0, Trans]
Type = Trans
Trigger1 = 1
Trans = AddAlpha
Alpha = 256,256
IgnoreHitPause = 1

[State 0,ChangeAnim]
type = ChangeAnim
triggerall = root,movehit
triggerall = root,hitdefattr = SCA,NA
triggerall = time = 0
trigger1 = root,stateno = [200,295]
value = 7010 
ignorehitpause = 1

[State 0,ChangeAnim]
type = ChangeAnim
triggerall = root,movehit
triggerall = root,hitdefattr = SCA,NA
triggerall = time = 0
trigger1 = root,stateno = [400,430]
value = 7010 
ignorehitpause = 1

[State 0,ChangeAnim]
type = ChangeAnim
triggerall = root,movehit
triggerall = root,hitdefattr = SCA,NA
triggerall = time = 0
trigger1 = root,stateno = [600,630]
value = 7010 
ignorehitpause = 1

[State 0,ChangeAnim]
type = ChangeAnim
triggerall = root,movehit
triggerall = root,hitdefattr = SCA,NA
triggerall = time = 0
trigger1 = root,stateno = [1910,1950]
value = 7010 
ignorehitpause = 1

[State 0,ChangeAnim]
type = ChangeAnim
triggerall = root,movehit
triggerall = root,hitdefattr = SCA,NA
triggerall = time = 0
trigger1 = root,stateno = [1351,1356]
value = 7010 
ignorehitpause = 1

[State 0,ChangeAnim]
type = ChangeAnim
triggerall = movehit
triggerall = hitdefattr = SCA,NA
triggerall = time = 0
trigger1 = stateno = [2002,2008]
value = 7010
ignorehitpause = 1

[State 0,ChangeAnim]
type = ChangeAnim
triggerall = movehit
triggerall = hitdefattr = SCA,NA
triggerall = time = 0
trigger1 = stateno = [2052,2057]
value = 7010
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
triggerall = root,movehit
triggerall = root,hitdefattr = SCA,NA
triggerall = time = 0
trigger1 = root,stateno = 240 || root,stateno = 400 ||root,stateno = 410 
x = ceil(enemy,pos x)- 6
y = ceil(p2bodydist y)- 70

[State 0, PosSet]
type = PosSet
triggerall = root,movehit
triggerall = root,hitdefattr = SCA,NA
triggerall = time = 0
trigger1 = root,stateno = [280,290] 
x = ceil(enemy,pos x)- 6
y = ceil(p2bodydist y)- 70

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 =!animtime
trigger2 = root,moveguarded
;--------------------------------------------------------------------------
;perfect
[Statedef 7070]
Type = S
Physics = N
Velset = 0,0
SprPriority = 0
Anim = 0

[State 0,PlaySnd]
Type = PlaySnd
Trigger1 = Time = 1
Value = s6,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay


[State 0,Explod]
Type = Explod
Trigger1 = Time = 1
Trigger1 = NumExplod(8000) = 0
Anim = 8000
ID = 8000
PosType = Left
Pos = 80,75
BindTime = -1
RemoveTime = 80
Ownpal = 0
trans = sub
IgnoreHitPause = 1

[State 0,Explod]
Type = Explod
Trigger1 = Time = 1
Trigger1 = NumExplod(8001) = 0
Anim = 8001
ID = 8001
PosType = Left
Pos = 80,75
BindTime = -1
RemoveTime = 80
Ownpal = 1
trans = add
IgnoreHitPause = 1


[State 0,Explod]
Type = Explod
Trigger1 = Time = 1
Trigger1 = NumExplod(8002) = 0
Anim = 8002
ID = 8002
PosType = Left
Pos = 80,75
BindTime = -1
RemoveTime = 80
Ownpal = 1
IgnoreHitPause = 1


[State 0,ModifyExplod]
Type = ModifyExplod
Trigger1 = Time = [2,31]
ID = 8000
Scale = 0.4,0.4

[State 0,ModifyExplod]
Type = ModifyExplod
Trigger1 = Time = [71,80]
ID = 8000
Scale = 0.4,0.4

[State 0,ModifyExplod]
Type = ModifyExplod
Trigger1 = Time = [2,31]
ID = 8001
Scale = 0.4,0.4

[State 0,ModifyExplod]
Type = ModifyExplod
Trigger1 = Time = [71,80]
ID = 8001
Scale = 0.4,0.4

[State 0,ModifyExplod]
Type = ModifyExplod
Trigger1 = Time = [2,31]
ID = 8002
Scale = 0.4,0.4

[State 0,ModifyExplod]
Type = ModifyExplod
Trigger1 = Time = [71,80]
ID = 8002
Scale = 0.4,0.4

[State 0,AssertSpecial]
Type = AssertSpecial
Trigger1 = 1
Flag = Invisible
Flag2 = Noshadow
IgnoreHitPause = 1

[State 0,AssertSpecial]
Type = DestroySelf
Trigger1 = RoundState = 4
Trigger1 = Time >= 80
IgnoreHitPause = 1

